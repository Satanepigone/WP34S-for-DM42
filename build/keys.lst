ARM GAS  /tmp/cc90KtGY.s 			page 1


   1              		.arch armv7e-m
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"keys.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.gtodot_digit,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	gtodot_digit:
  27              	.LVL0:
  28              	.LFB25:
  29              		.file 1 "src/keys.c"
   1:src/keys.c    **** /* This file is part of 34S.
   2:src/keys.c    ****  * 
   3:src/keys.c    ****  * 34S is free software: you can redistribute it and/or modify
   4:src/keys.c    ****  * it under the terms of the GNU General Public License as published by
   5:src/keys.c    ****  * the Free Software Foundation, either version 3 of the License, or
   6:src/keys.c    ****  * (at your option) any later version.
   7:src/keys.c    ****  * 
   8:src/keys.c    ****  * 34S is distributed in the hope that it will be useful,
   9:src/keys.c    ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  10:src/keys.c    ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  11:src/keys.c    ****  * GNU General Public License for more details.
  12:src/keys.c    ****  * 
  13:src/keys.c    ****  * You should have received a copy of the GNU General Public License
  14:src/keys.c    ****  * along with 34S.  If not, see <http://www.gnu.org/licenses/>.
  15:src/keys.c    ****  */
  16:src/keys.c    **** 
  17:src/keys.c    **** 
  18:src/keys.c    **** #ifdef DM42
  19:src/keys.c    **** #include "dmcp.h"
  20:src/keys.c    **** #endif
  21:src/keys.c    **** 
  22:src/keys.c    **** #define DM42SAFE
  23:src/keys.c    **** 
  24:src/keys.c    **** #include "features.h"
  25:src/keys.c    **** #include "xeq.h"
  26:src/keys.c    **** #include "keys.h"
  27:src/keys.c    **** #include "display.h"
  28:src/keys.c    **** #include "lcd.h"
  29:src/keys.c    **** #include "int.h"
ARM GAS  /tmp/cc90KtGY.s 			page 2


  30:src/keys.c    **** #include "consts.h"
  31:src/keys.c    **** #include "storage.h"
  32:src/keys.c    **** #include "stats.h"
  33:src/keys.c    **** #include "catalogues.h"
  34:src/keys.c    **** #ifndef DM42
  35:src/keys.c    **** #include "printer.h"
  36:src/keys.c    **** #endif
  37:src/keys.c    **** #undef DM42SAFE
  38:src/keys.c    **** 
  39:src/keys.c    **** #if defined(QTGUI) || defined(IOS)
  40:src/keys.c    **** extern void changed_catalog_state();
  41:src/keys.c    **** #endif
  42:src/keys.c    **** 
  43:src/keys.c    **** #define STATE_UNFINISHED	(OP_SPEC | OP_UNFINISHED)
  44:src/keys.c    **** #define STATE_BACKSPACE		(OP_SPEC | OP_BACKSPACE)
  45:src/keys.c    **** #define STATE_SST		(OP_SPEC | OP_SST)
  46:src/keys.c    **** #define STATE_BST		(OP_SPEC | OP_BST)
  47:src/keys.c    **** #define STATE_RUNNING		(OP_SPEC | OP_RUNNING)
  48:src/keys.c    **** #define STATE_IGNORE		(OP_SPEC | OP_IGNORE)
  49:src/keys.c    **** #define STATE_WINDOWLEFT	(OP_SPEC | OP_WINDOWLEFT)
  50:src/keys.c    **** #define STATE_WINDOWRIGHT	(OP_SPEC | OP_WINDOWRIGHT)
  51:src/keys.c    **** //#define STATE_SHOW		(OP_SPEC | OP_SHOW)
  52:src/keys.c    **** 
  53:src/keys.c    **** /* Define this if the key codes map rows sequentially */
  54:src/keys.c    **** 
  55:src/keys.c    **** #define TEST_EQ		0
  56:src/keys.c    **** #define TEST_NE		1
  57:src/keys.c    **** #define TEST_LT		2
  58:src/keys.c    **** #define TEST_LE		3
  59:src/keys.c    **** #define TEST_GT		4
  60:src/keys.c    **** #define TEST_GE		5
  61:src/keys.c    **** 
  62:src/keys.c    **** enum confirmations {
  63:src/keys.c    **** 	// Apart from the first of these, these must be in the same
  64:src/keys.c    **** 	// order as the opcodes in xeq.h: OP_CLALL, OP_RESET, OP_CLPROG, OP_CLPALL
  65:src/keys.c    **** 	confirm_none=0, confirm_clall, confirm_reset, confirm_clprog, confirm_clpall
  66:src/keys.c    **** };
  67:src/keys.c    **** 
  68:src/keys.c    **** FLAG WasDataEntry;
  69:src/keys.c    **** 
  70:src/keys.c    **** /* Local data to this module */
  71:src/keys.c    **** unsigned int OpCode;
  72:src/keys.c    **** FLAG OpCodeDisplayPending;
  73:src/keys.c    **** FLAG GoFast;
  74:src/keys.c    **** FLAG NonProgrammable;
  75:src/keys.c    **** 
  76:src/keys.c    **** /*
  77:src/keys.c    ****  *  Needed before definition
  78:src/keys.c    ****  */ 
  79:src/keys.c    **** static unsigned int advance_to_next_label(unsigned int pc, int inc, int search_end);
  80:src/keys.c    **** 
  81:src/keys.c    **** /*
  82:src/keys.c    ****  *  Return the shift state
  83:src/keys.c    ****  */
  84:src/keys.c    **** enum shifts cur_shift(void) {
  85:src/keys.c    **** 	enum shifts s = shift_down();
  86:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
ARM GAS  /tmp/cc90KtGY.s 			page 3


  87:src/keys.c    **** }
  88:src/keys.c    **** 
  89:src/keys.c    **** /*
  90:src/keys.c    ****  *  Set new shift state, return previous state
  91:src/keys.c    ****  */
  92:src/keys.c    **** static enum shifts set_shift(enum shifts shift) {
  93:src/keys.c    **** 	enum shifts r = cur_shift();
  94:src/keys.c    **** 	State2.shifts = shift;
  95:src/keys.c    **** 	State2.alpha_pos = 0;
  96:src/keys.c    **** 	return r;
  97:src/keys.c    **** }
  98:src/keys.c    **** 
  99:src/keys.c    **** /*
 100:src/keys.c    ****  *  Clear shift state and return previous state
 101:src/keys.c    ****  */
 102:src/keys.c    **** enum shifts reset_shift(void) {
 103:src/keys.c    **** 	return set_shift(SHIFT_N);
 104:src/keys.c    **** }
 105:src/keys.c    **** 
 106:src/keys.c    **** /*
 107:src/keys.c    ****  *  Toggle shift state
 108:src/keys.c    ****  */
 109:src/keys.c    **** static void toggle_shift(enum shifts shift) {
 110:src/keys.c    **** 	State2.shifts = State2.shifts == shift ? SHIFT_N : shift;
 111:src/keys.c    **** }
 112:src/keys.c    **** 
 113:src/keys.c    **** 
 114:src/keys.c    **** /*
 115:src/keys.c    ****  * Mapping from the key code to a linear index
 116:src/keys.c    ****  * The trick is to move the shifts and the holes in the map out of the way
 117:src/keys.c    ****  */
 118:src/keys.c    **** #ifdef DM42
 119:src/keys.c    **** static int keycode_to_linear_for_alpha(const keycode c)
 120:src/keys.c    **** {
 121:src/keys.c    **** 	static const unsigned char linear_key_map[ 7 * 6 - 1 + 6 ] = {
 122:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 123:src/keys.c    **** 		 6,  7,  8,  9, 10, 11,   // K10 - K15
 124:src/keys.c    **** 		 12, 13, 14, 15, 16,  0,   // K20 - K24
 125:src/keys.c    **** 		17, 18, 19, 20, 21,  0,   // K30 - K34
 126:src/keys.c    **** 		22, 23, 24, 25, 26,  0,   // K40 - K44
 127:src/keys.c    **** 		27, 28, 29, 30, 31,  0,   // K50 - K54
 128:src/keys.c    **** 		32, 33, 34, 35, 36,       // K60 - K64
 129:src/keys.c    **** 		37, 37, 37, 37, 37, 37       // K_F, G, H, ARROW, CMPLX, NOP
 130:src/keys.c    **** 	};
 131:src/keys.c    **** 	return linear_key_map[c];
 132:src/keys.c    **** }
 133:src/keys.c    **** 
 134:src/keys.c    **** static int keycode_to_linear(const keycode c)
 135:src/keys.c    **** {
 136:src/keys.c    **** 	static const unsigned char linear_key_map[ 7 * 6 - 1 + 6 ] = {
 137:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 138:src/keys.c    **** 		 6,  7,  8, 34, 34, 34,   // K10 - K15
 139:src/keys.c    **** 		 9, 10, 11, 12, 13,  0,   // K20 - K24
 140:src/keys.c    **** 		14, 15, 16, 17, 18,  0,   // K30 - K34
 141:src/keys.c    **** 		19, 20, 21, 22, 23,  0,   // K40 - K44
 142:src/keys.c    **** 		24, 25, 26, 27, 28,  0,   // K50 - K54
 143:src/keys.c    **** 		29, 30, 31, 32, 33,       // K60 - K64
ARM GAS  /tmp/cc90KtGY.s 			page 4


 144:src/keys.c    **** 		34, 34, 34,  4,  5, 34,        // K_F, G, H, ARROW, CMPLX, NOP
 145:src/keys.c    **** 	};
 146:src/keys.c    **** 	return linear_key_map[c];
 147:src/keys.c    **** }
 148:src/keys.c    **** #else
 149:src/keys.c    **** static int keycode_to_linear(const keycode c)
 150:src/keys.c    **** {
 151:src/keys.c    **** 	static const unsigned char linear_key_map[ 7 * 6 - 1 ] = {
 152:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 153:src/keys.c    **** 		 6,  7,  8, 34, 34, 34,   // K10 - K15
 154:src/keys.c    **** 		 9, 10, 11, 12, 13,  0,   // K20 - K24
 155:src/keys.c    **** 		14, 15, 16, 17, 18,  0,   // K30 - K34
 156:src/keys.c    **** 		19, 20, 21, 22, 23,  0,   // K40 - K44
 157:src/keys.c    **** 		24, 25, 26, 27, 28,  0,   // K50 - K54
 158:src/keys.c    **** 		29, 30, 31, 32, 33        // K60 - K64
 159:src/keys.c    **** 	};
 160:src/keys.c    **** 	return linear_key_map[c];
 161:src/keys.c    **** }
 162:src/keys.c    **** #endif
 163:src/keys.c    **** /*
 164:src/keys.c    ****  * Mapping from the key code to a row column code ('A'=11 to '+'=75)
 165:src/keys.c    ****  * Used in KEY? and for shorthand addressing
 166:src/keys.c    ****  */
 167:src/keys.c    **** int keycode_to_row_column(const int c)
 168:src/keys.c    **** {
 169:src/keys.c    **** 	return 11 + ( c / 6 ) * 10 + c % 6;
 170:src/keys.c    **** }
 171:src/keys.c    **** 
 172:src/keys.c    **** /*
 173:src/keys.c    ****  * Mapping from a row column code ('A'=11 to '+'=75) to the key code
 174:src/keys.c    ****  * Used in PUTK and KTYPE.
 175:src/keys.c    ****  */
 176:src/keys.c    **** 
 177:src/keys.c    **** int row_column_to_keycode(const int c)
 178:src/keys.c    **** {
 179:src/keys.c    **** 	int row = c / 10 - 1;
 180:src/keys.c    **** 	int col = c % 10 - 1;
 181:src/keys.c    **** 
 182:src/keys.c    **** 	if (row < 0 || row > 6 || col > 5 - (row >= 2))
 183:src/keys.c    **** 		return -1;
 184:src/keys.c    **** 	return row * 6 + col;
 185:src/keys.c    **** }
 186:src/keys.c    **** 
 187:src/keys.c    **** /*
 188:src/keys.c    ****  *  Mapping from a key code to a digit from 0 to 9 or to a register address
 189:src/keys.c    ****  *  Bit seven is set if the key cannot be used as a label shortcut
 190:src/keys.c    ****  */
 191:src/keys.c    **** // Decision to make here about whether the top row can be used as shortcuts.
 192:src/keys.c    **** // Also, which other keys can / can't be used as shortcuts?
 193:src/keys.c    **** // Registers I, j, K, L will move with the new alpha layout.
 194:src/keys.c    **** 
 195:src/keys.c    **** #define NO_REG 0x7f
 196:src/keys.c    **** #define NO_SHORT 0x80
 197:src/keys.c    **** #ifdef DM42
 198:src/keys.c    **** unsigned int keycode_to_digit_or_register(const keycode c)
 199:src/keys.c    **** {
 200:src/keys.c    ****   static const unsigned char map[] = {
ARM GAS  /tmp/cc90KtGY.s 			page 5


 201:src/keys.c    ****     // K00 - K05
 202:src/keys.c    ****     NO_SHORT | regA_idx, NO_SHORT | regB_idx,
 203:src/keys.c    ****     NO_SHORT | regC_idx, NO_SHORT | regD_idx,
 204:src/keys.c    ****     NO_SHORT | NO_REG,   NO_REG,
 205:src/keys.c    ****     // K10 - K15
 206:src/keys.c    ****     NO_REG, NO_REG, regI_idx, regJ_idx, regK_idx, regL_idx, 
 207:src/keys.c    ****     // K20 - K24
 208:src/keys.c    ****     NO_SHORT | NO_REG, NO_SHORT | NO_REG, NO_SHORT | NO_REG, NO_SHORT | NO_REG, NO_SHORT | NO_REG,
 209:src/keys.c    ****     // K30 - K34
 210:src/keys.c    ****     NO_REG, 7, 8, 9, NO_REG,
 211:src/keys.c    ****     // K40 - K44
 212:src/keys.c    ****     NO_REG, NO_SHORT | regT_idx, 5, 6, NO_REG,
 213:src/keys.c    ****     // K50 - K54
 214:src/keys.c    ****     NO_REG, NO_SHORT | regX_idx, NO_SHORT | regY_idx, NO_SHORT | regZ_idx, NO_REG,
 215:src/keys.c    ****     // K60 - K64
 216:src/keys.c    ****     NO_SHORT | NO_REG, 0, NO_SHORT | LOCAL_REG_BASE, NO_REG, NO_REG,
 217:src/keys.c    ****     // Shifts
 218:src/keys.c    ****     NO_REG
 219:src/keys.c    ****   };
 220:src/keys.c    **** 
 221:src/keys.c    ****   return (unsigned int) map[keycode_to_linear_for_alpha(c)];
 222:src/keys.c    **** }
 223:src/keys.c    **** #else
 224:src/keys.c    **** unsigned int keycode_to_digit_or_register(const keycode c)
 225:src/keys.c    **** {
 226:src/keys.c    ****   static const unsigned char map[] = {
 227:src/keys.c    **** 		// K00 - K05
 228:src/keys.c    **** 		NO_SHORT | regA_idx, NO_SHORT | regB_idx,
 229:src/keys.c    **** 		NO_SHORT | regC_idx, NO_SHORT | regD_idx,
 230:src/keys.c    **** 		NO_SHORT | NO_REG,   NO_REG,
 231:src/keys.c    **** 		// K10 - K12
 232:src/keys.c    **** 		NO_REG, NO_REG, regI_idx, 
 233:src/keys.c    **** 		// K20 - K24
 234:src/keys.c    **** 		NO_SHORT | NO_REG, regJ_idx, regK_idx, regL_idx, NO_SHORT | NO_REG,
 235:src/keys.c    **** 		// K30 - K34
 236:src/keys.c    **** 		NO_REG, 7, 8, 9, NO_REG,
 237:src/keys.c    **** 		// K40 - K44
 238:src/keys.c    **** 		NO_REG, 4, 5, 6, regT_idx,
 239:src/keys.c    **** 		// K50 - K54
 240:src/keys.c    **** 		NO_REG, 1, 2, 3, NO_REG,
 241:src/keys.c    **** 		// K60 - K63
 242:src/keys.c    **** 		NO_SHORT | NO_REG, 0, NO_SHORT | LOCAL_REG_BASE,
 243:src/keys.c    **** 		regY_idx, regZ_idx,
 244:src/keys.c    **** 		// Shifts, etc
 245:src/keys.c    **** 		NO_REG
 246:src/keys.c    **** 	};
 247:src/keys.c    **** 
 248:src/keys.c    **** 	return (unsigned int) map[keycode_to_linear(c)];
 249:src/keys.c    **** }
 250:src/keys.c    **** #endif
 251:src/keys.c    **** /*
 252:src/keys.c    ****  *  Mapping of a keycode and shift state to a catalogue number
 253:src/keys.c    ****  */
 254:src/keys.c    **** static enum catalogues keycode_to_cat(const keycode c, enum shifts shift)
 255:src/keys.c    **** {
 256:src/keys.c    ****   enum catalogues cat = CATALOGUE_NONE;
 257:src/keys.c    ****   int i, col, max;
ARM GAS  /tmp/cc90KtGY.s 			page 6


 258:src/keys.c    ****   const struct _map {
 259:src/keys.c    ****     unsigned char key, cat[3];
 260:src/keys.c    ****   } *cp;
 261:src/keys.c    **** 
 262:src/keys.c    ****   // Common to both alpha mode and normal mode is the programming X.FCN catalogue
 263:src/keys.c    ****   if (c == K53 && shift == SHIFT_H && ! State2.runmode && ! State2.cmplx && ! State2.multi)
 264:src/keys.c    ****     return CATALOGUE_PROGXFCN;
 265:src/keys.c    **** 
 266:src/keys.c    ****   if (! State2.alphas && ! State2.multi) {
 267:src/keys.c    ****     /*
 268:src/keys.c    ****      *  Normal processing - Not alpha mode
 269:src/keys.c    ****      */
 270:src/keys.c    ****     static const struct _map cmap[] = {
 271:src/keys.c    **** #ifdef DM42
 272:src/keys.c    ****       { K04, { CATALOGUE_CONV,      CATALOGUE_NONE,      CATALOGUE_CONV          } },
 273:src/keys.c    **** #else
 274:src/keys.c    ****       { K_ARROW, { CATALOGUE_CONV,      CATALOGUE_NONE,      CATALOGUE_CONV          } },
 275:src/keys.c    **** #endif
 276:src/keys.c    ****       { K05,     { CATALOGUE_MODE,      CATALOGUE_MODE,      CATALOGUE_MODE          } },
 277:src/keys.c    **** #ifdef INCLUDE_USER_CATALOGUE
 278:src/keys.c    ****       { K10,     { CATALOGUE_LABELS,    CATALOGUE_LABELS,    CATALOGUE_USER          } },
 279:src/keys.c    **** #else
 280:src/keys.c    ****       { K10,     { CATALOGUE_LABELS,    CATALOGUE_LABELS,    CATALOGUE_LABELS        } },
 281:src/keys.c    **** #endif
 282:src/keys.c    ****       { K20,     { CATALOGUE_CONST,     CATALOGUE_NONE,      CATALOGUE_COMPLEX_CONST } },
 283:src/keys.c    ****       { K41,     { CATALOGUE_PROB,      CATALOGUE_NONE,      CATALOGUE_PROB          } },
 284:src/keys.c    ****       { K42,     { CATALOGUE_STATS,     CATALOGUE_NONE,      CATALOGUE_STATS         } },
 285:src/keys.c    ****       { K43,     { CATALOGUE_SUMS,      CATALOGUE_NONE,      CATALOGUE_SUMS          } },
 286:src/keys.c    ****       { K44,     { CATALOGUE_MATRIX,    CATALOGUE_NONE,      CATALOGUE_MATRIX        } },
 287:src/keys.c    ****       { K50,     { CATALOGUE_STATUS,    CATALOGUE_STATUS,    CATALOGUE_STATUS        } },
 288:src/keys.c    ****       { K51,     { CATALOGUE_TEST,      CATALOGUE_TEST,      CATALOGUE_TEST          } },
 289:src/keys.c    **** #ifdef INCLUDE_INTERNAL_CATALOGUE
 290:src/keys.c    ****       { K52,     { CATALOGUE_PROG,      CATALOGUE_PROG,      CATALOGUE_INTERNAL      } },
 291:src/keys.c    **** #else
 292:src/keys.c    ****       { K52,     { CATALOGUE_PROG,      CATALOGUE_PROG,      CATALOGUE_PROG          } },
 293:src/keys.c    **** #endif
 294:src/keys.c    ****       { K53,     { CATALOGUE_NORMAL,    CATALOGUE_INT,       CATALOGUE_COMPLEX       } },
 295:src/keys.c    ****     };
 296:src/keys.c    **** 
 297:src/keys.c    ****     if (c == K60 && shift == SHIFT_G) {
 298:src/keys.c    ****       /*
 299:src/keys.c    ****        *  SHOW starts register browser
 300:src/keys.c    ****        */
 301:src/keys.c    ****       return CATALOGUE_REGISTERS;
 302:src/keys.c    ****     }
 303:src/keys.c    **** #if 0
 304:src/keys.c    ****     // conflicts with c# 002 and c# 003
 305:src/keys.c    ****     if ((c == K52 || c == K53) && shift == SHIFT_N && State2.cmplx && State2.catalogue == CATALOGUE
 306:src/keys.c    ****       /*
 307:src/keys.c    ****        *  Shorthand to complex P.FCN & X.FCN - h may be omitted
 308:src/keys.c    ****        */
 309:src/keys.c    ****       shift = SHIFT_H;
 310:src/keys.c    ****     }
 311:src/keys.c    **** #endif
 312:src/keys.c    ****     if (shift != SHIFT_H) {
 313:src/keys.c    ****       /*
 314:src/keys.c    ****        *  All standard catalogues are on h-shifted keys
ARM GAS  /tmp/cc90KtGY.s 			page 7


 315:src/keys.c    ****        */
 316:src/keys.c    ****       return CATALOGUE_NONE;
 317:src/keys.c    ****     }
 318:src/keys.c    **** 
 319:src/keys.c    ****     /*
 320:src/keys.c    ****      *  Prepare search
 321:src/keys.c    ****      */
 322:src/keys.c    ****     cp = cmap;
 323:src/keys.c    **** #ifndef WINGUI
 324:src/keys.c    ****     col = UState.intm ? 1 : State2.cmplx || shift_down() == SHIFT_H ? 2 : 0;
 325:src/keys.c    **** #else
 326:src/keys.c    ****     col = UState.intm ? 1 : State2.cmplx ? 2 : 0;
 327:src/keys.c    **** #endif
 328:src/keys.c    ****     max = sizeof(cmap) / sizeof(cmap[0]);
 329:src/keys.c    ****   }
 330:src/keys.c    ****   else {
 331:src/keys.c    ****     /*
 332:src/keys.c    ****      *  All the alpha catalogues go here
 333:src/keys.c    ****      */
 334:src/keys.c    **** #ifdef DM42
 335:src/keys.c    ****     static const struct _map amap[] = {
 336:src/keys.c    ****       { K04, { CATALOGUE_NONE, CATALOGUE_ALPHA_ARROWS,  CATALOGUE_NONE              } },
 337:src/keys.c    ****       { K05, { CATALOGUE_NONE, CATALOGUE_ALPHA_LETTERS, CATALOGUE_MODE              } },
 338:src/keys.c    ****       //	{ K10,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_LABELS            } },
 339:src/keys.c    ****       { K12,     { CATALOGUE_NONE, CATALOGUE_NONE,	      CATALOGUE_ALPHA_SUBSCRIPTS  } },
 340:src/keys.c    ****       //	{ K50,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_STATUS            } },
 341:src/keys.c    ****       { K51,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_ALPHA_COMPARES    } },
 342:src/keys.c    ****       { K53,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_ALPHA             } },
 343:src/keys.c    ****       { K62,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_ALPHA_SYMBOLS     } },
 344:src/keys.c    ****     };
 345:src/keys.c    **** #else
 346:src/keys.c    ****     static const struct _map amap[] = {
 347:src/keys.c    ****       { K_ARROW, { CATALOGUE_NONE, CATALOGUE_ALPHA_ARROWS,  CATALOGUE_NONE              } },
 348:src/keys.c    ****       { K_CMPLX, { CATALOGUE_NONE, CATALOGUE_ALPHA_LETTERS, CATALOGUE_MODE              } },
 349:src/keys.c    ****       //	{ K10,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_LABELS            } },
 350:src/keys.c    ****       { K12,     { CATALOGUE_NONE, CATALOGUE_NONE,	      CATALOGUE_ALPHA_SUBSCRIPTS  } },
 351:src/keys.c    ****       //	{ K50,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_STATUS            } },
 352:src/keys.c    ****       { K51,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_ALPHA_COMPARES    } },
 353:src/keys.c    ****       { K53,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_ALPHA             } },
 354:src/keys.c    ****       { K62,     { CATALOGUE_NONE, CATALOGUE_NONE,          CATALOGUE_ALPHA_SYMBOLS     } },
 355:src/keys.c    ****     };
 356:src/keys.c    **** #endif
 357:src/keys.c    ****     static const char smap[] = { 0, 1, 0, 2 }; // Map shifts to columns;
 358:src/keys.c    **** 
 359:src/keys.c    ****     /*
 360:src/keys.c    ****      *  Prepare search
 361:src/keys.c    ****      */
 362:src/keys.c    ****     cp = amap;
 363:src/keys.c    ****     col = smap[shift];
 364:src/keys.c    ****     max = sizeof(amap) / sizeof(amap[0]);
 365:src/keys.c    ****   }
 366:src/keys.c    **** 
 367:src/keys.c    ****   /*
 368:src/keys.c    ****    *  Search the key in one of the tables
 369:src/keys.c    ****    */
 370:src/keys.c    ****   for (i = 0; i < max; ++i, ++cp) {
 371:src/keys.c    ****     if (cp->key == c) {
ARM GAS  /tmp/cc90KtGY.s 			page 8


 372:src/keys.c    ****       cat = (enum catalogues) cp->cat[col];
 373:src/keys.c    ****       break;
 374:src/keys.c    ****     }
 375:src/keys.c    ****   }
 376:src/keys.c    ****   if (State2.multi && (cat < CATALOGUE_ALPHA_SYMBOLS || cat > CATALOGUE_ALPHA_SUBSCRIPTS)) {
 377:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
 378:src/keys.c    ****     cat = CATALOGUE_NONE;
 379:src/keys.c    ****   }
 380:src/keys.c    ****   return cat;
 381:src/keys.c    **** }
 382:src/keys.c    **** 
 383:src/keys.c    **** #ifdef DM42
 384:src/keys.c    **** static int keycode_to_alpha(const keycode c, unsigned int shift)
 385:src/keys.c    **** {
 386:src/keys.c    **** 	static const unsigned char alphamap[][6] = {
 387:src/keys.c    **** 		/*upper f-sft g-sft h-sft lower g-lower */
 388:src/keys.c    **** 		{ 'A',  0000, 'A',  0000, 'a',  0240,  },  // K00
 389:src/keys.c    **** 		{ 'B',  0000, 'B',  0000, 'b',  0241,  },  // K01
 390:src/keys.c    **** 		{ 'C',  0000, 0202, 0000, 'c',  0242,  },  // K02
 391:src/keys.c    **** 		{ 'D',  0000, 0203, 0000, 'd',  0243,  },  // K03
 392:src/keys.c    **** 		{ 'E',  0015, 'E',  0000, 'e',  0244,  },  // K04 ->
 393:src/keys.c    **** 		{ 'F',  0000, 0224, 0000, 'f',  0264,  },  // K05
 394:src/keys.c    **** 
 395:src/keys.c    **** 		{ 'G',  0000, 0202, 0000, 'g',  0242,  },  // K10
 396:src/keys.c    **** 		{ 'H',  0000, 'X',  0000, 'h',  0265,  },  // K11
 397:src/keys.c    **** 		{ 'I',  0000, 'I',  0000, 'i',  0250,  },  // K12
 398:src/keys.c    **** 		{ 'J',  0257, 0000, 0000, 'j',  0000,  },  // K13
 399:src/keys.c    **** 		{ 'K',  0000, 'K',  0000, 'k',  0251,  },  // K14
 400:src/keys.c    **** 		{ 'L',  0000, 0212, 0000, 'l',  0252,  },  // K15
 401:src/keys.c    **** 
 402:src/keys.c    **** 		{ 0000, 0000, 'H',  0000, 0000, 0246,  },  // K20 ENTER
 403:src/keys.c    **** 		{ 'M',  0000, 0253, 0027, 'm',  0253,  },  // K21
 404:src/keys.c    **** 		{ 'N',  0010, 'N',  0225, 'n',  0254,  },  // K22
 405:src/keys.c    **** 		{ 'O',  0000, 0227, 0257, 'o',  0267,  },  // K23
 406:src/keys.c    **** 		{ 0000, 0000, 0000, 0000, 0000, 0000   },  // K24 <-
 407:src/keys.c    **** 
 408:src/keys.c    **** 		{ 0000, 0000, 0000, 0000, 0000, 0000,  },  // K30
 409:src/keys.c    **** 		{ 'P',  '7',  0217, '&',  'p',  0257,  },  // K31
 410:src/keys.c    **** 		{ 'Q',  '8',  0000, '|',  'q',  0000,  },  // K32
 411:src/keys.c    **** 		{ 'R',  '9',  'R',  0000, 'r',  0260,  },  // K33
 412:src/keys.c    **** 		{ 'S',  '/',  0221, 0000, 's',  0261,  },  // K34
 413:src/keys.c    **** 
 414:src/keys.c    **** 		{ 0000, 0000, '!',  0000, 0000, 0000,  },  // K40
 415:src/keys.c    **** 		{ 'T',  '4',  'T',  0000, 't',  0262,  },  // K41
 416:src/keys.c    **** 		{ 'U',  '5',  0000, 0000, 'u',  0000,  },  // K42
 417:src/keys.c    **** 		{ 'V',  '6',  0000, 0000, 'v',  0000,  },  // K43
 418:src/keys.c    **** 		{ 'W', 0034,  0000, 0000, 'w',  0000,  },  // K44
 419:src/keys.c    **** 
 420:src/keys.c    **** 		{ 0000, 0000, 0000, 0000, 0000, 0000,  },  // K50
 421:src/keys.c    **** 		{ 'X',  '1',  0215, 0000, 'x',  0255,  },  // K51
 422:src/keys.c    **** 		{ 'Y',  '2',  'Y',  0000, 'y',  0263,  },  // K52
 423:src/keys.c    **** 		{ 'Z',  '3',  'Z',  0000, 'z',  0245,  },  // K53
 424:src/keys.c    **** 		{ '-',  '(',  ')',  0000, 0000, 0000,  },  // K54
 425:src/keys.c    **** 
 426:src/keys.c    **** 		{ 0000, 0000, 0000, 0000, 0000, 0000,  },  // K60
 427:src/keys.c    **** 		{ ':',  '0',  0207, 0000, ';',  0247,  },  // K61
 428:src/keys.c    **** 		{ '.',  '.',  0226, 0000, '.',  0266,  },  // K62
ARM GAS  /tmp/cc90KtGY.s 			page 9


 429:src/keys.c    **** 		{ '?',  0000, 0041, 0000, 0000, 0000,  },  // K63
 430:src/keys.c    **** 		{ ' ',  '+',  '=',  0000, 0000, 0000,  },  // K64
 431:src/keys.c    **** 
 432:src/keys.c    **** 		{ 0000, 0000, 0000, 0000, 0000, 0000   },  // shifts etc.
 433:src/keys.c    **** 	};
 434:src/keys.c    **** 	if (State2.alphashift) {
 435:src/keys.c    **** 		if (shift == SHIFT_N)
 436:src/keys.c    **** 			shift = SHIFT_LC_N;
 437:src/keys.c    **** 		else if (shift == SHIFT_G)
 438:src/keys.c    **** 			shift = SHIFT_LC_G;
 439:src/keys.c    **** 	}
 440:src/keys.c    **** 	return alphamap[keycode_to_linear_for_alpha(c)][shift];
 441:src/keys.c    **** }
 442:src/keys.c    **** #else
 443:src/keys.c    **** /*
 444:src/keys.c    ****  * Mapping from key position to alpha in the four key planes plus
 445:src/keys.c    ****  * the two lower case planes.
 446:src/keys.c    ****  */
 447:src/keys.c    **** static int keycode_to_alpha(const keycode c, unsigned int shift)
 448:src/keys.c    **** {
 449:src/keys.c    **** 	static const unsigned char alphamap[][6] = {
 450:src/keys.c    **** 		/*upper f-sft g-sft h-sft lower g-lower */
 451:src/keys.c    **** 		{ 'A',  0000, 'A',  0000, 'a',  0240,  },  // K00
 452:src/keys.c    **** 		{ 'B',  0000, 'B',  0000, 'b',  0241,  },  // K01
 453:src/keys.c    **** 		{ 'C',  0000, 0202, 0000, 'c',  0242,  },  // K02
 454:src/keys.c    **** 		{ 'D',  0000, 0203, 0000, 'd',  0243,  },  // K03
 455:src/keys.c    **** 		{ 'E',  0015, 'E',  0000, 'e',  0244,  },  // K04 ->
 456:src/keys.c    **** 		{ 'F',  0000, 0224, 0000, 'f',  0264,  },  // K05
 457:src/keys.c    **** 
 458:src/keys.c    **** 		{ 'G',  0000, 0202, 0000, 'g',  0242,  },  // K10
 459:src/keys.c    **** 		{ 'H',  0000, 'X',  0000, 'h',  0265,  },  // K11
 460:src/keys.c    **** 		{ 'I',  0000, 'I',  0000, 'i',  0250,  },  // K12
 461:src/keys.c    **** 
 462:src/keys.c    **** 		{ 0000, 0000, 'H',  0000, 0000, 0246,  },  // K20 ENTER
 463:src/keys.c    **** 		{ 'J',  '(',  ')',  0027, 'j',  ')',   },  // K21
 464:src/keys.c    **** 		{ 'K',  0010, 'K',  0225, 'k',  0251,  },  // K22
 465:src/keys.c    **** 		{ 'L',  0000, 0212, 0257, 'l',  0252,  },  // K23
 466:src/keys.c    **** 		{ 0000, 0000, 0000, 0000, 0000, 0000   },  // K24 <-
 467:src/keys.c    **** 
 468:src/keys.c    **** 		{ 0000, 0000, 0000, 0000, 0000, 0000,  },  // K30
 469:src/keys.c    **** 		{ 'M',  '7',  'M',  '&',  'm',  0253,  },  // K31
 470:src/keys.c    **** 		{ 'N',  '8',  'N',  '|',  'n',  0254,  },  // K32
 471:src/keys.c    **** 		{ 'O',  '9',  0227, 0013, 'o',  0267,  },  // K33
 472:src/keys.c    **** 		{ 'P',  '/',  0217, '\\', 'p',  0257,  },  // K34
 473:src/keys.c    **** 
 474:src/keys.c    **** 		{ 0000, 0000, 0000, '!',  0000, 0000,  },  // K40
 475:src/keys.c    **** 		{ 'Q',  '4',  0000, 0000, 'q',  0000,  },  // K41
 476:src/keys.c    **** 		{ 'R',  '5',  'R',  0000, 'r',  0260,  },  // K42
 477:src/keys.c    **** 		{ 'S',  '6',  0221, 0000, 's',  0261,  },  // K43
 478:src/keys.c    **** 		{ 'T',  0034, 'T',  0000, 't',  0262,  },  // K44
 479:src/keys.c    **** 
 480:src/keys.c    **** 		{ 0000, 0000, 0000, '?',  0000, 0000,  },  // K50
 481:src/keys.c    **** 		{ '1',  '1',  0207, 0000, '1',  0247,  },  // K51
 482:src/keys.c    **** 		{ 'U',  '2',  0000, 0000, 'u',  0000,  },  // K52
 483:src/keys.c    **** 		{ 'V',  '3',  0000, 0000, 'v',  0000,  },  // K53
 484:src/keys.c    **** 		{ 'W',  0034, 0000, 0000, 'w',  0000,  },  // K54
 485:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 10


 486:src/keys.c    **** 		{ 0000, 0222, 0000, 0000, 0000, 0000,  },  // K60
 487:src/keys.c    **** 		{ '0',  '0',  0226, ' ',  '0',  0266,  },  // K61
 488:src/keys.c    **** 		{ 'X',  '.',  0215, 0000, 'x',  0255,  },  // K62
 489:src/keys.c    **** 		{ 'Y',  0000, 'Y',  0000, 'y',  0263,  },  // K63
 490:src/keys.c    **** 		{ 'Z',  '+',  'Z',  0000, 'z',  0245,  },  // K64
 491:src/keys.c    **** 	};
 492:src/keys.c    **** 	if (State2.alphashift) {
 493:src/keys.c    **** 		if (shift == SHIFT_N)
 494:src/keys.c    **** 			shift = SHIFT_LC_N;
 495:src/keys.c    **** 		else if (shift == SHIFT_G)
 496:src/keys.c    **** 			shift = SHIFT_LC_G;
 497:src/keys.c    **** 	}
 498:src/keys.c    **** 	return alphamap[keycode_to_linear(c)][shift];
 499:src/keys.c    **** }
 500:src/keys.c    **** #endif
 501:src/keys.c    **** static void init_arg(const enum rarg base) {
 502:src/keys.c    **** 	if (is_bad_cmdline())
 503:src/keys.c    **** 		return;
 504:src/keys.c    **** 	CmdBase = base;
 505:src/keys.c    **** 	State2.ind = 0;
 506:src/keys.c    **** 	State2.digval = 0;
 507:src/keys.c    **** 	State2.numdigit = 0;
 508:src/keys.c    **** 	State2.rarg = 1;
 509:src/keys.c    **** 	State2.dot = 0;
 510:src/keys.c    **** 	State2.local = 0;
 511:src/keys.c    **** 	State2.shuffle = (base == RARG_SHUFFLE);
 512:src/keys.c    **** }
 513:src/keys.c    **** 
 514:src/keys.c    **** static void init_cat(enum catalogues cat) {
 515:src/keys.c    **** 	if (cat == CATALOGUE_NONE && State2.catalogue != CATALOGUE_NONE) {
 516:src/keys.c    **** 		// Save last catalogue for a later restore
 517:src/keys.c    **** 		State.last_cat = State2.catalogue;
 518:src/keys.c    **** 		CmdLineLength = 0;
 519:src/keys.c    **** 	}
 520:src/keys.c    **** 	process_cmdline();
 521:src/keys.c    **** 
 522:src/keys.c    **** 	State2.labellist = 0;
 523:src/keys.c    **** 	State2.registerlist = 0;
 524:src/keys.c    **** 	State2.status = 0;
 525:src/keys.c    **** 	State2.catalogue = CATALOGUE_NONE;
 526:src/keys.c    **** 
 527:src/keys.c    **** 	switch (cat) {
 528:src/keys.c    **** 	case CATALOGUE_LABELS:
 529:src/keys.c    **** 		// Label browser
 530:src/keys.c    **** 		State2.labellist = 1;
 531:src/keys.c    **** 		State2.digval = advance_to_next_label(ProgBegin, 0, 0);
 532:src/keys.c    **** 		break;
 533:src/keys.c    **** 	
 534:src/keys.c    **** 	case CATALOGUE_REGISTERS:
 535:src/keys.c    **** 		// Register browser
 536:src/keys.c    **** 		State2.registerlist = 1;
 537:src/keys.c    **** 		State2.digval = regX_idx;
 538:src/keys.c    **** 		State2.digval2 = 0;
 539:src/keys.c    **** 		break;
 540:src/keys.c    **** 
 541:src/keys.c    **** 	case CATALOGUE_STATUS:
 542:src/keys.c    **** 		// Flag browser
ARM GAS  /tmp/cc90KtGY.s 			page 11


 543:src/keys.c    **** 		State2.status = 1;
 544:src/keys.c    **** 		break;
 545:src/keys.c    **** 
 546:src/keys.c    **** 	default:
 547:src/keys.c    **** 		// Normal catalogue
 548:src/keys.c    **** 		State2.catalogue = cat;
 549:src/keys.c    **** 		State2.cmplx = (cat == CATALOGUE_COMPLEX || cat == CATALOGUE_COMPLEX_CONST);
 550:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 551:src/keys.c    **** 			// Different catalogue, reset position
 552:src/keys.c    **** 			State.catpos = 0;
 553:src/keys.c    **** 		}
 554:src/keys.c    **** 	}
 555:src/keys.c    **** 	reset_shift();
 556:src/keys.c    **** #if defined(QTGUI) || defined(IOS)
 557:src/keys.c    **** 	changed_catalog_state();
 558:src/keys.c    **** #endif
 559:src/keys.c    **** }
 560:src/keys.c    **** 
 561:src/keys.c    **** /*
 562:src/keys.c    ****  *  Reset the internal state to a sane default
 563:src/keys.c    ****  */
 564:src/keys.c    **** void init_state(void) {
 565:src/keys.c    **** #ifndef REALBUILD
 566:src/keys.c    **** 	unsigned int a = State2.flags;
 567:src/keys.c    **** 	unsigned int b = State2.trace;
 568:src/keys.c    **** #else
 569:src/keys.c    **** 	FLAG t = TestFlag;
 570:src/keys.c    **** #endif
 571:src/keys.c    **** 	int v = Voltage;
 572:src/keys.c    **** 	int k = LastKey;
 573:src/keys.c    **** 
 574:src/keys.c    **** 	CmdBase = 0;
 575:src/keys.c    **** 	// Removed: will clear any locals on power off
 576:src/keys.c    **** 	// clrretstk(0);
 577:src/keys.c    **** 
 578:src/keys.c    **** 	xset(&State2, 0, sizeof(State2));
 579:src/keys.c    **** 	State2.test = TST_NONE;
 580:src/keys.c    **** 	State2.runmode = 1;
 581:src/keys.c    **** 	update_program_bounds(1);
 582:src/keys.c    **** 	set_lift();
 583:src/keys.c    **** 
 584:src/keys.c    **** 	// Restore stuff that has been moved to State2 for space reasons
 585:src/keys.c    **** 	// but must not be cleared.
 586:src/keys.c    **** 	Voltage = v;
 587:src/keys.c    **** 	LastKey = k;
 588:src/keys.c    **** #ifndef REALBUILD
 589:src/keys.c    **** 	State2.trace = b;
 590:src/keys.c    **** 	State2.flags = a;
 591:src/keys.c    **** #else
 592:src/keys.c    **** 	TestFlag = t;
 593:src/keys.c    **** #endif
 594:src/keys.c    **** 	ShowRegister = regX_idx;
 595:src/keys.c    **** }
 596:src/keys.c    **** 
 597:src/keys.c    **** void soft_init_state(void) {
 598:src/keys.c    **** 	int soft;
 599:src/keys.c    **** 	unsigned int runmode;
ARM GAS  /tmp/cc90KtGY.s 			page 12


 600:src/keys.c    **** 	unsigned int alphas;
 601:src/keys.c    **** 
 602:src/keys.c    **** 	if (CmdLineLength) {
 603:src/keys.c    **** 		CmdLineLength = 0;
 604:src/keys.c    **** 		CmdLineEex = 0;
 605:src/keys.c    **** 		CmdLineDot = 0;
 606:src/keys.c    **** 		return;
 607:src/keys.c    **** 	}
 608:src/keys.c    **** 	soft = State2.multi || State2.rarg || State2.hyp || State2.gtodot || State2.labellist ||
 609:src/keys.c    **** 			State2.cmplx || State2.arrow || State2.test != TST_NONE || State2.status;
 610:src/keys.c    **** 	runmode = State2.runmode;
 611:src/keys.c    **** 	alphas = State2.alphas;
 612:src/keys.c    **** 	init_state();
 613:src/keys.c    **** 	if (soft) {
 614:src/keys.c    **** 		State2.runmode = runmode;
 615:src/keys.c    **** 		State2.alphas = alphas;
 616:src/keys.c    **** 	}
 617:src/keys.c    **** }
 618:src/keys.c    **** 
 619:src/keys.c    **** static int check_confirm(int op) {
 620:src/keys.c    **** 	if (opKIND(op) == KIND_NIL) {
 621:src/keys.c    **** 		const int nilop = argKIND(op);
 622:src/keys.c    **** 		if (nilop >= OP_CLALL && nilop <= OP_CLPALL) {
 623:src/keys.c    **** 			State2.confirm = confirm_clall + (nilop - OP_CLALL);
 624:src/keys.c    **** 			return STATE_UNFINISHED;
 625:src/keys.c    **** 		}
 626:src/keys.c    **** #ifndef DM42		
 627:src/keys.c    **** 		if ((nilop >= OP_RECV && nilop <= OP_PSTO)
 628:src/keys.c    **** #endif
 629:src/keys.c    **** #ifdef DM42
 630:src/keys.c    **** 		    if ((nilop >= OP_SAVE && nilop <= OP_PSTO) // no recv in DM42
 631:src/keys.c    **** #endif
 632:src/keys.c    **** #ifdef INFRARED
 633:src/keys.c    **** 			|| nilop == OP_PRINT_PGM
 634:src/keys.c    **** #endif
 635:src/keys.c    **** #ifdef INCLUDE_STOPWATCH
 636:src/keys.c    **** 			|| nilop == OP_STOPWATCH
 637:src/keys.c    **** #endif
 638:src/keys.c    **** 		) {
 639:src/keys.c    **** 			// These commands are not programmable
 640:src/keys.c    **** 			NonProgrammable = 1;
 641:src/keys.c    **** 		}
 642:src/keys.c    **** 	}
 643:src/keys.c    **** 	return op;
 644:src/keys.c    **** }
 645:src/keys.c    **** 
 646:src/keys.c    **** static void set_smode(const enum single_disp d) {
 647:src/keys.c    **** 	State2.smode = (State2.smode == d)?SDISP_NORMAL:d;
 648:src/keys.c    **** }
 649:src/keys.c    **** 
 650:src/keys.c    **** static int check_f_key(int n, const int dflt) {
 651:src/keys.c    **** 	const int code = 100 + n;
 652:src/keys.c    **** 	unsigned int pc = state_pc();
 653:src/keys.c    **** 
 654:src/keys.c    **** 	if (State2.runmode) {
 655:src/keys.c    **** 		if (isXROM(pc))
 656:src/keys.c    **** 			pc = 1;
ARM GAS  /tmp/cc90KtGY.s 			page 13


 657:src/keys.c    **** 		if (find_label_from(pc, code, FIND_OP_ENDS))
 658:src/keys.c    **** 			return RARG(RARG_XEQ, code);
 659:src/keys.c    **** 	}
 660:src/keys.c    **** 	return dflt;
 661:src/keys.c    **** }
 662:src/keys.c    **** 
 663:src/keys.c    **** /* Return non-zero if the current mode is integer and we accept letters
 664:src/keys.c    ****  * as digits.
 665:src/keys.c    ****  */
 666:src/keys.c    **** static int intltr(int d) {
 667:src/keys.c    **** 	return (UState.intm && (! State2.runmode || (int) int_base() > d));
 668:src/keys.c    **** }
 669:src/keys.c    **** 
 670:src/keys.c    **** /*
 671:src/keys.c    ****  *  Process a key code in the unshifted mode.
 672:src/keys.c    ****  */
 673:src/keys.c    **** static int process_normal(const keycode c)
 674:src/keys.c    **** {
 675:src/keys.c    **** 	static const unsigned short int op_map[] = {
 676:src/keys.c    **** 		// Row 1
 677:src/keys.c    **** 		OP_SPEC | OP_SIGMAPLUS, // A to D
 678:src/keys.c    **** 		OP_MON  | OP_RECIP,
 679:src/keys.c    **** 		OP_DYA  | OP_POW,
 680:src/keys.c    **** 		OP_MON  | OP_SQRT,
 681:src/keys.c    **** 		OP_SPEC | OP_E,		// ->
 682:src/keys.c    **** 		OP_SPEC | OP_F,		// CPX
 683:src/keys.c    **** 		// Row 2
 684:src/keys.c    **** 		RARG_STO,
 685:src/keys.c    **** 		RARG_RCL,
 686:src/keys.c    **** 		OP_NIL  | OP_RDOWN,
 687:src/keys.c    **** 		// Row 3
 688:src/keys.c    **** 		OP_SPEC | OP_ENTER,
 689:src/keys.c    **** 		RARG(RARG_SWAPX, regY_idx),
 690:src/keys.c    **** 		OP_SPEC | OP_CHS,	// CHS
 691:src/keys.c    **** 		OP_SPEC | OP_EEX,	// EEX
 692:src/keys.c    **** 		OP_SPEC | OP_CLX,	// <-
 693:src/keys.c    **** 		// Row 4
 694:src/keys.c    **** 		RARG_XEQ,
 695:src/keys.c    **** 		OP_SPEC | OP_7,
 696:src/keys.c    **** 		OP_SPEC | OP_8,
 697:src/keys.c    **** 		OP_SPEC | OP_9,
 698:src/keys.c    **** 		OP_DYA  | OP_DIV,
 699:src/keys.c    **** 		// Row 5
 700:src/keys.c    **** 		STATE_BST,
 701:src/keys.c    **** 		OP_SPEC | OP_4,
 702:src/keys.c    **** 		OP_SPEC | OP_5,
 703:src/keys.c    **** 		OP_SPEC | OP_6,
 704:src/keys.c    **** 		OP_DYA  | OP_MUL,
 705:src/keys.c    **** 		// Row 6
 706:src/keys.c    **** 		STATE_SST,		// SST
 707:src/keys.c    **** 		OP_SPEC | OP_1,
 708:src/keys.c    **** 		OP_SPEC | OP_2,
 709:src/keys.c    **** 		OP_SPEC | OP_3,
 710:src/keys.c    **** 		OP_DYA  | OP_SUB,
 711:src/keys.c    **** 		// Row 7
 712:src/keys.c    **** 		STATE_UNFINISHED,	// ON/C
 713:src/keys.c    **** 		OP_SPEC | OP_0,
ARM GAS  /tmp/cc90KtGY.s 			page 14


 714:src/keys.c    **** 		OP_SPEC | OP_DOT,
 715:src/keys.c    **** 		OP_NIL  | OP_RS,	// R/S
 716:src/keys.c    **** 		OP_DYA  | OP_ADD,
 717:src/keys.c    **** #ifdef DM42
 718:src/keys.c    **** 		OP_NIL  | OP_NOP,  // shifts etc.
 719:src/keys.c    **** #endif
 720:src/keys.c    **** 	};
 721:src/keys.c    **** 
 722:src/keys.c    **** 	int lc = keycode_to_linear(c);
 723:src/keys.c    **** 	int op = op_map[lc];
 724:src/keys.c    **** 	
 725:src/keys.c    **** 	// The switch handles all the special cases
 726:src/keys.c    **** #ifdef DM42
 727:src/keys.c    **** 	int op_int;
 728:src/keys.c    **** 	if (UState.intm) {
 729:src/keys.c    **** 	  switch (c) {
 730:src/keys.c    **** 	  case K00:
 731:src/keys.c    **** 	    op = OP_SPEC | OP_A;
 732:src/keys.c    **** 	    if (intltr(10)) {
 733:src/keys.c    **** 	      return op;
 734:src/keys.c    **** 	    }
 735:src/keys.c    **** 	    else {
 736:src/keys.c    **** 	      return check_f_key(0, op);
 737:src/keys.c    **** 	    }
 738:src/keys.c    **** 	  case K01:
 739:src/keys.c    **** 	    op = OP_SPEC | OP_B;
 740:src/keys.c    **** 	    if (intltr(11)) {
 741:src/keys.c    **** 	      return op;
 742:src/keys.c    **** 	    }
 743:src/keys.c    **** 	    else {
 744:src/keys.c    **** 	      return check_f_key(1, op);
 745:src/keys.c    **** 	    }
 746:src/keys.c    **** 	  case K03:
 747:src/keys.c    **** 	    op_int = OP_SPEC | OP_C;
 748:src/keys.c    **** 	    if (intltr(12)) {
 749:src/keys.c    **** 	      return op_int;
 750:src/keys.c    **** 	    }
 751:src/keys.c    **** 	    else {
 752:src/keys.c    **** 	      return check_f_key(2, op);
 753:src/keys.c    **** 	    }
 754:src/keys.c    **** 	  case K30:
 755:src/keys.c    **** 	    op_int = OP_SPEC | OP_F;
 756:src/keys.c    **** 	    if (intltr(15)) {
 757:src/keys.c    **** 	      return op_int;
 758:src/keys.c    **** 	    }
 759:src/keys.c    **** 	    else {
 760:src/keys.c    **** 	      return check_f_key(5, op);
 761:src/keys.c    **** 	    }
 762:src/keys.c    **** 	  default:;
 763:src/keys.c    **** 	  }
 764:src/keys.c    **** 	}
 765:src/keys.c    **** #endif  
 766:src/keys.c    **** 
 767:src/keys.c    **** 	switch (c) {
 768:src/keys.c    **** #ifdef DM42
 769:src/keys.c    **** 	case K00:
 770:src/keys.c    **** 		return check_f_key(0, op);
ARM GAS  /tmp/cc90KtGY.s 			page 15


 771:src/keys.c    **** 	case K01:
 772:src/keys.c    **** 		return check_f_key(1, op);
 773:src/keys.c    **** 	case K03:
 774:src/keys.c    **** 		return check_f_key(2, op);
 775:src/keys.c    **** #else
 776:src/keys.c    **** 	case K00:
 777:src/keys.c    **** 	case K01:
 778:src/keys.c    **** 		if (UState.intm)
 779:src/keys.c    **** 			op = OP_SPEC | (OP_A + lc);
 780:src/keys.c    **** 	case K02:
 781:src/keys.c    **** 	case K03:
 782:src/keys.c    **** 		if (intltr(lc + 10)) {
 783:src/keys.c    **** 			op = OP_SPEC | (OP_A + lc);
 784:src/keys.c    **** 			return op;
 785:src/keys.c    **** 		}
 786:src/keys.c    **** 		return check_f_key(lc, op);
 787:src/keys.c    **** #endif		
 788:src/keys.c    **** 	case K_ARROW:
 789:src/keys.c    **** #ifndef DM42
 790:src/keys.c    **** #ifdef INT_MODE_TEMPVIEW
 791:src/keys.c    **** 		if (intltr(14))
 792:src/keys.c    **** 			return op;
 793:src/keys.c    **** #else
 794:src/keys.c    **** 		if (UState.intm)
 795:src/keys.c    **** 			return op;
 796:src/keys.c    **** #endif
 797:src/keys.c    **** #endif		
 798:src/keys.c    **** 		if (is_bad_cmdline())
 799:src/keys.c    **** 			return STATE_UNFINISHED;
 800:src/keys.c    **** 		process_cmdline_set_lift();
 801:src/keys.c    **** 		State2.arrow = 1;
 802:src/keys.c    **** #ifdef DM42
 803:src/keys.c    **** 		set_menu (9);
 804:src/keys.c    **** 		display_current_menu ();
 805:src/keys.c    **** 		lcd_refresh ();
 806:src/keys.c    **** #else
 807:src/keys.c    **** 		set_shift(SHIFT_G);
 808:src/keys.c    **** #endif
 809:src/keys.c    **** 		break;
 810:src/keys.c    **** 
 811:src/keys.c    **** 	case K_CMPLX:
 812:src/keys.c    **** #ifndef DM42
 813:src/keys.c    **** 	  if (UState.intm)
 814:src/keys.c    **** 	    return op;
 815:src/keys.c    **** #endif
 816:src/keys.c    **** 		State2.cmplx = 1;
 817:src/keys.c    **** 		break;
 818:src/keys.c    **** 
 819:src/keys.c    **** 	case K24:				// <-
 820:src/keys.c    **** 		if (State2.disp_temp)
 821:src/keys.c    **** 			return STATE_UNFINISHED;
 822:src/keys.c    **** 		if (State2.runmode)
 823:src/keys.c    **** 			return op;
 824:src/keys.c    **** 		return STATE_BACKSPACE;
 825:src/keys.c    **** 
 826:src/keys.c    **** 	case K10:				// STO
 827:src/keys.c    **** 	case K11:				// RCL
ARM GAS  /tmp/cc90KtGY.s 			page 16


 828:src/keys.c    **** 	case K30:				// XEQ
 829:src/keys.c    **** 		init_arg((enum rarg)op);
 830:src/keys.c    **** 		break;
 831:src/keys.c    **** 
 832:src/keys.c    **** 	default:
 833:src/keys.c    **** 		return op;			// Keys handled by table
 834:src/keys.c    **** 	}
 835:src/keys.c    **** 	return STATE_UNFINISHED;
 836:src/keys.c    **** }
 837:src/keys.c    **** 
 838:src/keys.c    **** 
 839:src/keys.c    **** /*
 840:src/keys.c    ****  *  Process a key code after f or g shift
 841:src/keys.c    ****  */
 842:src/keys.c    **** static int process_fg_shifted(const keycode c) {
 843:src/keys.c    **** 
 844:src/keys.c    **** #define NO_INT 0xf000
 845:src/keys.c    **** 	static const unsigned short int op_map[][2] = {
 846:src/keys.c    **** 		// Row 1
 847:src/keys.c    **** 		{ 1,                               0                           }, // HYP
 848:src/keys.c    **** 		{ OP_MON | OP_SIN      | NO_INT,   OP_MON | OP_ASIN   | NO_INT },
 849:src/keys.c    **** 		{ OP_MON | OP_COS      | NO_INT,   OP_MON | OP_ACOS   | NO_INT },
 850:src/keys.c    **** 		{ OP_MON | OP_TAN      | NO_INT,   OP_MON | OP_ATAN   | NO_INT },
 851:src/keys.c    **** 		{ OP_NIL | OP_P2R      | NO_INT,   OP_NIL | OP_R2P    | NO_INT },
 852:src/keys.c    **** 		{ OP_NIL | OP_FRACPROPER,	   OP_NIL | OP_FRACIMPROPER    }, // CPX
 853:src/keys.c    **** 		// Row 2
 854:src/keys.c    **** 		{ OP_NIL | OP_HMS,                 OP_NIL | OP_DEG    | NO_INT },
 855:src/keys.c    **** 		{ OP_NIL | OP_FLOAT,               OP_NIL | OP_RAD    | NO_INT },
 856:src/keys.c    **** 		{ OP_NIL | OP_RANDOM,              OP_NIL | OP_GRAD   | NO_INT },
 857:src/keys.c    **** 		// Row 3
 858:src/keys.c    **** 		{ STATE_UNFINISHED,		   OP_NIL | OP_FILL            }, // ENTER
 859:src/keys.c    **** 		{ STATE_WINDOWLEFT,   		   STATE_WINDOWRIGHT   	       },
 860:src/keys.c    **** 		{ RARG(RARG_BASE, 2),		   RARG(RARG_BASE, 8)          },
 861:src/keys.c    **** 		{ RARG(RARG_BASE, 10),		   RARG(RARG_BASE, 16)         },
 862:src/keys.c    **** 		{ OP_NIL | OP_CLPROG,		   OP_NIL | OP_SIGMACLEAR      },
 863:src/keys.c    **** 		// Row 4
 864:src/keys.c    **** 		{ OP_MON | OP_EXP,                 OP_MON | OP_LN              },
 865:src/keys.c    **** 		{ OP_MON | OP_10POWX,		   OP_MON | OP_LOG             },
 866:src/keys.c    **** 		{ OP_MON | OP_2POWX,		   OP_MON | OP_LG2             },
 867:src/keys.c    **** 		{ OP_DYA | OP_POW,                 OP_DYA | OP_LOGXY           },
 868:src/keys.c    **** 		{ OP_MON | OP_RECIP    | NO_INT,   OP_DYA | OP_PARAL	       },
 869:src/keys.c    **** 		// Row 5
 870:src/keys.c    **** 		{ OP_DYA | OP_COMB,                OP_DYA | OP_PERM            },
 871:src/keys.c    **** 		{ OP_MON | OP_cdf_Q    | NO_INT,   OP_MON | OP_qf_Q   | NO_INT },
 872:src/keys.c    **** 		{ OP_NIL | OP_statMEAN | NO_INT,   OP_NIL | OP_statS  | NO_INT },
 873:src/keys.c    **** 		{ OP_MON | OP_yhat     | NO_INT,   OP_NIL | OP_statR  | NO_INT },
 874:src/keys.c    **** 		{ OP_MON | OP_SQRT,		   OP_MON | OP_SQR             },
 875:src/keys.c    **** 		// Row 6
 876:src/keys.c    **** 		{ RARG_SF,                         RARG_CF                     },
 877:src/keys.c    **** 		{ TST_EQ,                          TST_NE                      }, // tests
 878:src/keys.c    **** 		{ RARG_SOLVE           | NO_INT,   RARG_INTG          | NO_INT },
 879:src/keys.c    **** 		{ RARG_PROD            | NO_INT,   RARG_SUM           | NO_INT },
 880:src/keys.c    **** 		{ OP_MON | OP_PERCNT   | NO_INT,   OP_MON | OP_PERCHG | NO_INT },
 881:src/keys.c    **** 		// Row 7
 882:src/keys.c    **** #ifdef INFRARED
 883:src/keys.c    **** 		{ RARG(RARG_PRINT_REG,regX_idx),   STATE_UNFINISHED	       },
 884:src/keys.c    **** #else
ARM GAS  /tmp/cc90KtGY.s 			page 17


 885:src/keys.c    **** 		{ STATE_UNFINISHED,		   STATE_UNFINISHED	       },
 886:src/keys.c    **** #endif
 887:src/keys.c    **** 		{ OP_MON | OP_ABS,		   OP_MON | OP_RND             },
 888:src/keys.c    **** 		{ OP_MON | OP_TRUNC,		   OP_MON | OP_FRAC            },
 889:src/keys.c    **** 		{ RARG_LBL,			   OP_NIL | OP_RTN             },
 890:src/keys.c    **** 		{ RARG_DSE,			   RARG_ISG                    },
 891:src/keys.c    **** #ifdef DM42
 892:src/keys.c    **** 		{ OP_NIL | OP_NOP,		   OP_NIL |OP_NOP              },
 893:src/keys.c    **** #endif
 894:src/keys.c    **** 	};
 895:src/keys.c    **** 
 896:src/keys.c    **** 	static const unsigned short int op_map2[] = {
 897:src/keys.c    **** 		STATE_UNFINISHED,
 898:src/keys.c    **** 		STATE_UNFINISHED,
 899:src/keys.c    **** 		OP_DYA  | OP_POW,
 900:src/keys.c    **** 		OP_MON  | OP_SQRT
 901:src/keys.c    **** 	};
 902:src/keys.c    **** 
 903:src/keys.c    **** 	enum shifts shift = reset_shift();
 904:src/keys.c    **** 	int lc = keycode_to_linear(c);
 905:src/keys.c    **** 	int op = op_map[lc][shift == SHIFT_G];
 906:src/keys.c    **** 	int no_int = ((op & NO_INT) == NO_INT);
 907:src/keys.c    **** 	if (no_int)
 908:src/keys.c    **** 		op &= ~NO_INT;
 909:src/keys.c    **** 
 910:src/keys.c    **** 	switch (c) {
 911:src/keys.c    **** 	case K00:
 912:src/keys.c    **** 	  if (! UState.intm) {
 913:src/keys.c    **** 	    State2.hyp = 1;
 914:src/keys.c    **** 	    State2.dot = op;
 915:src/keys.c    **** 	    // State2.cmplx = 0;
 916:src/keys.c    **** 	    return STATE_UNFINISHED;
 917:src/keys.c    **** 	  }
 918:src/keys.c    **** 	  // fall through
 919:src/keys.c    **** 	case K01:
 920:src/keys.c    **** #ifdef DM42
 921:src/keys.c    **** 	  if (UState.intm && shift == SHIFT_F) {
 922:src/keys.c    **** 	    return check_f_key(lc, op_map2[lc]);
 923:src/keys.c    **** 	  }
 924:src/keys.c    **** 	  break;
 925:src/keys.c    **** #endif
 926:src/keys.c    **** #ifndef DM42
 927:src/keys.c    **** 	case K02:
 928:src/keys.c    **** #endif
 929:src/keys.c    **** 	case K03:
 930:src/keys.c    **** #ifdef DM42
 931:src/keys.c    **** 	  if (UState.intm && shift == SHIFT_F) {
 932:src/keys.c    **** 			return check_f_key(lc, op_map2[lc]);
 933:src/keys.c    **** 		}
 934:src/keys.c    **** 		break;
 935:src/keys.c    **** #else
 936:src/keys.c    **** 	  if (UState.intm && shift == SHIFT_F) {
 937:src/keys.c    **** 			return check_f_key(2, op_map2[lc]);
 938:src/keys.c    **** 		}
 939:src/keys.c    **** 		break;
 940:src/keys.c    **** #endif
 941:src/keys.c    **** 	case K20:				// Alpha
ARM GAS  /tmp/cc90KtGY.s 			page 18


 942:src/keys.c    **** 		if (shift == SHIFT_F) {
 943:src/keys.c    **** 			if (is_bad_cmdline())
 944:src/keys.c    **** 				return STATE_UNFINISHED;
 945:src/keys.c    **** 			process_cmdline_set_lift();
 946:src/keys.c    **** 			State2.alphas = 1;
 947:src/keys.c    **** 		}
 948:src/keys.c    **** 		break;
 949:src/keys.c    **** #ifdef DM42
 950:src/keys.c    **** 	case K31:
 951:src/keys.c    **** 	  if ((shift == SHIFT_G) && UState.intm && intltr(13)) {// Log - so D key
 952:src/keys.c    **** 	    return OP_SPEC | OP_D;
 953:src/keys.c    **** 	  }
 954:src/keys.c    **** 	  break;
 955:src/keys.c    **** 	case K30:
 956:src/keys.c    **** 	  if ((shift == SHIFT_G) && UState.intm && intltr(14)) {// Ln - so E key
 957:src/keys.c    **** 	    return OP_SPEC | OP_E;
 958:src/keys.c    **** 	  }
 959:src/keys.c    **** 	  break;
 960:src/keys.c    **** #endif
 961:src/keys.c    **** 	case K51:
 962:src/keys.c    **** 		if (is_bad_cmdline())
 963:src/keys.c    **** 			return STATE_UNFINISHED;
 964:src/keys.c    **** 		process_cmdline_set_lift();
 965:src/keys.c    **** 		State2.test = op;
 966:src/keys.c    **** 		return STATE_UNFINISHED;
 967:src/keys.c    **** 
 968:src/keys.c    **** 	case K50:
 969:src/keys.c    **** #ifndef REALBUILD
 970:src/keys.c    **** 		if (SHIFT_N != shift_down()) {
 971:src/keys.c    **** 			State2.trace = (shift == SHIFT_F);
 972:src/keys.c    **** 			return STATE_UNFINISHED;
 973:src/keys.c    **** 		}
 974:src/keys.c    **** #endif
 975:src/keys.c    **** 	case K52:
 976:src/keys.c    **** 	case K53:
 977:src/keys.c    **** 	case K63:
 978:src/keys.c    **** 	case K64:
 979:src/keys.c    **** 		if (op != (OP_NIL | OP_RTN)) {
 980:src/keys.c    **** 			if (! (no_int && UState.intm)) {
 981:src/keys.c    **** 				init_arg((enum rarg) op);
 982:src/keys.c    **** 			}
 983:src/keys.c    **** 			return STATE_UNFINISHED;
 984:src/keys.c    **** 		}
 985:src/keys.c    **** 		break;
 986:src/keys.c    **** 
 987:src/keys.c    **** 	default:
 988:src/keys.c    **** 		break;
 989:src/keys.c    **** 	}
 990:src/keys.c    **** 	if (no_int && UState.intm)
 991:src/keys.c    **** 		return STATE_UNFINISHED;
 992:src/keys.c    **** 
 993:src/keys.c    **** 	return check_confirm(op);
 994:src/keys.c    **** #undef NO_INT
 995:src/keys.c    **** }
 996:src/keys.c    **** 
 997:src/keys.c    **** /*
 998:src/keys.c    ****  *  Process a key code after h shift
ARM GAS  /tmp/cc90KtGY.s 			page 19


 999:src/keys.c    ****  */
1000:src/keys.c    **** static int process_h_shifted(const keycode c) {
1001:src/keys.c    **** #define _RARG    0x8000	// Must not interfere with existing opcode markers
1002:src/keys.c    **** #define NO_INT   0x4000
1003:src/keys.c    **** 	static const unsigned short int op_map[] = {
1004:src/keys.c    **** 		// Row 1
1005:src/keys.c    **** 		_RARG   | RARG_STD,
1006:src/keys.c    **** 		_RARG   | RARG_FIX,
1007:src/keys.c    **** 		_RARG   | RARG_SCI,
1008:src/keys.c    **** 		_RARG   | RARG_ENG,
1009:src/keys.c    **** 		STATE_UNFINISHED,	// CONV
1010:src/keys.c    **** 		STATE_UNFINISHED,	// MODE
1011:src/keys.c    **** 		// Row 2
1012:src/keys.c    **** 		STATE_UNFINISHED,	// CAT
1013:src/keys.c    **** 		_RARG   | RARG_VIEW,
1014:src/keys.c    **** 		OP_NIL  | OP_RUP,
1015:src/keys.c    **** 		// Row 3
1016:src/keys.c    **** 		_RARG	| RARG_INTNUM,	// CONST, will be emitted in integer mode only
1017:src/keys.c    **** 		_RARG   | RARG_SWAPX,
1018:src/keys.c    **** 		OP_MON  | OP_NOT,
1019:src/keys.c    **** 		CONST(OP_PI) | NO_INT,
1020:src/keys.c    **** 		OP_NIL  | OP_rCLX,
1021:src/keys.c    **** 		// Row 4
1022:src/keys.c    **** 		_RARG   | RARG_GTO,
1023:src/keys.c    **** 		OP_DYA  | OP_LAND,
1024:src/keys.c    **** 		OP_DYA  | OP_LOR,
1025:src/keys.c    **** 		OP_DYA  | OP_LXOR,
1026:src/keys.c    **** 		OP_DYA  | OP_MOD,
1027:src/keys.c    **** 		// Row 5
1028:src/keys.c    **** 		OP_MON  | OP_FACT,
1029:src/keys.c    **** 		STATE_UNFINISHED,	// PROB
1030:src/keys.c    **** 		STATE_UNFINISHED,	// STAT
1031:src/keys.c    **** 		STATE_UNFINISHED,	// CFIT
1032:src/keys.c    **** 		STATE_UNFINISHED,	// MATRIX
1033:src/keys.c    **** 		// Row 6
1034:src/keys.c    **** 		STATE_UNFINISHED,	// STATUS
1035:src/keys.c    **** 		STATE_UNFINISHED,	// TEST
1036:src/keys.c    **** 		STATE_UNFINISHED,	// P.FCN
1037:src/keys.c    **** 		STATE_UNFINISHED,	// X.FCN
1038:src/keys.c    **** 		OP_SPEC | OP_SIGMAMINUS | NO_INT,
1039:src/keys.c    **** 		// Row 7
1040:src/keys.c    **** 		OP_NIL | OP_OFF,
1041:src/keys.c    **** 		_RARG   | RARG_PAUSE,
1042:src/keys.c    **** #ifdef MODIFY_K62_E3_SWITCH
1043:src/keys.c    **** 		OP_NIL  | OP_THOUS_OFF,
1044:src/keys.c    **** #else
1045:src/keys.c    ****  		OP_NIL  | OP_RADCOM,
1046:src/keys.c    **** #endif
1047:src/keys.c    **** 		STATE_UNFINISHED,	// P/R
1048:src/keys.c    **** 		OP_SPEC | OP_SIGMAPLUS | NO_INT,
1049:src/keys.c    **** #ifdef DM42
1050:src/keys.c    **** 		OP_NIL | OP_NOP,       // shifts etc.
1051:src/keys.c    **** #endif
1052:src/keys.c    **** 	};
1053:src/keys.c    **** 
1054:src/keys.c    **** 	int lc = keycode_to_linear(c);
1055:src/keys.c    **** 	int op = op_map[lc];
ARM GAS  /tmp/cc90KtGY.s 			page 20


1056:src/keys.c    **** 	reset_shift();
1057:src/keys.c    **** 
1058:src/keys.c    **** 	// The switch handles all the special cases
1059:src/keys.c    **** 	switch (c) {
1060:src/keys.c    **** 	case K62:
1061:src/keys.c    **** 		if (UState.intm)
1062:src/keys.c    **** 			op = UState.nointseparator ? (OP_NIL | OP_INTSEP_ON) : (OP_NIL | OP_INTSEP_OFF);
1063:src/keys.c    **** 		else
1064:src/keys.c    **** #ifdef MODIFY_K62_E3_SWITCH
1065:src/keys.c    **** 			if (UState.nothousands) op = OP_NIL | OP_THOUS_ON;
1066:src/keys.c    **** #else
1067:src/keys.c    **** 			if (UState.fraccomma) op = OP_NIL | OP_RADDOT;
1068:src/keys.c    **** #endif
1069:src/keys.c    **** 		break;
1070:src/keys.c    **** 
1071:src/keys.c    **** 	case K63:					// Program<->Run mode
1072:src/keys.c    **** 		if (is_bad_cmdline())
1073:src/keys.c    **** 			return STATE_UNFINISHED;
1074:src/keys.c    **** 		State2.runmode = 1 - State2.runmode;
1075:src/keys.c    **** 		process_cmdline_set_lift();
1076:src/keys.c    **** 		update_program_bounds(1);
1077:src/keys.c    **** 		if (! State2.runmode && state_pc() == 1 && ProgEnd == 1)
1078:src/keys.c    **** 			set_pc(0);
1079:src/keys.c    **** 		break;
1080:src/keys.c    **** 
1081:src/keys.c    **** 	default:
1082:src/keys.c    **** 		break;
1083:src/keys.c    **** 	}
1084:src/keys.c    **** 
1085:src/keys.c    **** 	if (op != STATE_UNFINISHED) {
1086:src/keys.c    **** 		if (op & _RARG) {
1087:src/keys.c    **** 			init_arg((enum rarg) (op & ~(_RARG | NO_INT)));
1088:src/keys.c    **** 			op = STATE_UNFINISHED;
1089:src/keys.c    **** 		}
1090:src/keys.c    **** 	}
1091:src/keys.c    **** 	return UState.intm && (op & NO_INT) ? STATE_UNFINISHED : op & ~NO_INT;
1092:src/keys.c    **** #undef _RARG
1093:src/keys.c    **** #undef NO_INT
1094:src/keys.c    **** }
1095:src/keys.c    **** 
1096:src/keys.c    **** /*
1097:src/keys.c    ****  *  Process a key code after CPX
1098:src/keys.c    ****  */
1099:src/keys.c    **** static int process_cmplx(const keycode c) {
1100:src/keys.c    **** #define _RARG   0xFF00
1101:src/keys.c    **** #define CSWAPXZ RARG(RARG_CSWAPX, regZ_idx)
1102:src/keys.c    **** #define CNUM(n) RARG(RARG_INTNUM_CMPLX, n)
1103:src/keys.c    **** 
1104:src/keys.c    **** 	static const unsigned short int op_map[][4] = {
1105:src/keys.c    **** 		// Row 1
1106:src/keys.c    **** 		{ 1,			1,                   0,                   0		      }, // HYP
1107:src/keys.c    **** 		{ OP_CMON | OP_RECIP,	OP_CMON | OP_SIN,    OP_CMON | OP_ASIN,   STATE_UNFINISHED    },
1108:src/keys.c    **** 		{ OP_CDYA | OP_POW,	OP_CMON | OP_COS,    OP_CMON | OP_ACOS,   STATE_UNFINISHED    },
1109:src/keys.c    **** 		{ OP_CMON | OP_SQRT,	OP_CMON | OP_TAN,    OP_CMON | OP_ATAN,   STATE_UNFINISHED    },
1110:src/keys.c    **** 		{ STATE_UNFINISHED,	OP_NIL | OP_P2R,     OP_NIL | OP_R2P,     STATE_UNFINISHED    },
1111:src/keys.c    **** 		{ STATE_UNFINISHED,	STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    }, // CPX
1112:src/keys.c    **** 		// Row 2
ARM GAS  /tmp/cc90KtGY.s 			page 21


1113:src/keys.c    **** 		{ _RARG | RARG_CSTO,	STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1114:src/keys.c    **** 		{ _RARG | RARG_CRCL,	STATE_UNFINISHED,    STATE_UNFINISHED,    _RARG | RARG_CVIEW  },
1115:src/keys.c    **** 		{ OP_NIL | OP_CRDOWN,	STATE_UNFINISHED,    STATE_UNFINISHED,    OP_NIL | OP_CRUP    }, // R^
1116:src/keys.c    **** 		// Row 3
1117:src/keys.c    **** 		{ OP_NIL | OP_CENTER,	STATE_UNFINISHED,    OP_NIL | OP_CFILL,   OP_NIL | OP_CFILL   }, // ENTER
1118:src/keys.c    **** 		{ CSWAPXZ,		STATE_UNFINISHED,    STATE_UNFINISHED,    _RARG | RARG_CSWAPX },
1119:src/keys.c    **** 		{ OP_CMON | OP_CCHS,	STATE_UNFINISHED,    STATE_UNFINISHED,    OP_CMON | OP_CCONJ  },
1120:src/keys.c    **** 		{ CONST_CMPLX(OP_PI),	STATE_UNFINISHED,    STATE_UNFINISHED,    CONST_CMPLX(OP_PI)  },
1121:src/keys.c    **** 		{ STATE_UNFINISHED,	STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1122:src/keys.c    **** 		// Row 4
1123:src/keys.c    **** 		{ STATE_UNFINISHED,	OP_CMON | OP_EXP,    OP_CMON | OP_LN,     STATE_UNFINISHED    },
1124:src/keys.c    **** 		{ CNUM(7),		OP_CMON | OP_10POWX, OP_CMON | OP_LOG,    STATE_UNFINISHED    },
1125:src/keys.c    **** 		{ CNUM(8),		OP_CMON | OP_2POWX,  OP_CMON | OP_LG2,    STATE_UNFINISHED    },
1126:src/keys.c    **** 		{ CNUM(9),		OP_CDYA | OP_POW,    OP_CDYA | OP_LOGXY,  STATE_UNFINISHED    },
1127:src/keys.c    **** 		{ OP_CDYA | OP_DIV,	OP_CMON | OP_RECIP,  OP_CDYA | OP_PARAL,  STATE_UNFINISHED    },
1128:src/keys.c    **** 		// Row 5
1129:src/keys.c    **** 		{ STATE_UNFINISHED,	OP_CDYA | OP_COMB,   OP_CDYA | OP_PERM,   OP_CMON | OP_FACT   },
1130:src/keys.c    **** 		{ CNUM(4),		STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1131:src/keys.c    **** 		{ CNUM(5),		STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1132:src/keys.c    **** 		{ CNUM(6),		STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1133:src/keys.c    **** 		{ OP_CDYA | OP_MUL,	OP_CMON | OP_SQRT,   OP_CMON | OP_SQR,    OP_CMON | OP_SQR    },
1134:src/keys.c    **** 		// Row 6
1135:src/keys.c    **** 		{ STATE_UNFINISHED,	STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1136:src/keys.c    **** 		{ CNUM(1),		TST_EQ,              TST_NE,              STATE_UNFINISHED    }, // tests
1137:src/keys.c    **** 		{ CNUM(2),		STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1138:src/keys.c    **** 		{ CNUM(3),		STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1139:src/keys.c    **** 		{ OP_CDYA | OP_SUB,	STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1140:src/keys.c    **** 		// Row 7
1141:src/keys.c    **** 		{ STATE_UNFINISHED,	STATE_UNFINISHED,    STATE_UNFINISHED,    OP_NIL | OP_OFF     },
1142:src/keys.c    **** 		{ CNUM(0),		OP_CMON | OP_ABS,    OP_CMON | OP_RND,    STATE_UNFINISHED    },
1143:src/keys.c    **** 		{ OP_NIL | OP_cmplxI,	OP_CMON | OP_TRUNC,  OP_CMON | OP_FRAC,   STATE_UNFINISHED    },
1144:src/keys.c    **** #ifdef INCLUDE_STOPWATCH
1145:src/keys.c    **** 		{ OP_NIL | OP_STOPWATCH, STATE_UNFINISHED,   STATE_UNFINISHED,    STATE_UNFINISHED    },
1146:src/keys.c    **** #else
1147:src/keys.c    **** 		{ STATE_UNFINISHED,	STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1148:src/keys.c    **** #endif
1149:src/keys.c    **** 		{ OP_CDYA | OP_ADD,	STATE_UNFINISHED,    STATE_UNFINISHED,    STATE_UNFINISHED    },
1150:src/keys.c    **** #ifdef DM42
1151:src/keys.c    **** 		{ OP_NIL | OP_NOP,	OP_NIL | OP_NOP,    OP_NIL | OP_NOP,    OP_NIL | OP_NOP    }
1152:src/keys.c    **** #endif
1153:src/keys.c    **** 	};
1154:src/keys.c    **** 
1155:src/keys.c    **** 	enum shifts shift = reset_shift();
1156:src/keys.c    **** 	int lc = keycode_to_linear(c);
1157:src/keys.c    **** 	int op = op_map[lc][shift];
1158:src/keys.c    **** 	State2.cmplx = 0;
1159:src/keys.c    **** 
1160:src/keys.c    **** 	if ((op & _RARG) == _RARG) {
1161:src/keys.c    **** 		init_arg((enum rarg) (op & ~_RARG));
1162:src/keys.c    **** 		return STATE_UNFINISHED;
1163:src/keys.c    **** 	}
1164:src/keys.c    **** 	if (c == K00) {
1165:src/keys.c    **** 		// HYP
1166:src/keys.c    **** 		process_cmdline_set_lift();
1167:src/keys.c    **** 		State2.hyp = 1;
1168:src/keys.c    **** 		State2.dot = op;
1169:src/keys.c    **** 		State2.cmplx = 1;
ARM GAS  /tmp/cc90KtGY.s 			page 22


1170:src/keys.c    **** 		return STATE_UNFINISHED;
1171:src/keys.c    **** 	}
1172:src/keys.c    **** 
1173:src/keys.c    **** 	if (shift != SHIFT_N) {
1174:src/keys.c    **** 		switch (c) {
1175:src/keys.c    **** 		case K_CMPLX:
1176:src/keys.c    **** 			set_shift(shift);
1177:src/keys.c    **** 			break;
1178:src/keys.c    **** 
1179:src/keys.c    **** 		case K51:
1180:src/keys.c    **** 			if (op != STATE_UNFINISHED) {
1181:src/keys.c    **** 				if (is_bad_cmdline())
1182:src/keys.c    **** 					return STATE_UNFINISHED;
1183:src/keys.c    **** 				process_cmdline_set_lift();
1184:src/keys.c    **** 				State2.cmplx = 1;
1185:src/keys.c    **** 				State2.test = op;
1186:src/keys.c    **** 			}
1187:src/keys.c    **** 			return STATE_UNFINISHED;
1188:src/keys.c    **** 
1189:src/keys.c    **** 		case K60:
1190:src/keys.c    **** 			init_state();
1191:src/keys.c    **** 			break;
1192:src/keys.c    **** 
1193:src/keys.c    **** 		default:
1194:src/keys.c    **** 			break;
1195:src/keys.c    **** 		}
1196:src/keys.c    **** 	}
1197:src/keys.c    **** #ifdef INCLUDE_STOPWATCH
1198:src/keys.c    **** 	return check_confirm(op);
1199:src/keys.c    **** #else
1200:src/keys.c    **** 	return op;
1201:src/keys.c    **** #endif
1202:src/keys.c    **** 
1203:src/keys.c    **** #undef _RARG
1204:src/keys.c    **** #undef CSWAPXZ
1205:src/keys.c    **** #undef CNUM
1206:src/keys.c    **** }
1207:src/keys.c    **** 
1208:src/keys.c    **** 
1209:src/keys.c    **** 
1210:src/keys.c    **** /*
1211:src/keys.c    ****  * Fairly simple routine for dealing with the HYP prefix.
1212:src/keys.c    ****  * This setting can only be followed by 4, 5, or 6 to specify
1213:src/keys.c    ****  * the function.  The inverse routines use the code too, the State2.dot
1214:src/keys.c    ****  * is 1 for normal and 0 for inverse hyperbolic.  We also have to
1215:src/keys.c    ****  * deal with the complex versions and the handling of that key and
1216:src/keys.c    ****  * the ON key are dealt with by our caller.
1217:src/keys.c    ****  */
1218:src/keys.c    **** static int process_hyp(const keycode c) {
1219:src/keys.c    **** 	static const unsigned char op_map[][2] = {
1220:src/keys.c    **** 		{ OP_ASINH, OP_SINH },
1221:src/keys.c    **** 		{ OP_ACOSH, OP_COSH },
1222:src/keys.c    **** 		{ OP_ATANH, OP_TANH }
1223:src/keys.c    **** 	};
1224:src/keys.c    **** 	int cmplx = State2.cmplx;
1225:src/keys.c    **** 	int f = State2.dot;
1226:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 23


1227:src/keys.c    **** 	State2.hyp = 0;
1228:src/keys.c    **** 	State2.cmplx = 0;
1229:src/keys.c    **** 	State2.dot = 0;
1230:src/keys.c    **** #ifdef DM42
1231:src/keys.c    **** 	reset_shift();
1232:src/keys.c    **** #endif
1233:src/keys.c    **** 	switch ((int)c) {
1234:src/keys.c    **** 
1235:src/keys.c    **** 	case K01:
1236:src/keys.c    **** 	case K02:
1237:src/keys.c    **** 	case K03:
1238:src/keys.c    **** 		return (cmplx ? OP_CMON : OP_MON) | op_map[c - K01][f];
1239:src/keys.c    **** 
1240:src/keys.c    **** 	case K_CMPLX:
1241:src/keys.c    **** 		cmplx = ! cmplx;
1242:src/keys.c    **** 		goto stay;
1243:src/keys.c    **** 
1244:src/keys.c    **** 	case K_F: 
1245:src/keys.c    **** 	case K_G:
1246:src/keys.c    **** 		f = (c == K_F);
1247:src/keys.c    **** 		// fall trough
1248:src/keys.c    **** 	stay:
1249:src/keys.c    **** 		// process_cmdline_set_lift();
1250:src/keys.c    **** 		State2.hyp = 1;
1251:src/keys.c    **** 		State2.cmplx = cmplx;
1252:src/keys.c    **** 		State2.dot = f;
1253:src/keys.c    **** 		break;
1254:src/keys.c    **** 
1255:src/keys.c    **** 	default:
1256:src/keys.c    **** 		break;
1257:src/keys.c    **** 	}
1258:src/keys.c    **** 	return STATE_UNFINISHED;
1259:src/keys.c    **** }
1260:src/keys.c    **** 
1261:src/keys.c    **** 
1262:src/keys.c    **** /*
1263:src/keys.c    ****  *  Process a key code after ->
1264:src/keys.c    ****  */
1265:src/keys.c    **** static int process_arrow(const keycode c) {
1266:src/keys.c    **** 	static const unsigned short int op_map[][2] = {
1267:src/keys.c    **** 		{ OP_MON | OP_2DEG,  OP_MON | OP_2HMS },
1268:src/keys.c    **** 		{ OP_MON | OP_2RAD,  OP_MON | OP_HMS2 },
1269:src/keys.c    **** 		{ OP_MON | OP_2GRAD, STATE_UNFINISHED }
1270:src/keys.c    **** 	};
1271:src/keys.c    **** 	static const enum single_disp disp[][2] = {
1272:src/keys.c    **** 		{ SDISP_OCT, SDISP_BIN },
1273:src/keys.c    **** 		{ SDISP_HEX, SDISP_DEC }
1274:src/keys.c    **** 	};
1275:src/keys.c    **** 	const int shift = reset_shift();
1276:src/keys.c    **** 	const int f = (shift == SHIFT_F);
1277:src/keys.c    **** 
1278:src/keys.c    **** 	State2.arrow = 0;
1279:src/keys.c    **** 	set_last_menu ();
1280:src/keys.c    **** 	display_current_menu ();
1281:src/keys.c    **** 
1282:src/keys.c    **** 	if (shift == SHIFT_N) return STATE_UNFINISHED;
1283:src/keys.c    **** 	
ARM GAS  /tmp/cc90KtGY.s 			page 24


1284:src/keys.c    **** 	if (c >= K10 && c <= K12)
1285:src/keys.c    **** 		return op_map[c - K10][f];
1286:src/keys.c    **** 
1287:src/keys.c    **** 	if (c == K22 || c == K23)
1288:src/keys.c    **** 		set_smode(disp[c - K22][f]);
1289:src/keys.c    **** 
1290:src/keys.c    **** 	return STATE_UNFINISHED;
1291:src/keys.c    **** }
1292:src/keys.c    **** 
1293:src/keys.c    **** 
1294:src/keys.c    **** /* Process a GTO . sequence
1295:src/keys.c    ****  */
1296:src/keys.c    **** static int gtodot_digit(const int n) {
  30              		.loc 1 1296 38 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
1297:src/keys.c    **** 	const int val = State2.digval * 10 + n;
  34              		.loc 1 1297 2 view .LVU1
1298:src/keys.c    **** 	const int lib = nLIB(state_pc());
  35              		.loc 1 1298 18 is_stmt 0 view .LVU2
  36 0000 144B     		ldr	r3, .L5
  37 0002 1A68     		ldr	r2, [r3]
1296:src/keys.c    **** 	const int val = State2.digval * 10 + n;
  38              		.loc 1 1296 38 view .LVU3
  39 0004 70B5     		push	{r4, r5, r6, lr}
  40              		.cfi_def_cfa_offset 16
  41              		.cfi_offset 4, -16
  42              		.cfi_offset 5, -12
  43              		.cfi_offset 6, -8
  44              		.cfi_offset 14, -4
1297:src/keys.c    **** 	const int val = State2.digval * 10 + n;
  45              		.loc 1 1297 24 view .LVU4
  46 0006 144E     		ldr	r6, .L5+4
  47              		.loc 1 1298 18 view .LVU5
  48 0008 B2F8E057 		ldrh	r5, [r2, #2016]
1297:src/keys.c    **** 	const int val = State2.digval * 10 + n;
  49              		.loc 1 1297 24 view .LVU6
  50 000c 3389     		ldrh	r3, [r6, #8]
  51              		.loc 1 1298 18 view .LVU7
  52 000e AD0B     		lsrs	r5, r5, #14
1297:src/keys.c    **** 	const int val = State2.digval * 10 + n;
  53              		.loc 1 1297 32 view .LVU8
  54 0010 03EB8303 		add	r3, r3, r3, lsl #2
1296:src/keys.c    **** 	const int val = State2.digval * 10 + n;
  55              		.loc 1 1296 38 view .LVU9
  56 0014 0446     		mov	r4, r0
1299:src/keys.c    **** 
1300:src/keys.c    **** 	if (val > sizeLIB(lib) / 10)
  57              		.loc 1 1300 12 view .LVU10
  58 0016 2846     		mov	r0, r5
  59              	.LVL1:
1297:src/keys.c    **** 	const int lib = nLIB(state_pc());
  60              		.loc 1 1297 12 view .LVU11
  61 0018 04EB4304 		add	r4, r4, r3, lsl #1
  62              	.LVL2:
1298:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 25


  63              		.loc 1 1298 2 is_stmt 1 view .LVU12
  64              		.loc 1 1300 2 view .LVU13
  65              		.loc 1 1300 12 is_stmt 0 view .LVU14
  66 001c FFF7FEFF 		bl	sizeLIB
  67              	.LVL3:
  68              		.loc 1 1300 25 view .LVU15
  69 0020 0E4A     		ldr	r2, .L5+8
  70 0022 82FB0032 		smull	r3, r2, r2, r0
  71 0026 C317     		asrs	r3, r0, #31
  72 0028 C3EBA203 		rsb	r3, r3, r2, asr #2
  73              		.loc 1 1300 5 view .LVU16
  74 002c A342     		cmp	r3, r4
  75 002e 0FDB     		blt	.L1
1301:src/keys.c    **** 		return val;
1302:src/keys.c    **** 	if (++State2.numdigit == 3 + (lib & 1))
  76              		.loc 1 1302 2 is_stmt 1 view .LVU17
  77              		.loc 1 1302 6 is_stmt 0 view .LVU18
  78 0030 F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
  79              		.loc 1 1302 29 view .LVU19
  80 0032 15F0010F 		tst	r5, #1
  81              		.loc 1 1302 6 view .LVU20
  82 0036 03F10103 		add	r3, r3, #1
  83 003a DBB2     		uxtb	r3, r3
  84              		.loc 1 1302 29 view .LVU21
  85 003c 0CBF     		ite	eq
  86 003e 0322     		moveq	r2, #3
  87 0040 0422     		movne	r2, #4
  88              		.loc 1 1302 5 view .LVU22
  89 0042 9342     		cmp	r3, r2
1303:src/keys.c    **** 		return val;
1304:src/keys.c    **** 	State2.digval = val;
  90              		.loc 1 1304 2 is_stmt 1 view .LVU23
  91              		.loc 1 1304 16 is_stmt 0 view .LVU24
  92 0044 18BF     		it	ne
  93 0046 3481     		strhne	r4, [r6, #8]	@ movhi
1305:src/keys.c    **** 	return -1;
  94              		.loc 1 1305 2 is_stmt 1 view .LVU25
1302:src/keys.c    **** 		return val;
  95              		.loc 1 1302 5 is_stmt 0 view .LVU26
  96 0048 F372     		strb	r3, [r6, #11]
  97              		.loc 1 1305 9 view .LVU27
  98 004a 18BF     		it	ne
  99 004c 4FF0FF34 		movne	r4, #-1
 100              	.LVL4:
 101              	.L1:
1306:src/keys.c    **** }
 102              		.loc 1 1306 1 view .LVU28
 103 0050 2046     		mov	r0, r4
 104 0052 70BD     		pop	{r4, r5, r6, pc}
 105              	.LVL5:
 106              	.L6:
 107              		.loc 1 1306 1 view .LVU29
 108              		.align	2
 109              	.L5:
 110 0054 00000000 		.word	main_ram
 111 0058 00000000 		.word	StateWhileOn
 112 005c 67666666 		.word	1717986919
ARM GAS  /tmp/cc90KtGY.s 			page 26


 113              		.cfi_endproc
 114              	.LFE25:
 116              		.section	.text.check_f_key,"ax",%progbits
 117              		.align	1
 118              		.p2align 2,,3
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu fpv4-sp-d16
 124              	check_f_key:
 125              	.LVL6:
 126              	.LFB17:
 650:src/keys.c    **** 	const int code = 100 + n;
 127              		.loc 1 650 47 is_stmt 1 view -0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 0
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 651:src/keys.c    **** 	unsigned int pc = state_pc();
 131              		.loc 1 651 2 view .LVU31
 650:src/keys.c    **** 	const int code = 100 + n;
 132              		.loc 1 650 47 is_stmt 0 view .LVU32
 133 0000 38B5     		push	{r3, r4, r5, lr}
 134              		.cfi_def_cfa_offset 16
 135              		.cfi_offset 3, -16
 136              		.cfi_offset 4, -12
 137              		.cfi_offset 5, -8
 138              		.cfi_offset 14, -4
 654:src/keys.c    **** 		if (isXROM(pc))
 139              		.loc 1 654 6 view .LVU33
 140 0002 0D4B     		ldr	r3, .L17
 141 0004 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 142              	.LVL7:
 652:src/keys.c    **** 
 143              		.loc 1 652 2 is_stmt 1 view .LVU34
 654:src/keys.c    **** 		if (isXROM(pc))
 144              		.loc 1 654 2 view .LVU35
 654:src/keys.c    **** 		if (isXROM(pc))
 145              		.loc 1 654 5 is_stmt 0 view .LVU36
 146 0006 5B06     		lsls	r3, r3, #25
 650:src/keys.c    **** 	const int code = 100 + n;
 147              		.loc 1 650 47 view .LVU37
 148 0008 0C46     		mov	r4, r1
 654:src/keys.c    **** 		if (isXROM(pc))
 149              		.loc 1 654 5 view .LVU38
 150 000a 0FD5     		bpl	.L11
 652:src/keys.c    **** 
 151              		.loc 1 652 20 view .LVU39
 152 000c 0B4B     		ldr	r3, .L17+4
 153              	.LVL8:
 652:src/keys.c    **** 
 154              		.loc 1 652 20 view .LVU40
 155 000e 1B68     		ldr	r3, [r3]
 156              	.LVL9:
 652:src/keys.c    **** 
 157              		.loc 1 652 15 view .LVU41
 158 0010 B3F8E037 		ldrh	r3, [r3, #2016]
 159              	.LVL10:
ARM GAS  /tmp/cc90KtGY.s 			page 27


 655:src/keys.c    **** 			pc = 1;
 160              		.loc 1 655 3 is_stmt 1 view .LVU42
 655:src/keys.c    **** 			pc = 1;
 161              		.loc 1 655 7 is_stmt 0 view .LVU43
 162 0014 9A0B     		lsrs	r2, r3, #14
 656:src/keys.c    **** 		if (find_label_from(pc, code, FIND_OP_ENDS))
 163              		.loc 1 656 7 view .LVU44
 164 0016 032A     		cmp	r2, #3
 165              	.LVL11:
 657:src/keys.c    **** 			return RARG(RARG_XEQ, code);
 166              		.loc 1 657 3 is_stmt 1 view .LVU45
 651:src/keys.c    **** 	unsigned int pc = state_pc();
 167              		.loc 1 651 12 is_stmt 0 view .LVU46
 168 0018 00F16405 		add	r5, r0, #100
 169              	.LVL12:
 657:src/keys.c    **** 			return RARG(RARG_XEQ, code);
 170              		.loc 1 657 7 view .LVU47
 171 001c 2946     		mov	r1, r5
 172              	.LVL13:
 657:src/keys.c    **** 			return RARG(RARG_XEQ, code);
 173              		.loc 1 657 7 view .LVU48
 174 001e 14BF     		ite	ne
 175 0020 1846     		movne	r0, r3
 176              	.LVL14:
 657:src/keys.c    **** 			return RARG(RARG_XEQ, code);
 177              		.loc 1 657 7 view .LVU49
 178 0022 0120     		moveq	r0, #1
 179 0024 0222     		movs	r2, #2
 180 0026 FFF7FEFF 		bl	find_label_from
 181              	.LVL15:
 657:src/keys.c    **** 			return RARG(RARG_XEQ, code);
 182              		.loc 1 657 6 view .LVU50
 183 002a 08B9     		cbnz	r0, .L16
 184              	.LVL16:
 185              	.L11:
 660:src/keys.c    **** }
 186              		.loc 1 660 9 view .LVU51
 187 002c 2046     		mov	r0, r4
 661:src/keys.c    **** 
 188              		.loc 1 661 1 view .LVU52
 189 002e 38BD     		pop	{r3, r4, r5, pc}
 190              	.LVL17:
 191              	.L16:
 658:src/keys.c    **** 	}
 192              		.loc 1 658 4 is_stmt 1 view .LVU53
 658:src/keys.c    **** 	}
 193              		.loc 1 658 11 is_stmt 0 view .LVU54
 194 0030 45F4C840 		orr	r0, r5, #25600
 661:src/keys.c    **** 
 195              		.loc 1 661 1 view .LVU55
 196 0034 38BD     		pop	{r3, r4, r5, pc}
 197              	.LVL18:
 198              	.L18:
 661:src/keys.c    **** 
 199              		.loc 1 661 1 view .LVU56
 200 0036 00BF     		.align	2
 201              	.L17:
ARM GAS  /tmp/cc90KtGY.s 			page 28


 202 0038 00000000 		.word	StateWhileOn
 203 003c 00000000 		.word	main_ram
 204              		.cfi_endproc
 205              	.LFE17:
 207              		.section	.text.is_label_or_end_at,"ax",%progbits
 208              		.align	1
 209              		.p2align 2,,3
 210              		.syntax unified
 211              		.thumb
 212              		.thumb_func
 213              		.fpu fpv4-sp-d16
 215              	is_label_or_end_at:
 216              	.LVL19:
 217              	.LFB49:
1307:src/keys.c    **** 
1308:src/keys.c    **** static int gtodot_fkey(int n) {
1309:src/keys.c    **** 	const int code = 100 + n;
1310:src/keys.c    **** 	unsigned int pc = state_pc();
1311:src/keys.c    **** 
1312:src/keys.c    **** 	if(isXROM(pc))
1313:src/keys.c    **** 		pc = 1;
1314:src/keys.c    **** 	pc = find_label_from(pc, code, FIND_OP_ERROR | FIND_OP_ENDS);
1315:src/keys.c    **** 	if (pc > 0)
1316:src/keys.c    **** 		return pc;
1317:src/keys.c    **** 	return state_pc();
1318:src/keys.c    **** }
1319:src/keys.c    **** 
1320:src/keys.c    **** static int process_gtodot(const keycode c) {
1321:src/keys.c    **** 	int pc = -1;
1322:src/keys.c    **** 	unsigned int rawpc = keycode_to_digit_or_register(c);
1323:src/keys.c    **** 
1324:src/keys.c    **** 	if (rawpc <= 9) {
1325:src/keys.c    **** 		// Digit 0 - 9
1326:src/keys.c    **** 		pc = gtodot_digit(rawpc);
1327:src/keys.c    **** 	}
1328:src/keys.c    **** #ifdef DM42
1329:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regX_idx) rawpc = gtodot_digit(1); 
1330:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regY_idx) rawpc = gtodot_digit(2); 
1331:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regZ_idx) rawpc = gtodot_digit(3); 
1332:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regT_idx) rawpc = gtodot_digit(4); 
1333:src/keys.c    **** #endif
1334:src/keys.c    **** 	else if (c >= K00 && c <= K03) {
1335:src/keys.c    **** 		// A - D
1336:src/keys.c    **** 		rawpc = gtodot_fkey(c - K00);
1337:src/keys.c    **** 		goto fin;
1338:src/keys.c    **** 	}
1339:src/keys.c    **** 	else if (c == K62) {
1340:src/keys.c    **** 		// .
1341:src/keys.c    **** 		rawpc = ProgSize;
1342:src/keys.c    **** 		goto fin;
1343:src/keys.c    **** 	}
1344:src/keys.c    **** 	else if (c == K20) {
1345:src/keys.c    **** 		// ENTER - short circuit processing
1346:src/keys.c    **** 		pc = State2.digval;
1347:src/keys.c    **** 	}
1348:src/keys.c    **** 	else if (c == K24) {
1349:src/keys.c    **** 		// backspace
ARM GAS  /tmp/cc90KtGY.s 			page 29


1350:src/keys.c    **** 		if (State2.numdigit == 0) {
1351:src/keys.c    **** 			goto fin2;
1352:src/keys.c    **** 		} else {
1353:src/keys.c    **** 			State2.numdigit--;
1354:src/keys.c    **** 			State2.digval /= 10;
1355:src/keys.c    **** 		}
1356:src/keys.c    **** 	}
1357:src/keys.c    **** 	else if (c == K_UP) {
1358:src/keys.c    **** 		// up
1359:src/keys.c    **** 		rawpc = state_pc();
1360:src/keys.c    **** 		if (rawpc == 1)
1361:src/keys.c    **** 			rawpc = 0;
1362:src/keys.c    **** 		set_pc(do_dec(rawpc, 0));
1363:src/keys.c    **** 		update_program_bounds(1);
1364:src/keys.c    **** 		rawpc = ProgBegin;
1365:src/keys.c    **** 		goto fin;
1366:src/keys.c    **** 	}
1367:src/keys.c    **** 	else if (c == K_DOWN) {
1368:src/keys.c    **** 		// down
1369:src/keys.c    **** 		update_program_bounds(1);
1370:src/keys.c    **** 		rawpc = do_inc(ProgEnd, 0);
1371:src/keys.c    **** 		if (rawpc == 0 && ProgSize > 0)
1372:src/keys.c    **** 			rawpc = 1;
1373:src/keys.c    **** 		goto fin;
1374:src/keys.c    **** 	}
1375:src/keys.c    **** 	if (pc >= 0) {
1376:src/keys.c    **** 		rawpc = find_user_pc(pc);
1377:src/keys.c    **** fin:		set_pc(rawpc);
1378:src/keys.c    **** fin2:		State2.gtodot = 0;
1379:src/keys.c    **** 		State2.digval = 0;
1380:src/keys.c    **** 		State2.numdigit = 0;
1381:src/keys.c    **** 	}
1382:src/keys.c    **** 	return STATE_UNFINISHED;
1383:src/keys.c    **** }
1384:src/keys.c    **** 
1385:src/keys.c    **** 
1386:src/keys.c    **** /* Process a keystroke in alpha mode
1387:src/keys.c    ****  */
1388:src/keys.c    **** static int process_alpha(const keycode c) {
1389:src/keys.c    **** 	const enum shifts shift = reset_shift();
1390:src/keys.c    **** 	int ch = keycode_to_alpha(c, shift);
1391:src/keys.c    **** 	unsigned int alpha_pos = State2.alpha_pos, n;
1392:src/keys.c    ****         int op = STATE_UNFINISHED;
1393:src/keys.c    **** 	State2.alpha_pos = 0;
1394:src/keys.c    **** 
1395:src/keys.c    **** 	switch (c) {
1396:src/keys.c    **** 	case K10:	// STO
1397:src/keys.c    **** 		if (shift == SHIFT_F) {
1398:src/keys.c    **** 			init_arg(RARG_ASTO);
1399:src/keys.c    **** 			return STATE_UNFINISHED;
1400:src/keys.c    **** 		}
1401:src/keys.c    **** 		break;
1402:src/keys.c    **** 
1403:src/keys.c    **** 	case K11:	// RCL - maybe view
1404:src/keys.c    **** 		if (shift == SHIFT_F) {
1405:src/keys.c    **** 			init_arg(RARG_ARCL);
1406:src/keys.c    **** 			return STATE_UNFINISHED;
ARM GAS  /tmp/cc90KtGY.s 			page 30


1407:src/keys.c    **** 		} else if (shift == SHIFT_H) {
1408:src/keys.c    **** 			init_arg(RARG_VIEW_REG);
1409:src/keys.c    **** 			return STATE_UNFINISHED;
1410:src/keys.c    **** 		}
1411:src/keys.c    **** 		break;
1412:src/keys.c    **** 
1413:src/keys.c    **** 	case K20:	// Enter - maybe exit alpha mode
1414:src/keys.c    **** 		if (shift == SHIFT_G || shift == SHIFT_H)
1415:src/keys.c    **** 			break;
1416:src/keys.c    **** 		if (shift == SHIFT_F && ! State2.runmode) {
1417:src/keys.c    **** 			State2.multi = 1;
1418:src/keys.c    **** 			State2.numdigit = 0;
1419:src/keys.c    **** 			CmdBase = DBL_ALPHA;
1420:src/keys.c    **** 			return STATE_UNFINISHED;
1421:src/keys.c    **** 		}
1422:src/keys.c    **** 		State2.alphas = 0;
1423:src/keys.c    **** 		State2.alphashift = 0;
1424:src/keys.c    **** 		return op;
1425:src/keys.c    **** 
1426:src/keys.c    **** 	case K24:	// Clx - backspace, clear Alpha
1427:src/keys.c    **** 		if (shift == SHIFT_N)
1428:src/keys.c    **** 			return STATE_BACKSPACE;
1429:src/keys.c    **** 		if (shift == SHIFT_H)
1430:src/keys.c    **** 			return OP_NIL | OP_CLRALPHA;
1431:src/keys.c    **** 		break;
1432:src/keys.c    **** 
1433:src/keys.c    **** 	case K_UP:
1434:src/keys.c    **** 		if (shift == SHIFT_N) {
1435:src/keys.c    **** 			if ( State2.runmode ) {
1436:src/keys.c    **** 				// Alpha scroll left
1437:src/keys.c    **** 				n = alpha_pos + 1;
1438:src/keys.c    **** 				State2.alpha_pos = ( n < ( alen() + 5 ) / 6 ) ? n : alpha_pos;
1439:src/keys.c    **** 				return STATE_UNFINISHED;
1440:src/keys.c    **** 			}
1441:src/keys.c    **** 			return STATE_BST;
1442:src/keys.c    **** 		}
1443:src/keys.c    **** 		break;
1444:src/keys.c    **** 
1445:src/keys.c    **** 	case K_DOWN:
1446:src/keys.c    **** 		if (shift == SHIFT_N) {
1447:src/keys.c    **** 			if ( State2.runmode ) {
1448:src/keys.c    **** 				// Alpha scroll right
1449:src/keys.c    **** 				if (alpha_pos > 0)
1450:src/keys.c    **** 					State2.alpha_pos = alpha_pos-1;
1451:src/keys.c    **** 				return STATE_UNFINISHED;
1452:src/keys.c    **** 			}
1453:src/keys.c    **** 			return STATE_SST;
1454:src/keys.c    **** 		}
1455:src/keys.c    **** 		break;
1456:src/keys.c    **** 
1457:src/keys.c    **** 	case K60:	// EXIT/ON maybe case switch, otherwise exit alpha
1458:src/keys.c    **** 		if (shift == SHIFT_F)
1459:src/keys.c    **** 			State2.alphashift = 1 - State2.alphashift;
1460:src/keys.c    **** 		else if (shift == SHIFT_H)
1461:src/keys.c    **** 			return OP_NIL | OP_OFF;
1462:src/keys.c    **** 		else if (shift == SHIFT_N)
1463:src/keys.c    **** 			init_state();
ARM GAS  /tmp/cc90KtGY.s 			page 31


1464:src/keys.c    **** 		return STATE_UNFINISHED;
1465:src/keys.c    **** 
1466:src/keys.c    **** 	case K63:
1467:src/keys.c    **** 		if (shift == SHIFT_F)
1468:src/keys.c    **** 			return OP_NIL | OP_RS;		// R/S
1469:src/keys.c    **** 		break;
1470:src/keys.c    **** 
1471:src/keys.c    **** 	default:
1472:src/keys.c    **** 		break;
1473:src/keys.c    **** 	}
1474:src/keys.c    **** 
1475:src/keys.c    **** 	/* Look up the character and return an alpha code if okay */
1476:src/keys.c    **** 	if (ch == 0)
1477:src/keys.c    **** 		return STATE_UNFINISHED;
1478:src/keys.c    **** 	return RARG(RARG_ALPHA, ch);
1479:src/keys.c    **** }
1480:src/keys.c    **** 
1481:src/keys.c    **** /*
1482:src/keys.c    ****  *  Code to handle all commands with arguments
1483:src/keys.c    ****  */
1484:src/keys.c    **** static void reset_arg(void) {
1485:src/keys.c    **** 	init_arg((enum rarg) 0);
1486:src/keys.c    **** 	State2.rarg = 0;
1487:src/keys.c    **** }
1488:src/keys.c    **** 
1489:src/keys.c    **** static int arg_eval(unsigned int val) {
1490:src/keys.c    **** 	const unsigned int base = CmdBase;
1491:src/keys.c    **** 	int r = RARG(base, val 
1492:src/keys.c    **** 		 	   + (State2.ind ? RARG_IND : 0) 
1493:src/keys.c    **** 		           + (State2.local ? LOCAL_REG_BASE : 0));
1494:src/keys.c    **** 	const unsigned int ssize = (! UState.stack_depth || ! State2.runmode ) ? 4 : 8;
1495:src/keys.c    **** 
1496:src/keys.c    **** 	if (! State2.ind) {
1497:src/keys.c    **** 		/*
1498:src/keys.c    **** 		 *  Central argument checking for some commands
1499:src/keys.c    **** 		 */
1500:src/keys.c    **** #ifdef SHOW_COMPLEX_REGS
1501:src/keys.c    **** 		if (argcmds[base].cmplx && val > TOPREALREG - 2 ) {
1502:src/keys.c    **** 			// remap complex registers cY->T, cZ->A, cT->C
1503:src/keys.c    **** 			                     // 99,   X,   Y,   Z,   T,   A,   B,   C,   D,   L,   I,   J,   K
1504:src/keys.c    **** 			static char remap[] = {  0, 100, 102, 104, 106,   0,   0,   0,   0, 108,   0, 110,   0 };
1505:src/keys.c    **** 			val = (unsigned int) remap[ val - (TOPREALREG - 1) ];
1506:src/keys.c    **** 			if ( val == 0 )
1507:src/keys.c    **** 				return STATE_UNFINISHED;
1508:src/keys.c    **** 			r = RARG(base, val);
1509:src/keys.c    **** 		}
1510:src/keys.c    **** #else
1511:src/keys.c    **** 		if (argcmds[base].cmplx && (val > TOPREALREG - 2 && (val & 1)))
1512:src/keys.c    **** 			// Disallow odd complex register > 98
1513:src/keys.c    **** 			return STATE_UNFINISHED;
1514:src/keys.c    **** #endif
1515:src/keys.c    **** 		if ((base == RARG_STOSTK || base == RARG_RCLSTK) && (val > TOPREALREG - ssize))
1516:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
1517:src/keys.c    **** 			return STATE_UNFINISHED;
1518:src/keys.c    **** 	}
1519:src/keys.c    **** 	// Build op-code
1520:src/keys.c    **** 	reset_arg();
ARM GAS  /tmp/cc90KtGY.s 			page 32


1521:src/keys.c    **** 	return r;
1522:src/keys.c    **** }
1523:src/keys.c    **** 
1524:src/keys.c    **** static int arg_digit(int n) {
1525:src/keys.c    **** 	int lim;
1526:src/keys.c    **** #ifdef INCLUDE_SIGFIG_MODE
1527:src/keys.c    **** 	int dispmode = get_dispmode_digs(&lim);
1528:src/keys.c    **** 	const unsigned int base = (State2.runmode && CmdBase == RARG_DISP && (dispmode == MODE_SIG || disp
1529:src/keys.c    **** #else
1530:src/keys.c    **** 	const unsigned int base = CmdBase;
1531:src/keys.c    **** #endif
1532:src/keys.c    **** 	const unsigned int val = State2.digval * 10 + n;
1533:src/keys.c    **** 	const int is_reg = argcmds[base].reg || State2.ind;
1534:src/keys.c    **** 	
1535:src/keys.c    **** 	if (State2.local) {
1536:src/keys.c    **** 		// Handle local registers and flags
1537:src/keys.c    **** 		lim = MAX_LOCAL_DIRECT - 1;				// default
1538:src/keys.c    **** 		if (State2.runmode) {
1539:src/keys.c    **** 			if (LocalRegs == 0)
1540:src/keys.c    **** 				return STATE_UNFINISHED;		// no local flags or registers
1541:src/keys.c    **** 			if (is_reg) {
1542:src/keys.c    **** 				lim = local_regs_rarg((enum rarg) base) - 1;
1543:src/keys.c    **** 				if (lim >= MAX_LOCAL_DIRECT)
1544:src/keys.c    **** 					lim = MAX_LOCAL_DIRECT - 1;	// in case of more than 16 locals
1545:src/keys.c    **** 			}
1546:src/keys.c    **** 		}
1547:src/keys.c    **** 	}
1548:src/keys.c    **** 	else if (is_reg)						// normal register
1549:src/keys.c    **** 		lim = State2.runmode ? global_regs_rarg((enum rarg) base) - 1 : TOPREALREG - 1;
1550:src/keys.c    **** 	else {
1551:src/keys.c    **** 		lim = (int) argcmds[base].lim;				// any other command
1552:src/keys.c    **** 		if (lim >= RARG_IND && argcmds[base].indirectokay)
1553:src/keys.c    **** 			lim = RARG_IND - 1;
1554:src/keys.c    **** 	}
1555:src/keys.c    **** 	if ((int) val > lim)
1556:src/keys.c    **** 		return STATE_UNFINISHED;
1557:src/keys.c    **** 
1558:src/keys.c    **** 	State2.digval = val;
1559:src/keys.c    **** 	++State2.numdigit;
1560:src/keys.c    **** 	if ((int) val * 10 > lim || State2.numdigit >= num_arg_digits(base)) {
1561:src/keys.c    **** 		int result = arg_eval(val);
1562:src/keys.c    **** 		if ( result == STATE_UNFINISHED ) {
1563:src/keys.c    **** 			--State2.numdigit;
1564:src/keys.c    **** 			State2.digval /= 10;
1565:src/keys.c    **** 		}
1566:src/keys.c    **** 		return result;
1567:src/keys.c    **** 	}
1568:src/keys.c    **** 	return STATE_UNFINISHED;
1569:src/keys.c    **** }
1570:src/keys.c    **** 
1571:src/keys.c    **** static int arg_fkey(int n) {
1572:src/keys.c    **** 	const unsigned int b = CmdBase;
1573:src/keys.c    **** 
1574:src/keys.c    **** 	if (argcmds[b].label || (b >= RARG_SF && b <= RARG_FCF))
1575:src/keys.c    **** 	{
1576:src/keys.c    **** 		if (State2.ind || State2.numdigit > 0)
1577:src/keys.c    **** 			return STATE_UNFINISHED;
ARM GAS  /tmp/cc90KtGY.s 			page 33


1578:src/keys.c    **** 		if (argcmds[b].lim < 100)
1579:src/keys.c    **** 			return STATE_UNFINISHED;
1580:src/keys.c    **** 		return arg_eval(n + 100);
1581:src/keys.c    **** 	}
1582:src/keys.c    **** 	return STATE_UNFINISHED;
1583:src/keys.c    **** }
1584:src/keys.c    **** 
1585:src/keys.c    **** static int arg_storcl_check(const unsigned int b, const int cmplx) {
1586:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
1587:src/keys.c    **** 	return (b == RARG_STO || b == RARG_RCL || b == RARG_FLRCL ||
1588:src/keys.c    **** 			(cmplx && (b == RARG_CSTO || b == RARG_CRCL || b == RARG_FLCRCL)));
1589:src/keys.c    **** #else
1590:src/keys.c    **** 	return (b == RARG_STO || b == RARG_RCL || (cmplx && (b == RARG_CSTO || b == RARG_CRCL )));
1591:src/keys.c    **** #endif
1592:src/keys.c    **** }
1593:src/keys.c    **** 
1594:src/keys.c    **** static int arg_storcl(const unsigned int n, int cmplx) {
1595:src/keys.c    **** 	unsigned int b = CmdBase;
1596:src/keys.c    **** 
1597:src/keys.c    **** 	if (arg_storcl_check(b, cmplx)) {
1598:src/keys.c    **** 		CmdBase += n;
1599:src/keys.c    **** 		return 1;
1600:src/keys.c    **** 	}
1601:src/keys.c    **** 	/* And we can turn off the operation too */
1602:src/keys.c    **** 	if (b >= n) {
1603:src/keys.c    **** 		b -= n;
1604:src/keys.c    **** 		if (arg_storcl_check(b, cmplx)) {
1605:src/keys.c    **** 			CmdBase = b;
1606:src/keys.c    **** 			return 1;
1607:src/keys.c    **** 		}
1608:src/keys.c    **** 	}
1609:src/keys.c    **** 	return 0;
1610:src/keys.c    **** }
1611:src/keys.c    **** 
1612:src/keys.c    **** static int process_arg_dot(const unsigned int base) {
1613:src/keys.c    **** 
1614:src/keys.c    **** 	if (State2.numdigit == 0) {
1615:src/keys.c    **** 		// Only valid at beginning of entry
1616:src/keys.c    **** 		if (State2.dot || State2.local) {
1617:src/keys.c    **** 			// '..' or ENTER '.' = X
1618:src/keys.c    **** 			State2.local = 0;
1619:src/keys.c    **** 			return arg_eval(regX_idx);
1620:src/keys.c    **** 		}
1621:src/keys.c    **** 		if (argcmds[base].local || State2.ind) {
1622:src/keys.c    **** 			// local register or flag select
1623:src/keys.c    **** 			State2.local = 1;
1624:src/keys.c    **** 		}
1625:src/keys.c    **** 		else if (base == RARG_GTO || base == RARG_XEQ) {
1626:src/keys.c    **** 			// Special GTO . sequence
1627:src/keys.c    **** 			if (! State2.ind) {
1628:src/keys.c    **** 				State2.gtodot = 1;
1629:src/keys.c    **** 				reset_arg();
1630:src/keys.c    **** 			}
1631:src/keys.c    **** 		}
1632:src/keys.c    **** 	}
1633:src/keys.c    **** 	return STATE_UNFINISHED;
1634:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 34


1635:src/keys.c    **** 
1636:src/keys.c    **** static int process_arg_shuffle(int r) {
1637:src/keys.c    **** 	State2.digval += r << (State2.numdigit++ << 1);
1638:src/keys.c    **** 	if (State2.numdigit < 4)
1639:src/keys.c    **** 		return STATE_UNFINISHED;
1640:src/keys.c    **** 	return arg_eval(State2.digval);
1641:src/keys.c    **** }
1642:src/keys.c    **** 
1643:src/keys.c    **** 
1644:src/keys.c    **** static int process_arg(const keycode c) {
1645:src/keys.c    **** 	unsigned int base = CmdBase;
1646:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c);
1647:src/keys.c    **** 	int stack_reg = argcmds[base].stckreg || State2.ind;
1648:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
1649:src/keys.c    **** 	const enum shifts shift = reset_shift();
1650:src/keys.c    **** 	int label_addressing = argcmds[base].label && ! State2.ind && ! State2.dot;
1651:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
1652:src/keys.c    **** 		        && (shift == SHIFT_F || (n > 9 && !(n & NO_SHORT)));
1653:src/keys.c    **** 
1654:src/keys.c    **** 	n &= ~NO_SHORT;
1655:src/keys.c    **** 	if (base >= NUM_RARG) {
1656:src/keys.c    **** 		reset_arg();
1657:src/keys.c    **** 		return STATE_UNFINISHED;
1658:src/keys.c    **** 	}
1659:src/keys.c    **** #ifdef DM42
1660:src/keys.c    **** 	if ( ! shorthand && ! State2.dot && ! State2.shuffle ) {
1661:src/keys.c    **** 	  switch (n) {
1662:src/keys.c    **** 	  case regX_idx:
1663:src/keys.c    **** 	    return arg_digit(1);
1664:src/keys.c    **** 	  case regY_idx:
1665:src/keys.c    **** 	    return arg_digit(2);
1666:src/keys.c    **** 	  case regZ_idx:
1667:src/keys.c    **** 	    return arg_digit(3);
1668:src/keys.c    **** 	  case regT_idx:
1669:src/keys.c    **** 	    return arg_digit(4);
1670:src/keys.c    **** 	  case 5:
1671:src/keys.c    **** 	  case 6:
1672:src/keys.c    **** 	  case 7:
1673:src/keys.c    **** 	  case 8:
1674:src/keys.c    **** 	  case 9:
1675:src/keys.c    **** 	  case 0:
1676:src/keys.c    **** 	    return arg_digit(n);
1677:src/keys.c    **** 	  }
1678:src/keys.c    **** 	}
1679:src/keys.c    **** #else
1680:src/keys.c    **** 	if (n <= 9 && ! shorthand && ! State2.dot && ! State2.shuffle)
1681:src/keys.c    **** 		return arg_digit(n);
1682:src/keys.c    **** #endif	
1683:src/keys.c    **** 	if (shorthand)
1684:src/keys.c    **** 		// row column shorthand addressing
1685:src/keys.c    **** 		return arg_eval(keycode_to_row_column(c));
1686:src/keys.c    **** 
1687:src/keys.c    **** #ifdef INCLUDE_SIGFIG_MODE
1688:src/keys.c    **** 	if (base >= RARG_FIX && base <= RARG_SIG0) {
1689:src/keys.c    **** 		switch ((int)c) {
1690:src/keys.c    **** 		case K_UP:	// up arrow
1691:src/keys.c    **** 			if (--base < RARG_FIX)
ARM GAS  /tmp/cc90KtGY.s 			page 35


1692:src/keys.c    **** 				base = RARG_SIG0;
1693:src/keys.c    **** 			break;
1694:src/keys.c    **** 
1695:src/keys.c    **** 		case K_DOWN:	// down arrow
1696:src/keys.c    **** 		case K01:	// B
1697:src/keys.c    **** 			if (++base > RARG_SIG0)
1698:src/keys.c    **** 				base = RARG_FIX;
1699:src/keys.c    **** 			break;
1700:src/keys.c    **** 		}
1701:src/keys.c    **** 		CmdBase = base;
1702:src/keys.c    **** 	}
1703:src/keys.c    **** #endif
1704:src/keys.c    **** 	/*
1705:src/keys.c    **** 	 *  So far, we've got the digits and some special label addressing keys
1706:src/keys.c    **** 	 *  Handle the rest here.
1707:src/keys.c    **** 	 */
1708:src/keys.c    **** 	switch ((int)c) {
1709:src/keys.c    **** 	case K_F:
1710:src/keys.c    **** 		if (label_addressing)
1711:src/keys.c    **** 			set_shift(previous_shift == SHIFT_F ? SHIFT_N : SHIFT_F);
1712:src/keys.c    **** 		break;
1713:src/keys.c    **** 
1714:src/keys.c    **** 	case K_ARROW:		// arrow
1715:src/keys.c    **** 		if (!State2.dot && argcmds[base].indirectokay) {
1716:src/keys.c    **** 			State2.ind = ! State2.ind;
1717:src/keys.c    **** 			if (! stack_reg)
1718:src/keys.c    **** 				State2.dot = 0;
1719:src/keys.c    **** 		}
1720:src/keys.c    **** 		break;
1721:src/keys.c    **** 
1722:src/keys.c    **** 	case K_CMPLX:
1723:src/keys.c    **** 		if (State2.ind || State2.dot)
1724:src/keys.c    **** 			break;
1725:src/keys.c    **** 		if (base == RARG_STO)
1726:src/keys.c    **** 			CmdBase = RARG_STOM;
1727:src/keys.c    **** 		else if (base == RARG_RCL)
1728:src/keys.c    **** 			CmdBase = RARG_RCLM;
1729:src/keys.c    **** 		break;
1730:src/keys.c    **** #ifdef DM42
1731:src/keys.c    **** 	case K41:       // T
1732:src/keys.c    **** 	  if (State2.shuffle)
1733:src/keys.c    **** 	    return process_arg_shuffle(3);
1734:src/keys.c    **** 	case K51:       // X
1735:src/keys.c    **** 	  if (State2.shuffle)
1736:src/keys.c    **** 	    return process_arg_shuffle(0);
1737:src/keys.c    **** 	case K52:	// Y
1738:src/keys.c    **** 	  if (State2.shuffle)
1739:src/keys.c    **** 	    return process_arg_shuffle(1);
1740:src/keys.c    **** 	case K53:       // Z
1741:src/keys.c    **** 	  if (State2.shuffle)
1742:src/keys.c    **** 	    return process_arg_shuffle(2);
1743:src/keys.c    **** #else
1744:src/keys.c    **** 	case K63:	// Y
1745:src/keys.c    **** 	  if (State2.shuffle)
1746:src/keys.c    **** 	    return process_arg_shuffle(1);
1747:src/keys.c    **** #endif
1748:src/keys.c    **** 	case K00:	// A
ARM GAS  /tmp/cc90KtGY.s 			page 36


1749:src/keys.c    **** 	case K01:	// B
1750:src/keys.c    **** 	case K02:	// C
1751:src/keys.c    **** 	case K03:	// D
1752:src/keys.c    **** #ifdef DM42
1753:src/keys.c    **** 	case K12:	// I (lastY)
1754:src/keys.c    **** 	case K13:	// J
1755:src/keys.c    **** 	case K14:	// K
1756:src/keys.c    **** 	case K15:	// L (lastX)
1757:src/keys.c    **** #else
1758:src/keys.c    **** 	case K12:	// I (lastY)
1759:src/keys.c    **** 	case K21:	// J
1760:src/keys.c    **** 	case K22:	// K
1761:src/keys.c    **** 	case K23:	// L (lastX)
1762:src/keys.c    **** #endif
1763:src/keys.c    **** 	  if (State2.dot || stack_reg)
1764:src/keys.c    **** 			return arg_eval(n);
1765:src/keys.c    **** 		if ( c <= K03 )
1766:src/keys.c    **** 			return arg_fkey(c - K00);		// Labels or flags A to D
1767:src/keys.c    **** 		break;
1768:src/keys.c    **** #ifdef DM42
1769:src/keys.c    **** 	case K62:	// '.'
1770:src/keys.c    **** 		return process_arg_dot(base);
1771:src/keys.c    **** 
1772:src/keys.c    **** 	/* STO and RCL can take an arithmetic argument */
1773:src/keys.c    **** 	case K64:		// plus
1774:src/keys.c    **** 		if (State2.dot || ( ! arg_storcl(RARG_STO_PL - RARG_STO, 1) && stack_reg))
1775:src/keys.c    **** 			return arg_eval(n);
1776:src/keys.c    **** 		break;
1777:src/keys.c    **** 	case K54:               // minus
1778:src/keys.c    **** 		if (base == RARG_VIEW || base == RARG_VIEW_REG) {
1779:src/keys.c    **** 			reset_arg();
1780:src/keys.c    **** 			return OP_NIL | OP_VIEWALPHA;
1781:src/keys.c    **** 		}
1782:src/keys.c    **** 		arg_storcl(RARG_STO_MI - RARG_STO, 1);
1783:src/keys.c    **** 		break;
1784:src/keys.c    **** 	case K44:		// multiply
1785:src/keys.c    **** 		if (State2.dot || ( ! arg_storcl(RARG_STO_MU - RARG_STO, 1) && stack_reg))
1786:src/keys.c    **** 			return arg_eval(n);
1787:src/keys.c    **** 		break;
1788:src/keys.c    **** 	case K34:
1789:src/keys.c    **** 		arg_storcl(RARG_STO_DV - RARG_STO, 1);
1790:src/keys.c    **** 		break;
1791:src/keys.c    **** #else
1792:src/keys.c    **** 	case K62:	// X, '.'
1793:src/keys.c    **** 		if (State2.shuffle)
1794:src/keys.c    **** 			return process_arg_shuffle(0);
1795:src/keys.c    **** 		return process_arg_dot(base);
1796:src/keys.c    **** 
1797:src/keys.c    **** 	/* STO and RCL can take an arithmetic argument */
1798:src/keys.c    **** 	case K64:		// Z register
1799:src/keys.c    **** 		if (State2.shuffle)
1800:src/keys.c    **** 			return process_arg_shuffle(2);
1801:src/keys.c    **** 		if (State2.dot || ( ! arg_storcl(RARG_STO_PL - RARG_STO, 1) && stack_reg))
1802:src/keys.c    **** 			return arg_eval(n);
1803:src/keys.c    **** 		break;
1804:src/keys.c    **** 
1805:src/keys.c    **** 	case K54:
ARM GAS  /tmp/cc90KtGY.s 			page 37


1806:src/keys.c    **** 		if (base == RARG_VIEW || base == RARG_VIEW_REG) {
1807:src/keys.c    **** 			reset_arg();
1808:src/keys.c    **** 			return OP_NIL | OP_VIEWALPHA;
1809:src/keys.c    **** 		}
1810:src/keys.c    **** 		arg_storcl(RARG_STO_MI - RARG_STO, 1);
1811:src/keys.c    **** 		break;
1812:src/keys.c    **** 
1813:src/keys.c    **** 	case K44:		// T register
1814:src/keys.c    **** 		if (State2.shuffle)
1815:src/keys.c    **** 			return process_arg_shuffle(3);
1816:src/keys.c    **** 		if (State2.dot || ( ! arg_storcl(RARG_STO_MU - RARG_STO, 1) && stack_reg))
1817:src/keys.c    **** 			return arg_eval(n);
1818:src/keys.c    **** 		break;
1819:src/keys.c    **** 
1820:src/keys.c    **** 	case K34:
1821:src/keys.c    **** 		arg_storcl(RARG_STO_DV - RARG_STO, 1);
1822:src/keys.c    **** 		break;
1823:src/keys.c    **** #endif
1824:src/keys.c    **** 	case K_UP:
1825:src/keys.c    **** 		arg_storcl(RARG_STO_MAX - RARG_STO, 0);
1826:src/keys.c    **** 		break;
1827:src/keys.c    **** 
1828:src/keys.c    **** 	case K_DOWN:
1829:src/keys.c    **** 		arg_storcl(RARG_STO_MIN - RARG_STO, 0);
1830:src/keys.c    **** 		break;
1831:src/keys.c    **** 
1832:src/keys.c    **** 	case K20:				// Enter is a short cut finisher but it also changes a few commands if it is first up
1833:src/keys.c    **** 		if (State2.numdigit == 0 && !State2.ind && !State2.dot) {
1834:src/keys.c    **** 			if (argcmds[base].label) {
1835:src/keys.c    **** 				init_arg((enum rarg)(base - RARG_LBL));
1836:src/keys.c    **** 				State2.multi = 1;
1837:src/keys.c    **** 				State2.alphashift = 0;
1838:src/keys.c    **** 				State2.rarg = 0;
1839:src/keys.c    **** 			} else if (base == RARG_SCI) {
1840:src/keys.c    **** 				reset_arg();
1841:src/keys.c    **** 				return OP_NIL | OP_FIXSCI;
1842:src/keys.c    **** 			} else if (base == RARG_ENG) {
1843:src/keys.c    **** 				reset_arg();
1844:src/keys.c    **** 				return OP_NIL | OP_FIXENG;
1845:src/keys.c    **** 			} else if (argcmds[base].stckreg)
1846:src/keys.c    **** 				State2.dot = 1;
1847:src/keys.c    **** 		} else if (State2.numdigit > 0)
1848:src/keys.c    **** 			return arg_eval(State2.digval);
1849:src/keys.c    **** 		else if (stack_reg)
1850:src/keys.c    **** 			State2.dot = 1 - State2.dot;
1851:src/keys.c    **** 		break;
1852:src/keys.c    **** 
1853:src/keys.c    **** 	case K24:	// <-
1854:src/keys.c    **** 		if (State2.numdigit == 0) {
1855:src/keys.c    **** 			if (State2.dot)
1856:src/keys.c    **** 				State2.dot = 0;
1857:src/keys.c    **** 			else if (State2.local)
1858:src/keys.c    **** 				State2.local = 0;
1859:src/keys.c    **** 			else if (State2.ind)
1860:src/keys.c    **** 				State2.ind = 0;
1861:src/keys.c    **** 			else
1862:src/keys.c    **** 				goto reset;
ARM GAS  /tmp/cc90KtGY.s 			page 38


1863:src/keys.c    **** 		}
1864:src/keys.c    **** 		else {
1865:src/keys.c    **** 			--State2.numdigit;
1866:src/keys.c    **** 			if (State2.shuffle)
1867:src/keys.c    **** 				State2.digval &= ~(3 << (State2.numdigit << 1));
1868:src/keys.c    **** 			else
1869:src/keys.c    **** 				State2.digval /= 10;
1870:src/keys.c    **** 		}
1871:src/keys.c    **** 		break;
1872:src/keys.c    **** 
1873:src/keys.c    **** 	case K60:
1874:src/keys.c    **** 	reset:
1875:src/keys.c    **** 		reset_arg();
1876:src/keys.c    **** 	default:
1877:src/keys.c    **** 		break;
1878:src/keys.c    **** 	}
1879:src/keys.c    **** 	return STATE_UNFINISHED;
1880:src/keys.c    **** }
1881:src/keys.c    **** 
1882:src/keys.c    **** 
1883:src/keys.c    **** /*
1884:src/keys.c    ****  *  Process arguments to the diverse test commands
1885:src/keys.c    ****  */
1886:src/keys.c    **** static int process_test(const keycode c) {
1887:src/keys.c    **** 	int r = State2.test;
1888:src/keys.c    **** 	int cmpx = State2.cmplx;
1889:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c) & ~NO_SHORT;
1890:src/keys.c    **** 	unsigned int base = (cmpx ? RARG_TEST_ZEQ : RARG_TEST_EQ) + r;
1891:src/keys.c    **** 
1892:src/keys.c    **** 	State2.test = TST_NONE;
1893:src/keys.c    **** 	State2.cmplx = 0;
1894:src/keys.c    **** 	if (n == regX_idx) n = 1; //don't want x-reg
1895:src/keys.c    **** 	if (n != NO_REG && n >= TOPREALREG && n < LOCAL_REG_BASE ) {
1896:src/keys.c    **** 		// Lettered register
1897:src/keys.c    **** 		if (cmpx && (n & 1)) {
1898:src/keys.c    **** 			if (n == regI_idx)
1899:src/keys.c    **** 				return OP_SPEC + OP_Zeqi + r;
1900:src/keys.c    **** 			// Disallow odd complex registers > A
1901:src/keys.c    **** 			goto again;
1902:src/keys.c    **** 		}
1903:src/keys.c    **** 		// Return the command with the register completed
1904:src/keys.c    **** 		return RARG(base, n);
1905:src/keys.c    **** 	}
1906:src/keys.c    **** 	else if ( n == 0 ) {
1907:src/keys.c    **** 		// Special 0
1908:src/keys.c    **** 		return OP_SPEC + (cmpx ? OP_Zeq0 : OP_Xeq0) + r;
1909:src/keys.c    **** 	}
1910:src/keys.c    **** 	else if ( n == 1 ) {
1911:src/keys.c    **** 		// Special 1
1912:src/keys.c    **** 		return OP_SPEC + (cmpx ? OP_Zeq1 : OP_Xeq1) + r;
1913:src/keys.c    **** 	}
1914:src/keys.c    **** 	else if ( n <= 9 || c == K_ARROW || c == K62 ) {
1915:src/keys.c    **** 		// digit 2..9, -> or .
1916:src/keys.c    **** 		init_arg((enum rarg)base);
1917:src/keys.c    **** 		return process_arg(c);
1918:src/keys.c    **** 	}
1919:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 39


1920:src/keys.c    **** 	switch (c) {
1921:src/keys.c    **** 	case K11:					// tests vs register
1922:src/keys.c    **** 	case K20:
1923:src/keys.c    **** 		init_arg((enum rarg)base);
1924:src/keys.c    **** 		return STATE_UNFINISHED;
1925:src/keys.c    **** 
1926:src/keys.c    **** 	//case K60:
1927:src/keys.c    **** 	case K24:
1928:src/keys.c    **** 		return STATE_UNFINISHED;
1929:src/keys.c    **** 
1930:src/keys.c    **** 	default:
1931:src/keys.c    **** 		break;
1932:src/keys.c    **** 	}
1933:src/keys.c    **** again:
1934:src/keys.c    **** 	State2.test = r;
1935:src/keys.c    **** 	State2.cmplx = cmpx;
1936:src/keys.c    **** 	return STATE_UNFINISHED;
1937:src/keys.c    **** }
1938:src/keys.c    **** 
1939:src/keys.c    **** #ifdef INCLUDE_USER_CATALOGUE
1940:src/keys.c    **** /*
1941:src/keys.c    ****  *  Build the user catalogue on the fly in RAM and return the number of entries
1942:src/keys.c    ****  */
1943:src/keys.c    **** #define USER_CAT_MAX 100
1944:src/keys.c    **** s_opcode UserCat[USER_CAT_MAX];
1945:src/keys.c    **** 
1946:src/keys.c    **** static int build_user_cat(void)
1947:src/keys.c    **** {
1948:src/keys.c    **** 	// find the label 'CAT'
1949:src/keys.c    **** 	const int lbl = OP_DBL + (DBL_LBL << DBL_SHIFT) + 'C' + ('A' << 16) + ('T' << 24);
1950:src/keys.c    **** 	unsigned int pc = findmultilbl(lbl, 0);
1951:src/keys.c    **** 	int len = 0;
1952:src/keys.c    **** 	while (pc && len < USER_CAT_MAX) {
1953:src/keys.c    **** 		// do a simnple insert-sort to sort the entries
1954:src/keys.c    **** 		char buf1[16];
1955:src/keys.c    **** 		int i;
1956:src/keys.c    **** 		s_opcode op;
1957:src/keys.c    **** 	next:
1958:src/keys.c    **** 		pc = do_inc(pc, 0);
1959:src/keys.c    **** 		op = (s_opcode) getprog(pc);
1960:src/keys.c    **** 		if (op == (OP_NIL | OP_END))
1961:src/keys.c    **** 			break;
1962:src/keys.c    **** 		if (isDBL(op))
1963:src/keys.c    **** 			continue;
1964:src/keys.c    **** 		if (isRARG(op)) {
1965:src/keys.c    **** 			const s_opcode rarg = RARG_CMD(op);
1966:src/keys.c    **** 			if (rarg != RARG_ALPHA && rarg != RARG_CONV
1967:src/keys.c    **** 			    && rarg != RARG_CONST && rarg != RARG_CONST_CMPLX)
1968:src/keys.c    **** 				op = op & 0xff00;	// remove argument
1969:src/keys.c    **** 		}
1970:src/keys.c    **** 		catcmd(op, buf1);
1971:src/keys.c    **** 		for (i = 0; i < len; ++i) {
1972:src/keys.c    **** 			// Find a position in the table to insert the new entry
1973:src/keys.c    **** 			char buf2[16];
1974:src/keys.c    **** 			const char *p, *q;
1975:src/keys.c    **** 			int diff = 0;
1976:src/keys.c    **** 			if (op == UserCat[i]) {
ARM GAS  /tmp/cc90KtGY.s 			page 40


1977:src/keys.c    **** 				// duplicate entry - ignore
1978:src/keys.c    **** 				goto next;
1979:src/keys.c    **** 			}
1980:src/keys.c    **** 			p = buf1;
1981:src/keys.c    **** 			if (*p == COMPLEX_PREFIX)
1982:src/keys.c    **** 				++p;
1983:src/keys.c    **** 			q = catcmd(UserCat[i], buf2);
1984:src/keys.c    **** 			if (*q == COMPLEX_PREFIX)
1985:src/keys.c    **** 				++q;
1986:src/keys.c    **** 			diff = 0;
1987:src/keys.c    **** 			while (*p != '\0' && diff == 0) {
1988:src/keys.c    **** 				diff = remap_chars(*q++) - remap_chars(*p++);
1989:src/keys.c    **** 			}
1990:src/keys.c    **** 			if ((diff == 0 && *q == 0) ) {
1991:src/keys.c    **** 				// identical according to sort order, insert after
1992:src/keys.c    **** 				++i;
1993:src/keys.c    **** 				break;
1994:src/keys.c    **** 			}
1995:src/keys.c    **** 			if (diff > 0) {
1996:src/keys.c    **** 				// insert new entry before the one found because this is greater
1997:src/keys.c    **** 				break;
1998:src/keys.c    **** 			}
1999:src/keys.c    **** 		}
2000:src/keys.c    **** 		if (i < len) {
2001:src/keys.c    **** 			// Make room
2002:src/keys.c    **** 			xcopy(UserCat + i + 1, UserCat + i, (len - i) << 1);
2003:src/keys.c    **** 		}
2004:src/keys.c    **** 		UserCat[i] = op;
2005:src/keys.c    **** 		++len;
2006:src/keys.c    **** 	}
2007:src/keys.c    **** 	// return the number of entries
2008:src/keys.c    **** 	return len;
2009:src/keys.c    **** }
2010:src/keys.c    **** #endif
2011:src/keys.c    **** 
2012:src/keys.c    **** /* Return the number of entries in the current catalogue.
2013:src/keys.c    ****  * These are all fixed size known at compile time so a table lookup will
2014:src/keys.c    ****  * likely be the most space efficient method.
2015:src/keys.c    ****  */
2016:src/keys.c    **** int current_catalogue_max(void) {
2017:src/keys.c    **** 	// A quick table of catalogue sizes
2018:src/keys.c    **** 	// NB: the order here MUST match that in `enum catalogues' 
2019:src/keys.c    **** 	static const unsigned char catalogue_sizes[] = 
2020:src/keys.c    **** 	{
2021:src/keys.c    **** 		0, // NONE
2022:src/keys.c    **** 		SIZE_catalogue,
2023:src/keys.c    **** 		SIZE_cplx_catalogue,
2024:src/keys.c    **** 		SIZE_stats_catalogue,
2025:src/keys.c    **** 		SIZE_prob_catalogue,
2026:src/keys.c    **** 		SIZE_int_catalogue,
2027:src/keys.c    **** 		SIZE_prog_catalogue,
2028:src/keys.c    **** 		SIZE_program_xfcn,
2029:src/keys.c    **** 		SIZE_test_catalogue,
2030:src/keys.c    **** 		SIZE_mode_catalogue,
2031:src/keys.c    **** 		SIZE_alpha_catalogue,
2032:src/keys.c    **** 		SIZE_alpha_symbols,
2033:src/keys.c    **** 		SIZE_alpha_compares,
ARM GAS  /tmp/cc90KtGY.s 			page 41


2034:src/keys.c    **** 		SIZE_alpha_arrows,
2035:src/keys.c    **** 		SIZE_alpha_letters,
2036:src/keys.c    **** 		SIZE_alpha_subscripts,
2037:src/keys.c    **** 		NUM_CONSTS_CAT,
2038:src/keys.c    **** 		NUM_CONSTS_CAT,
2039:src/keys.c    **** 		SIZE_conv_catalogue,
2040:src/keys.c    **** 		SIZE_sums_catalogue,
2041:src/keys.c    **** 		SIZE_matrix_catalogue,
2042:src/keys.c    **** #ifdef INCLUDE_INTERNAL_CATALOGUE
2043:src/keys.c    **** 		SIZE_internal_catalogue,
2044:src/keys.c    **** #endif
2045:src/keys.c    **** 	};
2046:src/keys.c    **** #ifdef INCLUDE_USER_CATALOGUE
2047:src/keys.c    **** 	const int cat = State2.catalogue;
2048:src/keys.c    **** 	return cat == CATALOGUE_USER ? build_user_cat() : catalogue_sizes[cat];
2049:src/keys.c    **** #else
2050:src/keys.c    **** 	return catalogue_sizes[State2.catalogue];
2051:src/keys.c    **** #endif
2052:src/keys.c    **** }
2053:src/keys.c    **** 
2054:src/keys.c    **** 
2055:src/keys.c    **** /* Look up the character position in the given byte array and
2056:src/keys.c    ****  * build the alpha op-code for it.
2057:src/keys.c    ****  */
2058:src/keys.c    **** static opcode alpha_code(int n, const char tbl[]) {
2059:src/keys.c    **** 	return RARG(RARG_ALPHA, tbl[n] & 0xff);
2060:src/keys.c    **** }
2061:src/keys.c    **** 
2062:src/keys.c    **** 
2063:src/keys.c    **** /* Return the opcode for entry n from the current catalogue
2064:src/keys.c    ****  */
2065:src/keys.c    **** opcode current_catalogue(int n) {
2066:src/keys.c    **** 	// A quick table of catalogue tables
2067:src/keys.c    **** 	// NB: the order here MUST match that in `enum catalogues'
2068:src/keys.c    **** 	static const void *catalogues[] =
2069:src/keys.c    **** 	{
2070:src/keys.c    **** 		NULL, // NONE
2071:src/keys.c    **** 		catalogue,
2072:src/keys.c    **** 		cplx_catalogue,
2073:src/keys.c    **** 		stats_catalogue,
2074:src/keys.c    **** 		prob_catalogue,
2075:src/keys.c    **** 		int_catalogue,
2076:src/keys.c    **** 		prog_catalogue,
2077:src/keys.c    **** 		program_xfcn,
2078:src/keys.c    **** 		test_catalogue,
2079:src/keys.c    **** 		mode_catalogue,
2080:src/keys.c    **** 		alpha_catalogue,
2081:src/keys.c    **** 		alpha_symbols,
2082:src/keys.c    **** 		alpha_compares,
2083:src/keys.c    **** 		alpha_arrows,
2084:src/keys.c    **** 		alpha_letters,
2085:src/keys.c    **** 		alpha_subscripts,
2086:src/keys.c    **** 		NULL,
2087:src/keys.c    **** 		NULL,
2088:src/keys.c    **** 		NULL, //CONV
2089:src/keys.c    **** 		sums_catalogue,
2090:src/keys.c    **** 		matrix_catalogue,
ARM GAS  /tmp/cc90KtGY.s 			page 42


2091:src/keys.c    **** #ifdef INCLUDE_INTERNAL_CATALOGUE
2092:src/keys.c    **** 		internal_catalogue,
2093:src/keys.c    **** #endif
2094:src/keys.c    **** 	};
2095:src/keys.c    **** 	const unsigned char *cat;
2096:src/keys.c    **** 	unsigned int c = State2.catalogue;
2097:src/keys.c    **** 	int m, i;
2098:src/keys.c    **** 	unsigned p, q;
2099:src/keys.c    **** 
2100:src/keys.c    **** 	if (c == CATALOGUE_CONST) {
2101:src/keys.c    **** 		if (n == OP_ZERO)
2102:src/keys.c    **** 			return RARG_BASEOP(RARG_INTNUM);
2103:src/keys.c    **** 		return CONST(n);
2104:src/keys.c    **** 	}
2105:src/keys.c    **** 	if (c == CATALOGUE_COMPLEX_CONST) {
2106:src/keys.c    **** 		if (n == OP_ZERO)
2107:src/keys.c    **** 			return RARG_BASEOP(RARG_INTNUM_CMPLX);
2108:src/keys.c    **** 		return CONST_CMPLX(n);
2109:src/keys.c    **** 	}
2110:src/keys.c    **** 	if (c == CATALOGUE_CONV) {
2111:src/keys.c    **** 		const int cnv = conv_catalogue[n];
2112:src/keys.c    **** 		if (cnv >= SIZE_conv_catalogue)
2113:src/keys.c    **** 			// Monadic conversion routine
2114:src/keys.c    **** 			return OP_MON | (cnv - SIZE_conv_catalogue);
2115:src/keys.c    **** 		else
2116:src/keys.c    **** 			return RARG(RARG_CONV, cnv);
2117:src/keys.c    **** 	}
2118:src/keys.c    **** #ifdef INCLUDE_USER_CATALOGUE
2119:src/keys.c    **** 	if (c == CATALOGUE_USER)
2120:src/keys.c    **** 		return build_user_cat() ? UserCat[n] : STATE_IGNORE;
2121:src/keys.c    **** #endif
2122:src/keys.c    **** 
2123:src/keys.c    **** 	if (c == CATALOGUE_ALPHA_LETTERS && State2.alphashift)
2124:src/keys.c    **** 		cat = (const unsigned char *) alpha_letters_lower;
2125:src/keys.c    **** 	else
2126:src/keys.c    **** 		cat = (const unsigned char *) catalogues[c];
2127:src/keys.c    **** 
2128:src/keys.c    **** 	if (c >= CATALOGUE_ALPHA_SYMBOLS && c <= CATALOGUE_ALPHA_SUBSCRIPTS) {
2129:src/keys.c    **** 		return alpha_code(n, (const char *) cat);
2130:src/keys.c    **** 	}
2131:src/keys.c    **** 	if (c >= sizeof(catalogues) / sizeof(void *))
2132:src/keys.c    **** 		return OP_NIL | OP_NOP;
2133:src/keys.c    **** 
2134:src/keys.c    **** 	/* Unpack the opcode */
2135:src/keys.c    **** 	cat += n + (n >> 2);
2136:src/keys.c    **** 	p = cat[0];
2137:src/keys.c    **** 	q = cat[1];
2138:src/keys.c    **** 	m = 0x3ff & ((p << (2 + ((n & 3) << 1))) | (q >> (6 - ((n & 3) << 1))));
2139:src/keys.c    **** 
2140:src/keys.c    **** 	/* Now figure out which opcode it really is */
2141:src/keys.c    **** 	for (i=0; i<KIND_MAX; i++) {
2142:src/keys.c    **** 		if (m < opcode_breaks[i])
2143:src/keys.c    **** 			return (i << KIND_SHIFT) + m;
2144:src/keys.c    **** 		m -= opcode_breaks[i];
2145:src/keys.c    **** 	}
2146:src/keys.c    **** 	return RARG_BASEOP(m);
2147:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 43


2148:src/keys.c    **** 
2149:src/keys.c    **** 
2150:src/keys.c    **** /*
2151:src/keys.c    ****  *  Helper for navigation in alpha catalogues. Some charaters are not allowed
2152:src/keys.c    ****  *  in multi character commands.
2153:src/keys.c    ****  */
2154:src/keys.c    **** static int forbidden_alpha(int pos) {
2155:src/keys.c    **** 	return (current_catalogue(pos) & 0xf0) == 0xf0;
2156:src/keys.c    **** }
2157:src/keys.c    **** 
2158:src/keys.c    **** /*
2159:src/keys.c    ****  *  Catalogue navigation
2160:src/keys.c    ****  */
2161:src/keys.c    **** static int process_catalogue(const keycode c, const enum shifts shift, const int is_multi) {
2162:src/keys.c    **** 	int pos = State.catpos;
2163:src/keys.c    **** 	int ch;
2164:src/keys.c    **** 	const int ctmax = current_catalogue_max();
2165:src/keys.c    **** 	const enum catalogues cat = (enum catalogues) State2.catalogue;
2166:src/keys.c    **** 
2167:src/keys.c    **** 	if (shift == SHIFT_N) {
2168:src/keys.c    **** 		switch (c) {
2169:src/keys.c    **** #ifdef DM42
2170:src/keys.c    **** 		case K05:			// XEQ accepts command
2171:src/keys.c    **** #else	  
2172:src/keys.c    **** 		case K30:			// XEQ accepts command
2173:src/keys.c    **** #endif						  
2174:src/keys.c    **** 		case K20:			// Enter accepts command
2175:src/keys.c    **** 			if (pos < ctmax && !(is_multi && forbidden_alpha(pos))) {
2176:src/keys.c    **** 				const opcode op = current_catalogue(pos);
2177:src/keys.c    **** 
2178:src/keys.c    **** 				init_cat(CATALOGUE_NONE);
2179:src/keys.c    **** 
2180:src/keys.c    **** 				if (isRARG(op)) {
2181:src/keys.c    **** 					const unsigned int rarg = RARG_CMD(op);
2182:src/keys.c    **** 					if (rarg == RARG_CONST || rarg == RARG_CONST_CMPLX || rarg == RARG_CONV || rarg == RARG_ALPHA)
2183:src/keys.c    **** 						return op;
2184:src/keys.c    **** 					if (rarg >= RARG_TEST_EQ && rarg <= RARG_TEST_GE)
2185:src/keys.c    **** 						State2.test = TST_EQ + (RARG_CMD(op) - RARG_TEST_EQ);
2186:src/keys.c    **** 					else
2187:src/keys.c    **** 						init_arg(RARG_CMD(op));
2188:src/keys.c    **** 				}
2189:src/keys.c    **** 				else {
2190:src/keys.c    **** 					return check_confirm(op);
2191:src/keys.c    **** 				}
2192:src/keys.c    **** 			} else
2193:src/keys.c    **** 				init_cat(CATALOGUE_NONE);
2194:src/keys.c    **** 			return STATE_UNFINISHED;
2195:src/keys.c    **** 
2196:src/keys.c    **** 		case K24:			// backspace
2197:src/keys.c    **** 		    if (CmdLineLength > 0 && Keyticks < 30) {
2198:src/keys.c    **** 		      if (--CmdLineLength > 0)
2199:src/keys.c    **** 					goto search;
2200:src/keys.c    **** 				pos = 0;
2201:src/keys.c    **** 				goto set_pos;
2202:src/keys.c    **** 			} else
2203:src/keys.c    **** 				init_cat(CATALOGUE_NONE);
2204:src/keys.c    **** 			return STATE_UNFINISHED;
ARM GAS  /tmp/cc90KtGY.s 			page 44


2205:src/keys.c    **** 
2206:src/keys.c    **** 		case K60:
2207:src/keys.c    **** 			init_cat(CATALOGUE_NONE);
2208:src/keys.c    **** 			return STATE_UNFINISHED;
2209:src/keys.c    **** 
2210:src/keys.c    **** 		case K_UP:
2211:src/keys.c    **** 			CmdLineLength = 0;
2212:src/keys.c    **** 			if (pos == 0)
2213:src/keys.c    **** 				goto set_max;
2214:src/keys.c    **** 			else
2215:src/keys.c    **** 				--pos;
2216:src/keys.c    **** 			goto set_pos;
2217:src/keys.c    **** 
2218:src/keys.c    **** 		case K_DOWN:
2219:src/keys.c    **** 			CmdLineLength = 0;
2220:src/keys.c    **** 			while (++pos < ctmax && is_multi && forbidden_alpha(pos));
2221:src/keys.c    **** 			if (pos >= ctmax)
2222:src/keys.c    **** 				pos = 0;
2223:src/keys.c    **** 			goto set_pos;
2224:src/keys.c    **** 
2225:src/keys.c    **** 		default:
2226:src/keys.c    **** 			break;
2227:src/keys.c    **** 		}
2228:src/keys.c    **** 	} else if (shift == SHIFT_F) {
2229:src/keys.c    **** 		if (cat == CATALOGUE_CONV && c == K01) {
2230:src/keys.c    **** 			/*
2231:src/keys.c    **** 			 * f 1/x in conversion catalogue
2232:src/keys.c    **** 			 */
2233:src/keys.c    **** 			/* A small table of commands in pairs containing inverse commands.
2234:src/keys.c    **** 			 * This table could be unsigned characters only storing the monadic kind.
2235:src/keys.c    **** 			 * this saves twelve bytes in the table at a cost of some bytes in the code below.
2236:src/keys.c    **** 			 * Not worth it since the maximum saving will be less than twelve bytes.
2237:src/keys.c    **** 			 */
2238:src/keys.c    **** 			static const unsigned short int conv_mapping[] = {
2239:src/keys.c    **** 				OP_MON | OP_AR_DB,	OP_MON | OP_DB_AR,
2240:src/keys.c    **** 				OP_MON | OP_DB_PR,	OP_MON | OP_PR_DB,
2241:src/keys.c    **** 				OP_MON | OP_DEGC_F,	OP_MON | OP_DEGF_C,
2242:src/keys.c    **** 				OP_MON | OP_DEG2RAD,	OP_MON | OP_RAD2DEG,
2243:src/keys.c    **** 				OP_MON | OP_DEG2GRD,	OP_MON | OP_GRD2DEG,
2244:src/keys.c    **** 				OP_MON | OP_RAD2GRD,	OP_MON | OP_GRD2RAD,
2245:src/keys.c    **** 			};
2246:src/keys.c    **** 			const opcode op = current_catalogue(pos);
2247:src/keys.c    **** 			int i;
2248:src/keys.c    **** 
2249:src/keys.c    **** 			init_cat(CATALOGUE_NONE);
2250:src/keys.c    **** 			if (isRARG(op))
2251:src/keys.c    **** 				return op ^ 1;
2252:src/keys.c    **** 			for (i = 0; i < sizeof(conv_mapping) / sizeof(conv_mapping[0]); ++i)
2253:src/keys.c    **** 				if (op == conv_mapping[i])
2254:src/keys.c    **** 					return conv_mapping[i^1];
2255:src/keys.c    **** 			return STATE_UNFINISHED;		// Unreached
2256:src/keys.c    **** 		}
2257:src/keys.c    **** 		else if (c == K60 && (State2.alphas || State2.multi)) {
2258:src/keys.c    **** 			// Handle alpha shift in alpha character catalogues
2259:src/keys.c    **** 			State2.alphashift = 1 - State2.alphashift;
2260:src/keys.c    **** 			return STATE_UNFINISHED;
2261:src/keys.c    **** 		}
ARM GAS  /tmp/cc90KtGY.s 			page 45


2262:src/keys.c    **** 	} else if (shift == SHIFT_G) {
2263:src/keys.c    **** 		if (c == K24 && cat == CATALOGUE_SUMS) {
2264:src/keys.c    **** 			init_cat(CATALOGUE_NONE);
2265:src/keys.c    **** 			return OP_NIL | OP_SIGMACLEAR;
2266:src/keys.c    **** 		}
2267:src/keys.c    **** 	}
2268:src/keys.c    **** 
2269:src/keys.c    **** 	/* We've got a key press, map it to a character and try to
2270:src/keys.c    **** 	 * jump to the appropriate catalogue entry.
2271:src/keys.c    **** 	 */
2272:src/keys.c    **** 	ch = remap_chars(keycode_to_alpha(c, shift == SHIFT_G ? SHIFT_LC_G : shift));
2273:src/keys.c    **** 	reset_shift();
2274:src/keys.c    **** 	if (ch == '\0')
2275:src/keys.c    **** 		return STATE_UNFINISHED;
2276:src/keys.c    **** 	if (cat > CATALOGUE_ALPHA && cat < CATALOGUE_CONST) {
2277:src/keys.c    **** 		// No multi character search in alpha catalogues
2278:src/keys.c    **** 		CmdLineLength = 0;
2279:src/keys.c    **** 	}
2280:src/keys.c    **** 	if (CmdLineLength < 10)
2281:src/keys.c    **** 		Cmdline[CmdLineLength++] = ch;
2282:src/keys.c    **** 	/* Search for the current buffer in the catalogue */
2283:src/keys.c    **** 
2284:src/keys.c    **** search:
2285:src/keys.c    **** 	Cmdline[CmdLineLength] = '\0';
2286:src/keys.c    **** 	for (pos = 0; pos < ctmax; ++pos) {
2287:src/keys.c    **** 		char buf[16];
2288:src/keys.c    **** 		const char *cmd = catcmd(current_catalogue(pos), buf);
2289:src/keys.c    **** 		int i;
2290:src/keys.c    **** 
2291:src/keys.c    **** 		if (*cmd == COMPLEX_PREFIX)
2292:src/keys.c    **** 			cmd++;
2293:src/keys.c    **** 		for (i=0; cmd[i] != '\0'; i++) {
2294:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
2295:src/keys.c    **** 			const int cl = (unsigned char) Cmdline[i];
2296:src/keys.c    **** 			if (c > cl)
2297:src/keys.c    **** 				goto set_pos;
2298:src/keys.c    **** 			else if (c < cl)
2299:src/keys.c    **** 				break;
2300:src/keys.c    **** 		}
2301:src/keys.c    **** 		if (Cmdline[i] == '\0')
2302:src/keys.c    **** 			goto set_pos;
2303:src/keys.c    **** 	}
2304:src/keys.c    **** set_max:
2305:src/keys.c    **** 	pos = ctmax - 1;
2306:src/keys.c    **** set_pos:
2307:src/keys.c    **** 	while (is_multi && pos && forbidden_alpha(pos))
2308:src/keys.c    **** 		--pos;
2309:src/keys.c    **** 	State.catpos = pos;
2310:src/keys.c    **** 	return STATE_UNFINISHED;
2311:src/keys.c    **** }
2312:src/keys.c    **** 
2313:src/keys.c    **** #ifndef REALBUILD
2314:src/keys.c    **** int find_pos(const char* text) {
2315:src/keys.c    **** 	int pos;
2316:src/keys.c    **** 	const int ctmax = current_catalogue_max();
2317:src/keys.c    **** 	for (pos = 0; pos < ctmax; ++pos) {
2318:src/keys.c    **** 		char buf[16];
ARM GAS  /tmp/cc90KtGY.s 			page 46


2319:src/keys.c    **** 		const char *cmd = catcmd(current_catalogue(pos), buf);
2320:src/keys.c    **** 		int i;
2321:src/keys.c    **** 
2322:src/keys.c    **** 		if (*cmd == COMPLEX_PREFIX)
2323:src/keys.c    **** 			cmd++;
2324:src/keys.c    **** 		for (i=0; cmd[i] != '\0'; i++) {
2325:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
2326:src/keys.c    **** 			const int cl = remap_chars(text[i]);
2327:src/keys.c    **** 			if (c > cl)
2328:src/keys.c    **** 				return pos;
2329:src/keys.c    **** 			else if (c < cl)
2330:src/keys.c    **** 				break;
2331:src/keys.c    **** 		}
2332:src/keys.c    **** 		if (text[i] == '\0')
2333:src/keys.c    **** 			return pos;
2334:src/keys.c    **** 	}
2335:src/keys.c    **** 	return pos;
2336:src/keys.c    **** }
2337:src/keys.c    **** 
2338:src/keys.c    **** #endif
2339:src/keys.c    **** 
2340:src/keys.c    **** /* Multi (2) word instruction entry
2341:src/keys.c    ****  */
2342:src/keys.c    **** static void reset_multi(void) {
2343:src/keys.c    **** 	// Reset the multi flag and clear lowercase flag if not called from alpha mode
2344:src/keys.c    **** 	State2.multi = 0;
2345:src/keys.c    **** 	if (! State2.alphas )
2346:src/keys.c    **** 		State2.alphashift = 0;
2347:src/keys.c    **** }
2348:src/keys.c    **** 
2349:src/keys.c    **** static int process_multi(const keycode c) {
2350:src/keys.c    **** 	enum shifts shift = reset_shift();
2351:src/keys.c    **** 	unsigned int ch = 0;
2352:src/keys.c    **** 	unsigned int opcode;
2353:src/keys.c    **** 
2354:src/keys.c    **** 	if (State2.catalogue) {
2355:src/keys.c    **** 		// Alpha catalogue from within multi character command
2356:src/keys.c    **** 		opcode = process_catalogue((const keycode)c, shift, State2.numdigit == 2);
2357:src/keys.c    **** 		if (opcode == STATE_UNFINISHED)
2358:src/keys.c    **** 			return opcode;
2359:src/keys.c    **** 		ch = (unsigned char) opcode;
2360:src/keys.c    **** 		goto add_char;
2361:src/keys.c    **** 	}
2362:src/keys.c    **** 
2363:src/keys.c    **** 	switch (c) {
2364:src/keys.c    **** 	case K20:	// Enter - exit multi mode, maybe return a result
2365:src/keys.c    **** 		if (shift != SHIFT_N)
2366:src/keys.c    **** 				break;
2367:src/keys.c    **** 		reset_multi();
2368:src/keys.c    **** 		if (State2.numdigit == 0)
2369:src/keys.c    **** 			return STATE_UNFINISHED;
2370:src/keys.c    **** 		else if (State2.numdigit == 1)
2371:src/keys.c    **** 			State2.digval2 = 0;
2372:src/keys.c    **** 		goto fin;
2373:src/keys.c    **** 
2374:src/keys.c    **** 	case K24:	// Clx - backspace, clear alpha
2375:src/keys.c    **** 		if (shift != SHIFT_H) {
ARM GAS  /tmp/cc90KtGY.s 			page 47


2376:src/keys.c    **** 			if (State2.numdigit == 0)
2377:src/keys.c    **** 				reset_multi();
2378:src/keys.c    **** 			else
2379:src/keys.c    **** 				State2.numdigit--;
2380:src/keys.c    **** 			return STATE_UNFINISHED;
2381:src/keys.c    **** 		}
2382:src/keys.c    **** 		break;
2383:src/keys.c    **** 
2384:src/keys.c    **** 	case K60:	// EXIT/ON maybe case switch, otherwise exit alpha
2385:src/keys.c    **** 		if (shift == SHIFT_F)
2386:src/keys.c    **** 			State2.alphashift = 1 - State2.alphashift;
2387:src/keys.c    **** 		else
2388:src/keys.c    **** 			reset_multi();
2389:src/keys.c    **** 		return STATE_UNFINISHED;
2390:src/keys.c    **** 
2391:src/keys.c    **** 	default:
2392:src/keys.c    **** 		break;
2393:src/keys.c    **** 		}
2394:src/keys.c    **** 
2395:src/keys.c    **** 	/* Look up the character and return an alpha code if okay */
2396:src/keys.c    **** 	ch = keycode_to_alpha(c, shift);
2397:src/keys.c    **** 	if (ch == 0)
2398:src/keys.c    **** 		return STATE_UNFINISHED;
2399:src/keys.c    **** add_char:
2400:src/keys.c    **** 	if (State2.numdigit == 0) {
2401:src/keys.c    **** 		State2.digval = ch;
2402:src/keys.c    **** 		State2.numdigit = 1;
2403:src/keys.c    **** 		return STATE_UNFINISHED;
2404:src/keys.c    **** 	} else if (State2.numdigit == 1) {
2405:src/keys.c    **** 		State2.digval2 = ch;
2406:src/keys.c    **** 		State2.numdigit = 2;
2407:src/keys.c    **** 		return STATE_UNFINISHED;
2408:src/keys.c    **** 	}
2409:src/keys.c    **** 	reset_multi();
2410:src/keys.c    **** 
2411:src/keys.c    **** fin:
2412:src/keys.c    **** 	opcode = OP_DBL + (CmdBase << DBL_SHIFT) 
2413:src/keys.c    **** 	       + State2.digval + (State2.digval2 << 16) + (ch << 24);
2414:src/keys.c    **** 	return opcode;
2415:src/keys.c    **** }
2416:src/keys.c    **** 
2417:src/keys.c    **** 
2418:src/keys.c    **** /* Handle YES/NO confirmations
2419:src/keys.c    ****  */
2420:src/keys.c    **** static int process_confirm(const keycode c) {
2421:src/keys.c    **** 	// Optimization hint: a switch is shorter then a table of function pointers!
2422:src/keys.c    **** 	switch (c) {
2423:src/keys.c    **** #ifdef DM42
2424:src/keys.c    **** 	case K52:
2425:src/keys.c    **** #endif
2426:src/keys.c    **** 	case K63:			// Yes
2427:src/keys.c    **** 	  switch (State2.confirm) {
2428:src/keys.c    **** 	  case confirm_clall:	 clrall();	break;
2429:src/keys.c    **** 	  case confirm_reset:	 reset();	break;
2430:src/keys.c    **** 	  case confirm_clprog:	 clrprog();	break;
2431:src/keys.c    **** 	  case confirm_clpall:	 clpall();	break;
2432:src/keys.c    **** 	  }
ARM GAS  /tmp/cc90KtGY.s 			page 48


2433:src/keys.c    **** 	case K24:
2434:src/keys.c    **** #ifdef DM42
2435:src/keys.c    **** 	case K22:
2436:src/keys.c    **** #else
2437:src/keys.c    **** 	case K32:
2438:src/keys.c    **** #endif
2439:src/keys.c    **** 	  // No
2440:src/keys.c    **** 	  State2.confirm = 0;
2441:src/keys.c    **** 	  State2.digval = 0;
2442:src/keys.c    **** 	  break;
2443:src/keys.c    **** 	default:			// No state change
2444:src/keys.c    **** 	  break;
2445:src/keys.c    **** 	}
2446:src/keys.c    **** 	return STATE_UNFINISHED;
2447:src/keys.c    **** }
2448:src/keys.c    **** 
2449:src/keys.c    **** 
2450:src/keys.c    **** /*
2451:src/keys.c    ****  *  STATUS
2452:src/keys.c    ****  */
2453:src/keys.c    **** static int process_status(const keycode c) {
2454:src/keys.c    **** 	int n = ((int)State2.status) - 3;
2455:src/keys.c    **** 	int max = LocalRegs < 0 ? 11 : 10;
2456:src/keys.c    **** 
2457:src/keys.c    **** 	if (c == K_UP) {
2458:src/keys.c    **** 		if (--n < -2)
2459:src/keys.c    **** 			n = max;
2460:src/keys.c    **** 	}
2461:src/keys.c    **** 	else if (c == K_DOWN) {
2462:src/keys.c    **** 		if (++n > max)
2463:src/keys.c    **** 			n = -2;
2464:src/keys.c    **** 	}
2465:src/keys.c    **** 	else if (c == K24 /* || c == K60 */) {
2466:src/keys.c    **** 		State2.status = 0;
2467:src/keys.c    **** 		return STATE_UNFINISHED;
2468:src/keys.c    **** 	} 
2469:src/keys.c    **** 	else {
2470:src/keys.c    **** 		int nn = keycode_to_digit_or_register(c) & 0x7f;
2471:src/keys.c    **** 		if (nn <= 9)
2472:src/keys.c    **** 			n = nn;
2473:src/keys.c    **** 		else if (nn == LOCAL_REG_BASE)
2474:src/keys.c    **** 			n = n == max ? 10 : max;
2475:src/keys.c    **** 		else if (nn != NO_REG)
2476:src/keys.c    **** 			n = 10; 
2477:src/keys.c    **** 	}
2478:src/keys.c    **** 	State2.status = n + 3;
2479:src/keys.c    **** 
2480:src/keys.c    **** 	return STATE_UNFINISHED;
2481:src/keys.c    **** }
2482:src/keys.c    **** 
2483:src/keys.c    **** 
2484:src/keys.c    **** /*
2485:src/keys.c    ****  *  CAT helper
2486:src/keys.c    ****  */
2487:src/keys.c    **** static int is_label_or_end_at(unsigned int pc, int search_end) {
 218              		.loc 1 2487 64 is_stmt 1 view -0
 219              		.cfi_startproc
ARM GAS  /tmp/cc90KtGY.s 			page 49


 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
2488:src/keys.c    **** 	const unsigned int op = getprog(pc);
 222              		.loc 1 2488 2 view .LVU58
2487:src/keys.c    **** 	const unsigned int op = getprog(pc);
 223              		.loc 1 2487 64 is_stmt 0 view .LVU59
 224 0000 10B5     		push	{r4, lr}
 225              		.cfi_def_cfa_offset 8
 226              		.cfi_offset 4, -8
 227              		.cfi_offset 14, -4
2487:src/keys.c    **** 	const unsigned int op = getprog(pc);
 228              		.loc 1 2487 64 view .LVU60
 229 0002 0C46     		mov	r4, r1
 230              		.loc 1 2488 26 view .LVU61
 231 0004 FFF7FEFF 		bl	getprog
 232              	.LVL20:
2489:src/keys.c    **** 
2490:src/keys.c    **** 	return op == (OP_NIL | OP_END) || (!search_end && (isDBL(op) && opDBL(op) == DBL_LBL));
 233              		.loc 1 2490 2 is_stmt 1 view .LVU62
 234              		.loc 1 2490 33 is_stmt 0 view .LVU63
 235 0008 B0F59D7F 		cmp	r0, #314
 236 000c 06D0     		beq	.L21
 237              		.loc 1 2490 53 discriminator 3 view .LVU64
 238 000e 00F47043 		and	r3, r0, #61440
 239              		.loc 1 2490 49 discriminator 3 view .LVU65
 240 0012 B3F5704F 		cmp	r3, #61440
 241 0016 03D0     		beq	.L24
 242              		.loc 1 2490 33 view .LVU66
 243 0018 0020     		movs	r0, #0
 244              	.LVL21:
2491:src/keys.c    **** }
 245              		.loc 1 2491 1 view .LVU67
 246 001a 10BD     		pop	{r4, pc}
 247              	.LVL22:
 248              	.L21:
2490:src/keys.c    **** }
 249              		.loc 1 2490 33 view .LVU68
 250 001c 0120     		movs	r0, #1
 251              	.LVL23:
 252              		.loc 1 2491 1 view .LVU69
 253 001e 10BD     		pop	{r4, pc}
 254              	.LVL24:
 255              	.L24:
2490:src/keys.c    **** }
 256              		.loc 1 2490 66 discriminator 5 view .LVU70
 257 0020 C0F30320 		ubfx	r0, r0, #8, #4
 258              	.LVL25:
2490:src/keys.c    **** }
 259              		.loc 1 2490 63 discriminator 5 view .LVU71
 260 0024 50EA0403 		orrs	r3, r0, r4
 261 0028 0CBF     		ite	eq
 262 002a 0120     		moveq	r0, #1
 263 002c 0020     		movne	r0, #0
 264              		.loc 1 2491 1 discriminator 5 view .LVU72
 265 002e 10BD     		pop	{r4, pc}
 266              		.loc 1 2491 1 discriminator 5 view .LVU73
 267              		.cfi_endproc
ARM GAS  /tmp/cc90KtGY.s 			page 50


 268              	.LFE49:
 270              		.section	.text.advance_to_next_label,"ax",%progbits
 271              		.align	1
 272              		.p2align 2,,3
 273              		.syntax unified
 274              		.thumb
 275              		.thumb_func
 276              		.fpu fpv4-sp-d16
 278              	advance_to_next_label:
 279              	.LVL26:
 280              	.LFB50:
2492:src/keys.c    **** 
2493:src/keys.c    **** static unsigned int advance_to_next_label(unsigned int pc, int inc, int search_end) {
 281              		.loc 1 2493 85 is_stmt 1 view -0
 282              		.cfi_startproc
 283              		@ args = 0, pretend = 0, frame = 0
 284              		@ frame_needed = 0, uses_anonymous_args = 0
 285              		.loc 1 2493 85 is_stmt 0 view .LVU75
 286 0000 70B5     		push	{r4, r5, r6, lr}
 287              		.cfi_def_cfa_offset 16
 288              		.cfi_offset 4, -16
 289              		.cfi_offset 5, -12
 290              		.cfi_offset 6, -8
 291              		.cfi_offset 14, -4
 292              		.loc 1 2493 85 view .LVU76
 293 0002 0446     		mov	r4, r0
2494:src/keys.c    **** 	do {
 294              		.loc 1 2494 2 is_stmt 1 view .LVU77
2495:src/keys.c    **** 		for (;;) {
 295              		.loc 1 2495 3 view .LVU78
2496:src/keys.c    **** 			if (inc) {
 296              		.loc 1 2496 4 view .LVU79
2493:src/keys.c    **** 	do {
 297              		.loc 1 2493 85 is_stmt 0 view .LVU80
 298 0004 1646     		mov	r6, r2
 299              		.loc 1 2496 7 view .LVU81
 300 0006 21B9     		cbnz	r1, .L29
 301              	.LVL27:
 302              	.L26:
2497:src/keys.c    **** 				pc = do_inc(pc, 0);
2498:src/keys.c    **** 				if (PcWrapped)
2499:src/keys.c    **** 					break;
2500:src/keys.c    **** 			}
2501:src/keys.c    **** 			else
2502:src/keys.c    **** 				inc = 1;
2503:src/keys.c    **** 			if (is_label_or_end_at(pc, search_end)) {
 303              		.loc 1 2503 4 is_stmt 1 view .LVU82
 304              		.loc 1 2503 8 is_stmt 0 view .LVU83
 305 0008 3146     		mov	r1, r6
 306 000a 2046     		mov	r0, r4
 307              		.loc 1 2503 8 view .LVU84
 308 000c FFF7FEFF 		bl	is_label_or_end_at
 309              	.LVL28:
 310              		.loc 1 2503 7 view .LVU85
 311 0010 B8B9     		cbnz	r0, .L28
 312              	.LVL29:
 313              	.L29:
ARM GAS  /tmp/cc90KtGY.s 			page 51


 314              		.loc 1 2503 7 view .LVU86
 315 0012 0D4D     		ldr	r5, .L37
 316              	.L30:
2497:src/keys.c    **** 				pc = do_inc(pc, 0);
 317              		.loc 1 2497 5 is_stmt 1 view .LVU87
2497:src/keys.c    **** 				pc = do_inc(pc, 0);
 318              		.loc 1 2497 10 is_stmt 0 view .LVU88
 319 0014 2046     		mov	r0, r4
 320 0016 0021     		movs	r1, #0
 321 0018 FFF7FEFF 		bl	do_inc
 322              	.LVL30:
2498:src/keys.c    **** 					break;
 323              		.loc 1 2498 8 view .LVU89
 324 001c 2B68     		ldr	r3, [r5]
2497:src/keys.c    **** 				pc = do_inc(pc, 0);
 325              		.loc 1 2497 10 view .LVU90
 326 001e 0446     		mov	r4, r0
 327              	.LVL31:
2498:src/keys.c    **** 					break;
 328              		.loc 1 2498 5 is_stmt 1 view .LVU91
2498:src/keys.c    **** 					break;
 329              		.loc 1 2498 8 is_stmt 0 view .LVU92
 330 0020 002B     		cmp	r3, #0
 331 0022 F1D0     		beq	.L26
2504:src/keys.c    **** 				return pc;
2505:src/keys.c    **** 			}
2506:src/keys.c    **** 		}
2507:src/keys.c    **** 		pc = addrLIB(1, (nLIB(pc) + 1) & 3);
 332              		.loc 1 2507 3 is_stmt 1 view .LVU93
 333              		.loc 1 2507 8 is_stmt 0 view .LVU94
 334 0024 20F47F54 		bic	r4, r0, #16320
 335 0028 24F03F04 		bic	r4, r4, #63
 336 002c 04F58044 		add	r4, r4, #16384
 337 0030 A4B2     		uxth	r4, r4
 338              		.loc 1 2507 6 view .LVU95
 339 0032 44F00104 		orr	r4, r4, #1
 340              	.LVL32:
2508:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
 341              		.loc 1 2508 10 is_stmt 1 view .LVU96
 342              		.loc 1 2508 13 is_stmt 0 view .LVU97
 343 0036 2046     		mov	r0, r4
 344 0038 3146     		mov	r1, r6
 345 003a FFF7FEFF 		bl	is_label_or_end_at
 346              	.LVL33:
 347              		.loc 1 2508 2 view .LVU98
 348 003e 0028     		cmp	r0, #0
 349 0040 E8D0     		beq	.L30
 350              	.L28:
2509:src/keys.c    **** 	return pc;
2510:src/keys.c    **** }
 351              		.loc 1 2510 1 view .LVU99
 352 0042 2046     		mov	r0, r4
 353 0044 70BD     		pop	{r4, r5, r6, pc}
 354              	.LVL34:
 355              	.L38:
 356              		.loc 1 2510 1 view .LVU100
 357 0046 00BF     		.align	2
ARM GAS  /tmp/cc90KtGY.s 			page 52


 358              	.L37:
 359 0048 00000000 		.word	PcWrapped
 360              		.cfi_endproc
 361              	.LFE50:
 363              		.section	.text.init_cat,"ax",%progbits
 364              		.align	1
 365              		.p2align 2,,3
 366              		.syntax unified
 367              		.thumb
 368              		.thumb_func
 369              		.fpu fpv4-sp-d16
 371              	init_cat:
 372              	.LVL35:
 373              	.LFB12:
 514:src/keys.c    **** 	if (cat == CATALOGUE_NONE && State2.catalogue != CATALOGUE_NONE) {
 374              		.loc 1 514 43 is_stmt 1 view -0
 375              		.cfi_startproc
 376              		@ args = 0, pretend = 0, frame = 0
 377              		@ frame_needed = 0, uses_anonymous_args = 0
 515:src/keys.c    **** 		// Save last catalogue for a later restore
 378              		.loc 1 515 2 view .LVU102
 514:src/keys.c    **** 	if (cat == CATALOGUE_NONE && State2.catalogue != CATALOGUE_NONE) {
 379              		.loc 1 514 43 is_stmt 0 view .LVU103
 380 0000 38B5     		push	{r3, r4, r5, lr}
 381              		.cfi_def_cfa_offset 16
 382              		.cfi_offset 3, -16
 383              		.cfi_offset 4, -12
 384              		.cfi_offset 5, -8
 385              		.cfi_offset 14, -4
 515:src/keys.c    **** 		// Save last catalogue for a later restore
 386              		.loc 1 515 37 view .LVU104
 387 0002 3A4C     		ldr	r4, .L58
 515:src/keys.c    **** 		// Save last catalogue for a later restore
 388              		.loc 1 515 5 view .LVU105
 389 0004 0546     		mov	r5, r0
 390 0006 D8B9     		cbnz	r0, .L40
 515:src/keys.c    **** 		// Save last catalogue for a later restore
 391              		.loc 1 515 37 discriminator 1 view .LVU106
 392 0008 A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 515:src/keys.c    **** 		// Save last catalogue for a later restore
 393              		.loc 1 515 28 discriminator 1 view .LVU107
 394 000a 43B1     		cbz	r3, .L41
 517:src/keys.c    **** 		CmdLineLength = 0;
 395              		.loc 1 517 3 is_stmt 1 view .LVU108
 517:src/keys.c    **** 		CmdLineLength = 0;
 396              		.loc 1 517 18 is_stmt 0 view .LVU109
 397 000c 384A     		ldr	r2, .L58+4
 518:src/keys.c    **** 	}
 398              		.loc 1 518 17 view .LVU110
 399 000e 2077     		strb	r0, [r4, #28]
 517:src/keys.c    **** 		CmdLineLength = 0;
 400              		.loc 1 517 18 view .LVU111
 401 0010 1268     		ldr	r2, [r2]
 402 0012 92F8DC17 		ldrb	r1, [r2, #2012]	@ zero_extendqisi2
 403 0016 63F30401 		bfi	r1, r3, #0, #5
 404 001a 82F8DC17 		strb	r1, [r2, #2012]
 518:src/keys.c    **** 	}
ARM GAS  /tmp/cc90KtGY.s 			page 53


 405              		.loc 1 518 3 is_stmt 1 view .LVU112
 406              	.L41:
 520:src/keys.c    **** 
 407              		.loc 1 520 2 view .LVU113
 408 001e FFF7FEFF 		bl	process_cmdline
 409              	.LVL36:
 522:src/keys.c    **** 	State2.registerlist = 0;
 410              		.loc 1 522 2 view .LVU114
 523:src/keys.c    **** 	State2.status = 0;
 411              		.loc 1 523 2 view .LVU115
 524:src/keys.c    **** 	State2.catalogue = CATALOGUE_NONE;
 412              		.loc 1 524 2 view .LVU116
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 413              		.loc 1 549 16 is_stmt 0 view .LVU117
 414 0022 6369     		ldr	r3, [r4, #20]
 415 0024 23F04063 		bic	r3, r3, #201326592
 416 0028 23F40073 		bic	r3, r3, #512
 524:src/keys.c    **** 	State2.catalogue = CATALOGUE_NONE;
 417              		.loc 1 524 16 view .LVU118
 418 002c 0022     		movs	r2, #0
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 419              		.loc 1 549 16 view .LVU119
 420 002e 6361     		str	r3, [r4, #20]
 524:src/keys.c    **** 	State2.catalogue = CATALOGUE_NONE;
 421              		.loc 1 524 16 view .LVU120
 422 0030 2273     		strb	r2, [r4, #12]
 525:src/keys.c    **** 
 423              		.loc 1 525 2 is_stmt 1 view .LVU121
 527:src/keys.c    **** 	case CATALOGUE_LABELS:
 424              		.loc 1 527 2 view .LVU122
 548:src/keys.c    **** 		State2.cmplx = (cat == CATALOGUE_COMPLEX || cat == CATALOGUE_COMPLEX_CONST);
 425              		.loc 1 548 3 view .LVU123
 548:src/keys.c    **** 		State2.cmplx = (cat == CATALOGUE_COMPLEX || cat == CATALOGUE_COMPLEX_CONST);
 426              		.loc 1 548 20 is_stmt 0 view .LVU124
 427 0032 A273     		strb	r2, [r4, #14]
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 428              		.loc 1 549 3 is_stmt 1 view .LVU125
 550:src/keys.c    **** 			// Different catalogue, reset position
 429              		.loc 1 550 3 view .LVU126
 555:src/keys.c    **** #if defined(QTGUI) || defined(IOS)
 430              		.loc 1 555 2 view .LVU127
 431              	.LBB232:
 432              	.LBI232:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 433              		.loc 1 102 13 view .LVU128
 434              	.LBE232:
 103:src/keys.c    **** }
 435              		.loc 1 103 2 view .LVU129
 436              	.LVL37:
 437              	.LBB249:
 438              	.LBB233:
 439              	.LBI233:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 440              		.loc 1 92 20 view .LVU130
 441              	.LBB234:
  93:src/keys.c    **** 	State2.shifts = shift;
 442              		.loc 1 93 2 view .LVU131
ARM GAS  /tmp/cc90KtGY.s 			page 54


 443              	.LBB235:
 444              	.LBI235:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 445              		.loc 1 84 13 view .LVU132
 446              	.LBB236:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 447              		.loc 1 85 2 view .LVU133
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 448              		.loc 1 85 18 is_stmt 0 view .LVU134
 449 0034 FFF7FEFF 		bl	shift_down
 450              	.LVL38:
  86:src/keys.c    **** }
 451              		.loc 1 86 2 is_stmt 1 view .LVU135
 452              	.LBE236:
 453              	.LBE235:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 454              		.loc 1 94 2 view .LVU136
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 455              		.loc 1 94 16 is_stmt 0 view .LVU137
 456 0038 0023     		movs	r3, #0
 457 003a 2374     		strb	r3, [r4, #16]
  95:src/keys.c    **** 	return r;
 458              		.loc 1 95 2 is_stmt 1 view .LVU138
  95:src/keys.c    **** 	return r;
 459              		.loc 1 95 19 is_stmt 0 view .LVU139
 460 003c 6373     		strb	r3, [r4, #13]
  96:src/keys.c    **** }
 461              		.loc 1 96 2 is_stmt 1 view .LVU140
 462              	.LVL39:
  96:src/keys.c    **** }
 463              		.loc 1 96 2 is_stmt 0 view .LVU141
 464              	.LBE234:
 465              	.LBE233:
 466              	.LBE249:
 559:src/keys.c    **** 
 467              		.loc 1 559 1 view .LVU142
 468 003e 38BD     		pop	{r3, r4, r5, pc}
 469              	.LVL40:
 470              	.L40:
 520:src/keys.c    **** 
 471              		.loc 1 520 2 is_stmt 1 view .LVU143
 472 0040 FFF7FEFF 		bl	process_cmdline
 473              	.LVL41:
 522:src/keys.c    **** 	State2.registerlist = 0;
 474              		.loc 1 522 2 view .LVU144
 523:src/keys.c    **** 	State2.status = 0;
 475              		.loc 1 523 2 view .LVU145
 522:src/keys.c    **** 	State2.registerlist = 0;
 476              		.loc 1 522 19 is_stmt 0 view .LVU146
 477 0044 E37D     		ldrb	r3, [r4, #23]	@ zero_extendqisi2
 524:src/keys.c    **** 	State2.catalogue = CATALOGUE_NONE;
 478              		.loc 1 524 16 view .LVU147
 479 0046 0022     		movs	r2, #0
 522:src/keys.c    **** 	State2.registerlist = 0;
 480              		.loc 1 522 19 view .LVU148
 481 0048 23F00C03 		bic	r3, r3, #12
 527:src/keys.c    **** 	case CATALOGUE_LABELS:
ARM GAS  /tmp/cc90KtGY.s 			page 55


 482              		.loc 1 527 2 view .LVU149
 483 004c 162D     		cmp	r5, #22
 522:src/keys.c    **** 	State2.registerlist = 0;
 484              		.loc 1 522 19 view .LVU150
 485 004e E375     		strb	r3, [r4, #23]
 524:src/keys.c    **** 	State2.catalogue = CATALOGUE_NONE;
 486              		.loc 1 524 2 is_stmt 1 view .LVU151
 524:src/keys.c    **** 	State2.catalogue = CATALOGUE_NONE;
 487              		.loc 1 524 16 is_stmt 0 view .LVU152
 488 0050 2273     		strb	r2, [r4, #12]
 525:src/keys.c    **** 
 489              		.loc 1 525 2 is_stmt 1 view .LVU153
 525:src/keys.c    **** 
 490              		.loc 1 525 19 is_stmt 0 view .LVU154
 491 0052 A273     		strb	r2, [r4, #14]
 527:src/keys.c    **** 	case CATALOGUE_LABELS:
 492              		.loc 1 527 2 is_stmt 1 view .LVU155
 493 0054 1DD0     		beq	.L42
 494 0056 172D     		cmp	r5, #23
 495 0058 07D1     		bne	.L56
 543:src/keys.c    **** 		break;
 496              		.loc 1 543 3 view .LVU156
 543:src/keys.c    **** 		break;
 497              		.loc 1 543 17 is_stmt 0 view .LVU157
 498 005a 0123     		movs	r3, #1
 499 005c 2373     		strb	r3, [r4, #12]
 544:src/keys.c    **** 
 500              		.loc 1 544 3 is_stmt 1 view .LVU158
 555:src/keys.c    **** #if defined(QTGUI) || defined(IOS)
 501              		.loc 1 555 2 view .LVU159
 502              	.LBB250:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 503              		.loc 1 102 13 view .LVU160
 504              	.LBE250:
 103:src/keys.c    **** }
 505              		.loc 1 103 2 view .LVU161
 506              	.LVL42:
 507              	.LBB251:
 508              	.LBB246:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 509              		.loc 1 92 20 view .LVU162
 510              	.LBB243:
  93:src/keys.c    **** 	State2.shifts = shift;
 511              		.loc 1 93 2 view .LVU163
 512              	.LBB240:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 513              		.loc 1 84 13 view .LVU164
 514              	.LBB237:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 515              		.loc 1 85 2 view .LVU165
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 516              		.loc 1 85 18 is_stmt 0 view .LVU166
 517 005e FFF7FEFF 		bl	shift_down
 518              	.LVL43:
  86:src/keys.c    **** }
 519              		.loc 1 86 2 is_stmt 1 view .LVU167
 520              	.LBE237:
ARM GAS  /tmp/cc90KtGY.s 			page 56


 521              	.LBE240:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 522              		.loc 1 94 2 view .LVU168
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 523              		.loc 1 94 16 is_stmt 0 view .LVU169
 524 0062 0023     		movs	r3, #0
 525 0064 2374     		strb	r3, [r4, #16]
  95:src/keys.c    **** 	return r;
 526              		.loc 1 95 2 is_stmt 1 view .LVU170
  95:src/keys.c    **** 	return r;
 527              		.loc 1 95 19 is_stmt 0 view .LVU171
 528 0066 6373     		strb	r3, [r4, #13]
  96:src/keys.c    **** }
 529              		.loc 1 96 2 is_stmt 1 view .LVU172
 530              	.LVL44:
  96:src/keys.c    **** }
 531              		.loc 1 96 2 is_stmt 0 view .LVU173
 532              	.LBE243:
 533              	.LBE246:
 534              	.LBE251:
 559:src/keys.c    **** 
 535              		.loc 1 559 1 view .LVU174
 536 0068 38BD     		pop	{r3, r4, r5, pc}
 537              	.L56:
 527:src/keys.c    **** 	case CATALOGUE_LABELS:
 538              		.loc 1 527 2 view .LVU175
 539 006a 152D     		cmp	r5, #21
 540 006c 1ED1     		bne	.L44
 530:src/keys.c    **** 		State2.digval = advance_to_next_label(ProgBegin, 0, 0);
 541              		.loc 1 530 3 is_stmt 1 view .LVU176
 531:src/keys.c    **** 		break;
 542              		.loc 1 531 41 is_stmt 0 view .LVU177
 543 006e 2049     		ldr	r1, .L58+4
 530:src/keys.c    **** 		State2.digval = advance_to_next_label(ProgBegin, 0, 0);
 544              		.loc 1 530 20 view .LVU178
 545 0070 DBB2     		uxtb	r3, r3
 531:src/keys.c    **** 		break;
 546              		.loc 1 531 41 view .LVU179
 547 0072 0968     		ldr	r1, [r1]
 530:src/keys.c    **** 		State2.digval = advance_to_next_label(ProgBegin, 0, 0);
 548              		.loc 1 530 20 view .LVU180
 549 0074 43F00403 		orr	r3, r3, #4
 550 0078 E375     		strb	r3, [r4, #23]
 531:src/keys.c    **** 		break;
 551              		.loc 1 531 3 is_stmt 1 view .LVU181
 531:src/keys.c    **** 		break;
 552              		.loc 1 531 19 is_stmt 0 view .LVU182
 553 007a B1F8EC07 		ldrh	r0, [r1, #2028]
 554 007e 1146     		mov	r1, r2
 555 0080 FFF7FEFF 		bl	advance_to_next_label
 556              	.LVL45:
 531:src/keys.c    **** 		break;
 557              		.loc 1 531 17 view .LVU183
 558 0084 2081     		strh	r0, [r4, #8]	@ movhi
 532:src/keys.c    **** 	
 559              		.loc 1 532 3 is_stmt 1 view .LVU184
 560              	.L45:
ARM GAS  /tmp/cc90KtGY.s 			page 57


 555:src/keys.c    **** #if defined(QTGUI) || defined(IOS)
 561              		.loc 1 555 2 view .LVU185
 562              	.LBB252:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 563              		.loc 1 102 13 view .LVU186
 564              	.LBE252:
 103:src/keys.c    **** }
 565              		.loc 1 103 2 view .LVU187
 566              	.LVL46:
 567              	.LBB253:
 568              	.LBB247:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 569              		.loc 1 92 20 view .LVU188
 570              	.LBB244:
  93:src/keys.c    **** 	State2.shifts = shift;
 571              		.loc 1 93 2 view .LVU189
 572              	.LBB241:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 573              		.loc 1 84 13 view .LVU190
 574              	.LBB238:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 575              		.loc 1 85 2 view .LVU191
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 576              		.loc 1 85 18 is_stmt 0 view .LVU192
 577 0086 FFF7FEFF 		bl	shift_down
 578              	.LVL47:
  86:src/keys.c    **** }
 579              		.loc 1 86 2 is_stmt 1 view .LVU193
 580              	.LBE238:
 581              	.LBE241:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 582              		.loc 1 94 2 view .LVU194
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 583              		.loc 1 94 16 is_stmt 0 view .LVU195
 584 008a 0023     		movs	r3, #0
 585 008c 2374     		strb	r3, [r4, #16]
  95:src/keys.c    **** 	return r;
 586              		.loc 1 95 2 is_stmt 1 view .LVU196
  95:src/keys.c    **** 	return r;
 587              		.loc 1 95 19 is_stmt 0 view .LVU197
 588 008e 6373     		strb	r3, [r4, #13]
  96:src/keys.c    **** }
 589              		.loc 1 96 2 is_stmt 1 view .LVU198
 590              	.LVL48:
  96:src/keys.c    **** }
 591              		.loc 1 96 2 is_stmt 0 view .LVU199
 592              	.LBE244:
 593              	.LBE247:
 594              	.LBE253:
 559:src/keys.c    **** 
 595              		.loc 1 559 1 view .LVU200
 596 0090 38BD     		pop	{r3, r4, r5, pc}
 597              	.L42:
 536:src/keys.c    **** 		State2.digval = regX_idx;
 598              		.loc 1 536 3 is_stmt 1 view .LVU201
 536:src/keys.c    **** 		State2.digval = regX_idx;
 599              		.loc 1 536 23 is_stmt 0 view .LVU202
ARM GAS  /tmp/cc90KtGY.s 			page 58


 600 0092 E37D     		ldrb	r3, [r4, #23]	@ zero_extendqisi2
 538:src/keys.c    **** 		break;
 601              		.loc 1 538 18 view .LVU203
 602 0094 A272     		strb	r2, [r4, #10]
 536:src/keys.c    **** 		State2.digval = regX_idx;
 603              		.loc 1 536 23 view .LVU204
 604 0096 43F00803 		orr	r3, r3, #8
 537:src/keys.c    **** 		State2.digval2 = 0;
 605              		.loc 1 537 17 view .LVU205
 606 009a 6422     		movs	r2, #100
 536:src/keys.c    **** 		State2.digval = regX_idx;
 607              		.loc 1 536 23 view .LVU206
 608 009c E375     		strb	r3, [r4, #23]
 537:src/keys.c    **** 		State2.digval2 = 0;
 609              		.loc 1 537 3 is_stmt 1 view .LVU207
 537:src/keys.c    **** 		State2.digval2 = 0;
 610              		.loc 1 537 17 is_stmt 0 view .LVU208
 611 009e 2281     		strh	r2, [r4, #8]	@ movhi
 538:src/keys.c    **** 		break;
 612              		.loc 1 538 3 is_stmt 1 view .LVU209
 539:src/keys.c    **** 
 613              		.loc 1 539 3 view .LVU210
 555:src/keys.c    **** #if defined(QTGUI) || defined(IOS)
 614              		.loc 1 555 2 view .LVU211
 615              	.LBB254:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 616              		.loc 1 102 13 view .LVU212
 617              	.LBE254:
 103:src/keys.c    **** }
 618              		.loc 1 103 2 view .LVU213
 619              	.LVL49:
 620              	.LBB255:
 621              	.LBB248:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 622              		.loc 1 92 20 view .LVU214
 623              	.LBB245:
  93:src/keys.c    **** 	State2.shifts = shift;
 624              		.loc 1 93 2 view .LVU215
 625              	.LBB242:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 626              		.loc 1 84 13 view .LVU216
 627              	.LBB239:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 628              		.loc 1 85 2 view .LVU217
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 629              		.loc 1 85 18 is_stmt 0 view .LVU218
 630 00a0 FFF7FEFF 		bl	shift_down
 631              	.LVL50:
  86:src/keys.c    **** }
 632              		.loc 1 86 2 is_stmt 1 view .LVU219
 633              	.LBE239:
 634              	.LBE242:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 635              		.loc 1 94 2 view .LVU220
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 636              		.loc 1 94 16 is_stmt 0 view .LVU221
 637 00a4 0023     		movs	r3, #0
ARM GAS  /tmp/cc90KtGY.s 			page 59


 638 00a6 2374     		strb	r3, [r4, #16]
  95:src/keys.c    **** 	return r;
 639              		.loc 1 95 2 is_stmt 1 view .LVU222
  95:src/keys.c    **** 	return r;
 640              		.loc 1 95 19 is_stmt 0 view .LVU223
 641 00a8 6373     		strb	r3, [r4, #13]
  96:src/keys.c    **** }
 642              		.loc 1 96 2 is_stmt 1 view .LVU224
 643              	.LVL51:
  96:src/keys.c    **** }
 644              		.loc 1 96 2 is_stmt 0 view .LVU225
 645              	.LBE245:
 646              	.LBE248:
 647              	.LBE255:
 559:src/keys.c    **** 
 648              		.loc 1 559 1 view .LVU226
 649 00aa 38BD     		pop	{r3, r4, r5, pc}
 650              	.L44:
 548:src/keys.c    **** 		State2.cmplx = (cat == CATALOGUE_COMPLEX || cat == CATALOGUE_COMPLEX_CONST);
 651              		.loc 1 548 3 is_stmt 1 view .LVU227
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 652              		.loc 1 549 44 is_stmt 0 view .LVU228
 653 00ac 022D     		cmp	r5, #2
 548:src/keys.c    **** 		State2.cmplx = (cat == CATALOGUE_COMPLEX || cat == CATALOGUE_COMPLEX_CONST);
 654              		.loc 1 548 20 view .LVU229
 655 00ae A573     		strb	r5, [r4, #14]
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 656              		.loc 1 549 3 is_stmt 1 view .LVU230
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 657              		.loc 1 549 44 is_stmt 0 view .LVU231
 658 00b0 12D1     		bne	.L57
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 659              		.loc 1 549 16 view .LVU232
 660 00b2 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 661 00b4 43F00203 		orr	r3, r3, #2
 662 00b8 6375     		strb	r3, [r4, #21]
 550:src/keys.c    **** 			// Different catalogue, reset position
 663              		.loc 1 550 3 is_stmt 1 view .LVU233
 664              	.L49:
 550:src/keys.c    **** 			// Different catalogue, reset position
 665              		.loc 1 550 32 is_stmt 0 discriminator 1 view .LVU234
 666 00ba 0D4B     		ldr	r3, .L58+4
 667 00bc 1A68     		ldr	r2, [r3]
 550:src/keys.c    **** 			// Different catalogue, reset position
 668              		.loc 1 550 37 discriminator 1 view .LVU235
 669 00be 92F8DC37 		ldrb	r3, [r2, #2012]	@ zero_extendqisi2
 550:src/keys.c    **** 			// Different catalogue, reset position
 670              		.loc 1 550 29 discriminator 1 view .LVU236
 671 00c2 03F01F03 		and	r3, r3, #31
 672 00c6 AB42     		cmp	r3, r5
 673 00c8 DDD0     		beq	.L45
 552:src/keys.c    **** 		}
 674              		.loc 1 552 4 is_stmt 1 view .LVU237
 552:src/keys.c    **** 		}
 675              		.loc 1 552 17 is_stmt 0 view .LVU238
 676 00ca B2F8DC37 		ldrh	r3, [r2, #2012]
 677 00ce 6FF34B13 		bfc	r3, #5, #7
ARM GAS  /tmp/cc90KtGY.s 			page 60


 678 00d2 A2F8DC37 		strh	r3, [r2, #2012]	@ movhi
 679 00d6 D6E7     		b	.L45
 680              	.L57:
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 681              		.loc 1 549 44 view .LVU239
 682 00d8 A5F11101 		sub	r1, r5, #17
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 683              		.loc 1 549 16 view .LVU240
 684 00dc 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 685              		.loc 1 549 44 view .LVU241
 686 00de 4A42     		rsbs	r2, r1, #0
 687 00e0 4A41     		adcs	r2, r2, r1
 549:src/keys.c    **** 		if (cat != CATALOGUE_NONE && State.last_cat != cat) {
 688              		.loc 1 549 16 view .LVU242
 689 00e2 62F34103 		bfi	r3, r2, #1, #1
 690 00e6 6375     		strb	r3, [r4, #21]
 550:src/keys.c    **** 			// Different catalogue, reset position
 691              		.loc 1 550 3 is_stmt 1 view .LVU243
 692 00e8 E7E7     		b	.L49
 693              	.L59:
 694 00ea 00BF     		.align	2
 695              	.L58:
 696 00ec 00000000 		.word	StateWhileOn
 697 00f0 00000000 		.word	main_ram
 698              		.cfi_endproc
 699              	.LFE12:
 701              		.section	.text.advance_to_previous_label,"ax",%progbits
 702              		.align	1
 703              		.p2align 2,,3
 704              		.syntax unified
 705              		.thumb
 706              		.thumb_func
 707              		.fpu fpv4-sp-d16
 709              	advance_to_previous_label:
 710              	.LVL52:
 711              	.LFB51:
2511:src/keys.c    **** 
2512:src/keys.c    **** static unsigned int advance_to_previous_label(unsigned int pc, int search_end) {
 712              		.loc 1 2512 80 view -0
 713              		.cfi_startproc
 714              		@ args = 0, pretend = 0, frame = 0
 715              		@ frame_needed = 0, uses_anonymous_args = 0
 716              		.loc 1 2512 80 is_stmt 0 view .LVU245
 717 0000 70B5     		push	{r4, r5, r6, lr}
 718              		.cfi_def_cfa_offset 16
 719              		.cfi_offset 4, -16
 720              		.cfi_offset 5, -12
 721              		.cfi_offset 6, -8
 722              		.cfi_offset 14, -4
 723 0002 124E     		ldr	r6, .L69
 724              		.loc 1 2512 80 view .LVU246
 725 0004 0446     		mov	r4, r0
 726 0006 0D46     		mov	r5, r1
 727              	.LVL53:
 728              	.L61:
2513:src/keys.c    **** 	do {
ARM GAS  /tmp/cc90KtGY.s 			page 61


 729              		.loc 1 2513 2 is_stmt 1 view .LVU247
2514:src/keys.c    **** 		for (;;) {
 730              		.loc 1 2514 3 view .LVU248
2515:src/keys.c    **** 			pc = do_dec(pc, 0);
 731              		.loc 1 2515 4 view .LVU249
 732              		.loc 1 2515 9 is_stmt 0 view .LVU250
 733 0008 2046     		mov	r0, r4
 734 000a 0021     		movs	r1, #0
 735 000c FFF7FEFF 		bl	do_dec
 736              	.LVL54:
2516:src/keys.c    **** 			if (PcWrapped)
2517:src/keys.c    **** 				break;
2518:src/keys.c    **** 			if (is_label_or_end_at(pc, search_end)) {
 737              		.loc 1 2518 4 is_stmt 1 view .LVU251
2519:src/keys.c    **** 				return pc;
2520:src/keys.c    **** 			}
2521:src/keys.c    **** 		}
2522:src/keys.c    **** 		pc = addrLIB(1, (nLIB(pc) - 1) & 3);
 738              		.loc 1 2522 3 view .LVU252
 739              		.loc 1 2522 8 is_stmt 0 view .LVU253
 740 0010 20F47F53 		bic	r3, r0, #16320
 741 0014 23F03F03 		bic	r3, r3, #63
2516:src/keys.c    **** 			if (PcWrapped)
 742              		.loc 1 2516 7 view .LVU254
 743 0018 3268     		ldr	r2, [r6]
 744              		.loc 1 2522 8 view .LVU255
 745 001a A3F58043 		sub	r3, r3, #16384
2523:src/keys.c    **** 		pc = do_dec(pc, 0);
 746              		.loc 1 2523 8 view .LVU256
 747 001e 0021     		movs	r1, #0
2515:src/keys.c    **** 			if (PcWrapped)
 748              		.loc 1 2515 9 view .LVU257
 749 0020 0446     		mov	r4, r0
 750              	.LVL55:
2516:src/keys.c    **** 				break;
 751              		.loc 1 2516 4 is_stmt 1 view .LVU258
2522:src/keys.c    **** 		pc = do_dec(pc, 0);
 752              		.loc 1 2522 8 is_stmt 0 view .LVU259
 753 0022 9BB2     		uxth	r3, r3
 754              	.LVL56:
 755              		.loc 1 2523 3 is_stmt 1 view .LVU260
2516:src/keys.c    **** 				break;
 756              		.loc 1 2516 7 is_stmt 0 view .LVU261
 757 0024 32B9     		cbnz	r2, .L62
2518:src/keys.c    **** 				return pc;
 758              		.loc 1 2518 8 view .LVU262
 759 0026 2946     		mov	r1, r5
 760 0028 FFF7FEFF 		bl	is_label_or_end_at
 761              	.LVL57:
2518:src/keys.c    **** 				return pc;
 762              		.loc 1 2518 7 view .LVU263
 763 002c 0028     		cmp	r0, #0
 764 002e EBD0     		beq	.L61
2524:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
2525:src/keys.c    **** 	return pc;
2526:src/keys.c    **** }
 765              		.loc 1 2526 1 view .LVU264
ARM GAS  /tmp/cc90KtGY.s 			page 62


 766 0030 2046     		mov	r0, r4
 767 0032 70BD     		pop	{r4, r5, r6, pc}
 768              	.LVL58:
 769              	.L62:
2523:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
 770              		.loc 1 2523 8 view .LVU265
 771 0034 43F00100 		orr	r0, r3, #1
 772 0038 FFF7FEFF 		bl	do_dec
 773              	.LVL59:
2524:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
 774              		.loc 1 2524 13 view .LVU266
 775 003c 2946     		mov	r1, r5
2523:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
 776              		.loc 1 2523 8 view .LVU267
 777 003e 0446     		mov	r4, r0
 778              	.LVL60:
2524:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
 779              		.loc 1 2524 10 is_stmt 1 view .LVU268
2524:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
 780              		.loc 1 2524 13 is_stmt 0 view .LVU269
 781 0040 FFF7FEFF 		bl	is_label_or_end_at
 782              	.LVL61:
2524:src/keys.c    **** 	} while (! is_label_or_end_at(pc, search_end));
 783              		.loc 1 2524 2 view .LVU270
 784 0044 0028     		cmp	r0, #0
 785 0046 DFD0     		beq	.L61
 786              		.loc 1 2526 1 view .LVU271
 787 0048 2046     		mov	r0, r4
 788 004a 70BD     		pop	{r4, r5, r6, pc}
 789              	.LVL62:
 790              	.L70:
 791              		.loc 1 2526 1 view .LVU272
 792              		.align	2
 793              	.L69:
 794 004c 00000000 		.word	PcWrapped
 795              		.cfi_endproc
 796              	.LFE51:
 798              		.section	.text.check_confirm.part.0,"ax",%progbits
 799              		.align	1
 800              		.p2align 2,,3
 801              		.syntax unified
 802              		.thumb
 803              		.thumb_func
 804              		.fpu fpv4-sp-d16
 806              	check_confirm.part.0:
 807              	.LVL63:
 808              	.LFB59:
 619:src/keys.c    **** 	if (opKIND(op) == KIND_NIL) {
 809              		.loc 1 619 12 is_stmt 1 view -0
 810              		.cfi_startproc
 811              		@ args = 0, pretend = 0, frame = 0
 812              		@ frame_needed = 0, uses_anonymous_args = 0
 813              		@ link register save eliminated.
 814              	.LBB256:
 621:src/keys.c    **** 		if (nilop >= OP_CLALL && nilop <= OP_CLPALL) {
 815              		.loc 1 621 3 view .LVU274
 622:src/keys.c    **** 			State2.confirm = confirm_clall + (nilop - OP_CLALL);
ARM GAS  /tmp/cc90KtGY.s 			page 63


 816              		.loc 1 622 3 view .LVU275
 621:src/keys.c    **** 		if (nilop >= OP_CLALL && nilop <= OP_CLPALL) {
 817              		.loc 1 621 13 is_stmt 0 view .LVU276
 818 0000 C3B2     		uxtb	r3, r0
 622:src/keys.c    **** 			State2.confirm = confirm_clall + (nilop - OP_CLALL);
 819              		.loc 1 622 25 view .LVU277
 820 0002 A3F14102 		sub	r2, r3, #65
 622:src/keys.c    **** 			State2.confirm = confirm_clall + (nilop - OP_CLALL);
 821              		.loc 1 622 6 view .LVU278
 822 0006 032A     		cmp	r2, #3
 823 0008 06D9     		bls	.L74
 630:src/keys.c    **** #endif
 824              		.loc 1 630 7 is_stmt 1 view .LVU279
 630:src/keys.c    **** #endif
 825              		.loc 1 630 29 is_stmt 0 view .LVU280
 826 000a AD3B     		subs	r3, r3, #173
 630:src/keys.c    **** #endif
 827              		.loc 1 630 10 view .LVU281
 828 000c 052B     		cmp	r3, #5
 829 000e 02D8     		bhi	.L73
 640:src/keys.c    **** 		}
 830              		.loc 1 640 4 is_stmt 1 view .LVU282
 640:src/keys.c    **** 		}
 831              		.loc 1 640 20 is_stmt 0 view .LVU283
 832 0010 054B     		ldr	r3, .L75
 833 0012 0122     		movs	r2, #1
 834 0014 1A60     		str	r2, [r3]
 835              	.L73:
 836              	.LBE256:
 644:src/keys.c    **** 
 837              		.loc 1 644 1 view .LVU284
 838 0016 7047     		bx	lr
 839              	.L74:
 840              	.LBB257:
 623:src/keys.c    **** 			return STATE_UNFINISHED;
 841              		.loc 1 623 4 is_stmt 1 view .LVU285
 623:src/keys.c    **** 			return STATE_UNFINISHED;
 842              		.loc 1 623 19 is_stmt 0 view .LVU286
 843 0018 044B     		ldr	r3, .L75+4
 844 001a 1A7D     		ldrb	r2, [r3, #20]	@ zero_extendqisi2
 623:src/keys.c    **** 			return STATE_UNFINISHED;
 845              		.loc 1 623 35 view .LVU287
 846 001c 4038     		subs	r0, r0, #64
 847              	.LVL64:
 623:src/keys.c    **** 			return STATE_UNFINISHED;
 848              		.loc 1 623 19 view .LVU288
 849 001e 60F30202 		bfi	r2, r0, #0, #3
 850 0022 1A75     		strb	r2, [r3, #20]
 624:src/keys.c    **** 		}
 851              		.loc 1 624 4 is_stmt 1 view .LVU289
 624:src/keys.c    **** 		}
 852              		.loc 1 624 11 is_stmt 0 view .LVU290
 853 0024 3320     		movs	r0, #51
 854              	.LVL65:
 624:src/keys.c    **** 		}
 855              		.loc 1 624 11 view .LVU291
 856 0026 7047     		bx	lr
ARM GAS  /tmp/cc90KtGY.s 			page 64


 857              	.L76:
 858              		.align	2
 859              	.L75:
 860 0028 00000000 		.word	NonProgrammable
 861 002c 00000000 		.word	StateWhileOn
 862              	.LBE257:
 863              		.cfi_endproc
 864              	.LFE59:
 866              		.section	.text.init_arg.part.0,"ax",%progbits
 867              		.align	1
 868              		.p2align 2,,3
 869              		.syntax unified
 870              		.thumb
 871              		.thumb_func
 872              		.fpu fpv4-sp-d16
 874              	init_arg.part.0:
 875              	.LVL66:
 876              	.LFB61:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 877              		.loc 1 501 13 is_stmt 1 view -0
 878              		.cfi_startproc
 879              		@ args = 0, pretend = 0, frame = 0
 880              		@ frame_needed = 0, uses_anonymous_args = 0
 881              		@ link register save eliminated.
 504:src/keys.c    **** 	State2.ind = 0;
 882              		.loc 1 504 2 view .LVU293
 504:src/keys.c    **** 	State2.ind = 0;
 883              		.loc 1 504 10 is_stmt 0 view .LVU294
 884 0000 084B     		ldr	r3, .L78
 509:src/keys.c    **** 	State2.local = 0;
 885              		.loc 1 509 13 view .LVU295
 886 0002 5969     		ldr	r1, [r3, #20]
 504:src/keys.c    **** 	State2.ind = 0;
 887              		.loc 1 504 10 view .LVU296
 888 0004 D877     		strb	r0, [r3, #31]
 505:src/keys.c    **** 	State2.digval = 0;
 889              		.loc 1 505 2 is_stmt 1 view .LVU297
 506:src/keys.c    **** 	State2.numdigit = 0;
 890              		.loc 1 506 2 view .LVU298
 509:src/keys.c    **** 	State2.local = 0;
 891              		.loc 1 509 13 is_stmt 0 view .LVU299
 892 0006 21F40F11 		bic	r1, r1, #2342912
 893 000a 8628     		cmp	r0, #134
 894 000c 0CBF     		ite	eq
 895 000e 4FF40812 		moveq	r2, #2228224
 896 0012 4FF40012 		movne	r2, #2097152
 897 0016 0A43     		orrs	r2, r2, r1
 506:src/keys.c    **** 	State2.numdigit = 0;
 898              		.loc 1 506 16 view .LVU300
 899 0018 0021     		movs	r1, #0
 509:src/keys.c    **** 	State2.local = 0;
 900              		.loc 1 509 13 view .LVU301
 901 001a 5A61     		str	r2, [r3, #20]
 506:src/keys.c    **** 	State2.numdigit = 0;
 902              		.loc 1 506 16 view .LVU302
 903 001c 1981     		strh	r1, [r3, #8]	@ movhi
 507:src/keys.c    **** 	State2.rarg = 1;
ARM GAS  /tmp/cc90KtGY.s 			page 65


 904              		.loc 1 507 2 is_stmt 1 view .LVU303
 507:src/keys.c    **** 	State2.rarg = 1;
 905              		.loc 1 507 18 is_stmt 0 view .LVU304
 906 001e D972     		strb	r1, [r3, #11]
 508:src/keys.c    **** 	State2.dot = 0;
 907              		.loc 1 508 2 is_stmt 1 view .LVU305
 509:src/keys.c    **** 	State2.local = 0;
 908              		.loc 1 509 2 view .LVU306
 510:src/keys.c    **** 	State2.shuffle = (base == RARG_SHUFFLE);
 909              		.loc 1 510 2 view .LVU307
 511:src/keys.c    **** }
 910              		.loc 1 511 2 view .LVU308
 512:src/keys.c    **** 
 911              		.loc 1 512 1 is_stmt 0 view .LVU309
 912 0020 7047     		bx	lr
 913              	.L79:
 914 0022 00BF     		.align	2
 915              	.L78:
 916 0024 00000000 		.word	StateWhileOn
 917              		.cfi_endproc
 918              	.LFE61:
 920              		.section	.text.reset_arg,"ax",%progbits
 921              		.align	1
 922              		.p2align 2,,3
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
 926              		.fpu fpv4-sp-d16
 928              	reset_arg:
 929              	.LFB29:
1484:src/keys.c    **** 	init_arg((enum rarg) 0);
 930              		.loc 1 1484 29 is_stmt 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
1485:src/keys.c    **** 	State2.rarg = 0;
 934              		.loc 1 1485 2 view .LVU311
 935              	.LVL67:
 936              	.LBB258:
 937              	.LBI258:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 938              		.loc 1 501 13 view .LVU312
 939              	.LBB259:
 502:src/keys.c    **** 		return;
 940              		.loc 1 502 2 view .LVU313
 941              	.LBE259:
 942              	.LBE258:
1484:src/keys.c    **** 	init_arg((enum rarg) 0);
 943              		.loc 1 1484 29 is_stmt 0 view .LVU314
 944 0000 08B5     		push	{r3, lr}
 945              		.cfi_def_cfa_offset 8
 946              		.cfi_offset 3, -8
 947              		.cfi_offset 14, -4
 948              	.LBB261:
 949              	.LBB260:
 502:src/keys.c    **** 		return;
 950              		.loc 1 502 6 view .LVU315
ARM GAS  /tmp/cc90KtGY.s 			page 66


 951 0002 FFF7FEFF 		bl	is_bad_cmdline
 952              	.LVL68:
 502:src/keys.c    **** 		return;
 953              		.loc 1 502 5 view .LVU316
 954 0006 08B9     		cbnz	r0, .L81
 955 0008 FFF7FEFF 		bl	init_arg.part.0
 956              	.LVL69:
 957              	.L81:
 502:src/keys.c    **** 		return;
 958              		.loc 1 502 5 view .LVU317
 959              	.LBE260:
 960              	.LBE261:
1486:src/keys.c    **** }
 961              		.loc 1 1486 2 is_stmt 1 view .LVU318
1486:src/keys.c    **** }
 962              		.loc 1 1486 14 is_stmt 0 view .LVU319
 963 000c 024B     		ldr	r3, .L83
 964 000e 9A7D     		ldrb	r2, [r3, #22]	@ zero_extendqisi2
 965 0010 6FF34512 		bfc	r2, #5, #1
 966 0014 9A75     		strb	r2, [r3, #22]
1487:src/keys.c    **** 
 967              		.loc 1 1487 1 view .LVU320
 968 0016 08BD     		pop	{r3, pc}
 969              	.L84:
 970              		.align	2
 971              	.L83:
 972 0018 00000000 		.word	StateWhileOn
 973              		.cfi_endproc
 974              	.LFE29:
 976              		.section	.text.arg_eval,"ax",%progbits
 977              		.align	1
 978              		.p2align 2,,3
 979              		.syntax unified
 980              		.thumb
 981              		.thumb_func
 982              		.fpu fpv4-sp-d16
 984              	arg_eval:
 985              	.LVL70:
 986              	.LFB30:
1489:src/keys.c    **** 	const unsigned int base = CmdBase;
 987              		.loc 1 1489 39 is_stmt 1 view -0
 988              		.cfi_startproc
 989              		@ args = 0, pretend = 0, frame = 0
 990              		@ frame_needed = 0, uses_anonymous_args = 0
1490:src/keys.c    **** 	int r = RARG(base, val 
 991              		.loc 1 1490 2 view .LVU322
1490:src/keys.c    **** 	int r = RARG(base, val 
 992              		.loc 1 1490 28 is_stmt 0 view .LVU323
 993 0000 1C4B     		ldr	r3, .L106
1489:src/keys.c    **** 	const unsigned int base = CmdBase;
 994              		.loc 1 1489 39 view .LVU324
 995 0002 70B5     		push	{r4, r5, r6, lr}
 996              		.cfi_def_cfa_offset 16
 997              		.cfi_offset 4, -16
 998              		.cfi_offset 5, -12
 999              		.cfi_offset 6, -8
 1000              		.cfi_offset 14, -4
ARM GAS  /tmp/cc90KtGY.s 			page 67


1491:src/keys.c    **** 		 	   + (State2.ind ? RARG_IND : 0) 
 1001              		.loc 1 1491 10 view .LVU325
 1002 0004 9D7D     		ldrb	r5, [r3, #22]	@ zero_extendqisi2
 1003 0006 597D     		ldrb	r1, [r3, #21]	@ zero_extendqisi2
1490:src/keys.c    **** 	int r = RARG(base, val 
 1004              		.loc 1 1490 21 view .LVU326
 1005 0008 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 1006              	.LVL71:
1491:src/keys.c    **** 		 	   + (State2.ind ? RARG_IND : 0) 
 1007              		.loc 1 1491 2 is_stmt 1 view .LVU327
1491:src/keys.c    **** 		 	   + (State2.ind ? RARG_IND : 0) 
 1008              		.loc 1 1491 10 is_stmt 0 view .LVU328
 1009 000a EE07     		lsls	r6, r5, #31
1494:src/keys.c    **** 
 1010              		.loc 1 1494 30 view .LVU329
 1011 000c 1A4E     		ldr	r6, .L106+4
 1012 000e 3668     		ldr	r6, [r6]
1491:src/keys.c    **** 		 	   + (State2.ind ? RARG_IND : 0) 
 1013              		.loc 1 1491 10 view .LVU330
 1014 0010 01F08003 		and	r3, r1, #128
 1015 0014 0344     		add	r3, r3, r0
1494:src/keys.c    **** 
 1016              		.loc 1 1494 30 view .LVU331
 1017 0016 96F8EA67 		ldrb	r6, [r6, #2026]	@ zero_extendqisi2
1491:src/keys.c    **** 		 	   + (State2.ind ? RARG_IND : 0) 
 1018              		.loc 1 1491 10 view .LVU332
 1019 001a 02F12004 		add	r4, r2, #32
 1020 001e 48BF     		it	mi
 1021 0020 7033     		addmi	r3, r3, #112
 1022 0022 2402     		lsls	r4, r4, #8
 1023 0024 1C43     		orrs	r4, r4, r3
 1024              	.LVL72:
1494:src/keys.c    **** 
 1025              		.loc 1 1494 2 is_stmt 1 view .LVU333
1494:src/keys.c    **** 
 1026              		.loc 1 1494 77 is_stmt 0 view .LVU334
 1027 0026 3307     		lsls	r3, r6, #28
 1028 0028 1DD5     		bpl	.L92
1494:src/keys.c    **** 
 1029              		.loc 1 1494 77 discriminator 2 view .LVU335
 1030 002a 15F0400F 		tst	r5, #64
 1031 002e 0CBF     		ite	eq
 1032 0030 0425     		moveq	r5, #4
 1033 0032 0825     		movne	r5, #8
 1034              	.L87:
 1035              	.LVL73:
1496:src/keys.c    **** 		/*
 1036              		.loc 1 1496 2 is_stmt 1 discriminator 6 view .LVU336
1496:src/keys.c    **** 		/*
 1037              		.loc 1 1496 5 is_stmt 0 discriminator 6 view .LVU337
 1038 0034 0E06     		lsls	r6, r1, #24
 1039 0036 12D4     		bmi	.L88
1511:src/keys.c    **** 			// Disallow odd complex register > 98
 1040              		.loc 1 1511 3 is_stmt 1 view .LVU338
1511:src/keys.c    **** 			// Disallow odd complex register > 98
 1041              		.loc 1 1511 20 is_stmt 0 view .LVU339
 1042 0038 104B     		ldr	r3, .L106+8
ARM GAS  /tmp/cc90KtGY.s 			page 68


 1043 003a 03EB0213 		add	r3, r3, r2, lsl #4
 1044 003e 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
1511:src/keys.c    **** 			// Disallow odd complex register > 98
 1045              		.loc 1 1511 6 view .LVU340
 1046 0040 D906     		lsls	r1, r3, #27
 1047 0042 09D5     		bpl	.L89
1511:src/keys.c    **** 			// Disallow odd complex register > 98
 1048              		.loc 1 1511 27 discriminator 1 view .LVU341
 1049 0044 6228     		cmp	r0, #98
 1050 0046 07D9     		bls	.L89
1511:src/keys.c    **** 			// Disallow odd complex register > 98
 1051              		.loc 1 1511 52 discriminator 2 view .LVU342
 1052 0048 C307     		lsls	r3, r0, #31
 1053 004a 02D4     		bmi	.L96
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1054              		.loc 1 1515 3 is_stmt 1 view .LVU343
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1055              		.loc 1 1515 28 is_stmt 0 view .LVU344
 1056 004c 223A     		subs	r2, r2, #34
 1057              	.LVL74:
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1058              		.loc 1 1515 6 view .LVU345
 1059 004e 012A     		cmp	r2, #1
 1060 0050 05D8     		bhi	.L88
 1061              	.LVL75:
 1062              	.L96:
1513:src/keys.c    **** #endif
 1063              		.loc 1 1513 11 view .LVU346
 1064 0052 3324     		movs	r4, #51
 1065              	.LVL76:
1522:src/keys.c    **** 
 1066              		.loc 1 1522 1 view .LVU347
 1067 0054 2046     		mov	r0, r4
 1068              	.LVL77:
1522:src/keys.c    **** 
 1069              		.loc 1 1522 1 view .LVU348
 1070 0056 70BD     		pop	{r4, r5, r6, pc}
 1071              	.LVL78:
 1072              	.L89:
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1073              		.loc 1 1515 3 is_stmt 1 view .LVU349
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1074              		.loc 1 1515 28 is_stmt 0 view .LVU350
 1075 0058 223A     		subs	r2, r2, #34
 1076              	.LVL79:
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1077              		.loc 1 1515 6 view .LVU351
 1078 005a 012A     		cmp	r2, #1
 1079 005c 05D9     		bls	.L105
 1080              	.LVL80:
 1081              	.L88:
1520:src/keys.c    **** 	return r;
 1082              		.loc 1 1520 2 is_stmt 1 view .LVU352
 1083 005e FFF7FEFF 		bl	reset_arg
 1084              	.LVL81:
1521:src/keys.c    **** }
 1085              		.loc 1 1521 2 view .LVU353
ARM GAS  /tmp/cc90KtGY.s 			page 69


1522:src/keys.c    **** 
 1086              		.loc 1 1522 1 is_stmt 0 view .LVU354
 1087 0062 2046     		mov	r0, r4
 1088 0064 70BD     		pop	{r4, r5, r6, pc}
 1089              	.LVL82:
 1090              	.L92:
1494:src/keys.c    **** 
 1091              		.loc 1 1494 77 view .LVU355
 1092 0066 0425     		movs	r5, #4
 1093 0068 E4E7     		b	.L87
 1094              	.LVL83:
 1095              	.L105:
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1096              		.loc 1 1515 73 discriminator 1 view .LVU356
 1097 006a C5F16405 		rsb	r5, r5, #100
 1098              	.LVL84:
1515:src/keys.c    **** 			// Avoid stack clash for STOS/RCLS
 1099              		.loc 1 1515 52 discriminator 1 view .LVU357
 1100 006e 8542     		cmp	r5, r0
 1101 0070 F5D2     		bcs	.L88
 1102 0072 EEE7     		b	.L96
 1103              	.L107:
 1104              		.align	2
 1105              	.L106:
 1106 0074 00000000 		.word	StateWhileOn
 1107 0078 00000000 		.word	main_ram
 1108 007c 00000000 		.word	argcmds
 1109              		.cfi_endproc
 1110              	.LFE30:
 1112              		.section	.text.process_arg_shuffle,"ax",%progbits
 1113              		.align	1
 1114              		.p2align 2,,3
 1115              		.syntax unified
 1116              		.thumb
 1117              		.thumb_func
 1118              		.fpu fpv4-sp-d16
 1120              	process_arg_shuffle:
 1121              	.LVL85:
 1122              	.LFB36:
1636:src/keys.c    **** 	State2.digval += r << (State2.numdigit++ << 1);
 1123              		.loc 1 1636 39 is_stmt 1 view -0
 1124              		.cfi_startproc
 1125              		@ args = 0, pretend = 0, frame = 0
 1126              		@ frame_needed = 0, uses_anonymous_args = 0
 1127              		@ link register save eliminated.
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1128              		.loc 1 1637 2 view .LVU359
1636:src/keys.c    **** 	State2.digval += r << (State2.numdigit++ << 1);
 1129              		.loc 1 1636 39 is_stmt 0 view .LVU360
 1130 0000 10B4     		push	{r4}
 1131              		.cfi_def_cfa_offset 4
 1132              		.cfi_offset 4, -4
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1133              		.loc 1 1637 31 view .LVU361
 1134 0002 0A4A     		ldr	r2, .L111
 1135 0004 D37A     		ldrb	r3, [r2, #11]	@ zero_extendqisi2
1637:src/keys.c    **** 	if (State2.numdigit < 4)
ARM GAS  /tmp/cc90KtGY.s 			page 70


 1136              		.loc 1 1637 16 view .LVU362
 1137 0006 1189     		ldrh	r1, [r2, #8]
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1138              		.loc 1 1637 43 view .LVU363
 1139 0008 5C00     		lsls	r4, r3, #1
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1140              		.loc 1 1637 21 view .LVU364
 1141 000a A040     		lsls	r0, r0, r4
 1142              	.LVL86:
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1143              		.loc 1 1637 40 view .LVU365
 1144 000c 0133     		adds	r3, r3, #1
 1145 000e DBB2     		uxtb	r3, r3
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1146              		.loc 1 1637 16 view .LVU366
 1147 0010 0844     		add	r0, r0, r1
 1148 0012 80B2     		uxth	r0, r0
1638:src/keys.c    **** 		return STATE_UNFINISHED;
 1149              		.loc 1 1638 5 view .LVU367
 1150 0014 032B     		cmp	r3, #3
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1151              		.loc 1 1637 40 view .LVU368
 1152 0016 D372     		strb	r3, [r2, #11]
1637:src/keys.c    **** 	if (State2.numdigit < 4)
 1153              		.loc 1 1637 16 view .LVU369
 1154 0018 1081     		strh	r0, [r2, #8]	@ movhi
1638:src/keys.c    **** 		return STATE_UNFINISHED;
 1155              		.loc 1 1638 2 is_stmt 1 view .LVU370
1638:src/keys.c    **** 		return STATE_UNFINISHED;
 1156              		.loc 1 1638 5 is_stmt 0 view .LVU371
 1157 001a 03D9     		bls	.L109
1640:src/keys.c    **** }
 1158              		.loc 1 1640 2 is_stmt 1 view .LVU372
1641:src/keys.c    **** 
 1159              		.loc 1 1641 1 is_stmt 0 view .LVU373
 1160 001c 5DF8044B 		ldr	r4, [sp], #4
 1161              		.cfi_remember_state
 1162              		.cfi_restore 4
 1163              		.cfi_def_cfa_offset 0
1640:src/keys.c    **** }
 1164              		.loc 1 1640 9 view .LVU374
 1165 0020 FFF7FEBF 		b	arg_eval
 1166              	.LVL87:
 1167              	.L109:
 1168              		.cfi_restore_state
1641:src/keys.c    **** 
 1169              		.loc 1 1641 1 view .LVU375
 1170 0024 3320     		movs	r0, #51
 1171 0026 5DF8044B 		ldr	r4, [sp], #4
 1172              		.cfi_restore 4
 1173              		.cfi_def_cfa_offset 0
 1174 002a 7047     		bx	lr
 1175              	.L112:
 1176              		.align	2
 1177              	.L111:
 1178 002c 00000000 		.word	StateWhileOn
 1179              		.cfi_endproc
ARM GAS  /tmp/cc90KtGY.s 			page 71


 1180              	.LFE36:
 1182              		.section	.text.arg_digit,"ax",%progbits
 1183              		.align	1
 1184              		.p2align 2,,3
 1185              		.syntax unified
 1186              		.thumb
 1187              		.thumb_func
 1188              		.fpu fpv4-sp-d16
 1190              	arg_digit:
 1191              	.LVL88:
 1192              	.LFB31:
1524:src/keys.c    **** 	int lim;
 1193              		.loc 1 1524 29 is_stmt 1 view -0
 1194              		.cfi_startproc
 1195              		@ args = 0, pretend = 0, frame = 0
 1196              		@ frame_needed = 0, uses_anonymous_args = 0
1525:src/keys.c    **** #ifdef INCLUDE_SIGFIG_MODE
 1197              		.loc 1 1525 2 view .LVU377
1530:src/keys.c    **** #endif
 1198              		.loc 1 1530 2 view .LVU378
1524:src/keys.c    **** 	int lim;
 1199              		.loc 1 1524 29 is_stmt 0 view .LVU379
 1200 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1201              		.cfi_def_cfa_offset 24
 1202              		.cfi_offset 3, -24
 1203              		.cfi_offset 4, -20
 1204              		.cfi_offset 5, -16
 1205              		.cfi_offset 6, -12
 1206              		.cfi_offset 7, -8
 1207              		.cfi_offset 14, -4
1530:src/keys.c    **** #endif
 1208              		.loc 1 1530 28 view .LVU380
 1209 0002 314C     		ldr	r4, .L138
1533:src/keys.c    **** 	
 1210              		.loc 1 1533 34 view .LVU381
 1211 0004 314A     		ldr	r2, .L138+4
1530:src/keys.c    **** #endif
 1212              		.loc 1 1530 28 view .LVU382
 1213 0006 E77F     		ldrb	r7, [r4, #31]	@ zero_extendqisi2
 1214              	.LVL89:
1532:src/keys.c    **** 	const int is_reg = argcmds[base].reg || State2.ind;
 1215              		.loc 1 1532 2 is_stmt 1 view .LVU383
1532:src/keys.c    **** 	const int is_reg = argcmds[base].reg || State2.ind;
 1216              		.loc 1 1532 33 is_stmt 0 view .LVU384
 1217 0008 2389     		ldrh	r3, [r4, #8]
1533:src/keys.c    **** 	
 1218              		.loc 1 1533 34 view .LVU385
 1219 000a 02EB0712 		add	r2, r2, r7, lsl #4
1532:src/keys.c    **** 	const int is_reg = argcmds[base].reg || State2.ind;
 1220              		.loc 1 1532 41 view .LVU386
 1221 000e 03EB8303 		add	r3, r3, r3, lsl #2
1533:src/keys.c    **** 	
 1222              		.loc 1 1533 34 view .LVU387
 1223 0012 5179     		ldrb	r1, [r2, #5]	@ zero_extendqisi2
1533:src/keys.c    **** 	
 1224              		.loc 1 1533 39 view .LVU388
 1225 0014 8E07     		lsls	r6, r1, #30
ARM GAS  /tmp/cc90KtGY.s 			page 72


1532:src/keys.c    **** 	const int is_reg = argcmds[base].reg || State2.ind;
 1226              		.loc 1 1532 46 view .LVU389
 1227 0016 00EB4305 		add	r5, r0, r3, lsl #1
 1228              	.LVL90:
1533:src/keys.c    **** 	
 1229              		.loc 1 1533 2 is_stmt 1 view .LVU390
1533:src/keys.c    **** 	
 1230              		.loc 1 1533 39 is_stmt 0 view .LVU391
 1231 001a C1F34000 		ubfx	r0, r1, #1, #1
 1232              	.LVL91:
1533:src/keys.c    **** 	
 1233              		.loc 1 1533 39 view .LVU392
 1234 001e 32D5     		bpl	.L114
 1235              	.LVL92:
1535:src/keys.c    **** 		// Handle local registers and flags
 1236              		.loc 1 1535 2 is_stmt 1 view .LVU393
1535:src/keys.c    **** 		// Handle local registers and flags
 1237              		.loc 1 1535 6 is_stmt 0 view .LVU394
 1238 0020 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
1535:src/keys.c    **** 		// Handle local registers and flags
 1239              		.loc 1 1535 5 view .LVU395
 1240 0022 D907     		lsls	r1, r3, #31
 1241 0024 28D5     		bpl	.L116
 1242              	.L127:
1533:src/keys.c    **** 	
 1243              		.loc 1 1533 39 view .LVU396
 1244 0026 0120     		movs	r0, #1
 1245              	.LVL93:
 1246              	.L115:
1537:src/keys.c    **** 		if (State2.runmode) {
 1247              		.loc 1 1537 3 is_stmt 1 view .LVU397
1538:src/keys.c    **** 			if (LocalRegs == 0)
 1248              		.loc 1 1538 3 view .LVU398
1538:src/keys.c    **** 			if (LocalRegs == 0)
 1249              		.loc 1 1538 6 is_stmt 0 view .LVU399
 1250 0028 5A06     		lsls	r2, r3, #25
 1251 002a 3BD5     		bpl	.L129
1539:src/keys.c    **** 				return STATE_UNFINISHED;		// no local flags or registers
 1252              		.loc 1 1539 4 is_stmt 1 view .LVU400
1539:src/keys.c    **** 				return STATE_UNFINISHED;		// no local flags or registers
 1253              		.loc 1 1539 8 is_stmt 0 view .LVU401
 1254 002c 284B     		ldr	r3, .L138+8
 1255 002e 1B68     		ldr	r3, [r3]
1539:src/keys.c    **** 				return STATE_UNFINISHED;		// no local flags or registers
 1256              		.loc 1 1539 7 view .LVU402
 1257 0030 B3F9DE37 		ldrsh	r3, [r3, #2014]
 1258 0034 2BB3     		cbz	r3, .L122
1541:src/keys.c    **** 				lim = local_regs_rarg((enum rarg) base) - 1;
 1259              		.loc 1 1541 4 is_stmt 1 view .LVU403
1541:src/keys.c    **** 				lim = local_regs_rarg((enum rarg) base) - 1;
 1260              		.loc 1 1541 7 is_stmt 0 view .LVU404
 1261 0036 A8B3     		cbz	r0, .L129
1542:src/keys.c    **** 				if (lim >= MAX_LOCAL_DIRECT)
 1262              		.loc 1 1542 5 is_stmt 1 view .LVU405
1542:src/keys.c    **** 				if (lim >= MAX_LOCAL_DIRECT)
 1263              		.loc 1 1542 11 is_stmt 0 view .LVU406
 1264 0038 3846     		mov	r0, r7
ARM GAS  /tmp/cc90KtGY.s 			page 73


 1265 003a FFF7FEFF 		bl	local_regs_rarg
 1266              	.LVL94:
1543:src/keys.c    **** 					lim = MAX_LOCAL_DIRECT - 1;	// in case of more than 16 locals
 1267              		.loc 1 1543 5 is_stmt 1 view .LVU407
1542:src/keys.c    **** 				if (lim >= MAX_LOCAL_DIRECT)
 1268              		.loc 1 1542 9 is_stmt 0 view .LVU408
 1269 003e 0138     		subs	r0, r0, #1
 1270              	.LVL95:
1542:src/keys.c    **** 				if (lim >= MAX_LOCAL_DIRECT)
 1271              		.loc 1 1542 9 view .LVU409
 1272 0040 0F28     		cmp	r0, #15
 1273 0042 A8BF     		it	ge
 1274 0044 0F20     		movge	r0, #15
 1275              	.LVL96:
 1276              	.L119:
1555:src/keys.c    **** 		return STATE_UNFINISHED;
 1277              		.loc 1 1555 2 is_stmt 1 view .LVU410
1555:src/keys.c    **** 		return STATE_UNFINISHED;
 1278              		.loc 1 1555 5 is_stmt 0 view .LVU411
 1279 0046 8542     		cmp	r5, r0
 1280 0048 1BDC     		bgt	.L122
 1281              	.L136:
1558:src/keys.c    **** 	++State2.numdigit;
 1282              		.loc 1 1558 2 is_stmt 1 view .LVU412
1559:src/keys.c    **** 	if ((int) val * 10 > lim || State2.numdigit >= num_arg_digits(base)) {
 1283              		.loc 1 1559 2 is_stmt 0 view .LVU413
 1284 004a E67A     		ldrb	r6, [r4, #11]	@ zero_extendqisi2
1558:src/keys.c    **** 	++State2.numdigit;
 1285              		.loc 1 1558 16 view .LVU414
 1286 004c 2581     		strh	r5, [r4, #8]	@ movhi
1559:src/keys.c    **** 	if ((int) val * 10 > lim || State2.numdigit >= num_arg_digits(base)) {
 1287              		.loc 1 1559 2 is_stmt 1 view .LVU415
 1288 004e 0136     		adds	r6, r6, #1
1560:src/keys.c    **** 		int result = arg_eval(val);
 1289              		.loc 1 1560 16 is_stmt 0 view .LVU416
 1290 0050 05EB8503 		add	r3, r5, r5, lsl #2
1559:src/keys.c    **** 	if ((int) val * 10 > lim || State2.numdigit >= num_arg_digits(base)) {
 1291              		.loc 1 1559 2 view .LVU417
 1292 0054 F6B2     		uxtb	r6, r6
1560:src/keys.c    **** 		int result = arg_eval(val);
 1293              		.loc 1 1560 5 view .LVU418
 1294 0056 B0EB430F 		cmp	r0, r3, lsl #1
1559:src/keys.c    **** 	if ((int) val * 10 > lim || State2.numdigit >= num_arg_digits(base)) {
 1295              		.loc 1 1559 2 view .LVU419
 1296 005a E672     		strb	r6, [r4, #11]
1560:src/keys.c    **** 		int result = arg_eval(val);
 1297              		.loc 1 1560 2 is_stmt 1 view .LVU420
1560:src/keys.c    **** 		int result = arg_eval(val);
 1298              		.loc 1 1560 5 is_stmt 0 view .LVU421
 1299 005c 04DB     		blt	.L125
1560:src/keys.c    **** 		int result = arg_eval(val);
 1300              		.loc 1 1560 49 discriminator 1 view .LVU422
 1301 005e 3846     		mov	r0, r7
 1302              	.LVL97:
1560:src/keys.c    **** 		int result = arg_eval(val);
 1303              		.loc 1 1560 49 discriminator 1 view .LVU423
 1304 0060 FFF7FEFF 		bl	num_arg_digits
ARM GAS  /tmp/cc90KtGY.s 			page 74


 1305              	.LVL98:
1560:src/keys.c    **** 		int result = arg_eval(val);
 1306              		.loc 1 1560 27 discriminator 1 view .LVU424
 1307 0064 8642     		cmp	r6, r0
 1308 0066 0CDB     		blt	.L122
 1309              	.L125:
 1310              	.LBB262:
1561:src/keys.c    **** 		if ( result == STATE_UNFINISHED ) {
 1311              		.loc 1 1561 3 is_stmt 1 view .LVU425
1561:src/keys.c    **** 		if ( result == STATE_UNFINISHED ) {
 1312              		.loc 1 1561 16 is_stmt 0 view .LVU426
 1313 0068 2846     		mov	r0, r5
 1314 006a FFF7FEFF 		bl	arg_eval
 1315              	.LVL99:
1562:src/keys.c    **** 			--State2.numdigit;
 1316              		.loc 1 1562 3 is_stmt 1 view .LVU427
1562:src/keys.c    **** 			--State2.numdigit;
 1317              		.loc 1 1562 6 is_stmt 0 view .LVU428
 1318 006e 3328     		cmp	r0, #51
 1319 0070 1AD0     		beq	.L134
 1320              	.LBE262:
1569:src/keys.c    **** 
 1321              		.loc 1 1569 1 view .LVU429
 1322 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1323              	.LVL100:
 1324              	.L137:
1535:src/keys.c    **** 		// Handle local registers and flags
 1325              		.loc 1 1535 2 is_stmt 1 view .LVU430
1535:src/keys.c    **** 		// Handle local registers and flags
 1326              		.loc 1 1535 5 is_stmt 0 view .LVU431
 1327 0074 DA07     		lsls	r2, r3, #31
 1328 0076 D6D4     		bmi	.L127
 1329              	.L116:
1549:src/keys.c    **** 	else {
 1330              		.loc 1 1549 3 is_stmt 1 view .LVU432
1549:src/keys.c    **** 	else {
 1331              		.loc 1 1549 65 is_stmt 0 view .LVU433
 1332 0078 5B06     		lsls	r3, r3, #25
 1333 007a 1FD4     		bmi	.L135
 1334 007c 6320     		movs	r0, #99
 1335              	.LVL101:
1555:src/keys.c    **** 		return STATE_UNFINISHED;
 1336              		.loc 1 1555 2 is_stmt 1 view .LVU434
1555:src/keys.c    **** 		return STATE_UNFINISHED;
 1337              		.loc 1 1555 5 is_stmt 0 view .LVU435
 1338 007e 8542     		cmp	r5, r0
 1339 0080 E3DD     		ble	.L136
 1340              	.LVL102:
 1341              	.L122:
1540:src/keys.c    **** 			if (is_reg) {
 1342              		.loc 1 1540 12 view .LVU436
 1343 0082 3320     		movs	r0, #51
1569:src/keys.c    **** 
 1344              		.loc 1 1569 1 view .LVU437
 1345 0084 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1346              	.LVL103:
 1347              	.L114:
ARM GAS  /tmp/cc90KtGY.s 			page 75


1533:src/keys.c    **** 	
 1348              		.loc 1 1533 39 discriminator 2 view .LVU438
 1349 0086 94F91530 		ldrsb	r3, [r4, #21]
 1350 008a 002B     		cmp	r3, #0
1535:src/keys.c    **** 		// Handle local registers and flags
 1351              		.loc 1 1535 6 discriminator 2 view .LVU439
 1352 008c A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
1533:src/keys.c    **** 	
 1353              		.loc 1 1533 39 discriminator 2 view .LVU440
 1354 008e F1DB     		blt	.L137
 1355              	.LVL104:
1535:src/keys.c    **** 		// Handle local registers and flags
 1356              		.loc 1 1535 2 is_stmt 1 view .LVU441
1535:src/keys.c    **** 		// Handle local registers and flags
 1357              		.loc 1 1535 5 is_stmt 0 view .LVU442
 1358 0090 DE07     		lsls	r6, r3, #31
 1359 0092 C9D4     		bmi	.L115
1548:src/keys.c    **** 		lim = State2.runmode ? global_regs_rarg((enum rarg) base) - 1 : TOPREALREG - 1;
 1360              		.loc 1 1548 7 is_stmt 1 view .LVU443
1551:src/keys.c    **** 		if (lim >= RARG_IND && argcmds[base].indirectokay)
 1361              		.loc 1 1551 3 view .LVU444
1551:src/keys.c    **** 		if (lim >= RARG_IND && argcmds[base].indirectokay)
 1362              		.loc 1 1551 7 is_stmt 0 view .LVU445
 1363 0094 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 1364              	.LVL105:
1552:src/keys.c    **** 			lim = RARG_IND - 1;
 1365              		.loc 1 1552 3 is_stmt 1 view .LVU446
1552:src/keys.c    **** 			lim = RARG_IND - 1;
 1366              		.loc 1 1552 6 is_stmt 0 view .LVU447
 1367 0096 7F28     		cmp	r0, #127
 1368 0098 D5DD     		ble	.L119
1553:src/keys.c    **** 	}
 1369              		.loc 1 1553 8 discriminator 1 view .LVU448
 1370 009a 11F0010F 		tst	r1, #1
 1371 009e 18BF     		it	ne
 1372 00a0 7F20     		movne	r0, #127
 1373              	.LVL106:
1553:src/keys.c    **** 	}
 1374              		.loc 1 1553 8 discriminator 1 view .LVU449
 1375 00a2 D0E7     		b	.L119
 1376              	.LVL107:
 1377              	.L129:
1537:src/keys.c    **** 		if (State2.runmode) {
 1378              		.loc 1 1537 7 view .LVU450
 1379 00a4 0F20     		movs	r0, #15
 1380 00a6 CEE7     		b	.L119
 1381              	.LVL108:
 1382              	.L134:
 1383              	.LBB263:
1563:src/keys.c    **** 			State2.digval /= 10;
 1384              		.loc 1 1563 4 is_stmt 1 view .LVU451
1564:src/keys.c    **** 		}
 1385              		.loc 1 1564 18 is_stmt 0 view .LVU452
 1386 00a8 2389     		ldrh	r3, [r4, #8]
 1387 00aa 0A49     		ldr	r1, .L138+12
1563:src/keys.c    **** 			State2.digval /= 10;
 1388              		.loc 1 1563 4 view .LVU453
ARM GAS  /tmp/cc90KtGY.s 			page 76


 1389 00ac E27A     		ldrb	r2, [r4, #11]	@ zero_extendqisi2
1564:src/keys.c    **** 		}
 1390              		.loc 1 1564 18 view .LVU454
 1391 00ae A1FB0313 		umull	r1, r3, r1, r3
 1392 00b2 DB08     		lsrs	r3, r3, #3
1563:src/keys.c    **** 			State2.digval /= 10;
 1393              		.loc 1 1563 4 view .LVU455
 1394 00b4 013A     		subs	r2, r2, #1
1564:src/keys.c    **** 		}
 1395              		.loc 1 1564 18 view .LVU456
 1396 00b6 2381     		strh	r3, [r4, #8]	@ movhi
1563:src/keys.c    **** 			State2.digval /= 10;
 1397              		.loc 1 1563 4 view .LVU457
 1398 00b8 E272     		strb	r2, [r4, #11]
1564:src/keys.c    **** 		}
 1399              		.loc 1 1564 4 is_stmt 1 view .LVU458
 1400              	.LBE263:
1569:src/keys.c    **** 
 1401              		.loc 1 1569 1 is_stmt 0 view .LVU459
 1402 00ba F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1403              	.LVL109:
 1404              	.L135:
1549:src/keys.c    **** 	else {
 1405              		.loc 1 1549 26 discriminator 1 view .LVU460
 1406 00bc 3846     		mov	r0, r7
 1407 00be FFF7FEFF 		bl	global_regs_rarg
 1408              	.LVL110:
1549:src/keys.c    **** 	else {
 1409              		.loc 1 1549 61 discriminator 1 view .LVU461
 1410 00c2 0138     		subs	r0, r0, #1
 1411 00c4 BFE7     		b	.L119
 1412              	.L139:
 1413 00c6 00BF     		.align	2
 1414              	.L138:
 1415 00c8 00000000 		.word	StateWhileOn
 1416 00cc 00000000 		.word	argcmds
 1417 00d0 00000000 		.word	main_ram
 1418 00d4 CDCCCCCC 		.word	-858993459
 1419              		.cfi_endproc
 1420              	.LFE31:
 1422              		.section	.text.intltr,"ax",%progbits
 1423              		.align	1
 1424              		.p2align 2,,3
 1425              		.syntax unified
 1426              		.thumb
 1427              		.thumb_func
 1428              		.fpu fpv4-sp-d16
 1430              	intltr:
 1431              	.LVL111:
 1432              	.LFB18:
 666:src/keys.c    **** 	return (UState.intm && (! State2.runmode || (int) int_base() > d));
 1433              		.loc 1 666 26 is_stmt 1 view -0
 1434              		.cfi_startproc
 1435              		@ args = 0, pretend = 0, frame = 0
 1436              		@ frame_needed = 0, uses_anonymous_args = 0
 667:src/keys.c    **** }
 1437              		.loc 1 667 2 view .LVU463
ARM GAS  /tmp/cc90KtGY.s 			page 77


 667:src/keys.c    **** }
 1438              		.loc 1 667 10 is_stmt 0 view .LVU464
 1439 0000 0B4B     		ldr	r3, .L149
 1440 0002 1B68     		ldr	r3, [r3]
 1441 0004 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 667:src/keys.c    **** }
 1442              		.loc 1 667 22 view .LVU465
 1443 0008 13F00103 		ands	r3, r3, #1
 1444 000c 05D0     		beq	.L142
 667:src/keys.c    **** }
 1445              		.loc 1 667 26 discriminator 1 view .LVU466
 1446 000e 094B     		ldr	r3, .L149+4
 1447 0010 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 667:src/keys.c    **** }
 1448              		.loc 1 667 22 discriminator 1 view .LVU467
 1449 0012 5B06     		lsls	r3, r3, #25
 1450 0014 03D4     		bmi	.L148
 667:src/keys.c    **** }
 1451              		.loc 1 667 22 view .LVU468
 1452 0016 0120     		movs	r0, #1
 1453              	.LVL112:
 668:src/keys.c    **** 
 1454              		.loc 1 668 1 view .LVU469
 1455 0018 7047     		bx	lr
 1456              	.LVL113:
 1457              	.L142:
 667:src/keys.c    **** }
 1458              		.loc 1 667 22 view .LVU470
 1459 001a 1846     		mov	r0, r3
 1460              	.LVL114:
 667:src/keys.c    **** }
 1461              		.loc 1 667 22 view .LVU471
 1462 001c 7047     		bx	lr
 1463              	.LVL115:
 1464              	.L148:
 666:src/keys.c    **** 	return (UState.intm && (! State2.runmode || (int) int_base() > d));
 1465              		.loc 1 666 26 view .LVU472
 1466 001e 10B5     		push	{r4, lr}
 1467              		.cfi_def_cfa_offset 8
 1468              		.cfi_offset 4, -8
 1469              		.cfi_offset 14, -4
 1470 0020 0446     		mov	r4, r0
 1471              	.LVL116:
 1472              	.LBB266:
 1473              	.LBI266:
 666:src/keys.c    **** 	return (UState.intm && (! State2.runmode || (int) int_base() > d));
 1474              		.loc 1 666 12 is_stmt 1 view .LVU473
 1475              	.LBB267:
 667:src/keys.c    **** }
 1476              		.loc 1 667 52 is_stmt 0 view .LVU474
 1477 0022 FFF7FEFF 		bl	int_base
 1478              	.LVL117:
 667:src/keys.c    **** }
 1479              		.loc 1 667 43 view .LVU475
 1480 0026 8442     		cmp	r4, r0
 1481 0028 ACBF     		ite	ge
 1482 002a 0020     		movge	r0, #0
ARM GAS  /tmp/cc90KtGY.s 			page 78


 1483 002c 0120     		movlt	r0, #1
 1484              	.LBE267:
 1485              	.LBE266:
 668:src/keys.c    **** 
 1486              		.loc 1 668 1 view .LVU476
 1487 002e 10BD     		pop	{r4, pc}
 1488              	.LVL118:
 1489              	.L150:
 668:src/keys.c    **** 
 1490              		.loc 1 668 1 view .LVU477
 1491              		.align	2
 1492              	.L149:
 1493 0030 00000000 		.word	main_ram
 1494 0034 00000000 		.word	StateWhileOn
 1495              		.cfi_endproc
 1496              	.LFE18:
 1498              		.section	.text.set_window,"ax",%progbits
 1499              		.align	1
 1500              		.p2align 2,,3
 1501              		.syntax unified
 1502              		.thumb
 1503              		.thumb_func
 1504              		.fpu fpv4-sp-d16
 1506              	set_window:
 1507              	.LVL119:
 1508              	.LFB53:
2527:src/keys.c    **** 
2528:src/keys.c    **** 
2529:src/keys.c    **** /*
2530:src/keys.c    ****  *  CAT command
2531:src/keys.c    ****  */
2532:src/keys.c    **** static int process_labellist(const keycode c) {
2533:src/keys.c    **** 	unsigned int pc = State2.digval;
2534:src/keys.c    **** 	const unsigned int n = c == K62 ? REGION_XROM 
2535:src/keys.c    **** 		                        : keycode_to_digit_or_register(c) & ~NO_SHORT;
2536:src/keys.c    **** 	const int opcode = getprog(pc);
2537:src/keys.c    **** 	const int label = isDBL(opcode) ? (getprog(pc) & 0xfffff0ff) : 0;
2538:src/keys.c    **** 	const int direct = State2.runmode;
2539:src/keys.c    **** 	const enum shifts shift = reset_shift();
2540:src/keys.c    **** 	int op = STATE_UNFINISHED;
2541:src/keys.c    **** 
2542:src/keys.c    **** 	if (n < REGION_XROM) {
2543:src/keys.c    **** 		// Digits take you to that segment
2544:src/keys.c    **** 		pc = addrLIB(1, n);
2545:src/keys.c    **** 		if (! is_label_or_end_at(pc, 0))
2546:src/keys.c    **** 			pc = advance_to_next_label(pc, 1, 0);
2547:src/keys.c    **** 		State2.digval = pc;
2548:src/keys.c    **** 		return STATE_UNFINISHED;
2549:src/keys.c    **** 	}
2550:src/keys.c    **** 
2551:src/keys.c    **** 	switch (c | (shift << 8)) {
2552:src/keys.c    **** 
2553:src/keys.c    **** 	case K_UP | (SHIFT_F << 8):		// Find first label of previous program
2554:src/keys.c    **** 		pc = advance_to_previous_label(advance_to_previous_label(pc, 1), 1);
2555:src/keys.c    **** 		goto next;
2556:src/keys.c    **** 
2557:src/keys.c    **** 	case K_DOWN | (SHIFT_F << 8):		// Find next program
ARM GAS  /tmp/cc90KtGY.s 			page 79


2558:src/keys.c    **** 		pc = advance_to_next_label(pc, 0, 1);
2559:src/keys.c    **** 	case K_DOWN:				// Find next label
2560:src/keys.c    **** 	next:
2561:src/keys.c    **** 		State2.digval = advance_to_next_label(pc, 1, 0);
2562:src/keys.c    **** 		return STATE_UNFINISHED;
2563:src/keys.c    **** 
2564:src/keys.c    **** 	case K_UP:				// Find previous label
2565:src/keys.c    **** 		State2.digval = advance_to_previous_label(pc, 0);
2566:src/keys.c    **** 		return STATE_UNFINISHED;
2567:src/keys.c    **** 
2568:src/keys.c    **** 	case K24:				// <- exits
2569:src/keys.c    **** 		break;
2570:src/keys.c    **** 
2571:src/keys.c    **** 	case K20:				// ENTER^
2572:src/keys.c    **** 	set_pc_and_exit:
2573:src/keys.c    **** 		set_pc(pc);			// forced branch
2574:src/keys.c    **** 		break;
2575:src/keys.c    **** 
2576:src/keys.c    **** 	case K24 | (SHIFT_F << 8):		// CLP
2577:src/keys.c    **** 		op = (OP_NIL | OP_CLPROG);
2578:src/keys.c    **** 		goto set_pc_and_exit;
2579:src/keys.c    **** 
2580:src/keys.c    **** 	case K10:				// STO
2581:src/keys.c    **** 	case K11:				// RCL
2582:src/keys.c    **** #ifndef DM42	
2583:src/keys.c    **** 		op = c == K10 ? (OP_NIL | OP_PSTO) : (OP_NIL | OP_PRCL);
2584:src/keys.c    **** #endif
2585:src/keys.c    **** #ifdef DM42
2586:src/keys.c    **** 	        op = OP_NIL;
2587:src/keys.c    **** #endif	    
2588:src/keys.c    **** 	  goto set_pc_and_exit;
2589:src/keys.c    **** #ifdef DM42
2590:src/keys.c    **** 	case K05:				// XEQ
2591:src/keys.c    **** 		op = (DBL_XEQ << DBL_SHIFT) + label;
2592:src/keys.c    **** 		goto xeq_or_gto;
2593:src/keys.c    **** 
2594:src/keys.c    **** 	case K05 | (SHIFT_F << 8):		// GTO
2595:src/keys.c    **** 		op = (DBL_GTO << DBL_SHIFT) + label;
2596:src/keys.c    **** 	xeq_or_gto:
2597:src/keys.c    **** 		if (label)
2598:src/keys.c    **** 			break;
2599:src/keys.c    **** 		return STATE_UNFINISHED;
2600:src/keys.c    **** #else
2601:src/keys.c    **** 	case K30:				// XEQ
2602:src/keys.c    **** 		op = (DBL_XEQ << DBL_SHIFT) + label;
2603:src/keys.c    **** 		goto xeq_or_gto;
2604:src/keys.c    **** 
2605:src/keys.c    **** 	case K30 | (SHIFT_H << 8):		// GTO
2606:src/keys.c    **** 		op = (DBL_GTO << DBL_SHIFT) + label;
2607:src/keys.c    **** 	xeq_or_gto:
2608:src/keys.c    **** 		if (label)
2609:src/keys.c    **** 			break;
2610:src/keys.c    **** 		return STATE_UNFINISHED;
2611:src/keys.c    **** #endif		
2612:src/keys.c    **** 	case K63:				// R/S
2613:src/keys.c    **** 		if (direct && label) {
2614:src/keys.c    **** 			cmdgtocommon(1, pc);	// set pc and push return address
ARM GAS  /tmp/cc90KtGY.s 			page 80


2615:src/keys.c    **** 			op = STATE_RUNNING;	// quit the browser, start program
2616:src/keys.c    **** 			break;
2617:src/keys.c    **** 		}
2618:src/keys.c    **** 		return STATE_UNFINISHED;
2619:src/keys.c    **** 
2620:src/keys.c    **** 	case K63 | (SHIFT_H << 8):		// P/R
2621:src/keys.c    **** 		State2.runmode = 0;		// switch to program mode
2622:src/keys.c    **** 		goto set_pc_and_exit;
2623:src/keys.c    **** 
2624:src/keys.c    **** 	default:
2625:src/keys.c    **** 		return STATE_UNFINISHED;
2626:src/keys.c    **** 	}
2627:src/keys.c    **** 	State2.digval = 0;
2628:src/keys.c    **** 	State2.labellist = 0;
2629:src/keys.c    **** 	return check_confirm(op);
2630:src/keys.c    **** }
2631:src/keys.c    **** 
2632:src/keys.c    **** 
2633:src/keys.c    **** static void set_window(int c) {
 1509              		.loc 1 2633 31 is_stmt 1 view -0
 1510              		.cfi_startproc
 1511              		@ args = 0, pretend = 0, frame = 0
 1512              		@ frame_needed = 0, uses_anonymous_args = 0
2634:src/keys.c    **** 
2635:src/keys.c    **** 	if (State2.runmode) {
 1513              		.loc 1 2635 2 view .LVU479
2633:src/keys.c    **** 
 1514              		.loc 1 2633 31 is_stmt 0 view .LVU480
 1515 0000 38B5     		push	{r3, r4, r5, lr}
 1516              		.cfi_def_cfa_offset 16
 1517              		.cfi_offset 3, -16
 1518              		.cfi_offset 4, -12
 1519              		.cfi_offset 5, -8
 1520              		.cfi_offset 14, -4
 1521              		.loc 1 2635 6 view .LVU481
 1522 0002 224C     		ldr	r4, .L166
 1523 0004 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 1524              		.loc 1 2635 5 view .LVU482
 1525 0006 5A06     		lsls	r2, r3, #25
 1526 0008 00D4     		bmi	.L163
 1527              	.LVL120:
 1528              	.L151:
2636:src/keys.c    **** 		process_cmdline_set_lift();
2637:src/keys.c    **** 		// Make sure IntMaxWindow is recalculated
2638:src/keys.c    **** 		State2.disp_freeze = 0;
2639:src/keys.c    **** 		display();	
2640:src/keys.c    **** 		if (c == STATE_WINDOWRIGHT) {
2641:src/keys.c    **** 			if (UState.intm) {
2642:src/keys.c    **** 				if (IntMaxWindow > 0 && State2.window > 0)
2643:src/keys.c    **** 					State2.window--;
2644:src/keys.c    **** 				return;
2645:src/keys.c    **** 			}
2646:src/keys.c    **** 			else 
2647:src/keys.c    **** 				State2.window = is_dblmode();
2648:src/keys.c    **** 		}
2649:src/keys.c    **** 		else {
2650:src/keys.c    **** 			if (UState.intm) {
ARM GAS  /tmp/cc90KtGY.s 			page 81


2651:src/keys.c    **** 				if (IntMaxWindow > (SMALL_INT) State2.window)
2652:src/keys.c    **** 					State2.window++;
2653:src/keys.c    **** 				return;
2654:src/keys.c    **** 			}
2655:src/keys.c    **** 			else
2656:src/keys.c    **** 				State2.window = 0;
2657:src/keys.c    **** 		}
2658:src/keys.c    **** 		set_smode(SDISP_SHOW);
2659:src/keys.c    **** 	}
2660:src/keys.c    **** }
 1529              		.loc 1 2660 1 view .LVU483
 1530 000a 38BD     		pop	{r3, r4, r5, pc}
 1531              	.LVL121:
 1532              	.L163:
2636:src/keys.c    **** 		process_cmdline_set_lift();
 1533              		.loc 1 2636 3 is_stmt 1 view .LVU484
 1534 000c 0546     		mov	r5, r0
 1535 000e FFF7FEFF 		bl	process_cmdline_set_lift
 1536              	.LVL122:
2638:src/keys.c    **** 		display();	
 1537              		.loc 1 2638 3 view .LVU485
2638:src/keys.c    **** 		display();	
 1538              		.loc 1 2638 22 is_stmt 0 view .LVU486
 1539 0012 E37D     		ldrb	r3, [r4, #23]	@ zero_extendqisi2
 1540 0014 6FF30413 		bfc	r3, #4, #1
 1541 0018 E375     		strb	r3, [r4, #23]
2639:src/keys.c    **** 		if (c == STATE_WINDOWRIGHT) {
 1542              		.loc 1 2639 3 is_stmt 1 view .LVU487
 1543 001a FFF7FEFF 		bl	display
 1544              	.LVL123:
2640:src/keys.c    **** 			if (UState.intm) {
 1545              		.loc 1 2640 3 view .LVU488
2641:src/keys.c    **** 				if (IntMaxWindow > 0 && State2.window > 0)
 1546              		.loc 1 2641 8 is_stmt 0 view .LVU489
 1547 001e 1C4B     		ldr	r3, .L166+4
 1548 0020 1B68     		ldr	r3, [r3]
2640:src/keys.c    **** 			if (UState.intm) {
 1549              		.loc 1 2640 6 view .LVU490
 1550 0022 2C2D     		cmp	r5, #44
2641:src/keys.c    **** 				if (IntMaxWindow > 0 && State2.window > 0)
 1551              		.loc 1 2641 8 view .LVU491
 1552 0024 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
2640:src/keys.c    **** 			if (UState.intm) {
 1553              		.loc 1 2640 6 view .LVU492
 1554 0028 18D0     		beq	.L164
2650:src/keys.c    **** 				if (IntMaxWindow > (SMALL_INT) State2.window)
 1555              		.loc 1 2650 4 is_stmt 1 view .LVU493
2650:src/keys.c    **** 				if (IntMaxWindow > (SMALL_INT) State2.window)
 1556              		.loc 1 2650 7 is_stmt 0 view .LVU494
 1557 002a 13F00103 		ands	r3, r3, #1
 1558 002e 09D1     		bne	.L165
2656:src/keys.c    **** 		}
 1559              		.loc 1 2656 5 is_stmt 1 view .LVU495
2656:src/keys.c    **** 		}
 1560              		.loc 1 2656 19 is_stmt 0 view .LVU496
 1561 0030 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 1562 0032 63F3C502 		bfi	r2, r3, #3, #3
ARM GAS  /tmp/cc90KtGY.s 			page 82


 1563 0036 2275     		strb	r2, [r4, #20]
 1564              	.L157:
2658:src/keys.c    **** 	}
 1565              		.loc 1 2658 3 is_stmt 1 view .LVU497
 1566              	.LVL124:
 1567              	.LBB274:
 1568              	.LBI274:
 646:src/keys.c    **** 	State2.smode = (State2.smode == d)?SDISP_NORMAL:d;
 1569              		.loc 1 646 13 view .LVU498
 1570              	.LBB275:
 647:src/keys.c    **** }
 1571              		.loc 1 647 2 view .LVU499
 647:src/keys.c    **** }
 1572              		.loc 1 647 15 is_stmt 0 view .LVU500
 1573 0038 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1574 003a 013B     		subs	r3, r3, #1
 1575 003c 18BF     		it	ne
 1576 003e 0123     		movne	r3, #1
 1577 0040 6374     		strb	r3, [r4, #17]
 1578              	.LVL125:
 647:src/keys.c    **** }
 1579              		.loc 1 647 15 view .LVU501
 1580              	.LBE275:
 1581              	.LBE274:
 1582              		.loc 1 2660 1 view .LVU502
 1583 0042 38BD     		pop	{r3, r4, r5, pc}
 1584              	.LVL126:
 1585              	.L165:
2651:src/keys.c    **** 					State2.window++;
 1586              		.loc 1 2651 5 is_stmt 1 view .LVU503
2651:src/keys.c    **** 					State2.window++;
 1587              		.loc 1 2651 22 is_stmt 0 view .LVU504
 1588 0044 134A     		ldr	r2, .L166+8
2651:src/keys.c    **** 					State2.window++;
 1589              		.loc 1 2651 42 view .LVU505
 1590 0046 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
2651:src/keys.c    **** 					State2.window++;
 1591              		.loc 1 2651 8 view .LVU506
 1592 0048 1168     		ldr	r1, [r2]
2651:src/keys.c    **** 					State2.window++;
 1593              		.loc 1 2651 42 view .LVU507
 1594 004a C3F3C202 		ubfx	r2, r3, #3, #3
2651:src/keys.c    **** 					State2.window++;
 1595              		.loc 1 2651 8 view .LVU508
 1596 004e 8A42     		cmp	r2, r1
 1597 0050 DBDA     		bge	.L151
2652:src/keys.c    **** 				return;
 1598              		.loc 1 2652 6 is_stmt 1 view .LVU509
2652:src/keys.c    **** 				return;
 1599              		.loc 1 2652 19 is_stmt 0 view .LVU510
 1600 0052 0132     		adds	r2, r2, #1
 1601 0054 62F3C503 		bfi	r3, r2, #3, #3
 1602 0058 2375     		strb	r3, [r4, #20]
 1603              		.loc 1 2660 1 view .LVU511
 1604 005a 38BD     		pop	{r3, r4, r5, pc}
 1605              	.LVL127:
 1606              	.L164:
ARM GAS  /tmp/cc90KtGY.s 			page 83


2641:src/keys.c    **** 				if (IntMaxWindow > 0 && State2.window > 0)
 1607              		.loc 1 2641 4 is_stmt 1 view .LVU512
2641:src/keys.c    **** 				if (IntMaxWindow > 0 && State2.window > 0)
 1608              		.loc 1 2641 7 is_stmt 0 view .LVU513
 1609 005c DB07     		lsls	r3, r3, #31
 1610 005e 0ED5     		bpl	.L155
 1611              	.LBB276:
 1612              	.LBI276:
2633:src/keys.c    **** 
 1613              		.loc 1 2633 13 is_stmt 1 view .LVU514
 1614              	.LVL128:
 1615              	.LBB277:
2642:src/keys.c    **** 					State2.window--;
 1616              		.loc 1 2642 5 view .LVU515
2642:src/keys.c    **** 					State2.window--;
 1617              		.loc 1 2642 22 is_stmt 0 view .LVU516
 1618 0060 0C4B     		ldr	r3, .L166+8
2642:src/keys.c    **** 					State2.window--;
 1619              		.loc 1 2642 8 view .LVU517
 1620 0062 1B68     		ldr	r3, [r3]
 1621 0064 002B     		cmp	r3, #0
 1622 0066 D0DD     		ble	.L151
2642:src/keys.c    **** 					State2.window--;
 1623              		.loc 1 2642 43 view .LVU518
 1624 0068 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
2642:src/keys.c    **** 					State2.window--;
 1625              		.loc 1 2642 26 view .LVU519
 1626 006a 13F0380F 		tst	r3, #56
 1627 006e CCD0     		beq	.L151
2643:src/keys.c    **** 				return;
 1628              		.loc 1 2643 6 is_stmt 1 view .LVU520
2643:src/keys.c    **** 				return;
 1629              		.loc 1 2643 12 is_stmt 0 view .LVU521
 1630 0070 C3F3C202 		ubfx	r2, r3, #3, #3
2643:src/keys.c    **** 				return;
 1631              		.loc 1 2643 19 view .LVU522
 1632 0074 0732     		adds	r2, r2, #7
 1633 0076 62F3C503 		bfi	r3, r2, #3, #3
 1634 007a 2375     		strb	r3, [r4, #20]
 1635              	.LBE277:
 1636              	.LBE276:
 1637              		.loc 1 2660 1 view .LVU523
 1638 007c 38BD     		pop	{r3, r4, r5, pc}
 1639              	.LVL129:
 1640              	.L155:
2647:src/keys.c    **** 		}
 1641              		.loc 1 2647 5 is_stmt 1 view .LVU524
2647:src/keys.c    **** 		}
 1642              		.loc 1 2647 21 is_stmt 0 view .LVU525
 1643 007e FFF7FEFF 		bl	is_dblmode
 1644              	.LVL130:
2647:src/keys.c    **** 		}
 1645              		.loc 1 2647 19 view .LVU526
 1646 0082 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1647 0084 60F3C503 		bfi	r3, r0, #3, #3
 1648 0088 2375     		strb	r3, [r4, #20]
 1649 008a D5E7     		b	.L157
ARM GAS  /tmp/cc90KtGY.s 			page 84


 1650              	.L167:
 1651              		.align	2
 1652              	.L166:
 1653 008c 00000000 		.word	StateWhileOn
 1654 0090 00000000 		.word	main_ram
 1655 0094 00000000 		.word	IntMaxWindow
 1656              		.cfi_endproc
 1657              	.LFE53:
 1659              		.section	.text.arg_storcl,"ax",%progbits
 1660              		.align	1
 1661              		.p2align 2,,3
 1662              		.syntax unified
 1663              		.thumb
 1664              		.thumb_func
 1665              		.fpu fpv4-sp-d16
 1667              	arg_storcl:
 1668              	.LVL131:
 1669              	.LFB34:
1594:src/keys.c    **** 	unsigned int b = CmdBase;
 1670              		.loc 1 1594 56 is_stmt 1 view -0
 1671              		.cfi_startproc
 1672              		@ args = 0, pretend = 0, frame = 0
 1673              		@ frame_needed = 0, uses_anonymous_args = 0
 1674              		@ link register save eliminated.
1595:src/keys.c    **** 
 1675              		.loc 1 1595 2 view .LVU528
1595:src/keys.c    **** 
 1676              		.loc 1 1595 19 is_stmt 0 view .LVU529
 1677 0000 0F4A     		ldr	r2, .L200
 1678 0002 D37F     		ldrb	r3, [r2, #31]	@ zero_extendqisi2
 1679              	.LVL132:
1597:src/keys.c    **** 		CmdBase += n;
 1680              		.loc 1 1597 2 is_stmt 1 view .LVU530
 1681              	.LBB286:
 1682              	.LBI286:
1585:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
 1683              		.loc 1 1585 12 view .LVU531
 1684              	.LBB287:
1590:src/keys.c    **** #endif
 1685              		.loc 1 1590 2 view .LVU532
1590:src/keys.c    **** #endif
 1686              		.loc 1 1590 41 is_stmt 0 view .LVU533
 1687 0004 032B     		cmp	r3, #3
 1688 0006 14D0     		beq	.L169
1590:src/keys.c    **** #endif
 1689              		.loc 1 1590 24 view .LVU534
 1690 0008 0A2B     		cmp	r3, #10
 1691 000a 12D0     		beq	.L169
 1692              	.LVL133:
 1693              	.LBB288:
 1694              	.LBI288:
1585:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
 1695              		.loc 1 1585 12 is_stmt 1 view .LVU535
 1696              	.LBB289:
1590:src/keys.c    **** #endif
 1697              		.loc 1 1590 41 is_stmt 0 view .LVU536
 1698 000c 19B1     		cbz	r1, .L170
ARM GAS  /tmp/cc90KtGY.s 			page 85


1590:src/keys.c    **** #endif
 1699              		.loc 1 1590 51 view .LVU537
 1700 000e 152B     		cmp	r3, #21
 1701 0010 0FD0     		beq	.L169
1590:src/keys.c    **** #endif
 1702              		.loc 1 1590 70 view .LVU538
 1703 0012 1A2B     		cmp	r3, #26
 1704 0014 0DD0     		beq	.L169
 1705              	.L170:
 1706              	.LVL134:
1590:src/keys.c    **** #endif
 1707              		.loc 1 1590 70 view .LVU539
 1708              	.LBE289:
 1709              	.LBE288:
 1710              	.LBE287:
 1711              	.LBE286:
1602:src/keys.c    **** 		b -= n;
 1712              		.loc 1 1602 2 is_stmt 1 view .LVU540
1602:src/keys.c    **** 		b -= n;
 1713              		.loc 1 1602 5 is_stmt 0 view .LVU541
 1714 0016 8342     		cmp	r3, r0
 1715 0018 09D3     		bcc	.L175
1603:src/keys.c    **** 		if (arg_storcl_check(b, cmplx)) {
 1716              		.loc 1 1603 3 is_stmt 1 view .LVU542
1603:src/keys.c    **** 		if (arg_storcl_check(b, cmplx)) {
 1717              		.loc 1 1603 5 is_stmt 0 view .LVU543
 1718 001a 1B1A     		subs	r3, r3, r0
 1719              	.LVL135:
1604:src/keys.c    **** 			CmdBase = b;
 1720              		.loc 1 1604 3 is_stmt 1 view .LVU544
 1721              	.LBB290:
 1722              	.LBI290:
1585:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
 1723              		.loc 1 1585 12 view .LVU545
 1724              	.LBB291:
1590:src/keys.c    **** #endif
 1725              		.loc 1 1590 2 view .LVU546
1590:src/keys.c    **** #endif
 1726              		.loc 1 1590 41 is_stmt 0 view .LVU547
 1727 001c 032B     		cmp	r3, #3
 1728 001e 0CD0     		beq	.L173
1590:src/keys.c    **** #endif
 1729              		.loc 1 1590 24 view .LVU548
 1730 0020 0A2B     		cmp	r3, #10
 1731 0022 0AD0     		beq	.L173
 1732              	.LVL136:
 1733              	.LBB292:
 1734              	.LBI292:
1585:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
 1735              		.loc 1 1585 12 is_stmt 1 view .LVU549
 1736              	.LBB293:
1590:src/keys.c    **** #endif
 1737              		.loc 1 1590 41 is_stmt 0 view .LVU550
 1738 0024 19B1     		cbz	r1, .L175
1590:src/keys.c    **** #endif
 1739              		.loc 1 1590 51 view .LVU551
 1740 0026 152B     		cmp	r3, #21
ARM GAS  /tmp/cc90KtGY.s 			page 86


 1741 0028 07D0     		beq	.L173
1590:src/keys.c    **** #endif
 1742              		.loc 1 1590 70 view .LVU552
 1743 002a 1A2B     		cmp	r3, #26
 1744 002c 05D0     		beq	.L173
 1745              	.LVL137:
 1746              	.L175:
1590:src/keys.c    **** #endif
 1747              		.loc 1 1590 70 view .LVU553
 1748              	.LBE293:
 1749              	.LBE292:
 1750              	.LBE291:
 1751              	.LBE290:
1609:src/keys.c    **** }
 1752              		.loc 1 1609 9 view .LVU554
 1753 002e 0020     		movs	r0, #0
 1754              	.LVL138:
1610:src/keys.c    **** 
 1755              		.loc 1 1610 1 view .LVU555
 1756 0030 7047     		bx	lr
 1757              	.LVL139:
 1758              	.L169:
1598:src/keys.c    **** 		return 1;
 1759              		.loc 1 1598 3 is_stmt 1 view .LVU556
1598:src/keys.c    **** 		return 1;
 1760              		.loc 1 1598 11 is_stmt 0 view .LVU557
 1761 0032 1844     		add	r0, r0, r3
 1762              	.LVL140:
1598:src/keys.c    **** 		return 1;
 1763              		.loc 1 1598 11 view .LVU558
 1764 0034 D077     		strb	r0, [r2, #31]
1599:src/keys.c    **** 	}
 1765              		.loc 1 1599 3 is_stmt 1 view .LVU559
1599:src/keys.c    **** 	}
 1766              		.loc 1 1599 10 is_stmt 0 view .LVU560
 1767 0036 0120     		movs	r0, #1
 1768 0038 7047     		bx	lr
 1769              	.LVL141:
 1770              	.L173:
1605:src/keys.c    **** 			return 1;
 1771              		.loc 1 1605 4 is_stmt 1 view .LVU561
1605:src/keys.c    **** 			return 1;
 1772              		.loc 1 1605 12 is_stmt 0 view .LVU562
 1773 003a D377     		strb	r3, [r2, #31]
1606:src/keys.c    **** 		}
 1774              		.loc 1 1606 4 is_stmt 1 view .LVU563
1606:src/keys.c    **** 		}
 1775              		.loc 1 1606 11 is_stmt 0 view .LVU564
 1776 003c 0120     		movs	r0, #1
 1777              	.LVL142:
1606:src/keys.c    **** 		}
 1778              		.loc 1 1606 11 view .LVU565
 1779 003e 7047     		bx	lr
 1780              	.L201:
 1781              		.align	2
 1782              	.L200:
 1783 0040 00000000 		.word	StateWhileOn
ARM GAS  /tmp/cc90KtGY.s 			page 87


 1784              		.cfi_endproc
 1785              	.LFE34:
 1787              		.section	.text.process_arg,"ax",%progbits
 1788              		.align	1
 1789              		.p2align 2,,3
 1790              		.syntax unified
 1791              		.thumb
 1792              		.thumb_func
 1793              		.fpu fpv4-sp-d16
 1795              	process_arg:
 1796              	.LVL143:
 1797              	.LFB37:
1644:src/keys.c    **** 	unsigned int base = CmdBase;
 1798              		.loc 1 1644 41 is_stmt 1 view -0
 1799              		.cfi_startproc
 1800              		@ args = 0, pretend = 0, frame = 8
 1801              		@ frame_needed = 0, uses_anonymous_args = 0
1645:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c);
 1802              		.loc 1 1645 2 view .LVU567
1644:src/keys.c    **** 	unsigned int base = CmdBase;
 1803              		.loc 1 1644 41 is_stmt 0 view .LVU568
 1804 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1805              		.cfi_def_cfa_offset 36
 1806              		.cfi_offset 4, -36
 1807              		.cfi_offset 5, -32
 1808              		.cfi_offset 6, -28
 1809              		.cfi_offset 7, -24
 1810              		.cfi_offset 8, -20
 1811              		.cfi_offset 9, -16
 1812              		.cfi_offset 10, -12
 1813              		.cfi_offset 11, -8
 1814              		.cfi_offset 14, -4
1645:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c);
 1815              		.loc 1 1645 22 view .LVU569
 1816 0004 AC4C     		ldr	r4, .L317
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1817              		.loc 1 1647 31 view .LVU570
 1818 0006 DFF8C0B2 		ldr	fp, .L317+16
1645:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c);
 1819              		.loc 1 1645 22 view .LVU571
 1820 000a E77F     		ldrb	r7, [r4, #31]	@ zero_extendqisi2
 1821              	.LVL144:
1646:src/keys.c    **** 	int stack_reg = argcmds[base].stckreg || State2.ind;
 1822              		.loc 1 1646 2 is_stmt 1 view .LVU572
 1823              	.LBB315:
 1824              	.LBB316:
 1825              	.LBB317:
 1826              	.LBB318:
 131:src/keys.c    **** }
 1827              		.loc 1 131 23 is_stmt 0 view .LVU573
 1828 000c AB4B     		ldr	r3, .L317+4
 1829              	.LBE318:
 1830              	.LBE317:
 221:src/keys.c    **** }
 1831              		.loc 1 221 28 view .LVU574
 1832 000e AC4A     		ldr	r2, .L317+8
 1833              	.LBB321:
ARM GAS  /tmp/cc90KtGY.s 			page 88


 1834              	.LBB319:
 131:src/keys.c    **** }
 1835              		.loc 1 131 23 view .LVU575
 1836 0010 1B5C     		ldrb	r3, [r3, r0]	@ zero_extendqisi2
 1837              	.LBE319:
 1838              	.LBE321:
 1839              	.LBE316:
 1840              	.LBE315:
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1841              		.loc 1 1647 31 view .LVU576
 1842 0012 0BEB0711 		add	r1, fp, r7, lsl #4
1644:src/keys.c    **** 	unsigned int base = CmdBase;
 1843              		.loc 1 1644 41 view .LVU577
 1844 0016 83B0     		sub	sp, sp, #12
 1845              		.cfi_def_cfa_offset 48
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1846              		.loc 1 1647 31 view .LVU578
 1847 0018 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1848              	.LBB325:
 1849              	.LBB323:
 221:src/keys.c    **** }
 1850              		.loc 1 221 28 view .LVU579
 1851 001a 12F80390 		ldrb	r9, [r2, r3]	@ zero_extendqisi2
 1852              	.LBE323:
 1853              	.LBE325:
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1854              		.loc 1 1647 31 view .LVU580
 1855 001e C1F38003 		ubfx	r3, r1, #2, #1
 1856 0022 0193     		str	r3, [sp, #4]
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1857              		.loc 1 1647 40 view .LVU581
 1858 0024 4B07     		lsls	r3, r1, #29
 1859 0026 58BF     		it	pl
 1860 0028 94F91580 		ldrsbpl	r8, [r4, #21]
1648:src/keys.c    **** 	const enum shifts shift = reset_shift();
 1861              		.loc 1 1648 20 view .LVU582
 1862 002c 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1863 002e 0093     		str	r3, [sp]
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1864              		.loc 1 1647 40 view .LVU583
 1865 0030 54BF     		ite	pl
 1866 0032 4FEAD878 		lsrpl	r8, r8, #31
 1867 0036 4FF00108 		movmi	r8, #1
1644:src/keys.c    **** 	unsigned int base = CmdBase;
 1868              		.loc 1 1644 41 view .LVU584
 1869 003a 0646     		mov	r6, r0
 1870              	.LVL145:
 1871              	.LBB326:
 1872              	.LBI315:
 198:src/keys.c    **** {
 1873              		.loc 1 198 14 is_stmt 1 view .LVU585
 1874              	.LBB324:
 200:src/keys.c    ****     // K00 - K05
 1875              		.loc 1 200 3 view .LVU586
 221:src/keys.c    **** }
 1876              		.loc 1 221 3 view .LVU587
 1877              	.LBB322:
ARM GAS  /tmp/cc90KtGY.s 			page 89


 1878              	.LBI317:
 119:src/keys.c    **** {
 1879              		.loc 1 119 12 view .LVU588
 1880              	.LBB320:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 1881              		.loc 1 121 2 view .LVU589
 131:src/keys.c    **** }
 1882              		.loc 1 131 2 view .LVU590
 131:src/keys.c    **** }
 1883              		.loc 1 131 2 is_stmt 0 view .LVU591
 1884              	.LBE320:
 1885              	.LBE322:
 221:src/keys.c    **** }
 1886              		.loc 1 221 10 view .LVU592
 1887 003c 4D46     		mov	r5, r9
 1888              	.LVL146:
 221:src/keys.c    **** }
 1889              		.loc 1 221 10 view .LVU593
 1890              	.LBE324:
 1891              	.LBE326:
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1892              		.loc 1 1647 2 is_stmt 1 view .LVU594
1648:src/keys.c    **** 	const enum shifts shift = reset_shift();
 1893              		.loc 1 1648 2 view .LVU595
1649:src/keys.c    **** 	int label_addressing = argcmds[base].label && ! State2.ind && ! State2.dot;
 1894              		.loc 1 1649 2 view .LVU596
 1895              	.LBB327:
 1896              	.LBI327:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 1897              		.loc 1 102 13 view .LVU597
 1898              	.LBE327:
 103:src/keys.c    **** }
 1899              		.loc 1 103 2 view .LVU598
 1900              	.LBB342:
 1901              	.LBB328:
 1902              	.LBI328:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 1903              		.loc 1 92 20 view .LVU599
 1904              	.LBB329:
  93:src/keys.c    **** 	State2.shifts = shift;
 1905              		.loc 1 93 2 view .LVU600
 1906              	.LBB330:
 1907              	.LBI330:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 1908              		.loc 1 84 13 view .LVU601
 1909              	.LBB331:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 1910              		.loc 1 85 2 view .LVU602
 1911              	.LBE331:
 1912              	.LBE330:
 1913              	.LBE329:
 1914              	.LBE328:
 1915              	.LBE342:
1647:src/keys.c    **** 	const enum shifts previous_shift = (enum shifts) State2.shifts;
 1916              		.loc 1 1647 31 is_stmt 0 view .LVU603
 1917 003e 4FEA071A 		lsl	r10, r7, #4
 1918              	.LBB343:
ARM GAS  /tmp/cc90KtGY.s 			page 90


 1919              	.LBB338:
 1920              	.LBB334:
 1921              	.LBB333:
 1922              	.LBB332:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 1923              		.loc 1 85 18 view .LVU604
 1924 0042 FFF7FEFF 		bl	shift_down
 1925              	.LVL147:
  86:src/keys.c    **** }
 1926              		.loc 1 86 2 is_stmt 1 view .LVU605
  86:src/keys.c    **** }
 1927              		.loc 1 86 52 is_stmt 0 view .LVU606
 1928 0046 00B9     		cbnz	r0, .L204
 1929 0048 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
 1930              	.LVL148:
 1931              	.L204:
  86:src/keys.c    **** }
 1932              		.loc 1 86 52 view .LVU607
 1933              	.LBE332:
 1934              	.LBE333:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 1935              		.loc 1 94 2 is_stmt 1 view .LVU608
 1936              	.LBE334:
 1937              	.LBE338:
 1938              	.LBE343:
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 1939              		.loc 1 1650 38 is_stmt 0 view .LVU609
 1940 004a 0BEB0A01 		add	r1, fp, r10
 1941              	.LBB344:
 1942              	.LBB339:
 1943              	.LBB335:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 1944              		.loc 1 94 16 view .LVU610
 1945 004e 4FF0000C 		mov	ip, #0
 1946              	.LBE335:
 1947              	.LBE339:
 1948              	.LBE344:
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 1949              		.loc 1 1650 38 view .LVU611
 1950 0052 91F805E0 		ldrb	lr, [r1, #5]	@ zero_extendqisi2
 1951              	.LBB345:
 1952              	.LBB340:
 1953              	.LBB336:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 1954              		.loc 1 94 16 view .LVU612
 1955 0056 84F810C0 		strb	ip, [r4, #16]
  95:src/keys.c    **** 	return r;
 1956              		.loc 1 95 2 is_stmt 1 view .LVU613
 1957              	.LBE336:
 1958              	.LBE340:
 1959              	.LBE345:
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 1960              		.loc 1 1650 61 is_stmt 0 view .LVU614
 1961 005a 1EF0200F 		tst	lr, #32
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 1962              		.loc 1 1650 38 view .LVU615
 1963 005e CEF34011 		ubfx	r1, lr, #5, #1
ARM GAS  /tmp/cc90KtGY.s 			page 91


 1964              	.LBB346:
 1965              	.LBB341:
 1966              	.LBB337:
  95:src/keys.c    **** 	return r;
 1967              		.loc 1 95 19 view .LVU616
 1968 0062 84F80DC0 		strb	ip, [r4, #13]
  96:src/keys.c    **** }
 1969              		.loc 1 96 2 is_stmt 1 view .LVU617
 1970              	.LVL149:
  96:src/keys.c    **** }
 1971              		.loc 1 96 2 is_stmt 0 view .LVU618
 1972              	.LBE337:
 1973              	.LBE341:
 1974              	.LBE346:
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 1975              		.loc 1 1650 2 is_stmt 1 view .LVU619
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 1976              		.loc 1 1650 61 is_stmt 0 view .LVU620
 1977 0066 47D0     		beq	.L205
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 1978              		.loc 1 1650 61 discriminator 1 view .LVU621
 1979 0068 94F815E0 		ldrb	lr, [r4, #21]	@ zero_extendqisi2
 1980 006c 1EF0C00F 		tst	lr, #192
 1981 0070 57D1     		bne	.L206
 1982              	.LVL150:
1651:src/keys.c    **** 		        && (shift == SHIFT_F || (n > 9 && !(n & NO_SHORT)));
 1983              		.loc 1 1651 2 is_stmt 1 view .LVU622
1651:src/keys.c    **** 		        && (shift == SHIFT_F || (n > 9 && !(n & NO_SHORT)));
 1984              		.loc 1 1651 35 is_stmt 0 view .LVU623
 1985 0072 292E     		cmp	r6, #41
 1986 0074 7DD0     		beq	.L207
1652:src/keys.c    **** 
 1987              		.loc 1 1652 11 view .LVU624
 1988 0076 0128     		cmp	r0, #1
 1989 0078 00F09280 		beq	.L208
1652:src/keys.c    **** 
 1990              		.loc 1 1652 32 discriminator 3 view .LVU625
 1991 007c B9F1090F 		cmp	r9, #9
 1992 0080 00F28B80 		bhi	.L209
 1993              	.LVL151:
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 1994              		.loc 1 1654 2 is_stmt 1 view .LVU626
1655:src/keys.c    **** 		reset_arg();
 1995              		.loc 1 1655 2 view .LVU627
1655:src/keys.c    **** 		reset_arg();
 1996              		.loc 1 1655 5 is_stmt 0 view .LVU628
 1997 0084 8C2F     		cmp	r7, #140
 1998 0086 50D8     		bhi	.L266
1660:src/keys.c    **** 	  switch (n) {
 1999              		.loc 1 1660 35 view .LVU629
 2000 0088 6069     		ldr	r0, [r4, #20]
 2001              	.LVL152:
1660:src/keys.c    **** 	  switch (n) {
 2002              		.loc 1 1660 35 view .LVU630
 2003 008a 10F4103F 		tst	r0, #147456
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 2004              		.loc 1 1650 61 view .LVU631
ARM GAS  /tmp/cc90KtGY.s 			page 92


 2005 008e 4FF0010C 		mov	ip, #1
1660:src/keys.c    **** 	  switch (n) {
 2006              		.loc 1 1660 35 view .LVU632
 2007 0092 7BD0     		beq	.L270
 2008              	.LVL153:
 2009              	.L217:
1683:src/keys.c    **** 		// row column shorthand addressing
 2010              		.loc 1 1683 2 is_stmt 1 view .LVU633
1708:src/keys.c    **** 	case K_F:
 2011              		.loc 1 1708 2 view .LVU634
 2012 0094 2D2E     		cmp	r6, #45
 2013 0096 4AD8     		bhi	.L304
 2014 0098 DFE816F0 		tbh	[pc, r6, lsl #1]
 2015              	.L268:
 2016 009c 4D00     		.2byte	(.L232-.L268)/2
 2017 009e 4D00     		.2byte	(.L232-.L268)/2
 2018 00a0 4D00     		.2byte	(.L232-.L268)/2
 2019 00a2 4D00     		.2byte	(.L232-.L268)/2
 2020 00a4 4900     		.2byte	(.L304-.L268)/2
 2021 00a6 4900     		.2byte	(.L304-.L268)/2
 2022 00a8 4900     		.2byte	(.L304-.L268)/2
 2023 00aa 4900     		.2byte	(.L304-.L268)/2
 2024 00ac 4D00     		.2byte	(.L232-.L268)/2
 2025 00ae 4D00     		.2byte	(.L232-.L268)/2
 2026 00b0 4D00     		.2byte	(.L232-.L268)/2
 2027 00b2 4D00     		.2byte	(.L232-.L268)/2
 2028 00b4 D700     		.2byte	(.L255-.L268)/2
 2029 00b6 4900     		.2byte	(.L304-.L268)/2
 2030 00b8 4900     		.2byte	(.L304-.L268)/2
 2031 00ba 4900     		.2byte	(.L304-.L268)/2
 2032 00bc 6901     		.2byte	(.L262-.L268)/2
 2033 00be 4900     		.2byte	(.L304-.L268)/2
 2034 00c0 DD00     		.2byte	(.L253-.L268)/2
 2035 00c2 4900     		.2byte	(.L304-.L268)/2
 2036 00c4 4900     		.2byte	(.L304-.L268)/2
 2037 00c6 4900     		.2byte	(.L304-.L268)/2
 2038 00c8 6301     		.2byte	(.L252-.L268)/2
 2039 00ca 4900     		.2byte	(.L304-.L268)/2
 2040 00cc 5701     		.2byte	(.L254-.L268)/2
 2041 00ce 5D01     		.2byte	(.L231-.L268)/2
 2042 00d0 4900     		.2byte	(.L304-.L268)/2
 2043 00d2 4900     		.2byte	(.L304-.L268)/2
 2044 00d4 9800     		.2byte	(.L249-.L268)/2
 2045 00d6 4900     		.2byte	(.L304-.L268)/2
 2046 00d8 4900     		.2byte	(.L304-.L268)/2
 2047 00da 4101     		.2byte	(.L233-.L268)/2
 2048 00dc 4B01     		.2byte	(.L234-.L268)/2
 2049 00de 5101     		.2byte	(.L235-.L268)/2
 2050 00e0 E300     		.2byte	(.L246-.L268)/2
 2051 00e2 4900     		.2byte	(.L304-.L268)/2
 2052 00e4 4700     		.2byte	(.L266-.L268)/2
 2053 00e6 4900     		.2byte	(.L304-.L268)/2
 2054 00e8 EF00     		.2byte	(.L239-.L268)/2
 2055 00ea 4900     		.2byte	(.L304-.L268)/2
 2056 00ec 1801     		.2byte	(.L243-.L268)/2
 2057 00ee B000     		.2byte	(.L225-.L268)/2
 2058 00f0 4900     		.2byte	(.L304-.L268)/2
ARM GAS  /tmp/cc90KtGY.s 			page 93


 2059 00f2 4900     		.2byte	(.L304-.L268)/2
 2060 00f4 2701     		.2byte	(.L227-.L268)/2
 2061 00f6 C800     		.2byte	(.L229-.L268)/2
 2062              	.LVL154:
 2063              		.p2align 1
 2064              	.L205:
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2065              		.loc 1 1654 2 view .LVU635
1655:src/keys.c    **** 		reset_arg();
 2066              		.loc 1 1655 5 is_stmt 0 view .LVU636
 2067 00f8 8C2F     		cmp	r7, #140
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2068              		.loc 1 1654 4 view .LVU637
 2069 00fa 29F08005 		bic	r5, r9, #128
 2070              	.LVL155:
1655:src/keys.c    **** 		reset_arg();
 2071              		.loc 1 1655 2 is_stmt 1 view .LVU638
1655:src/keys.c    **** 		reset_arg();
 2072              		.loc 1 1655 5 is_stmt 0 view .LVU639
 2073 00fe 14D8     		bhi	.L266
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 2074              		.loc 1 1650 61 view .LVU640
 2075 0100 8C46     		mov	ip, r1
 2076              	.L214:
1660:src/keys.c    **** 	  switch (n) {
 2077              		.loc 1 1660 35 discriminator 1 view .LVU641
 2078 0102 6069     		ldr	r0, [r4, #20]
 2079              	.LVL156:
1660:src/keys.c    **** 	  switch (n) {
 2080              		.loc 1 1660 35 discriminator 1 view .LVU642
 2081 0104 10F4103F 		tst	r0, #147456
 2082 0108 C4D1     		bne	.L217
1661:src/keys.c    **** 	  case regX_idx:
 2083              		.loc 1 1661 4 is_stmt 1 view .LVU643
 2084 010a 672D     		cmp	r5, #103
 2085 010c C2D8     		bhi	.L217
 2086              	.LVL157:
 2087              	.L269:
1661:src/keys.c    **** 	  case regX_idx:
 2088              		.loc 1 1661 4 is_stmt 0 view .LVU644
 2089 010e 632D     		cmp	r5, #99
 2090 0110 3CD9     		bls	.L270
 2091 0112 653D     		subs	r5, r5, #101
 2092 0114 022D     		cmp	r5, #2
 2093 0116 00F2AA81 		bhi	.L220
 2094 011a DFE805F0 		tbb	[pc, r5]
 2095              	.L222:
 2096 011e 6B       		.byte	(.L224-.L222)/2
 2097 011f 65       		.byte	(.L223-.L222)/2
 2098 0120 6D       		.byte	(.L221-.L222)/2
 2099              	.LVL158:
 2100 0121 00       		.p2align 1
 2101              	.L206:
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2102              		.loc 1 1654 2 is_stmt 1 view .LVU645
1655:src/keys.c    **** 		reset_arg();
 2103              		.loc 1 1655 5 is_stmt 0 view .LVU646
ARM GAS  /tmp/cc90KtGY.s 			page 94


 2104 0122 8C2F     		cmp	r7, #140
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2105              		.loc 1 1654 4 view .LVU647
 2106 0124 29F08005 		bic	r5, r9, #128
 2107              	.LVL159:
1655:src/keys.c    **** 		reset_arg();
 2108              		.loc 1 1655 2 is_stmt 1 view .LVU648
1655:src/keys.c    **** 		reset_arg();
 2109              		.loc 1 1655 5 is_stmt 0 view .LVU649
 2110 0128 EBD9     		bls	.L214
 2111              	.LVL160:
 2112              	.L266:
1875:src/keys.c    **** 	default:
 2113              		.loc 1 1875 3 is_stmt 1 view .LVU650
 2114 012a FFF7FEFF 		bl	reset_arg
 2115              	.LVL161:
 2116              	.L304:
1879:src/keys.c    **** }
 2117              		.loc 1 1879 9 is_stmt 0 view .LVU651
 2118 012e 3320     		movs	r0, #51
 2119              	.L202:
1880:src/keys.c    **** 
 2120              		.loc 1 1880 1 view .LVU652
 2121 0130 03B0     		add	sp, sp, #12
 2122              		.cfi_remember_state
 2123              		.cfi_def_cfa_offset 36
 2124              	.LVL162:
1880:src/keys.c    **** 
 2125              		.loc 1 1880 1 view .LVU653
 2126              		@ sp needed
 2127 0132 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2128              	.LVL163:
 2129              	.L232:
 2130              		.cfi_restore_state
1763:src/keys.c    **** 			return arg_eval(n);
 2131              		.loc 1 1763 4 is_stmt 1 view .LVU654
1763:src/keys.c    **** 			return arg_eval(n);
 2132              		.loc 1 1763 8 is_stmt 0 view .LVU655
 2133 0136 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
1763:src/keys.c    **** 			return arg_eval(n);
 2134              		.loc 1 1763 7 view .LVU656
 2135 0138 5F06     		lsls	r7, r3, #25
 2136              	.LVL164:
1763:src/keys.c    **** 			return arg_eval(n);
 2137              		.loc 1 1763 7 view .LVU657
 2138 013a 53D4     		bmi	.L251
1763:src/keys.c    **** 			return arg_eval(n);
 2139              		.loc 1 1763 19 discriminator 1 view .LVU658
 2140 013c B8F1000F 		cmp	r8, #0
 2141 0140 50D1     		bne	.L251
1765:src/keys.c    **** 			return arg_fkey(c - K00);		// Labels or flags A to D
 2142              		.loc 1 1765 3 is_stmt 1 view .LVU659
1765:src/keys.c    **** 			return arg_fkey(c - K00);		// Labels or flags A to D
 2143              		.loc 1 1765 6 is_stmt 0 view .LVU660
 2144 0142 032E     		cmp	r6, #3
 2145 0144 F3D8     		bhi	.L304
1766:src/keys.c    **** 		break;
ARM GAS  /tmp/cc90KtGY.s 			page 95


 2146              		.loc 1 1766 4 is_stmt 1 view .LVU661
 2147              	.LVL165:
 2148              	.LBB347:
 2149              	.LBI347:
1571:src/keys.c    **** 	const unsigned int b = CmdBase;
 2150              		.loc 1 1571 12 view .LVU662
 2151              	.LBB348:
1572:src/keys.c    **** 
 2152              		.loc 1 1572 2 view .LVU663
1572:src/keys.c    **** 
 2153              		.loc 1 1572 21 is_stmt 0 view .LVU664
 2154 0146 E27F     		ldrb	r2, [r4, #31]	@ zero_extendqisi2
 2155              	.LVL166:
1574:src/keys.c    **** 	{
 2156              		.loc 1 1574 2 is_stmt 1 view .LVU665
1574:src/keys.c    **** 	{
 2157              		.loc 1 1574 16 is_stmt 0 view .LVU666
 2158 0148 0BEB0210 		add	r0, fp, r2, lsl #4
 2159 014c 1101     		lsls	r1, r2, #4
 2160 014e 4079     		ldrb	r0, [r0, #5]	@ zero_extendqisi2
1574:src/keys.c    **** 	{
 2161              		.loc 1 1574 5 view .LVU667
 2162 0150 8006     		lsls	r0, r0, #26
 2163 0152 02D4     		bmi	.L238
1574:src/keys.c    **** 	{
 2164              		.loc 1 1574 40 view .LVU668
 2165 0154 513A     		subs	r2, r2, #81
 2166              	.LVL167:
1574:src/keys.c    **** 	{
 2167              		.loc 1 1574 23 view .LVU669
 2168 0156 0A2A     		cmp	r2, #10
 2169 0158 E9D8     		bhi	.L304
 2170              	.LVL168:
 2171              	.L238:
1576:src/keys.c    **** 			return STATE_UNFINISHED;
 2172              		.loc 1 1576 3 is_stmt 1 view .LVU670
1576:src/keys.c    **** 			return STATE_UNFINISHED;
 2173              		.loc 1 1576 6 is_stmt 0 view .LVU671
 2174 015a 1F06     		lsls	r7, r3, #24
 2175 015c E7D4     		bmi	.L304
1576:src/keys.c    **** 			return STATE_UNFINISHED;
 2176              		.loc 1 1576 18 view .LVU672
 2177 015e E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 2178 0160 002B     		cmp	r3, #0
 2179 0162 E4D1     		bne	.L304
1578:src/keys.c    **** 			return STATE_UNFINISHED;
 2180              		.loc 1 1578 3 is_stmt 1 view .LVU673
1578:src/keys.c    **** 			return STATE_UNFINISHED;
 2181              		.loc 1 1578 17 is_stmt 0 view .LVU674
 2182 0164 5944     		add	r1, r1, fp
1578:src/keys.c    **** 			return STATE_UNFINISHED;
 2183              		.loc 1 1578 6 view .LVU675
 2184 0166 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 2185 0168 632B     		cmp	r3, #99
 2186 016a E0D9     		bls	.L304
1580:src/keys.c    **** 	}
 2187              		.loc 1 1580 3 is_stmt 1 view .LVU676
ARM GAS  /tmp/cc90KtGY.s 			page 96


1580:src/keys.c    **** 	}
 2188              		.loc 1 1580 10 is_stmt 0 view .LVU677
 2189 016c 06F16400 		add	r0, r6, #100
 2190 0170 27E0     		b	.L306
 2191              	.LVL169:
 2192              	.L207:
1580:src/keys.c    **** 	}
 2193              		.loc 1 1580 10 view .LVU678
 2194              	.LBE348:
 2195              	.LBE347:
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2196              		.loc 1 1654 2 is_stmt 1 view .LVU679
1655:src/keys.c    **** 		reset_arg();
 2197              		.loc 1 1655 2 view .LVU680
1655:src/keys.c    **** 		reset_arg();
 2198              		.loc 1 1655 5 is_stmt 0 view .LVU681
 2199 0172 8C2F     		cmp	r7, #140
 2200 0174 D9D8     		bhi	.L266
1660:src/keys.c    **** 	  switch (n) {
 2201              		.loc 1 1660 35 view .LVU682
 2202 0176 6069     		ldr	r0, [r4, #20]
 2203              	.LVL170:
1660:src/keys.c    **** 	  switch (n) {
 2204              		.loc 1 1660 35 view .LVU683
 2205 0178 10F4103F 		tst	r0, #147456
 2206 017c 41D1     		bne	.L226
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2207              		.loc 1 1654 4 view .LVU684
 2208 017e 29F08005 		bic	r5, r9, #128
1661:src/keys.c    **** 	  case regX_idx:
 2209              		.loc 1 1661 4 is_stmt 1 view .LVU685
 2210 0182 672D     		cmp	r5, #103
 2211 0184 3DD8     		bhi	.L226
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 2212              		.loc 1 1650 61 is_stmt 0 view .LVU686
 2213 0186 4FF0010C 		mov	ip, #1
 2214 018a C0E7     		b	.L269
 2215              	.LVL171:
 2216              	.L270:
1661:src/keys.c    **** 	  case regX_idx:
 2217              		.loc 1 1661 4 view .LVU687
 2218 018c 1DB1     		cbz	r5, .L219
 2219 018e 6B1F     		subs	r3, r5, #5
 2220 0190 042B     		cmp	r3, #4
 2221 0192 3FF67FAF 		bhi	.L217
 2222              	.L219:
1676:src/keys.c    **** 	  }
 2223              		.loc 1 1676 6 is_stmt 1 view .LVU688
1676:src/keys.c    **** 	  }
 2224              		.loc 1 1676 13 is_stmt 0 view .LVU689
 2225 0196 2846     		mov	r0, r5
 2226 0198 27E0     		b	.L305
 2227              	.LVL172:
 2228              	.L209:
1652:src/keys.c    **** 
 2229              		.loc 1 1652 42 discriminator 4 view .LVU690
 2230 019a 19F0800F 		tst	r9, #128
ARM GAS  /tmp/cc90KtGY.s 			page 97


 2231 019e 3ED1     		bne	.L212
 2232              	.L208:
 2233              	.LVL173:
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2234              		.loc 1 1654 2 is_stmt 1 view .LVU691
1655:src/keys.c    **** 		reset_arg();
 2235              		.loc 1 1655 2 view .LVU692
1655:src/keys.c    **** 		reset_arg();
 2236              		.loc 1 1655 5 is_stmt 0 view .LVU693
 2237 01a0 8C2F     		cmp	r7, #140
 2238 01a2 C2D8     		bhi	.L266
1683:src/keys.c    **** 		// row column shorthand addressing
 2239              		.loc 1 1683 2 is_stmt 1 view .LVU694
1685:src/keys.c    **** 
 2240              		.loc 1 1685 3 view .LVU695
 2241              	.LVL174:
 2242              	.LBB349:
 2243              	.LBI349:
 167:src/keys.c    **** {
 2244              		.loc 1 167 5 view .LVU696
 2245              	.LBB350:
 169:src/keys.c    **** }
 2246              		.loc 1 169 2 view .LVU697
 169:src/keys.c    **** }
 2247              		.loc 1 169 18 is_stmt 0 view .LVU698
 2248 01a4 474B     		ldr	r3, .L317+12
 2249 01a6 A3FB0623 		umull	r2, r3, r3, r6
 169:src/keys.c    **** }
 2250              		.loc 1 169 24 view .LVU699
 2251 01aa 03F0FC00 		and	r0, r3, #252
 2252              	.LVL175:
 169:src/keys.c    **** }
 2253              		.loc 1 169 24 view .LVU700
 2254 01ae 00EB9300 		add	r0, r0, r3, lsr #2
 169:src/keys.c    **** }
 2255              		.loc 1 169 18 view .LVU701
 2256 01b2 9B08     		lsrs	r3, r3, #2
 169:src/keys.c    **** }
 2257              		.loc 1 169 24 view .LVU702
 2258 01b4 4000     		lsls	r0, r0, #1
 169:src/keys.c    **** }
 2259              		.loc 1 169 33 view .LVU703
 2260 01b6 03EB4303 		add	r3, r3, r3, lsl #1
 169:src/keys.c    **** }
 2261              		.loc 1 169 12 view .LVU704
 2262 01ba 0B30     		adds	r0, r0, #11
 169:src/keys.c    **** }
 2263              		.loc 1 169 33 view .LVU705
 2264 01bc A6EB4306 		sub	r6, r6, r3, lsl #1
 2265              	.LBE350:
 2266              	.LBE349:
1685:src/keys.c    **** 
 2267              		.loc 1 1685 10 view .LVU706
 2268 01c0 3044     		add	r0, r0, r6
 2269              	.LVL176:
 2270              	.L306:
1880:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 98


 2271              		.loc 1 1880 1 view .LVU707
 2272 01c2 03B0     		add	sp, sp, #12
 2273              		.cfi_remember_state
 2274              		.cfi_def_cfa_offset 36
 2275              	.LVL177:
1880:src/keys.c    **** 
 2276              		.loc 1 1880 1 view .LVU708
 2277              		@ sp needed
 2278 01c4 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2279              		.cfi_restore 14
 2280              		.cfi_restore 11
 2281              		.cfi_restore 10
 2282              		.cfi_restore 9
 2283              		.cfi_restore 8
 2284              		.cfi_restore 7
 2285              		.cfi_restore 6
 2286              		.cfi_restore 5
 2287              		.cfi_restore 4
 2288              		.cfi_def_cfa_offset 0
 2289              	.LVL178:
1685:src/keys.c    **** 
 2290              		.loc 1 1685 10 view .LVU709
 2291 01c8 FFF7FEBF 		b	arg_eval
 2292              	.LVL179:
 2293              	.L249:
 2294              		.cfi_restore_state
1785:src/keys.c    **** 			return arg_eval(n);
 2295              		.loc 1 1785 3 is_stmt 1 view .LVU710
1785:src/keys.c    **** 			return arg_eval(n);
 2296              		.loc 1 1785 7 is_stmt 0 view .LVU711
 2297 01cc 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
1785:src/keys.c    **** 			return arg_eval(n);
 2298              		.loc 1 1785 6 view .LVU712
 2299 01ce 5806     		lsls	r0, r3, #25
 2300 01d0 08D4     		bmi	.L251
1785:src/keys.c    **** 			return arg_eval(n);
 2301              		.loc 1 1785 25 discriminator 1 view .LVU713
 2302 01d2 0121     		movs	r1, #1
 2303 01d4 0320     		movs	r0, #3
 2304 01d6 FFF7FEFF 		bl	arg_storcl
 2305              	.LVL180:
1785:src/keys.c    **** 			return arg_eval(n);
 2306              		.loc 1 1785 18 discriminator 1 view .LVU714
 2307 01da 0028     		cmp	r0, #0
 2308 01dc A7D1     		bne	.L304
1785:src/keys.c    **** 			return arg_eval(n);
 2309              		.loc 1 1785 63 discriminator 2 view .LVU715
 2310 01de B8F1000F 		cmp	r8, #0
 2311 01e2 A4D0     		beq	.L304
 2312              	.LVL181:
 2313              	.L251:
1786:src/keys.c    **** 		break;
 2314              		.loc 1 1786 4 is_stmt 1 view .LVU716
1786:src/keys.c    **** 		break;
 2315              		.loc 1 1786 11 is_stmt 0 view .LVU717
 2316 01e4 2846     		mov	r0, r5
 2317 01e6 ECE7     		b	.L306
ARM GAS  /tmp/cc90KtGY.s 			page 99


 2318              	.LVL182:
 2319              	.L223:
1667:src/keys.c    **** 	  case regT_idx:
 2320              		.loc 1 1667 6 is_stmt 1 view .LVU718
1667:src/keys.c    **** 	  case regT_idx:
 2321              		.loc 1 1667 13 is_stmt 0 view .LVU719
 2322 01e8 0320     		movs	r0, #3
 2323              	.L305:
1880:src/keys.c    **** 
 2324              		.loc 1 1880 1 view .LVU720
 2325 01ea 03B0     		add	sp, sp, #12
 2326              		.cfi_remember_state
 2327              		.cfi_def_cfa_offset 36
 2328              	.LVL183:
1880:src/keys.c    **** 
 2329              		.loc 1 1880 1 view .LVU721
 2330              		@ sp needed
 2331 01ec BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2332              		.cfi_restore 14
 2333              		.cfi_restore 11
 2334              		.cfi_restore 10
 2335              		.cfi_restore 9
 2336              		.cfi_restore 8
 2337              		.cfi_restore 7
 2338              		.cfi_restore 6
 2339              		.cfi_restore 5
 2340              		.cfi_restore 4
 2341              		.cfi_def_cfa_offset 0
 2342              	.LVL184:
1665:src/keys.c    **** 	  case regZ_idx:
 2343              		.loc 1 1665 13 view .LVU722
 2344 01f0 FFF7FEBF 		b	arg_digit
 2345              	.LVL185:
 2346              	.L224:
 2347              		.cfi_restore_state
1665:src/keys.c    **** 	  case regZ_idx:
 2348              		.loc 1 1665 6 is_stmt 1 view .LVU723
1665:src/keys.c    **** 	  case regZ_idx:
 2349              		.loc 1 1665 13 is_stmt 0 view .LVU724
 2350 01f4 0220     		movs	r0, #2
 2351 01f6 F8E7     		b	.L305
 2352              	.L221:
1669:src/keys.c    **** 	  case 5:
 2353              		.loc 1 1669 6 is_stmt 1 view .LVU725
1669:src/keys.c    **** 	  case 5:
 2354              		.loc 1 1669 13 is_stmt 0 view .LVU726
 2355 01f8 0420     		movs	r0, #4
 2356 01fa F6E7     		b	.L305
 2357              	.L225:
1710:src/keys.c    **** 			set_shift(previous_shift == SHIFT_F ? SHIFT_N : SHIFT_F);
 2358              		.loc 1 1710 3 is_stmt 1 view .LVU727
1710:src/keys.c    **** 			set_shift(previous_shift == SHIFT_F ? SHIFT_N : SHIFT_F);
 2359              		.loc 1 1710 6 is_stmt 0 view .LVU728
 2360 01fc BCF1000F 		cmp	ip, #0
 2361 0200 95D0     		beq	.L304
 2362              	.L226:
1711:src/keys.c    **** 		break;
ARM GAS  /tmp/cc90KtGY.s 			page 100


 2363              		.loc 1 1711 4 is_stmt 1 view .LVU729
 2364              	.LVL186:
 2365              	.LBB351:
 2366              	.LBI351:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 2367              		.loc 1 92 20 view .LVU730
 2368              	.LBB352:
  93:src/keys.c    **** 	State2.shifts = shift;
 2369              		.loc 1 93 2 view .LVU731
 2370              	.LBB353:
 2371              	.LBI353:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 2372              		.loc 1 84 13 view .LVU732
 2373              	.LBB354:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 2374              		.loc 1 85 2 view .LVU733
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 2375              		.loc 1 85 18 is_stmt 0 view .LVU734
 2376 0202 FFF7FEFF 		bl	shift_down
 2377              	.LVL187:
  86:src/keys.c    **** }
 2378              		.loc 1 86 2 is_stmt 1 view .LVU735
 2379              	.LBE354:
 2380              	.LBE353:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 2381              		.loc 1 94 2 view .LVU736
 2382              	.LBE352:
 2383              	.LBE351:
1711:src/keys.c    **** 		break;
 2384              		.loc 1 1711 4 is_stmt 0 view .LVU737
 2385 0206 009B     		ldr	r3, [sp]
 2386 0208 B3F10109 		subs	r9, r3, #1
 2387 020c 18BF     		it	ne
 2388 020e 4FF00109 		movne	r9, #1
 2389              	.LBB358:
 2390              	.LBB355:
  95:src/keys.c    **** 	return r;
 2391              		.loc 1 95 19 view .LVU738
 2392 0212 0023     		movs	r3, #0
 2393              	.LBE355:
 2394              	.LBE358:
1711:src/keys.c    **** 		break;
 2395              		.loc 1 1711 4 view .LVU739
 2396 0214 84F81090 		strb	r9, [r4, #16]
 2397              	.LBB359:
 2398              	.LBB356:
  95:src/keys.c    **** 	return r;
 2399              		.loc 1 95 2 is_stmt 1 view .LVU740
  95:src/keys.c    **** 	return r;
 2400              		.loc 1 95 19 is_stmt 0 view .LVU741
 2401 0218 6373     		strb	r3, [r4, #13]
  96:src/keys.c    **** }
 2402              		.loc 1 96 2 is_stmt 1 view .LVU742
 2403              	.LBE356:
 2404              	.LBE359:
1879:src/keys.c    **** }
 2405              		.loc 1 1879 9 is_stmt 0 view .LVU743
ARM GAS  /tmp/cc90KtGY.s 			page 101


 2406 021a 3320     		movs	r0, #51
 2407              	.LBB360:
 2408              	.LBB357:
  96:src/keys.c    **** }
 2409              		.loc 1 96 9 view .LVU744
 2410 021c 88E7     		b	.L202
 2411              	.LVL188:
 2412              	.L212:
  96:src/keys.c    **** }
 2413              		.loc 1 96 9 view .LVU745
 2414              	.LBE357:
 2415              	.LBE360:
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2416              		.loc 1 1654 2 is_stmt 1 view .LVU746
1655:src/keys.c    **** 		reset_arg();
 2417              		.loc 1 1655 5 is_stmt 0 view .LVU747
 2418 021e 8C2F     		cmp	r7, #140
1654:src/keys.c    **** 	if (base >= NUM_RARG) {
 2419              		.loc 1 1654 4 view .LVU748
 2420 0220 29F08005 		bic	r5, r9, #128
 2421              	.LVL189:
1655:src/keys.c    **** 		reset_arg();
 2422              		.loc 1 1655 2 is_stmt 1 view .LVU749
1655:src/keys.c    **** 		reset_arg();
 2423              		.loc 1 1655 5 is_stmt 0 view .LVU750
 2424 0224 81D8     		bhi	.L266
1650:src/keys.c    **** 	int shorthand = label_addressing && c != K_F 
 2425              		.loc 1 1650 61 view .LVU751
 2426 0226 4FF0010C 		mov	ip, #1
 2427 022a 6AE7     		b	.L214
 2428              	.LVL190:
 2429              	.L229:
1723:src/keys.c    **** 			break;
 2430              		.loc 1 1723 3 is_stmt 1 view .LVU752
1723:src/keys.c    **** 			break;
 2431              		.loc 1 1723 18 is_stmt 0 view .LVU753
 2432 022c 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
1723:src/keys.c    **** 			break;
 2433              		.loc 1 1723 6 view .LVU754
 2434 022e 13F0C00F 		tst	r3, #192
 2435 0232 7FF47CAF 		bne	.L304
1725:src/keys.c    **** 			CmdBase = RARG_STOM;
 2436              		.loc 1 1725 3 is_stmt 1 view .LVU755
1725:src/keys.c    **** 			CmdBase = RARG_STOM;
 2437              		.loc 1 1725 6 is_stmt 0 view .LVU756
 2438 0236 032F     		cmp	r7, #3
 2439 0238 00F0EE80 		beq	.L310
1727:src/keys.c    **** 			CmdBase = RARG_RCLM;
 2440              		.loc 1 1727 8 is_stmt 1 view .LVU757
1727:src/keys.c    **** 			CmdBase = RARG_RCLM;
 2441              		.loc 1 1727 11 is_stmt 0 view .LVU758
 2442 023c 0A2F     		cmp	r7, #10
 2443 023e 7FF476AF 		bne	.L304
1728:src/keys.c    **** 		break;
 2444              		.loc 1 1728 4 is_stmt 1 view .LVU759
1728:src/keys.c    **** 		break;
 2445              		.loc 1 1728 12 is_stmt 0 view .LVU760
ARM GAS  /tmp/cc90KtGY.s 			page 102


 2446 0242 7823     		movs	r3, #120
 2447 0244 E377     		strb	r3, [r4, #31]
1879:src/keys.c    **** }
 2448              		.loc 1 1879 9 view .LVU761
 2449 0246 3320     		movs	r0, #51
 2450 0248 72E7     		b	.L202
 2451              	.L255:
1833:src/keys.c    **** 			if (argcmds[base].label) {
 2452              		.loc 1 1833 3 is_stmt 1 view .LVU762
1833:src/keys.c    **** 			if (argcmds[base].label) {
 2453              		.loc 1 1833 6 is_stmt 0 view .LVU763
 2454 024a E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 2455 024c 002B     		cmp	r3, #0
 2456 024e 00F0A080 		beq	.L311
1847:src/keys.c    **** 			return arg_eval(State2.digval);
 2457              		.loc 1 1847 10 is_stmt 1 view .LVU764
1848:src/keys.c    **** 		else if (stack_reg)
 2458              		.loc 1 1848 4 view .LVU765
1848:src/keys.c    **** 		else if (stack_reg)
 2459              		.loc 1 1848 11 is_stmt 0 view .LVU766
 2460 0252 2089     		ldrh	r0, [r4, #8]
 2461 0254 B5E7     		b	.L306
 2462              	.L253:
1825:src/keys.c    **** 		break;
 2463              		.loc 1 1825 3 is_stmt 1 view .LVU767
 2464 0256 0021     		movs	r1, #0
 2465 0258 0620     		movs	r0, #6
 2466 025a FFF7FEFF 		bl	arg_storcl
 2467              	.LVL191:
1826:src/keys.c    **** 
 2468              		.loc 1 1826 3 view .LVU768
1879:src/keys.c    **** }
 2469              		.loc 1 1879 9 is_stmt 0 view .LVU769
 2470 025e 3320     		movs	r0, #51
1826:src/keys.c    **** 
 2471              		.loc 1 1826 3 view .LVU770
 2472 0260 66E7     		b	.L202
 2473              	.L246:
1778:src/keys.c    **** 			reset_arg();
 2474              		.loc 1 1778 3 is_stmt 1 view .LVU771
1778:src/keys.c    **** 			reset_arg();
 2475              		.loc 1 1778 6 is_stmt 0 view .LVU772
 2476 0262 212F     		cmp	r7, #33
 2477 0264 00F0C580 		beq	.L247
1778:src/keys.c    **** 			reset_arg();
 2478              		.loc 1 1778 25 discriminator 1 view .LVU773
 2479 0268 732F     		cmp	r7, #115
 2480 026a 00F0C280 		beq	.L247
1782:src/keys.c    **** 		break;
 2481              		.loc 1 1782 3 is_stmt 1 view .LVU774
 2482 026e 0121     		movs	r1, #1
 2483 0270 0220     		movs	r0, #2
 2484 0272 FFF7FEFF 		bl	arg_storcl
 2485              	.LVL192:
1783:src/keys.c    **** 	case K44:		// multiply
 2486              		.loc 1 1783 3 view .LVU775
1879:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 103


 2487              		.loc 1 1879 9 is_stmt 0 view .LVU776
 2488 0276 3320     		movs	r0, #51
1783:src/keys.c    **** 	case K44:		// multiply
 2489              		.loc 1 1783 3 view .LVU777
 2490 0278 5AE7     		b	.L202
 2491              	.L239:
1770:src/keys.c    **** 
 2492              		.loc 1 1770 3 is_stmt 1 view .LVU778
 2493              	.LVL193:
 2494              	.LBB361:
 2495              	.LBI361:
1612:src/keys.c    **** 
 2496              		.loc 1 1612 12 view .LVU779
 2497              	.LBB362:
1614:src/keys.c    **** 		// Only valid at beginning of entry
 2498              		.loc 1 1614 2 view .LVU780
1614:src/keys.c    **** 		// Only valid at beginning of entry
 2499              		.loc 1 1614 5 is_stmt 0 view .LVU781
 2500 027a E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 2501 027c 002B     		cmp	r3, #0
 2502 027e 7FF456AF 		bne	.L304
1616:src/keys.c    **** 			// '..' or ENTER '.' = X
 2503              		.loc 1 1616 3 is_stmt 1 view .LVU782
1616:src/keys.c    **** 			// '..' or ENTER '.' = X
 2504              		.loc 1 1616 6 is_stmt 0 view .LVU783
 2505 0282 10F4A03F 		tst	r0, #81920
 2506 0286 40F0CB80 		bne	.L312
1621:src/keys.c    **** 			// local register or flag select
 2507              		.loc 1 1621 3 is_stmt 1 view .LVU784
1621:src/keys.c    **** 			// local register or flag select
 2508              		.loc 1 1621 20 is_stmt 0 view .LVU785
 2509 028a 0BEB0A02 		add	r2, fp, r10
 2510 028e 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
1621:src/keys.c    **** 			// local register or flag select
 2511              		.loc 1 1621 6 view .LVU786
 2512 0290 1D07     		lsls	r5, r3, #28
 2513 0292 00F1B380 		bmi	.L241
1621:src/keys.c    **** 			// local register or flag select
 2514              		.loc 1 1621 27 view .LVU787
 2515 0296 94F91530 		ldrsb	r3, [r4, #21]
 2516 029a 002B     		cmp	r3, #0
 2517 029c C0F2AE80 		blt	.L241
1625:src/keys.c    **** 			// Special GTO . sequence
 2518              		.loc 1 1625 8 is_stmt 1 view .LVU788
1625:src/keys.c    **** 			// Special GTO . sequence
 2519              		.loc 1 1625 29 is_stmt 0 view .LVU789
 2520 02a0 443F     		subs	r7, r7, #68
 2521              	.LVL194:
1625:src/keys.c    **** 			// Special GTO . sequence
 2522              		.loc 1 1625 11 view .LVU790
 2523 02a2 012F     		cmp	r7, #1
 2524 02a4 3FF643AF 		bhi	.L304
1627:src/keys.c    **** 				State2.gtodot = 1;
 2525              		.loc 1 1627 4 is_stmt 1 view .LVU791
1628:src/keys.c    **** 				reset_arg();
 2526              		.loc 1 1628 5 view .LVU792
1628:src/keys.c    **** 				reset_arg();
ARM GAS  /tmp/cc90KtGY.s 			page 104


 2527              		.loc 1 1628 19 is_stmt 0 view .LVU793
 2528 02a8 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 2529 02aa 43F00103 		orr	r3, r3, #1
 2530 02ae 6375     		strb	r3, [r4, #21]
1629:src/keys.c    **** 			}
 2531              		.loc 1 1629 5 is_stmt 1 view .LVU794
 2532 02b0 FFF7FEFF 		bl	reset_arg
 2533              	.LVL195:
1633:src/keys.c    **** }
 2534              		.loc 1 1633 9 is_stmt 0 view .LVU795
 2535 02b4 3320     		movs	r0, #51
 2536 02b6 3BE7     		b	.L202
 2537              	.L318:
 2538              		.align	2
 2539              	.L317:
 2540 02b8 00000000 		.word	StateWhileOn
 2541 02bc 00000000 		.word	.LANCHOR1
 2542 02c0 00000000 		.word	.LANCHOR0
 2543 02c4 ABAAAAAA 		.word	-1431655765
 2544 02c8 00000000 		.word	argcmds
 2545              	.LVL196:
 2546              	.L243:
1633:src/keys.c    **** }
 2547              		.loc 1 1633 9 view .LVU796
 2548              	.LBE362:
 2549              	.LBE361:
1774:src/keys.c    **** 			return arg_eval(n);
 2550              		.loc 1 1774 3 is_stmt 1 view .LVU797
1774:src/keys.c    **** 			return arg_eval(n);
 2551              		.loc 1 1774 7 is_stmt 0 view .LVU798
 2552 02cc 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
1774:src/keys.c    **** 			return arg_eval(n);
 2553              		.loc 1 1774 6 view .LVU799
 2554 02ce 5C06     		lsls	r4, r3, #25
 2555 02d0 88D4     		bmi	.L251
1774:src/keys.c    **** 			return arg_eval(n);
 2556              		.loc 1 1774 25 discriminator 1 view .LVU800
 2557 02d2 0121     		movs	r1, #1
 2558 02d4 0846     		mov	r0, r1
 2559 02d6 FFF7FEFF 		bl	arg_storcl
 2560              	.LVL197:
1774:src/keys.c    **** 			return arg_eval(n);
 2561              		.loc 1 1774 18 discriminator 1 view .LVU801
 2562 02da 0028     		cmp	r0, #0
 2563 02dc 7FF427AF 		bne	.L304
1785:src/keys.c    **** 			return arg_eval(n);
 2564              		.loc 1 1785 63 view .LVU802
 2565 02e0 B8F1000F 		cmp	r8, #0
 2566 02e4 3FF423AF 		beq	.L304
 2567 02e8 7CE7     		b	.L251
 2568              	.L227:
1715:src/keys.c    **** 			State2.ind = ! State2.ind;
 2569              		.loc 1 1715 3 is_stmt 1 view .LVU803
1715:src/keys.c    **** 			State2.ind = ! State2.ind;
 2570              		.loc 1 1715 7 is_stmt 0 view .LVU804
 2571 02ea 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
1715:src/keys.c    **** 			State2.ind = ! State2.ind;
ARM GAS  /tmp/cc90KtGY.s 			page 105


 2572              		.loc 1 1715 6 view .LVU805
 2573 02ec 5E06     		lsls	r6, r3, #25
 2574 02ee 3FF51EAF 		bmi	.L304
1715:src/keys.c    **** 			State2.ind = ! State2.ind;
 2575              		.loc 1 1715 35 discriminator 1 view .LVU806
 2576 02f2 D344     		add	fp, fp, r10
 2577 02f4 9BF80520 		ldrb	r2, [fp, #5]	@ zero_extendqisi2
1715:src/keys.c    **** 			State2.ind = ! State2.ind;
 2578              		.loc 1 1715 19 discriminator 1 view .LVU807
 2579 02f8 D507     		lsls	r5, r2, #31
 2580 02fa 7FF518AF 		bpl	.L304
1716:src/keys.c    **** 			if (! stack_reg)
 2581              		.loc 1 1716 4 is_stmt 1 view .LVU808
1716:src/keys.c    **** 			if (! stack_reg)
 2582              		.loc 1 1716 17 is_stmt 0 view .LVU809
 2583 02fe DA43     		mvns	r2, r3
 2584 0300 C2F3C012 		ubfx	r2, r2, #7, #1
1716:src/keys.c    **** 			if (! stack_reg)
 2585              		.loc 1 1716 15 view .LVU810
 2586 0304 62F3C713 		bfi	r3, r2, #7, #1
 2587 0308 6375     		strb	r3, [r4, #21]
1717:src/keys.c    **** 				State2.dot = 0;
 2588              		.loc 1 1717 4 is_stmt 1 view .LVU811
1717:src/keys.c    **** 				State2.dot = 0;
 2589              		.loc 1 1717 7 is_stmt 0 view .LVU812
 2590 030a B8F1000F 		cmp	r8, #0
 2591 030e 7FF40EAF 		bne	.L304
 2592              	.L264:
1718:src/keys.c    **** 		}
 2593              		.loc 1 1718 5 is_stmt 1 view .LVU813
1718:src/keys.c    **** 		}
 2594              		.loc 1 1718 16 is_stmt 0 view .LVU814
 2595 0312 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 2596 0314 6FF38613 		bfc	r3, #6, #1
 2597 0318 6375     		strb	r3, [r4, #21]
1879:src/keys.c    **** }
 2598              		.loc 1 1879 9 view .LVU815
 2599 031a 3320     		movs	r0, #51
 2600 031c 08E7     		b	.L202
 2601              	.L233:
1735:src/keys.c    **** 	    return process_arg_shuffle(0);
 2602              		.loc 1 1735 4 is_stmt 1 view .LVU816
1735:src/keys.c    **** 	    return process_arg_shuffle(0);
 2603              		.loc 1 1735 8 is_stmt 0 view .LVU817
 2604 031e A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
1735:src/keys.c    **** 	    return process_arg_shuffle(0);
 2605              		.loc 1 1735 7 view .LVU818
 2606 0320 9907     		lsls	r1, r3, #30
 2607 0322 7FF508AF 		bpl	.L232
1736:src/keys.c    **** 	case K52:	// Y
 2608              		.loc 1 1736 6 is_stmt 1 view .LVU819
1736:src/keys.c    **** 	case K52:	// Y
 2609              		.loc 1 1736 13 is_stmt 0 view .LVU820
 2610 0326 0020     		movs	r0, #0
 2611              	.L307:
1880:src/keys.c    **** 
 2612              		.loc 1 1880 1 view .LVU821
ARM GAS  /tmp/cc90KtGY.s 			page 106


 2613 0328 03B0     		add	sp, sp, #12
 2614              		.cfi_remember_state
 2615              		.cfi_def_cfa_offset 36
 2616              	.LVL198:
1880:src/keys.c    **** 
 2617              		.loc 1 1880 1 view .LVU822
 2618              		@ sp needed
 2619 032a BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2620              		.cfi_restore 14
 2621              		.cfi_restore 11
 2622              		.cfi_restore 10
 2623              		.cfi_restore 9
 2624              		.cfi_restore 8
 2625              		.cfi_restore 7
 2626              		.cfi_restore 6
 2627              		.cfi_restore 5
 2628              		.cfi_restore 4
 2629              		.cfi_def_cfa_offset 0
 2630              	.LVL199:
1742:src/keys.c    **** #else
 2631              		.loc 1 1742 13 view .LVU823
 2632 032e FFF7FEBF 		b	process_arg_shuffle
 2633              	.LVL200:
 2634              	.L234:
 2635              		.cfi_restore_state
1738:src/keys.c    **** 	    return process_arg_shuffle(1);
 2636              		.loc 1 1738 4 is_stmt 1 view .LVU824
1738:src/keys.c    **** 	    return process_arg_shuffle(1);
 2637              		.loc 1 1738 8 is_stmt 0 view .LVU825
 2638 0332 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
1738:src/keys.c    **** 	    return process_arg_shuffle(1);
 2639              		.loc 1 1738 7 view .LVU826
 2640 0334 9A07     		lsls	r2, r3, #30
 2641 0336 7FF5FEAE 		bpl	.L232
1739:src/keys.c    **** 	case K53:       // Z
 2642              		.loc 1 1739 6 is_stmt 1 view .LVU827
1739:src/keys.c    **** 	case K53:       // Z
 2643              		.loc 1 1739 13 is_stmt 0 view .LVU828
 2644 033a 0120     		movs	r0, #1
 2645 033c F4E7     		b	.L307
 2646              	.L235:
1741:src/keys.c    **** 	    return process_arg_shuffle(2);
 2647              		.loc 1 1741 4 is_stmt 1 view .LVU829
1741:src/keys.c    **** 	    return process_arg_shuffle(2);
 2648              		.loc 1 1741 8 is_stmt 0 view .LVU830
 2649 033e A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
1741:src/keys.c    **** 	    return process_arg_shuffle(2);
 2650              		.loc 1 1741 7 view .LVU831
 2651 0340 9B07     		lsls	r3, r3, #30
 2652 0342 7FF5F8AE 		bpl	.L232
1742:src/keys.c    **** #else
 2653              		.loc 1 1742 6 is_stmt 1 view .LVU832
1742:src/keys.c    **** #else
 2654              		.loc 1 1742 13 is_stmt 0 view .LVU833
 2655 0346 0220     		movs	r0, #2
 2656 0348 EEE7     		b	.L307
 2657              	.L254:
ARM GAS  /tmp/cc90KtGY.s 			page 107


1829:src/keys.c    **** 		break;
 2658              		.loc 1 1829 3 is_stmt 1 view .LVU834
 2659 034a 0021     		movs	r1, #0
 2660 034c 0520     		movs	r0, #5
 2661 034e FFF7FEFF 		bl	arg_storcl
 2662              	.LVL201:
1830:src/keys.c    **** 
 2663              		.loc 1 1830 3 view .LVU835
1879:src/keys.c    **** }
 2664              		.loc 1 1879 9 is_stmt 0 view .LVU836
 2665 0352 3320     		movs	r0, #51
1830:src/keys.c    **** 
 2666              		.loc 1 1830 3 view .LVU837
 2667 0354 ECE6     		b	.L202
 2668              	.L231:
1732:src/keys.c    **** 	    return process_arg_shuffle(3);
 2669              		.loc 1 1732 4 is_stmt 1 view .LVU838
1732:src/keys.c    **** 	    return process_arg_shuffle(3);
 2670              		.loc 1 1732 8 is_stmt 0 view .LVU839
 2671 0356 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
1732:src/keys.c    **** 	    return process_arg_shuffle(3);
 2672              		.loc 1 1732 7 view .LVU840
 2673 0358 9807     		lsls	r0, r3, #30
 2674 035a 7FF5ECAE 		bpl	.L232
1733:src/keys.c    **** 	case K51:       // X
 2675              		.loc 1 1733 6 is_stmt 1 view .LVU841
1733:src/keys.c    **** 	case K51:       // X
 2676              		.loc 1 1733 13 is_stmt 0 view .LVU842
 2677 035e 0320     		movs	r0, #3
 2678 0360 E2E7     		b	.L307
 2679              	.L252:
1789:src/keys.c    **** 		break;
 2680              		.loc 1 1789 3 is_stmt 1 view .LVU843
 2681 0362 0121     		movs	r1, #1
 2682 0364 0420     		movs	r0, #4
 2683 0366 FFF7FEFF 		bl	arg_storcl
 2684              	.LVL202:
1790:src/keys.c    **** #else
 2685              		.loc 1 1790 3 view .LVU844
1879:src/keys.c    **** }
 2686              		.loc 1 1879 9 is_stmt 0 view .LVU845
 2687 036a 3320     		movs	r0, #51
1790:src/keys.c    **** #else
 2688              		.loc 1 1790 3 view .LVU846
 2689 036c E0E6     		b	.L202
 2690              	.L262:
1854:src/keys.c    **** 			if (State2.dot)
 2691              		.loc 1 1854 3 is_stmt 1 view .LVU847
1854:src/keys.c    **** 			if (State2.dot)
 2692              		.loc 1 1854 13 is_stmt 0 view .LVU848
 2693 036e E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
1854:src/keys.c    **** 			if (State2.dot)
 2694              		.loc 1 1854 6 view .LVU849
 2695 0370 7BBB     		cbnz	r3, .L263
1855:src/keys.c    **** 				State2.dot = 0;
 2696              		.loc 1 1855 4 is_stmt 1 view .LVU850
1855:src/keys.c    **** 				State2.dot = 0;
ARM GAS  /tmp/cc90KtGY.s 			page 108


 2697              		.loc 1 1855 8 is_stmt 0 view .LVU851
 2698 0372 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
1855:src/keys.c    **** 				State2.dot = 0;
 2699              		.loc 1 1855 7 view .LVU852
 2700 0374 13F04001 		ands	r1, r3, #64
 2701 0378 CBD1     		bne	.L264
1857:src/keys.c    **** 				State2.local = 0;
 2702              		.loc 1 1857 9 is_stmt 1 view .LVU853
1857:src/keys.c    **** 				State2.local = 0;
 2703              		.loc 1 1857 13 is_stmt 0 view .LVU854
 2704 037a A27D     		ldrb	r2, [r4, #22]	@ zero_extendqisi2
1857:src/keys.c    **** 				State2.local = 0;
 2705              		.loc 1 1857 12 view .LVU855
 2706 037c 12F00100 		ands	r0, r2, #1
 2707 0380 54D1     		bne	.L313
1859:src/keys.c    **** 				State2.ind = 0;
 2708              		.loc 1 1859 9 is_stmt 1 view .LVU856
1859:src/keys.c    **** 				State2.ind = 0;
 2709              		.loc 1 1859 12 is_stmt 0 view .LVU857
 2710 0382 1906     		lsls	r1, r3, #24
 2711 0384 7FF5D1AE 		bpl	.L266
1860:src/keys.c    **** 			else
 2712              		.loc 1 1860 5 is_stmt 1 view .LVU858
1860:src/keys.c    **** 			else
 2713              		.loc 1 1860 16 is_stmt 0 view .LVU859
 2714 0388 60F3C713 		bfi	r3, r0, #7, #1
 2715 038c 6375     		strb	r3, [r4, #21]
1879:src/keys.c    **** }
 2716              		.loc 1 1879 9 view .LVU860
 2717 038e 3320     		movs	r0, #51
 2718 0390 CEE6     		b	.L202
 2719              	.L311:
1833:src/keys.c    **** 			if (argcmds[base].label) {
 2720              		.loc 1 1833 43 discriminator 1 view .LVU861
 2721 0392 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 2722 0394 13F0C00F 		tst	r3, #192
 2723 0398 0ED1     		bne	.L257
1834:src/keys.c    **** 				init_arg((enum rarg)(base - RARG_LBL));
 2724              		.loc 1 1834 4 is_stmt 1 view .LVU862
1834:src/keys.c    **** 				init_arg((enum rarg)(base - RARG_LBL));
 2725              		.loc 1 1834 7 is_stmt 0 view .LVU863
 2726 039a 0029     		cmp	r1, #0
 2727 039c 4BD1     		bne	.L314
1839:src/keys.c    **** 				reset_arg();
 2728              		.loc 1 1839 11 is_stmt 1 view .LVU864
1839:src/keys.c    **** 				reset_arg();
 2729              		.loc 1 1839 14 is_stmt 0 view .LVU865
 2730 039e 4E2F     		cmp	r7, #78
 2731 03a0 5BD0     		beq	.L315
1842:src/keys.c    **** 				reset_arg();
 2732              		.loc 1 1842 11 is_stmt 1 view .LVU866
1842:src/keys.c    **** 				reset_arg();
 2733              		.loc 1 1842 14 is_stmt 0 view .LVU867
 2734 03a2 4F2F     		cmp	r7, #79
 2735 03a4 5ED0     		beq	.L316
1845:src/keys.c    **** 				State2.dot = 1;
 2736              		.loc 1 1845 11 is_stmt 1 view .LVU868
ARM GAS  /tmp/cc90KtGY.s 			page 109


1845:src/keys.c    **** 				State2.dot = 1;
 2737              		.loc 1 1845 14 is_stmt 0 view .LVU869
 2738 03a6 019A     		ldr	r2, [sp, #4]
 2739 03a8 002A     		cmp	r2, #0
 2740 03aa 3FF4C0AE 		beq	.L304
1846:src/keys.c    **** 		} else if (State2.numdigit > 0)
 2741              		.loc 1 1846 5 is_stmt 1 view .LVU870
1846:src/keys.c    **** 		} else if (State2.numdigit > 0)
 2742              		.loc 1 1846 16 is_stmt 0 view .LVU871
 2743 03ae 43F04003 		orr	r3, r3, #64
 2744 03b2 6375     		strb	r3, [r4, #21]
1879:src/keys.c    **** }
 2745              		.loc 1 1879 9 view .LVU872
 2746 03b4 3320     		movs	r0, #51
 2747 03b6 BBE6     		b	.L202
 2748              	.L257:
1847:src/keys.c    **** 			return arg_eval(State2.digval);
 2749              		.loc 1 1847 10 is_stmt 1 view .LVU873
1849:src/keys.c    **** 			State2.dot = 1 - State2.dot;
 2750              		.loc 1 1849 8 view .LVU874
1849:src/keys.c    **** 			State2.dot = 1 - State2.dot;
 2751              		.loc 1 1849 11 is_stmt 0 view .LVU875
 2752 03b8 B8F1000F 		cmp	r8, #0
 2753 03bc 3FF4B7AE 		beq	.L304
1850:src/keys.c    **** 		break;
 2754              		.loc 1 1850 4 is_stmt 1 view .LVU876
1850:src/keys.c    **** 		break;
 2755              		.loc 1 1850 27 is_stmt 0 view .LVU877
 2756 03c0 C3F38012 		ubfx	r2, r3, #6, #1
1850:src/keys.c    **** 		break;
 2757              		.loc 1 1850 19 view .LVU878
 2758 03c4 C2F10102 		rsb	r2, r2, #1
1850:src/keys.c    **** 		break;
 2759              		.loc 1 1850 15 view .LVU879
 2760 03c8 62F38613 		bfi	r3, r2, #6, #1
 2761 03cc 6375     		strb	r3, [r4, #21]
1879:src/keys.c    **** }
 2762              		.loc 1 1879 9 view .LVU880
 2763 03ce 3320     		movs	r0, #51
 2764 03d0 AEE6     		b	.L202
 2765              	.L263:
1865:src/keys.c    **** 			if (State2.shuffle)
 2766              		.loc 1 1865 4 is_stmt 1 view .LVU881
1866:src/keys.c    **** 				State2.digval &= ~(3 << (State2.numdigit << 1));
 2767              		.loc 1 1866 8 is_stmt 0 view .LVU882
 2768 03d2 A27D     		ldrb	r2, [r4, #22]	@ zero_extendqisi2
1865:src/keys.c    **** 			if (State2.shuffle)
 2769              		.loc 1 1865 4 view .LVU883
 2770 03d4 013B     		subs	r3, r3, #1
 2771 03d6 DBB2     		uxtb	r3, r3
1866:src/keys.c    **** 				State2.digval &= ~(3 << (State2.numdigit << 1));
 2772              		.loc 1 1866 7 view .LVU884
 2773 03d8 9207     		lsls	r2, r2, #30
1865:src/keys.c    **** 			if (State2.shuffle)
 2774              		.loc 1 1865 4 view .LVU885
 2775 03da E372     		strb	r3, [r4, #11]
1866:src/keys.c    **** 				State2.digval &= ~(3 << (State2.numdigit << 1));
ARM GAS  /tmp/cc90KtGY.s 			page 110


 2776              		.loc 1 1866 4 is_stmt 1 view .LVU886
1866:src/keys.c    **** 				State2.digval &= ~(3 << (State2.numdigit << 1));
 2777              		.loc 1 1866 7 is_stmt 0 view .LVU887
 2778 03dc 14D5     		bpl	.L267
1867:src/keys.c    **** 			else
 2779              		.loc 1 1867 5 is_stmt 1 view .LVU888
1867:src/keys.c    **** 			else
 2780              		.loc 1 1867 19 is_stmt 0 view .LVU889
 2781 03de 2289     		ldrh	r2, [r4, #8]
1867:src/keys.c    **** 			else
 2782              		.loc 1 1867 46 view .LVU890
 2783 03e0 5B00     		lsls	r3, r3, #1
1867:src/keys.c    **** 			else
 2784              		.loc 1 1867 26 view .LVU891
 2785 03e2 0321     		movs	r1, #3
 2786 03e4 01FA03F3 		lsl	r3, r1, r3
1867:src/keys.c    **** 			else
 2787              		.loc 1 1867 19 view .LVU892
 2788 03e8 22EA0303 		bic	r3, r2, r3
 2789 03ec 2381     		strh	r3, [r4, #8]	@ movhi
1879:src/keys.c    **** }
 2790              		.loc 1 1879 9 view .LVU893
 2791 03ee 3320     		movs	r0, #51
 2792 03f0 9EE6     		b	.L202
 2793              	.L247:
1779:src/keys.c    **** 			return OP_NIL | OP_VIEWALPHA;
 2794              		.loc 1 1779 4 is_stmt 1 view .LVU894
 2795 03f2 FFF7FEFF 		bl	reset_arg
 2796              	.LVL203:
1780:src/keys.c    **** 		}
 2797              		.loc 1 1780 4 view .LVU895
1780:src/keys.c    **** 		}
 2798              		.loc 1 1780 11 is_stmt 0 view .LVU896
 2799 03f6 40F27510 		movw	r0, #373
 2800 03fa 99E6     		b	.L202
 2801              	.LVL204:
 2802              	.L241:
 2803              	.LBB365:
 2804              	.LBB363:
1623:src/keys.c    **** 		}
 2805              		.loc 1 1623 4 is_stmt 1 view .LVU897
1623:src/keys.c    **** 		}
 2806              		.loc 1 1623 17 is_stmt 0 view .LVU898
 2807 03fc A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 2808 03fe 43F00103 		orr	r3, r3, #1
 2809 0402 A375     		strb	r3, [r4, #22]
1633:src/keys.c    **** }
 2810              		.loc 1 1633 9 view .LVU899
 2811 0404 3320     		movs	r0, #51
1623:src/keys.c    **** 		}
 2812              		.loc 1 1623 17 view .LVU900
 2813 0406 93E6     		b	.L202
 2814              	.LVL205:
 2815              	.L267:
1623:src/keys.c    **** 		}
 2816              		.loc 1 1623 17 view .LVU901
 2817              	.LBE363:
ARM GAS  /tmp/cc90KtGY.s 			page 111


 2818              	.LBE365:
1869:src/keys.c    **** 		}
 2819              		.loc 1 1869 5 is_stmt 1 view .LVU902
1869:src/keys.c    **** 		}
 2820              		.loc 1 1869 19 is_stmt 0 view .LVU903
 2821 0408 2389     		ldrh	r3, [r4, #8]
 2822 040a 1A4A     		ldr	r2, .L319
 2823 040c A2FB0323 		umull	r2, r3, r2, r3
 2824 0410 DB08     		lsrs	r3, r3, #3
 2825 0412 2381     		strh	r3, [r4, #8]	@ movhi
1879:src/keys.c    **** }
 2826              		.loc 1 1879 9 view .LVU904
 2827 0414 3320     		movs	r0, #51
 2828 0416 8BE6     		b	.L202
 2829              	.L310:
1726:src/keys.c    **** 		else if (base == RARG_RCL)
 2830              		.loc 1 1726 4 is_stmt 1 view .LVU905
1726:src/keys.c    **** 		else if (base == RARG_RCL)
 2831              		.loc 1 1726 12 is_stmt 0 view .LVU906
 2832 0418 7723     		movs	r3, #119
 2833 041a E377     		strb	r3, [r4, #31]
1879:src/keys.c    **** }
 2834              		.loc 1 1879 9 view .LVU907
 2835 041c 3320     		movs	r0, #51
 2836 041e 87E6     		b	.L202
 2837              	.LVL206:
 2838              	.L312:
 2839              	.LBB366:
 2840              	.LBB364:
1618:src/keys.c    **** 			return arg_eval(regX_idx);
 2841              		.loc 1 1618 4 is_stmt 1 view .LVU908
1618:src/keys.c    **** 			return arg_eval(regX_idx);
 2842              		.loc 1 1618 17 is_stmt 0 view .LVU909
 2843 0420 A27D     		ldrb	r2, [r4, #22]	@ zero_extendqisi2
 2844 0422 63F30002 		bfi	r2, r3, #0, #1
1619:src/keys.c    **** 		}
 2845              		.loc 1 1619 11 view .LVU910
 2846 0426 6420     		movs	r0, #100
1618:src/keys.c    **** 			return arg_eval(regX_idx);
 2847              		.loc 1 1618 17 view .LVU911
 2848 0428 A275     		strb	r2, [r4, #22]
1619:src/keys.c    **** 		}
 2849              		.loc 1 1619 4 is_stmt 1 view .LVU912
 2850 042a CAE6     		b	.L306
 2851              	.LVL207:
 2852              	.L313:
1619:src/keys.c    **** 		}
 2853              		.loc 1 1619 4 is_stmt 0 view .LVU913
 2854              	.LBE364:
 2855              	.LBE366:
1858:src/keys.c    **** 			else if (State2.ind)
 2856              		.loc 1 1858 5 is_stmt 1 view .LVU914
1858:src/keys.c    **** 			else if (State2.ind)
 2857              		.loc 1 1858 18 is_stmt 0 view .LVU915
 2858 042c 61F30002 		bfi	r2, r1, #0, #1
 2859 0430 A275     		strb	r2, [r4, #22]
1879:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 112


 2860              		.loc 1 1879 9 view .LVU916
 2861 0432 3320     		movs	r0, #51
 2862 0434 7CE6     		b	.L202
 2863              	.L314:
1835:src/keys.c    **** 				State2.multi = 1;
 2864              		.loc 1 1835 5 is_stmt 1 view .LVU917
 2865              	.LVL208:
 2866              	.LBB367:
 2867              	.LBI367:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 2868              		.loc 1 501 13 view .LVU918
 2869              	.LBB368:
 502:src/keys.c    **** 		return;
 2870              		.loc 1 502 2 view .LVU919
 502:src/keys.c    **** 		return;
 2871              		.loc 1 502 6 is_stmt 0 view .LVU920
 2872 0436 FFF7FEFF 		bl	is_bad_cmdline
 2873              	.LVL209:
 502:src/keys.c    **** 		return;
 2874              		.loc 1 502 5 view .LVU921
 2875 043a 20B9     		cbnz	r0, .L259
 2876              	.LBE368:
 2877              	.LBE367:
1835:src/keys.c    **** 				State2.multi = 1;
 2878              		.loc 1 1835 31 view .LVU922
 2879 043c A7F14200 		sub	r0, r7, #66
 2880              	.LBB370:
 2881              	.LBB369:
 2882 0440 C0B2     		uxtb	r0, r0
 2883 0442 FFF7FEFF 		bl	init_arg.part.0
 2884              	.LVL210:
 2885              	.L259:
1835:src/keys.c    **** 				State2.multi = 1;
 2886              		.loc 1 1835 31 view .LVU923
 2887              	.LBE369:
 2888              	.LBE370:
1836:src/keys.c    **** 				State2.alphashift = 0;
 2889              		.loc 1 1836 5 is_stmt 1 view .LVU924
1837:src/keys.c    **** 				State2.rarg = 0;
 2890              		.loc 1 1837 5 view .LVU925
1838:src/keys.c    **** 			} else if (base == RARG_SCI) {
 2891              		.loc 1 1838 5 view .LVU926
1836:src/keys.c    **** 				State2.alphashift = 0;
 2892              		.loc 1 1836 18 is_stmt 0 view .LVU927
 2893 0446 6369     		ldr	r3, [r4, #20]
 2894 0448 23F44013 		bic	r3, r3, #3145728
 2895 044c 23F40063 		bic	r3, r3, #2048
 2896 0450 43F40063 		orr	r3, r3, #2048
 2897 0454 6361     		str	r3, [r4, #20]
1879:src/keys.c    **** }
 2898              		.loc 1 1879 9 view .LVU928
 2899 0456 3320     		movs	r0, #51
 2900 0458 6AE6     		b	.L202
 2901              	.L315:
1840:src/keys.c    **** 				return OP_NIL | OP_FIXSCI;
 2902              		.loc 1 1840 5 is_stmt 1 view .LVU929
 2903 045a FFF7FEFF 		bl	reset_arg
ARM GAS  /tmp/cc90KtGY.s 			page 113


 2904              	.LVL211:
1841:src/keys.c    **** 			} else if (base == RARG_ENG) {
 2905              		.loc 1 1841 5 view .LVU930
1841:src/keys.c    **** 			} else if (base == RARG_ENG) {
 2906              		.loc 1 1841 12 is_stmt 0 view .LVU931
 2907 045e 40F25510 		movw	r0, #341
 2908 0462 65E6     		b	.L202
 2909              	.L316:
1843:src/keys.c    **** 				return OP_NIL | OP_FIXENG;
 2910              		.loc 1 1843 5 is_stmt 1 view .LVU932
 2911 0464 FFF7FEFF 		bl	reset_arg
 2912              	.LVL212:
1844:src/keys.c    **** 			} else if (argcmds[base].stckreg)
 2913              		.loc 1 1844 5 view .LVU933
1844:src/keys.c    **** 			} else if (argcmds[base].stckreg)
 2914              		.loc 1 1844 12 is_stmt 0 view .LVU934
 2915 0468 4FF4AB70 		mov	r0, #342
 2916 046c 60E6     		b	.L202
 2917              	.L220:
1663:src/keys.c    **** 	  case regY_idx:
 2918              		.loc 1 1663 6 is_stmt 1 view .LVU935
1663:src/keys.c    **** 	  case regY_idx:
 2919              		.loc 1 1663 13 is_stmt 0 view .LVU936
 2920 046e 0120     		movs	r0, #1
 2921 0470 BBE6     		b	.L305
 2922              	.L320:
 2923 0472 00BF     		.align	2
 2924              	.L319:
 2925 0474 CDCCCCCC 		.word	-858993459
 2926              		.cfi_endproc
 2927              	.LFE37:
 2929              		.section	.text.cur_shift,"ax",%progbits
 2930              		.align	1
 2931              		.p2align 2,,3
 2932              		.global	cur_shift
 2933              		.syntax unified
 2934              		.thumb
 2935              		.thumb_func
 2936              		.fpu fpv4-sp-d16
 2938              	cur_shift:
 2939              	.LFB0:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 2940              		.loc 1 84 29 is_stmt 1 view -0
 2941              		.cfi_startproc
 2942              		@ args = 0, pretend = 0, frame = 0
 2943              		@ frame_needed = 0, uses_anonymous_args = 0
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 2944              		.loc 1 85 2 view .LVU938
  84:src/keys.c    **** 	enum shifts s = shift_down();
 2945              		.loc 1 84 29 is_stmt 0 view .LVU939
 2946 0000 08B5     		push	{r3, lr}
 2947              		.cfi_def_cfa_offset 8
 2948              		.cfi_offset 3, -8
 2949              		.cfi_offset 14, -4
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 2950              		.loc 1 85 18 view .LVU940
 2951 0002 FFF7FEFF 		bl	shift_down
ARM GAS  /tmp/cc90KtGY.s 			page 114


 2952              	.LVL213:
  86:src/keys.c    **** }
 2953              		.loc 1 86 2 is_stmt 1 view .LVU941
  86:src/keys.c    **** }
 2954              		.loc 1 86 52 is_stmt 0 view .LVU942
 2955 0006 08B9     		cbnz	r0, .L322
  86:src/keys.c    **** }
 2956              		.loc 1 86 52 discriminator 1 view .LVU943
 2957 0008 014B     		ldr	r3, .L324
 2958 000a 187C     		ldrb	r0, [r3, #16]	@ zero_extendqisi2
 2959              	.LVL214:
 2960              	.L322:
  87:src/keys.c    **** 
 2961              		.loc 1 87 1 discriminator 4 view .LVU944
 2962 000c 08BD     		pop	{r3, pc}
 2963              	.L325:
 2964 000e 00BF     		.align	2
 2965              	.L324:
 2966 0010 00000000 		.word	StateWhileOn
 2967              		.cfi_endproc
 2968              	.LFE0:
 2970              		.section	.text.reset_shift,"ax",%progbits
 2971              		.align	1
 2972              		.p2align 2,,3
 2973              		.global	reset_shift
 2974              		.syntax unified
 2975              		.thumb
 2976              		.thumb_func
 2977              		.fpu fpv4-sp-d16
 2979              	reset_shift:
 2980              	.LFB2:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 2981              		.loc 1 102 31 is_stmt 1 view -0
 2982              		.cfi_startproc
 2983              		@ args = 0, pretend = 0, frame = 0
 2984              		@ frame_needed = 0, uses_anonymous_args = 0
 103:src/keys.c    **** }
 2985              		.loc 1 103 2 view .LVU946
 2986              	.LVL215:
 2987              	.LBB371:
 2988              	.LBI371:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 2989              		.loc 1 92 20 view .LVU947
 2990              	.LBB372:
  93:src/keys.c    **** 	State2.shifts = shift;
 2991              		.loc 1 93 2 view .LVU948
 2992              	.LBB373:
 2993              	.LBI373:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 2994              		.loc 1 84 13 view .LVU949
 2995              	.LBB374:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 2996              		.loc 1 85 2 view .LVU950
 2997              	.LBE374:
 2998              	.LBE373:
 2999              	.LBE372:
 3000              	.LBE371:
ARM GAS  /tmp/cc90KtGY.s 			page 115


 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 3001              		.loc 1 102 31 is_stmt 0 view .LVU951
 3002 0000 08B5     		push	{r3, lr}
 3003              		.cfi_def_cfa_offset 8
 3004              		.cfi_offset 3, -8
 3005              		.cfi_offset 14, -4
 3006              	.LBB378:
 3007              	.LBB377:
 3008              	.LBB376:
 3009              	.LBB375:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 3010              		.loc 1 85 18 view .LVU952
 3011 0002 FFF7FEFF 		bl	shift_down
 3012              	.LVL216:
  86:src/keys.c    **** }
 3013              		.loc 1 86 2 is_stmt 1 view .LVU953
  86:src/keys.c    **** }
 3014              		.loc 1 86 52 is_stmt 0 view .LVU954
 3015 0006 034B     		ldr	r3, .L331
 3016 0008 00B9     		cbnz	r0, .L327
 3017 000a 187C     		ldrb	r0, [r3, #16]	@ zero_extendqisi2
 3018              	.LVL217:
 3019              	.L327:
  86:src/keys.c    **** }
 3020              		.loc 1 86 52 view .LVU955
 3021              	.LBE375:
 3022              	.LBE376:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 3023              		.loc 1 94 2 is_stmt 1 view .LVU956
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 3024              		.loc 1 94 16 is_stmt 0 view .LVU957
 3025 000c 0022     		movs	r2, #0
 3026 000e 1A74     		strb	r2, [r3, #16]
  95:src/keys.c    **** 	return r;
 3027              		.loc 1 95 2 is_stmt 1 view .LVU958
  95:src/keys.c    **** 	return r;
 3028              		.loc 1 95 19 is_stmt 0 view .LVU959
 3029 0010 5A73     		strb	r2, [r3, #13]
  96:src/keys.c    **** }
 3030              		.loc 1 96 2 is_stmt 1 view .LVU960
 3031              	.LVL218:
  96:src/keys.c    **** }
 3032              		.loc 1 96 2 is_stmt 0 view .LVU961
 3033              	.LBE377:
 3034              	.LBE378:
 104:src/keys.c    **** 
 3035              		.loc 1 104 1 view .LVU962
 3036 0012 08BD     		pop	{r3, pc}
 3037              	.L332:
 3038              		.align	2
 3039              	.L331:
 3040 0014 00000000 		.word	StateWhileOn
 3041              		.cfi_endproc
 3042              	.LFE2:
 3044              		.section	.text.keycode_to_row_column,"ax",%progbits
 3045              		.align	1
 3046              		.p2align 2,,3
ARM GAS  /tmp/cc90KtGY.s 			page 116


 3047              		.global	keycode_to_row_column
 3048              		.syntax unified
 3049              		.thumb
 3050              		.thumb_func
 3051              		.fpu fpv4-sp-d16
 3053              	keycode_to_row_column:
 3054              	.LVL219:
 3055              	.LFB6:
 168:src/keys.c    **** 	return 11 + ( c / 6 ) * 10 + c % 6;
 3056              		.loc 1 168 1 is_stmt 1 view -0
 3057              		.cfi_startproc
 3058              		@ args = 0, pretend = 0, frame = 0
 3059              		@ frame_needed = 0, uses_anonymous_args = 0
 3060              		@ link register save eliminated.
 169:src/keys.c    **** }
 3061              		.loc 1 169 2 view .LVU964
 169:src/keys.c    **** }
 3062              		.loc 1 169 18 is_stmt 0 view .LVU965
 3063 0000 074A     		ldr	r2, .L334
 3064 0002 82FB0032 		smull	r3, r2, r2, r0
 3065 0006 A2EBE073 		sub	r3, r2, r0, asr #31
 169:src/keys.c    **** }
 3066              		.loc 1 169 24 view .LVU966
 3067 000a 03EB8302 		add	r2, r3, r3, lsl #2
 3068 000e 5200     		lsls	r2, r2, #1
 169:src/keys.c    **** }
 3069              		.loc 1 169 33 view .LVU967
 3070 0010 03EB4303 		add	r3, r3, r3, lsl #1
 3071 0014 A0EB4303 		sub	r3, r0, r3, lsl #1
 169:src/keys.c    **** }
 3072              		.loc 1 169 12 view .LVU968
 3073 0018 02F10B00 		add	r0, r2, #11
 3074              	.LVL220:
 170:src/keys.c    **** 
 3075              		.loc 1 170 1 view .LVU969
 3076 001c 1844     		add	r0, r0, r3
 3077 001e 7047     		bx	lr
 3078              	.L335:
 3079              		.align	2
 3080              	.L334:
 3081 0020 ABAAAA2A 		.word	715827883
 3082              		.cfi_endproc
 3083              	.LFE6:
 3085              		.section	.text.row_column_to_keycode,"ax",%progbits
 3086              		.align	1
 3087              		.p2align 2,,3
 3088              		.global	row_column_to_keycode
 3089              		.syntax unified
 3090              		.thumb
 3091              		.thumb_func
 3092              		.fpu fpv4-sp-d16
 3094              	row_column_to_keycode:
 3095              	.LVL221:
 3096              	.LFB7:
 178:src/keys.c    **** 	int row = c / 10 - 1;
 3097              		.loc 1 178 1 is_stmt 1 view -0
 3098              		.cfi_startproc
ARM GAS  /tmp/cc90KtGY.s 			page 117


 3099              		@ args = 0, pretend = 0, frame = 0
 3100              		@ frame_needed = 0, uses_anonymous_args = 0
 3101              		@ link register save eliminated.
 179:src/keys.c    **** 	int col = c % 10 - 1;
 3102              		.loc 1 179 2 view .LVU971
 179:src/keys.c    **** 	int col = c % 10 - 1;
 3103              		.loc 1 179 14 is_stmt 0 view .LVU972
 3104 0000 0E4A     		ldr	r2, .L342
 3105 0002 82FB0032 		smull	r3, r2, r2, r0
 3106 0006 C317     		asrs	r3, r0, #31
 3107 0008 C3EBA203 		rsb	r3, r3, r2, asr #2
 180:src/keys.c    **** 
 3108              		.loc 1 180 14 view .LVU973
 3109 000c 03EB8302 		add	r2, r3, r3, lsl #2
 179:src/keys.c    **** 	int col = c % 10 - 1;
 3110              		.loc 1 179 6 view .LVU974
 3111 0010 013B     		subs	r3, r3, #1
 3112              	.LVL222:
 180:src/keys.c    **** 
 3113              		.loc 1 180 2 is_stmt 1 view .LVU975
 180:src/keys.c    **** 
 3114              		.loc 1 180 14 is_stmt 0 view .LVU976
 3115 0012 A0EB4200 		sub	r0, r0, r2, lsl #1
 3116              	.LVL223:
 182:src/keys.c    **** 		return -1;
 3117              		.loc 1 182 5 view .LVU977
 3118 0016 062B     		cmp	r3, #6
 180:src/keys.c    **** 
 3119              		.loc 1 180 6 view .LVU978
 3120 0018 00F1FF30 		add	r0, r0, #-1
 3121              	.LVL224:
 182:src/keys.c    **** 		return -1;
 3122              		.loc 1 182 2 is_stmt 1 view .LVU979
 182:src/keys.c    **** 		return -1;
 3123              		.loc 1 182 5 is_stmt 0 view .LVU980
 3124 001c 0AD8     		bhi	.L341
 182:src/keys.c    **** 		return -1;
 3125              		.loc 1 182 36 discriminator 1 view .LVU981
 3126 001e 012B     		cmp	r3, #1
 3127 0020 CCBF     		ite	gt
 3128 0022 0422     		movgt	r2, #4
 3129 0024 0522     		movle	r2, #5
 182:src/keys.c    **** 		return -1;
 3130              		.loc 1 182 25 discriminator 1 view .LVU982
 3131 0026 8242     		cmp	r2, r0
 3132 0028 04DB     		blt	.L341
 184:src/keys.c    **** }
 3133              		.loc 1 184 2 is_stmt 1 view .LVU983
 184:src/keys.c    **** }
 3134              		.loc 1 184 13 is_stmt 0 view .LVU984
 3135 002a 03EB4303 		add	r3, r3, r3, lsl #1
 3136              	.LVL225:
 184:src/keys.c    **** }
 3137              		.loc 1 184 17 view .LVU985
 3138 002e 00EB4300 		add	r0, r0, r3, lsl #1
 3139              	.LVL226:
 184:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 118


 3140              		.loc 1 184 17 view .LVU986
 3141 0032 7047     		bx	lr
 3142              	.LVL227:
 3143              	.L341:
 183:src/keys.c    **** 	return row * 6 + col;
 3144              		.loc 1 183 10 view .LVU987
 3145 0034 4FF0FF30 		mov	r0, #-1
 3146              	.LVL228:
 185:src/keys.c    **** 
 3147              		.loc 1 185 1 view .LVU988
 3148 0038 7047     		bx	lr
 3149              	.L343:
 3150 003a 00BF     		.align	2
 3151              	.L342:
 3152 003c 67666666 		.word	1717986919
 3153              		.cfi_endproc
 3154              	.LFE7:
 3156              		.section	.text.keycode_to_digit_or_register,"ax",%progbits
 3157              		.align	1
 3158              		.p2align 2,,3
 3159              		.global	keycode_to_digit_or_register
 3160              		.syntax unified
 3161              		.thumb
 3162              		.thumb_func
 3163              		.fpu fpv4-sp-d16
 3165              	keycode_to_digit_or_register:
 3166              	.LVL229:
 3167              	.LFB8:
 199:src/keys.c    ****   static const unsigned char map[] = {
 3168              		.loc 1 199 1 is_stmt 1 view -0
 3169              		.cfi_startproc
 3170              		@ args = 0, pretend = 0, frame = 0
 3171              		@ frame_needed = 0, uses_anonymous_args = 0
 3172              		@ link register save eliminated.
 200:src/keys.c    ****     // K00 - K05
 3173              		.loc 1 200 3 view .LVU990
 221:src/keys.c    **** }
 3174              		.loc 1 221 3 view .LVU991
 3175              	.LBB379:
 3176              	.LBI379:
 119:src/keys.c    **** {
 3177              		.loc 1 119 12 view .LVU992
 3178              	.LBB380:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 3179              		.loc 1 121 2 view .LVU993
 131:src/keys.c    **** }
 3180              		.loc 1 131 2 view .LVU994
 131:src/keys.c    **** }
 3181              		.loc 1 131 23 is_stmt 0 view .LVU995
 3182 0000 024B     		ldr	r3, .L345
 3183              	.LBE380:
 3184              	.LBE379:
 221:src/keys.c    **** }
 3185              		.loc 1 221 28 view .LVU996
 3186 0002 034A     		ldr	r2, .L345+4
 3187              	.LBB382:
 3188              	.LBB381:
ARM GAS  /tmp/cc90KtGY.s 			page 119


 131:src/keys.c    **** }
 3189              		.loc 1 131 23 view .LVU997
 3190 0004 1B5C     		ldrb	r3, [r3, r0]	@ zero_extendqisi2
 3191              	.LBE381:
 3192              	.LBE382:
 222:src/keys.c    **** #else
 3193              		.loc 1 222 1 view .LVU998
 3194 0006 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 3195              	.LVL230:
 222:src/keys.c    **** #else
 3196              		.loc 1 222 1 view .LVU999
 3197 0008 7047     		bx	lr
 3198              	.L346:
 3199 000a 00BF     		.align	2
 3200              	.L345:
 3201 000c 00000000 		.word	.LANCHOR1
 3202 0010 00000000 		.word	.LANCHOR0
 3203              		.cfi_endproc
 3204              	.LFE8:
 3206              		.section	.text.init_state,"ax",%progbits
 3207              		.align	1
 3208              		.p2align 2,,3
 3209              		.global	init_state
 3210              		.syntax unified
 3211              		.thumb
 3212              		.thumb_func
 3213              		.fpu fpv4-sp-d16
 3215              	init_state:
 3216              	.LFB13:
 564:src/keys.c    **** #ifndef REALBUILD
 3217              		.loc 1 564 23 is_stmt 1 view -0
 3218              		.cfi_startproc
 3219              		@ args = 0, pretend = 0, frame = 0
 3220              		@ frame_needed = 0, uses_anonymous_args = 0
 566:src/keys.c    **** 	unsigned int b = State2.trace;
 3221              		.loc 1 566 2 view .LVU1001
 564:src/keys.c    **** #ifndef REALBUILD
 3222              		.loc 1 564 23 is_stmt 0 view .LVU1002
 3223 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3224              		.cfi_def_cfa_offset 24
 3225              		.cfi_offset 4, -24
 3226              		.cfi_offset 5, -20
 3227              		.cfi_offset 6, -16
 3228              		.cfi_offset 7, -12
 3229              		.cfi_offset 8, -8
 3230              		.cfi_offset 14, -4
 566:src/keys.c    **** 	unsigned int b = State2.trace;
 3231              		.loc 1 566 25 view .LVU1003
 3232 0004 154C     		ldr	r4, .L349
 574:src/keys.c    **** 	// Removed: will clear any locals on power off
 3233              		.loc 1 574 10 view .LVU1004
 3234 0006 0021     		movs	r1, #0
 578:src/keys.c    **** 	State2.test = TST_NONE;
 3235              		.loc 1 578 2 view .LVU1005
 3236 0008 1422     		movs	r2, #20
 3237 000a 04F10800 		add	r0, r4, #8
 574:src/keys.c    **** 	// Removed: will clear any locals on power off
ARM GAS  /tmp/cc90KtGY.s 			page 120


 3238              		.loc 1 574 10 view .LVU1006
 3239 000e E177     		strb	r1, [r4, #31]
 566:src/keys.c    **** 	unsigned int b = State2.trace;
 3240              		.loc 1 566 25 view .LVU1007
 3241 0010 257E     		ldrb	r5, [r4, #24]	@ zero_extendqisi2
 567:src/keys.c    **** #else
 3242              		.loc 1 567 25 view .LVU1008
 3243 0012 E67D     		ldrb	r6, [r4, #23]	@ zero_extendqisi2
 571:src/keys.c    **** 	int k = LastKey;
 3244              		.loc 1 571 10 view .LVU1009
 3245 0014 A77C     		ldrb	r7, [r4, #18]	@ zero_extendqisi2
 572:src/keys.c    **** 
 3246              		.loc 1 572 10 view .LVU1010
 3247 0016 94F91380 		ldrsb	r8, [r4, #19]
 578:src/keys.c    **** 	State2.test = TST_NONE;
 3248              		.loc 1 578 2 view .LVU1011
 3249 001a FFF7FEFF 		bl	xset
 3250              	.LVL231:
 580:src/keys.c    **** 	update_program_bounds(1);
 3251              		.loc 1 580 17 view .LVU1012
 3252 001e A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 579:src/keys.c    **** 	State2.runmode = 1;
 3253              		.loc 1 579 14 view .LVU1013
 3254 0020 0722     		movs	r2, #7
 580:src/keys.c    **** 	update_program_bounds(1);
 3255              		.loc 1 580 17 view .LVU1014
 3256 0022 43F04003 		orr	r3, r3, #64
 581:src/keys.c    **** 	set_lift();
 3257              		.loc 1 581 2 view .LVU1015
 3258 0026 0120     		movs	r0, #1
 579:src/keys.c    **** 	State2.runmode = 1;
 3259              		.loc 1 579 14 view .LVU1016
 3260 0028 E273     		strb	r2, [r4, #15]
 580:src/keys.c    **** 	update_program_bounds(1);
 3261              		.loc 1 580 17 view .LVU1017
 3262 002a A375     		strb	r3, [r4, #22]
 581:src/keys.c    **** 	set_lift();
 3263              		.loc 1 581 2 view .LVU1018
 3264 002c FFF7FEFF 		bl	update_program_bounds
 3265              	.LVL232:
 582:src/keys.c    **** 
 3266              		.loc 1 582 2 view .LVU1019
 3267 0030 FFF7FEFF 		bl	set_lift
 3268              	.LVL233:
 589:src/keys.c    **** 	State2.flags = a;
 3269              		.loc 1 589 15 view .LVU1020
 3270 0034 E27D     		ldrb	r2, [r4, #23]	@ zero_extendqisi2
 590:src/keys.c    **** #else
 3271              		.loc 1 590 15 view .LVU1021
 3272 0036 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 594:src/keys.c    **** }
 3273              		.loc 1 594 15 view .LVU1022
 3274 0038 0949     		ldr	r1, .L349+4
 587:src/keys.c    **** #ifndef REALBUILD
 3275              		.loc 1 587 10 view .LVU1023
 3276 003a 84F81380 		strb	r8, [r4, #19]
 566:src/keys.c    **** 	unsigned int b = State2.trace;
ARM GAS  /tmp/cc90KtGY.s 			page 121


 3277              		.loc 1 566 25 view .LVU1024
 3278 003e 05F00105 		and	r5, r5, #1
 3279              	.LVL234:
 567:src/keys.c    **** #else
 3280              		.loc 1 567 2 is_stmt 1 view .LVU1025
 567:src/keys.c    **** #else
 3281              		.loc 1 567 25 is_stmt 0 view .LVU1026
 3282 0042 F609     		lsrs	r6, r6, #7
 3283              	.LVL235:
 571:src/keys.c    **** 	int k = LastKey;
 3284              		.loc 1 571 2 is_stmt 1 view .LVU1027
 571:src/keys.c    **** 	int k = LastKey;
 3285              		.loc 1 571 10 is_stmt 0 view .LVU1028
 3286 0044 FFB2     		uxtb	r7, r7
 3287              	.LVL236:
 572:src/keys.c    **** 
 3288              		.loc 1 572 2 is_stmt 1 view .LVU1029
 574:src/keys.c    **** 	// Removed: will clear any locals on power off
 3289              		.loc 1 574 2 view .LVU1030
 578:src/keys.c    **** 	State2.test = TST_NONE;
 3290              		.loc 1 578 2 view .LVU1031
 579:src/keys.c    **** 	State2.runmode = 1;
 3291              		.loc 1 579 2 view .LVU1032
 580:src/keys.c    **** 	update_program_bounds(1);
 3292              		.loc 1 580 2 view .LVU1033
 581:src/keys.c    **** 	set_lift();
 3293              		.loc 1 581 2 view .LVU1034
 582:src/keys.c    **** 
 3294              		.loc 1 582 2 view .LVU1035
 586:src/keys.c    **** 	LastKey = k;
 3295              		.loc 1 586 2 view .LVU1036
 589:src/keys.c    **** 	State2.flags = a;
 3296              		.loc 1 589 15 is_stmt 0 view .LVU1037
 3297 0046 66F3C712 		bfi	r2, r6, #7, #1
 590:src/keys.c    **** #else
 3298              		.loc 1 590 15 view .LVU1038
 3299 004a 65F30003 		bfi	r3, r5, #0, #1
 594:src/keys.c    **** }
 3300              		.loc 1 594 15 view .LVU1039
 3301 004e 6420     		movs	r0, #100
 589:src/keys.c    **** 	State2.flags = a;
 3302              		.loc 1 589 15 view .LVU1040
 3303 0050 E275     		strb	r2, [r4, #23]
 590:src/keys.c    **** #else
 3304              		.loc 1 590 15 view .LVU1041
 3305 0052 2376     		strb	r3, [r4, #24]
 586:src/keys.c    **** 	LastKey = k;
 3306              		.loc 1 586 10 view .LVU1042
 3307 0054 A774     		strb	r7, [r4, #18]
 587:src/keys.c    **** #ifndef REALBUILD
 3308              		.loc 1 587 2 is_stmt 1 view .LVU1043
 589:src/keys.c    **** 	State2.flags = a;
 3309              		.loc 1 589 2 view .LVU1044
 590:src/keys.c    **** #else
 3310              		.loc 1 590 2 view .LVU1045
 594:src/keys.c    **** }
 3311              		.loc 1 594 2 view .LVU1046
ARM GAS  /tmp/cc90KtGY.s 			page 122


 594:src/keys.c    **** }
 3312              		.loc 1 594 15 is_stmt 0 view .LVU1047
 3313 0056 0860     		str	r0, [r1]
 595:src/keys.c    **** 
 3314              		.loc 1 595 1 view .LVU1048
 3315 0058 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3316              	.LVL237:
 3317              	.L350:
 595:src/keys.c    **** 
 3318              		.loc 1 595 1 view .LVU1049
 3319              		.align	2
 3320              	.L349:
 3321 005c 00000000 		.word	StateWhileOn
 3322 0060 00000000 		.word	ShowRegister
 3323              		.cfi_endproc
 3324              	.LFE13:
 3326              		.section	.text.soft_init_state,"ax",%progbits
 3327              		.align	1
 3328              		.p2align 2,,3
 3329              		.global	soft_init_state
 3330              		.syntax unified
 3331              		.thumb
 3332              		.thumb_func
 3333              		.fpu fpv4-sp-d16
 3335              	soft_init_state:
 3336              	.LFB14:
 597:src/keys.c    **** 	int soft;
 3337              		.loc 1 597 28 is_stmt 1 view -0
 3338              		.cfi_startproc
 3339              		@ args = 0, pretend = 0, frame = 0
 3340              		@ frame_needed = 0, uses_anonymous_args = 0
 598:src/keys.c    **** 	unsigned int runmode;
 3341              		.loc 1 598 2 view .LVU1051
 599:src/keys.c    **** 	unsigned int alphas;
 3342              		.loc 1 599 2 view .LVU1052
 600:src/keys.c    **** 
 3343              		.loc 1 600 2 view .LVU1053
 602:src/keys.c    **** 		CmdLineLength = 0;
 3344              		.loc 1 602 2 view .LVU1054
 597:src/keys.c    **** 	int soft;
 3345              		.loc 1 597 28 is_stmt 0 view .LVU1055
 3346 0000 38B5     		push	{r3, r4, r5, lr}
 3347              		.cfi_def_cfa_offset 16
 3348              		.cfi_offset 3, -16
 3349              		.cfi_offset 4, -12
 3350              		.cfi_offset 5, -8
 3351              		.cfi_offset 14, -4
 602:src/keys.c    **** 		CmdLineLength = 0;
 3352              		.loc 1 602 6 view .LVU1056
 3353 0002 114C     		ldr	r4, .L358
 602:src/keys.c    **** 		CmdLineLength = 0;
 3354              		.loc 1 602 5 view .LVU1057
 3355 0004 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 3356 0006 D3B9     		cbnz	r3, .L357
 608:src/keys.c    **** 			State2.cmplx || State2.arrow || State2.test != TST_NONE || State2.status;
 3357              		.loc 1 608 2 is_stmt 1 view .LVU1058
 609:src/keys.c    **** 	runmode = State2.runmode;
ARM GAS  /tmp/cc90KtGY.s 			page 123


 3358              		.loc 1 609 17 is_stmt 0 view .LVU1059
 3359 0008 104A     		ldr	r2, .L358+4
 3360 000a 6369     		ldr	r3, [r4, #20]
 609:src/keys.c    **** 	runmode = State2.runmode;
 3361              		.loc 1 609 60 view .LVU1060
 3362 000c 1A42     		tst	r2, r3
 3363 000e 0AD0     		beq	.L354
 3364              	.L355:
 3365              	.LVL238:
 610:src/keys.c    **** 	alphas = State2.alphas;
 3366              		.loc 1 610 2 is_stmt 1 view .LVU1061
 611:src/keys.c    **** 	init_state();
 3367              		.loc 1 611 17 is_stmt 0 view .LVU1062
 3368 0010 A57D     		ldrb	r5, [r4, #22]	@ zero_extendqisi2
 3369              	.LVL239:
 611:src/keys.c    **** 	init_state();
 3370              		.loc 1 611 2 is_stmt 1 view .LVU1063
 612:src/keys.c    **** 	if (soft) {
 3371              		.loc 1 612 2 view .LVU1064
 3372 0012 FFF7FEFF 		bl	init_state
 3373              	.LVL240:
 613:src/keys.c    **** 		State2.runmode = runmode;
 3374              		.loc 1 613 2 view .LVU1065
 614:src/keys.c    **** 		State2.alphas = alphas;
 3375              		.loc 1 614 3 view .LVU1066
 615:src/keys.c    **** 	}
 3376              		.loc 1 615 3 view .LVU1067
 615:src/keys.c    **** 	}
 3377              		.loc 1 615 17 is_stmt 0 view .LVU1068
 3378 0016 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 3379 0018 05F04805 		and	r5, r5, #72
 3380 001c 23F04803 		bic	r3, r3, #72
 3381 0020 2B43     		orrs	r3, r3, r5
 3382 0022 A375     		strb	r3, [r4, #22]
 617:src/keys.c    **** 
 3383              		.loc 1 617 1 view .LVU1069
 3384 0024 38BD     		pop	{r3, r4, r5, pc}
 3385              	.LVL241:
 3386              	.L354:
 609:src/keys.c    **** 	runmode = State2.runmode;
 3387              		.loc 1 609 60 discriminator 2 view .LVU1070
 3388 0026 E368     		ldr	r3, [r4, #12]
 3389 0028 23F47F03 		bic	r3, r3, #16711680
 3390 002c 23F47F43 		bic	r3, r3, #65280
 3391 0030 B3F1E06F 		cmp	r3, #117440512
 3392 0034 ECD1     		bne	.L355
 3393              	.LVL242:
 610:src/keys.c    **** 	alphas = State2.alphas;
 3394              		.loc 1 610 2 is_stmt 1 view .LVU1071
 611:src/keys.c    **** 	init_state();
 3395              		.loc 1 611 2 view .LVU1072
 612:src/keys.c    **** 	if (soft) {
 3396              		.loc 1 612 2 view .LVU1073
 617:src/keys.c    **** 
 3397              		.loc 1 617 1 is_stmt 0 view .LVU1074
 3398 0036 BDE83840 		pop	{r3, r4, r5, lr}
 3399              		.cfi_remember_state
ARM GAS  /tmp/cc90KtGY.s 			page 124


 3400              		.cfi_restore 14
 3401              		.cfi_restore 5
 3402              		.cfi_restore 4
 3403              		.cfi_restore 3
 3404              		.cfi_def_cfa_offset 0
 612:src/keys.c    **** 	if (soft) {
 3405              		.loc 1 612 2 view .LVU1075
 3406 003a FFF7FEBF 		b	init_state
 3407              	.LVL243:
 3408              	.L357:
 3409              		.cfi_restore_state
 3410              	.LBB385:
 3411              	.LBI385:
 597:src/keys.c    **** 	int soft;
 3412              		.loc 1 597 6 is_stmt 1 view .LVU1076
 3413              	.LBB386:
 603:src/keys.c    **** 		CmdLineEex = 0;
 3414              		.loc 1 603 3 view .LVU1077
 604:src/keys.c    **** 		CmdLineDot = 0;
 3415              		.loc 1 604 3 view .LVU1078
 605:src/keys.c    **** 		return;
 3416              		.loc 1 605 3 view .LVU1079
 603:src/keys.c    **** 		CmdLineEex = 0;
 3417              		.loc 1 603 17 is_stmt 0 view .LVU1080
 3418 003e 0023     		movs	r3, #0
 3419 0040 A383     		strh	r3, [r4, #28]	@ movhi
 605:src/keys.c    **** 		return;
 3420              		.loc 1 605 14 view .LVU1081
 3421 0042 A377     		strb	r3, [r4, #30]
 606:src/keys.c    **** 	}
 3422              		.loc 1 606 3 is_stmt 1 view .LVU1082
 3423              	.LBE386:
 3424              	.LBE385:
 617:src/keys.c    **** 
 3425              		.loc 1 617 1 is_stmt 0 view .LVU1083
 3426 0044 38BD     		pop	{r3, r4, r5, pc}
 3427              	.L359:
 3428 0046 00BF     		.align	2
 3429              	.L358:
 3430 0048 00000000 		.word	StateWhileOn
 3431 004c 002F2004 		.word	69218048
 3432              		.cfi_endproc
 3433              	.LFE14:
 3435              		.section	.text.current_catalogue_max,"ax",%progbits
 3436              		.align	1
 3437              		.p2align 2,,3
 3438              		.global	current_catalogue_max
 3439              		.syntax unified
 3440              		.thumb
 3441              		.thumb_func
 3442              		.fpu fpv4-sp-d16
 3444              	current_catalogue_max:
 3445              	.LFB39:
2016:src/keys.c    **** 	// A quick table of catalogue sizes
 3446              		.loc 1 2016 33 is_stmt 1 view -0
 3447              		.cfi_startproc
 3448              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc90KtGY.s 			page 125


 3449              		@ frame_needed = 0, uses_anonymous_args = 0
 3450              		@ link register save eliminated.
2019:src/keys.c    **** 	{
 3451              		.loc 1 2019 2 view .LVU1085
2050:src/keys.c    **** #endif
 3452              		.loc 1 2050 2 view .LVU1086
2050:src/keys.c    **** #endif
 3453              		.loc 1 2050 31 is_stmt 0 view .LVU1087
 3454 0000 024B     		ldr	r3, .L361
2050:src/keys.c    **** #endif
 3455              		.loc 1 2050 24 view .LVU1088
 3456 0002 034A     		ldr	r2, .L361+4
2050:src/keys.c    **** #endif
 3457              		.loc 1 2050 31 view .LVU1089
 3458 0004 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
2052:src/keys.c    **** 
 3459              		.loc 1 2052 1 view .LVU1090
 3460 0006 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 3461 0008 7047     		bx	lr
 3462              	.L362:
 3463 000a 00BF     		.align	2
 3464              	.L361:
 3465 000c 00000000 		.word	StateWhileOn
 3466 0010 00000000 		.word	.LANCHOR2
 3467              		.cfi_endproc
 3468              	.LFE39:
 3470              		.section	.text.current_catalogue,"ax",%progbits
 3471              		.align	1
 3472              		.p2align 2,,3
 3473              		.global	current_catalogue
 3474              		.syntax unified
 3475              		.thumb
 3476              		.thumb_func
 3477              		.fpu fpv4-sp-d16
 3479              	current_catalogue:
 3480              	.LVL244:
 3481              	.LFB41:
2065:src/keys.c    **** 	// A quick table of catalogue tables
 3482              		.loc 1 2065 33 is_stmt 1 view -0
 3483              		.cfi_startproc
 3484              		@ args = 0, pretend = 0, frame = 0
 3485              		@ frame_needed = 0, uses_anonymous_args = 0
 3486              		@ link register save eliminated.
2068:src/keys.c    **** 	{
 3487              		.loc 1 2068 2 view .LVU1092
2095:src/keys.c    **** 	unsigned int c = State2.catalogue;
 3488              		.loc 1 2095 2 view .LVU1093
2096:src/keys.c    **** 	int m, i;
 3489              		.loc 1 2096 2 view .LVU1094
2096:src/keys.c    **** 	int m, i;
 3490              		.loc 1 2096 25 is_stmt 0 view .LVU1095
 3491 0000 314A     		ldr	r2, .L390
2096:src/keys.c    **** 	int m, i;
 3492              		.loc 1 2096 15 view .LVU1096
 3493 0002 937B     		ldrb	r3, [r2, #14]	@ zero_extendqisi2
 3494              	.LVL245:
2097:src/keys.c    **** 	unsigned p, q;
ARM GAS  /tmp/cc90KtGY.s 			page 126


 3495              		.loc 1 2097 2 is_stmt 1 view .LVU1097
2098:src/keys.c    **** 
 3496              		.loc 1 2098 2 view .LVU1098
2100:src/keys.c    **** 		if (n == OP_ZERO)
 3497              		.loc 1 2100 2 view .LVU1099
2100:src/keys.c    **** 		if (n == OP_ZERO)
 3498              		.loc 1 2100 5 is_stmt 0 view .LVU1100
 3499 0004 102B     		cmp	r3, #16
 3500 0006 39D0     		beq	.L384
2105:src/keys.c    **** 		if (n == OP_ZERO)
 3501              		.loc 1 2105 2 is_stmt 1 view .LVU1101
2105:src/keys.c    **** 		if (n == OP_ZERO)
 3502              		.loc 1 2105 5 is_stmt 0 view .LVU1102
 3503 0008 112B     		cmp	r3, #17
 3504 000a 32D0     		beq	.L385
2110:src/keys.c    **** 		const int cnv = conv_catalogue[n];
 3505              		.loc 1 2110 2 is_stmt 1 view .LVU1103
2110:src/keys.c    **** 		const int cnv = conv_catalogue[n];
 3506              		.loc 1 2110 5 is_stmt 0 view .LVU1104
 3507 000c 122B     		cmp	r3, #18
 3508 000e 45D0     		beq	.L386
2123:src/keys.c    **** 		cat = (const unsigned char *) alpha_letters_lower;
 3509              		.loc 1 2123 2 is_stmt 1 view .LVU1105
2123:src/keys.c    **** 		cat = (const unsigned char *) alpha_letters_lower;
 3510              		.loc 1 2123 5 is_stmt 0 view .LVU1106
 3511 0010 0E2B     		cmp	r3, #14
 3512 0012 38D0     		beq	.L387
2126:src/keys.c    **** 
 3513              		.loc 1 2126 3 is_stmt 1 view .LVU1107
2126:src/keys.c    **** 
 3514              		.loc 1 2126 7 is_stmt 0 view .LVU1108
 3515 0014 2D4A     		ldr	r2, .L390+4
2128:src/keys.c    **** 		return alpha_code(n, (const char *) cat);
 3516              		.loc 1 2128 35 view .LVU1109
 3517 0016 A3F10B01 		sub	r1, r3, #11
2128:src/keys.c    **** 		return alpha_code(n, (const char *) cat);
 3518              		.loc 1 2128 5 view .LVU1110
 3519 001a 0429     		cmp	r1, #4
2126:src/keys.c    **** 
 3520              		.loc 1 2126 7 view .LVU1111
 3521 001c 52F82320 		ldr	r2, [r2, r3, lsl #2]
 3522              	.LVL246:
2128:src/keys.c    **** 		return alpha_code(n, (const char *) cat);
 3523              		.loc 1 2128 2 is_stmt 1 view .LVU1112
2128:src/keys.c    **** 		return alpha_code(n, (const char *) cat);
 3524              		.loc 1 2128 5 is_stmt 0 view .LVU1113
 3525 0020 38D9     		bls	.L370
2131:src/keys.c    **** 		return OP_NIL | OP_NOP;
 3526              		.loc 1 2131 2 is_stmt 1 view .LVU1114
2131:src/keys.c    **** 		return OP_NIL | OP_NOP;
 3527              		.loc 1 2131 5 is_stmt 0 view .LVU1115
 3528 0022 142B     		cmp	r3, #20
 3529 0024 4DD8     		bhi	.L378
2135:src/keys.c    **** 	p = cat[0];
 3530              		.loc 1 2135 2 is_stmt 1 view .LVU1116
2065:src/keys.c    **** 	// A quick table of catalogue tables
 3531              		.loc 1 2065 33 is_stmt 0 view .LVU1117
ARM GAS  /tmp/cc90KtGY.s 			page 127


 3532 0026 10B4     		push	{r4}
 3533              		.cfi_def_cfa_offset 4
 3534              		.cfi_offset 4, -4
2135:src/keys.c    **** 	p = cat[0];
 3535              		.loc 1 2135 11 view .LVU1118
 3536 0028 00EBA001 		add	r1, r0, r0, asr #2
2135:src/keys.c    **** 	p = cat[0];
 3537              		.loc 1 2135 6 view .LVU1119
 3538 002c 5318     		adds	r3, r2, r1
 3539              	.LVL247:
2136:src/keys.c    **** 	q = cat[1];
 3540              		.loc 1 2136 2 is_stmt 1 view .LVU1120
2137:src/keys.c    **** 	m = 0x3ff & ((p << (2 + ((n & 3) << 1))) | (q >> (6 - ((n & 3) << 1))));
 3541              		.loc 1 2137 2 view .LVU1121
2138:src/keys.c    **** 
 3542              		.loc 1 2138 2 view .LVU1122
2138:src/keys.c    **** 
 3543              		.loc 1 2138 35 is_stmt 0 view .LVU1123
 3544 002e 4000     		lsls	r0, r0, #1
 3545              	.LVL248:
2136:src/keys.c    **** 	q = cat[1];
 3546              		.loc 1 2136 4 view .LVU1124
 3547 0030 525C     		ldrb	r2, [r2, r1]	@ zero_extendqisi2
 3548              	.LVL249:
2137:src/keys.c    **** 	m = 0x3ff & ((p << (2 + ((n & 3) << 1))) | (q >> (6 - ((n & 3) << 1))));
 3549              		.loc 1 2137 4 view .LVU1125
 3550 0032 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3551              	.LVL250:
2137:src/keys.c    **** 	m = 0x3ff & ((p << (2 + ((n & 3) << 1))) | (q >> (6 - ((n & 3) << 1))));
 3552              		.loc 1 2137 4 view .LVU1126
 3553 0034 2649     		ldr	r1, .L390+8
 3554              	.LVL251:
2138:src/keys.c    **** 
 3555              		.loc 1 2138 54 view .LVU1127
 3556 0036 C443     		mvns	r4, r0
2138:src/keys.c    **** 
 3557              		.loc 1 2138 35 view .LVU1128
 3558 0038 00F00600 		and	r0, r0, #6
2138:src/keys.c    **** 
 3559              		.loc 1 2138 54 view .LVU1129
 3560 003c 04F00604 		and	r4, r4, #6
2138:src/keys.c    **** 
 3561              		.loc 1 2138 24 view .LVU1130
 3562 0040 0230     		adds	r0, r0, #2
2138:src/keys.c    **** 
 3563              		.loc 1 2138 48 view .LVU1131
 3564 0042 E340     		lsrs	r3, r3, r4
 3565              	.LVL252:
2138:src/keys.c    **** 
 3566              		.loc 1 2138 18 view .LVU1132
 3567 0044 02FA00F0 		lsl	r0, r2, r0
2138:src/keys.c    **** 
 3568              		.loc 1 2138 43 view .LVU1133
 3569 0048 1843     		orrs	r0, r0, r3
2138:src/keys.c    **** 
 3570              		.loc 1 2138 4 view .LVU1134
 3571 004a C0F30903 		ubfx	r3, r0, #0, #10
ARM GAS  /tmp/cc90KtGY.s 			page 128


 3572              	.LVL253:
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3573              		.loc 1 2141 2 is_stmt 1 view .LVU1135
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3574              		.loc 1 2141 12 view .LVU1136
2138:src/keys.c    **** 
 3575              		.loc 1 2138 4 is_stmt 0 view .LVU1137
 3576 004e 3422     		movs	r2, #52
 3577              	.LVL254:
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3578              		.loc 1 2141 8 view .LVU1138
 3579 0050 0020     		movs	r0, #0
 3580 0052 01E0     		b	.L374
 3581              	.LVL255:
 3582              	.L389:
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3583              		.loc 1 2141 8 view .LVU1139
 3584 0054 11F8012B 		ldrb	r2, [r1], #1	@ zero_extendqisi2
 3585              	.LVL256:
 3586              	.L374:
2142:src/keys.c    **** 			return (i << KIND_SHIFT) + m;
 3587              		.loc 1 2142 3 is_stmt 1 view .LVU1140
2144:src/keys.c    **** 	}
 3588              		.loc 1 2144 3 view .LVU1141
2142:src/keys.c    **** 			return (i << KIND_SHIFT) + m;
 3589              		.loc 1 2142 6 is_stmt 0 view .LVU1142
 3590 0058 9A42     		cmp	r2, r3
 3591 005a 2FDC     		bgt	.L388
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3592              		.loc 1 2141 25 discriminator 2 view .LVU1143
 3593 005c 0130     		adds	r0, r0, #1
 3594              	.LVL257:
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3595              		.loc 1 2141 2 discriminator 2 view .LVU1144
 3596 005e 0728     		cmp	r0, #7
2144:src/keys.c    **** 	}
 3597              		.loc 1 2144 5 discriminator 2 view .LVU1145
 3598 0060 A3EB0203 		sub	r3, r3, r2
 3599              	.LVL258:
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3600              		.loc 1 2141 24 is_stmt 1 discriminator 2 view .LVU1146
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3601              		.loc 1 2141 12 discriminator 2 view .LVU1147
2141:src/keys.c    **** 		if (m < opcode_breaks[i])
 3602              		.loc 1 2141 2 is_stmt 0 discriminator 2 view .LVU1148
 3603 0064 F6D1     		bne	.L389
2146:src/keys.c    **** }
 3604              		.loc 1 2146 2 is_stmt 1 view .LVU1149
2146:src/keys.c    **** }
 3605              		.loc 1 2146 9 is_stmt 0 view .LVU1150
 3606 0066 03F12000 		add	r0, r3, #32
 3607              	.LVL259:
2146:src/keys.c    **** }
 3608              		.loc 1 2146 9 view .LVU1151
 3609 006a 0002     		lsls	r0, r0, #8
 3610              	.L363:
2147:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 129


 3611              		.loc 1 2147 1 view .LVU1152
 3612 006c 5DF8044B 		ldr	r4, [sp], #4
 3613              		.cfi_restore 4
 3614              		.cfi_def_cfa_offset 0
 3615 0070 7047     		bx	lr
 3616              	.LVL260:
 3617              	.L385:
2106:src/keys.c    **** 			return RARG_BASEOP(RARG_INTNUM_CMPLX);
 3618              		.loc 1 2106 3 is_stmt 1 view .LVU1153
2106:src/keys.c    **** 			return RARG_BASEOP(RARG_INTNUM_CMPLX);
 3619              		.loc 1 2106 6 is_stmt 0 view .LVU1154
 3620 0072 4B28     		cmp	r0, #75
 3621 0074 1FD0     		beq	.L376
2108:src/keys.c    **** 	}
 3622              		.loc 1 2108 3 is_stmt 1 view .LVU1155
2108:src/keys.c    **** 	}
 3623              		.loc 1 2108 10 is_stmt 0 view .LVU1156
 3624 0076 40F40450 		orr	r0, r0, #8448
 3625              	.LVL261:
2108:src/keys.c    **** 	}
 3626              		.loc 1 2108 10 view .LVU1157
 3627 007a 7047     		bx	lr
 3628              	.LVL262:
 3629              	.L384:
2101:src/keys.c    **** 			return RARG_BASEOP(RARG_INTNUM);
 3630              		.loc 1 2101 3 is_stmt 1 view .LVU1158
2101:src/keys.c    **** 			return RARG_BASEOP(RARG_INTNUM);
 3631              		.loc 1 2101 6 is_stmt 0 view .LVU1159
 3632 007c 4B28     		cmp	r0, #75
 3633 007e 17D0     		beq	.L375
2103:src/keys.c    **** 	}
 3634              		.loc 1 2103 3 is_stmt 1 view .LVU1160
2103:src/keys.c    **** 	}
 3635              		.loc 1 2103 10 is_stmt 0 view .LVU1161
 3636 0080 40F40050 		orr	r0, r0, #8192
 3637              	.LVL263:
2103:src/keys.c    **** 	}
 3638              		.loc 1 2103 10 view .LVU1162
 3639 0084 7047     		bx	lr
 3640              	.LVL264:
 3641              	.L387:
2123:src/keys.c    **** 		cat = (const unsigned char *) alpha_letters_lower;
 3642              		.loc 1 2123 35 discriminator 1 view .LVU1163
 3643 0086 917D     		ldrb	r1, [r2, #22]	@ zero_extendqisi2
2124:src/keys.c    **** 	else
 3644              		.loc 1 2124 7 discriminator 1 view .LVU1164
 3645 0088 124B     		ldr	r3, .L390+12
 3646              	.LVL265:
2124:src/keys.c    **** 	else
 3647              		.loc 1 2124 7 discriminator 1 view .LVU1165
 3648 008a 134A     		ldr	r2, .L390+16
 3649              	.LVL266:
2124:src/keys.c    **** 	else
 3650              		.loc 1 2124 7 discriminator 1 view .LVU1166
 3651 008c 11F0100F 		tst	r1, #16
 3652 0090 18BF     		it	ne
 3653 0092 1A46     		movne	r2, r3
ARM GAS  /tmp/cc90KtGY.s 			page 130


 3654              	.L370:
 3655              	.LVL267:
2129:src/keys.c    **** 	}
 3656              		.loc 1 2129 3 is_stmt 1 view .LVU1167
 3657              	.LBB387:
 3658              	.LBI387:
2058:src/keys.c    **** 	return RARG(RARG_ALPHA, tbl[n] & 0xff);
 3659              		.loc 1 2058 15 view .LVU1168
 3660              	.LBB388:
2059:src/keys.c    **** }
 3661              		.loc 1 2059 2 view .LVU1169
2059:src/keys.c    **** }
 3662              		.loc 1 2059 9 is_stmt 0 view .LVU1170
 3663 0094 105C     		ldrb	r0, [r2, r0]	@ zero_extendqisi2
 3664              	.LVL268:
2059:src/keys.c    **** }
 3665              		.loc 1 2059 9 view .LVU1171
 3666 0096 40F48840 		orr	r0, r0, #17408
 3667              	.LVL269:
2059:src/keys.c    **** }
 3668              		.loc 1 2059 9 view .LVU1172
 3669              	.LBE388:
 3670              	.LBE387:
2129:src/keys.c    **** 	}
 3671              		.loc 1 2129 10 view .LVU1173
 3672 009a 7047     		bx	lr
 3673              	.LVL270:
 3674              	.L386:
 3675              	.LBB389:
2111:src/keys.c    **** 		if (cnv >= SIZE_conv_catalogue)
 3676              		.loc 1 2111 3 is_stmt 1 view .LVU1174
2111:src/keys.c    **** 		if (cnv >= SIZE_conv_catalogue)
 3677              		.loc 1 2111 33 is_stmt 0 view .LVU1175
 3678 009c 0F4B     		ldr	r3, .L390+20
 3679              	.LVL271:
2111:src/keys.c    **** 		if (cnv >= SIZE_conv_catalogue)
 3680              		.loc 1 2111 13 view .LVU1176
 3681 009e 185C     		ldrb	r0, [r3, r0]	@ zero_extendqisi2
 3682              	.LVL272:
2112:src/keys.c    **** 			// Monadic conversion routine
 3683              		.loc 1 2112 3 is_stmt 1 view .LVU1177
2112:src/keys.c    **** 			// Monadic conversion routine
 3684              		.loc 1 2112 6 is_stmt 0 view .LVU1178
 3685 00a0 5728     		cmp	r0, #87
2114:src/keys.c    **** 		else
 3686              		.loc 1 2114 4 is_stmt 1 view .LVU1179
2114:src/keys.c    **** 		else
 3687              		.loc 1 2114 25 is_stmt 0 view .LVU1180
 3688 00a2 C6BF     		itte	gt
 3689 00a4 5838     		subgt	r0, r0, #88
 3690              	.LVL273:
2114:src/keys.c    **** 		else
 3691              		.loc 1 2114 18 view .LVU1181
 3692 00a6 40F40070 		orrgt	r0, r0, #512
2116:src/keys.c    **** 	}
 3693              		.loc 1 2116 4 is_stmt 1 view .LVU1182
2116:src/keys.c    **** 	}
ARM GAS  /tmp/cc90KtGY.s 			page 131


 3694              		.loc 1 2116 11 is_stmt 0 view .LVU1183
 3695 00aa 40F40C40 		orrle	r0, r0, #35840
 3696 00ae 7047     		bx	lr
 3697              	.LVL274:
 3698              	.L375:
2116:src/keys.c    **** 	}
 3699              		.loc 1 2116 11 view .LVU1184
 3700              	.LBE389:
2102:src/keys.c    **** 		return CONST(n);
 3701              		.loc 1 2102 11 view .LVU1185
 3702 00b0 4FF42740 		mov	r0, #42752
 3703              	.LVL275:
2102:src/keys.c    **** 		return CONST(n);
 3704              		.loc 1 2102 11 view .LVU1186
 3705 00b4 7047     		bx	lr
 3706              	.LVL276:
 3707              	.L376:
2107:src/keys.c    **** 		return CONST_CMPLX(n);
 3708              		.loc 1 2107 11 view .LVU1187
 3709 00b6 4FF42840 		mov	r0, #43008
 3710              	.LVL277:
2107:src/keys.c    **** 		return CONST_CMPLX(n);
 3711              		.loc 1 2107 11 view .LVU1188
 3712 00ba 7047     		bx	lr
 3713              	.LVL278:
 3714              	.L388:
 3715              		.cfi_def_cfa_offset 4
 3716              		.cfi_offset 4, -4
2143:src/keys.c    **** 		m -= opcode_breaks[i];
 3717              		.loc 1 2143 4 is_stmt 1 view .LVU1189
2143:src/keys.c    **** 		m -= opcode_breaks[i];
 3718              		.loc 1 2143 29 is_stmt 0 view .LVU1190
 3719 00bc 03EB0020 		add	r0, r3, r0, lsl #8
 3720              	.LVL279:
2143:src/keys.c    **** 		m -= opcode_breaks[i];
 3721              		.loc 1 2143 29 view .LVU1191
 3722 00c0 D4E7     		b	.L363
 3723              	.LVL280:
 3724              	.L378:
 3725              		.cfi_def_cfa_offset 0
 3726              		.cfi_restore 4
2132:src/keys.c    **** 
 3727              		.loc 1 2132 10 view .LVU1192
 3728 00c2 4FF48070 		mov	r0, #256
 3729              	.LVL281:
2147:src/keys.c    **** 
 3730              		.loc 1 2147 1 view .LVU1193
 3731 00c6 7047     		bx	lr
 3732              	.L391:
 3733              		.align	2
 3734              	.L390:
 3735 00c8 00000000 		.word	StateWhileOn
 3736 00cc 00000000 		.word	.LANCHOR6
 3737 00d0 01000000 		.word	.LANCHOR7+1
 3738 00d4 00000000 		.word	.LANCHOR4
 3739 00d8 00000000 		.word	.LANCHOR3
 3740 00dc 00000000 		.word	.LANCHOR5
ARM GAS  /tmp/cc90KtGY.s 			page 132


 3741              		.cfi_endproc
 3742              	.LFE41:
 3744              		.section	.text.process_catalogue,"ax",%progbits
 3745              		.align	1
 3746              		.p2align 2,,3
 3747              		.syntax unified
 3748              		.thumb
 3749              		.thumb_func
 3750              		.fpu fpv4-sp-d16
 3752              	process_catalogue:
 3753              	.LVL282:
 3754              	.LFB43:
2161:src/keys.c    **** 	int pos = State.catpos;
 3755              		.loc 1 2161 92 is_stmt 1 view -0
 3756              		.cfi_startproc
 3757              		@ args = 0, pretend = 0, frame = 16
 3758              		@ frame_needed = 0, uses_anonymous_args = 0
2161:src/keys.c    **** 	int pos = State.catpos;
 3759              		.loc 1 2161 92 is_stmt 0 view .LVU1195
 3760 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3761              		.cfi_def_cfa_offset 36
 3762              		.cfi_offset 4, -36
 3763              		.cfi_offset 5, -32
 3764              		.cfi_offset 6, -28
 3765              		.cfi_offset 7, -24
 3766              		.cfi_offset 8, -20
 3767              		.cfi_offset 9, -16
 3768              		.cfi_offset 10, -12
 3769              		.cfi_offset 11, -8
 3770              		.cfi_offset 14, -4
2162:src/keys.c    **** 	int ch;
 3771              		.loc 1 2162 12 view .LVU1196
 3772 0004 DFF8EC92 		ldr	r9, .L506+24
 3773              	.LBB390:
 3774              	.LBB391:
2050:src/keys.c    **** #endif
 3775              		.loc 1 2050 31 view .LVU1197
 3776 0008 B44E     		ldr	r6, .L506
 3777              	.LBE391:
 3778              	.LBE390:
2162:src/keys.c    **** 	int ch;
 3779              		.loc 1 2162 12 view .LVU1198
 3780 000a D9F80040 		ldr	r4, [r9]
 3781              	.LBB396:
 3782              	.LBB392:
2050:src/keys.c    **** #endif
 3783              		.loc 1 2050 31 view .LVU1199
 3784 000e 96F80EA0 		ldrb	r10, [r6, #14]	@ zero_extendqisi2
 3785              	.LBE392:
 3786              	.LBE396:
2162:src/keys.c    **** 	int ch;
 3787              		.loc 1 2162 17 view .LVU1200
 3788 0012 B4F8DC57 		ldrh	r5, [r4, #2012]
 3789              	.LBB397:
 3790              	.LBB393:
2050:src/keys.c    **** #endif
 3791              		.loc 1 2050 24 view .LVU1201
ARM GAS  /tmp/cc90KtGY.s 			page 133


 3792 0016 B24B     		ldr	r3, .L506+4
 3793              	.LBE393:
 3794              	.LBE397:
2162:src/keys.c    **** 	int ch;
 3795              		.loc 1 2162 2 is_stmt 1 view .LVU1202
2161:src/keys.c    **** 	int pos = State.catpos;
 3796              		.loc 1 2161 92 is_stmt 0 view .LVU1203
 3797 0018 85B0     		sub	sp, sp, #20
 3798              		.cfi_def_cfa_offset 56
 3799              	.LBB398:
 3800              	.LBB394:
2050:src/keys.c    **** #endif
 3801              		.loc 1 2050 24 view .LVU1204
 3802 001a 13F80A80 		ldrb	r8, [r3, r10]	@ zero_extendqisi2
 3803              	.LBE394:
 3804              	.LBE398:
2161:src/keys.c    **** 	int pos = State.catpos;
 3805              		.loc 1 2161 92 view .LVU1205
 3806 001e 1746     		mov	r7, r2
2162:src/keys.c    **** 	int ch;
 3807              		.loc 1 2162 6 view .LVU1206
 3808 0020 C5F34615 		ubfx	r5, r5, #5, #7
 3809              	.LVL283:
2163:src/keys.c    **** 	const int ctmax = current_catalogue_max();
 3810              		.loc 1 2163 2 is_stmt 1 view .LVU1207
2164:src/keys.c    **** 	const enum catalogues cat = (enum catalogues) State2.catalogue;
 3811              		.loc 1 2164 2 view .LVU1208
 3812              	.LBB399:
 3813              	.LBI390:
2016:src/keys.c    **** 	// A quick table of catalogue sizes
 3814              		.loc 1 2016 5 view .LVU1209
 3815              	.LBB395:
2019:src/keys.c    **** 	{
 3816              		.loc 1 2019 2 view .LVU1210
2050:src/keys.c    **** #endif
 3817              		.loc 1 2050 2 view .LVU1211
2050:src/keys.c    **** #endif
 3818              		.loc 1 2050 2 is_stmt 0 view .LVU1212
 3819              	.LBE395:
 3820              	.LBE399:
2165:src/keys.c    **** 
 3821              		.loc 1 2165 2 is_stmt 1 view .LVU1213
2167:src/keys.c    **** 		switch (c) {
 3822              		.loc 1 2167 2 view .LVU1214
2167:src/keys.c    **** 		switch (c) {
 3823              		.loc 1 2167 5 is_stmt 0 view .LVU1215
 3824 0024 0029     		cmp	r1, #0
 3825 0026 66D0     		beq	.L491
2228:src/keys.c    **** 		if (cat == CATALOGUE_CONV && c == K01) {
 3826              		.loc 1 2228 9 is_stmt 1 view .LVU1216
2228:src/keys.c    **** 		if (cat == CATALOGUE_CONV && c == K01) {
 3827              		.loc 1 2228 12 is_stmt 0 view .LVU1217
 3828 0028 0129     		cmp	r1, #1
 3829 002a 00F0EE80 		beq	.L492
2262:src/keys.c    **** 		if (c == K24 && cat == CATALOGUE_SUMS) {
 3830              		.loc 1 2262 9 is_stmt 1 view .LVU1218
2262:src/keys.c    **** 		if (c == K24 && cat == CATALOGUE_SUMS) {
ARM GAS  /tmp/cc90KtGY.s 			page 134


 3831              		.loc 1 2262 12 is_stmt 0 view .LVU1219
 3832 002e 0229     		cmp	r1, #2
 3833 0030 00F00C81 		beq	.L493
 3834              	.LVL284:
 3835              	.L428:
 3836              	.LBB400:
 3837              	.LBB401:
 440:src/keys.c    **** }
 3838              		.loc 1 440 2 is_stmt 1 view .LVU1220
 3839              	.LBB402:
 3840              	.LBI402:
 119:src/keys.c    **** {
 3841              		.loc 1 119 12 view .LVU1221
 3842              	.LBB403:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 3843              		.loc 1 121 2 view .LVU1222
 131:src/keys.c    **** }
 3844              		.loc 1 131 2 view .LVU1223
 131:src/keys.c    **** }
 3845              		.loc 1 131 23 is_stmt 0 view .LVU1224
 3846 0034 AB4B     		ldr	r3, .L506+8
 3847              	.LBE403:
 3848              	.LBE402:
 440:src/keys.c    **** }
 3849              		.loc 1 440 49 view .LVU1225
 3850 0036 AC4A     		ldr	r2, .L506+12
 3851              	.LBB405:
 3852              	.LBB404:
 131:src/keys.c    **** }
 3853              		.loc 1 131 23 view .LVU1226
 3854 0038 1B5C     		ldrb	r3, [r3, r0]	@ zero_extendqisi2
 3855              	.LBE404:
 3856              	.LBE405:
 440:src/keys.c    **** }
 3857              		.loc 1 440 49 view .LVU1227
 3858 003a 03EB4303 		add	r3, r3, r3, lsl #1
 3859 003e 02EB4303 		add	r3, r2, r3, lsl #1
 3860              	.LBE401:
 3861              	.LBE400:
 3862              	.LBB409:
 3863              	.LBB410:
 3864              	.LBB411:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 3865              		.loc 1 94 16 view .LVU1228
 3866 0042 0025     		movs	r5, #0
 3867              	.LVL285:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 3868              		.loc 1 94 16 view .LVU1229
 3869              	.LBE411:
 3870              	.LBE410:
 3871              	.LBE409:
2272:src/keys.c    **** 	reset_shift();
 3872              		.loc 1 2272 7 view .LVU1230
 3873 0044 585C     		ldrb	r0, [r3, r1]	@ zero_extendqisi2
 3874              	.LVL286:
2272:src/keys.c    **** 	reset_shift();
 3875              		.loc 1 2272 7 view .LVU1231
ARM GAS  /tmp/cc90KtGY.s 			page 135


 3876 0046 FFF7FEFF 		bl	remap_chars
 3877              	.LVL287:
2272:src/keys.c    **** 	reset_shift();
 3878              		.loc 1 2272 7 view .LVU1232
 3879 004a 0446     		mov	r4, r0
 3880              	.LVL288:
2273:src/keys.c    **** 	if (ch == '\0')
 3881              		.loc 1 2273 2 is_stmt 1 view .LVU1233
 3882              	.LBB416:
 3883              	.LBI409:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 3884              		.loc 1 102 13 view .LVU1234
 3885              	.LBE416:
 103:src/keys.c    **** }
 3886              		.loc 1 103 2 view .LVU1235
 3887              	.LBB417:
 3888              	.LBB415:
 3889              	.LBI410:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 3890              		.loc 1 92 20 view .LVU1236
 3891              	.LBB414:
  93:src/keys.c    **** 	State2.shifts = shift;
 3892              		.loc 1 93 2 view .LVU1237
 3893              	.LBB412:
 3894              	.LBI412:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 3895              		.loc 1 84 13 view .LVU1238
 3896              	.LBB413:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 3897              		.loc 1 85 2 view .LVU1239
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 3898              		.loc 1 85 18 is_stmt 0 view .LVU1240
 3899 004c FFF7FEFF 		bl	shift_down
 3900              	.LVL289:
  86:src/keys.c    **** }
 3901              		.loc 1 86 2 is_stmt 1 view .LVU1241
 3902              	.LBE413:
 3903              	.LBE412:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 3904              		.loc 1 94 2 view .LVU1242
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 3905              		.loc 1 94 16 is_stmt 0 view .LVU1243
 3906 0050 3574     		strb	r5, [r6, #16]
  95:src/keys.c    **** 	return r;
 3907              		.loc 1 95 2 is_stmt 1 view .LVU1244
  95:src/keys.c    **** 	return r;
 3908              		.loc 1 95 19 is_stmt 0 view .LVU1245
 3909 0052 7573     		strb	r5, [r6, #13]
  96:src/keys.c    **** }
 3910              		.loc 1 96 2 is_stmt 1 view .LVU1246
 3911              	.LVL290:
  96:src/keys.c    **** }
 3912              		.loc 1 96 2 is_stmt 0 view .LVU1247
 3913              	.LBE414:
 3914              	.LBE415:
 3915              	.LBE417:
2274:src/keys.c    **** 		return STATE_UNFINISHED;
ARM GAS  /tmp/cc90KtGY.s 			page 136


 3916              		.loc 1 2274 2 is_stmt 1 view .LVU1248
2274:src/keys.c    **** 		return STATE_UNFINISHED;
 3917              		.loc 1 2274 5 is_stmt 0 view .LVU1249
 3918 0054 002C     		cmp	r4, #0
 3919 0056 6FD0     		beq	.L490
2276:src/keys.c    **** 		// No multi character search in alpha catalogues
 3920              		.loc 1 2276 2 is_stmt 1 view .LVU1250
2276:src/keys.c    **** 		// No multi character search in alpha catalogues
 3921              		.loc 1 2276 5 is_stmt 0 view .LVU1251
 3922 0058 AAF10B0A 		sub	r10, r10, #11
 3923              	.LVL291:
2276:src/keys.c    **** 		// No multi character search in alpha catalogues
 3924              		.loc 1 2276 5 view .LVU1252
 3925 005c BAF1040F 		cmp	r10, #4
 3926 0060 40F2CB80 		bls	.L442
2280:src/keys.c    **** 		Cmdline[CmdLineLength++] = ch;
 3927              		.loc 1 2280 2 is_stmt 1 view .LVU1253
2280:src/keys.c    **** 		Cmdline[CmdLineLength++] = ch;
 3928              		.loc 1 2280 6 is_stmt 0 view .LVU1254
 3929 0064 357F     		ldrb	r5, [r6, #28]	@ zero_extendqisi2
2280:src/keys.c    **** 		Cmdline[CmdLineLength++] = ch;
 3930              		.loc 1 2280 5 view .LVU1255
 3931 0066 092D     		cmp	r5, #9
 3932 0068 40F2C780 		bls	.L442
 3933              	.LVL292:
 3934              	.L410:
2285:src/keys.c    **** 	for (pos = 0; pos < ctmax; ++pos) {
 3935              		.loc 1 2285 2 is_stmt 1 view .LVU1256
2285:src/keys.c    **** 	for (pos = 0; pos < ctmax; ++pos) {
 3936              		.loc 1 2285 25 is_stmt 0 view .LVU1257
 3937 006c 7319     		adds	r3, r6, r5
 3938 006e 0025     		movs	r5, #0
 3939 0070 83F82050 		strb	r5, [r3, #32]
2286:src/keys.c    **** 		char buf[16];
 3940              		.loc 1 2286 2 is_stmt 1 view .LVU1258
 3941              	.LVL293:
2286:src/keys.c    **** 		char buf[16];
 3942              		.loc 1 2286 16 view .LVU1259
2286:src/keys.c    **** 		char buf[16];
 3943              		.loc 1 2286 2 is_stmt 0 view .LVU1260
 3944 0074 B8F1000F 		cmp	r8, #0
 3945 0078 00F0D780 		beq	.L488
 3946              	.LVL294:
 3947              	.L430:
 3948              	.LBB418:
2287:src/keys.c    **** 		const char *cmd = catcmd(current_catalogue(pos), buf);
 3949              		.loc 1 2287 3 is_stmt 1 view .LVU1261
2288:src/keys.c    **** 		int i;
 3950              		.loc 1 2288 3 view .LVU1262
2288:src/keys.c    **** 		int i;
 3951              		.loc 1 2288 21 is_stmt 0 view .LVU1263
 3952 007c 2846     		mov	r0, r5
 3953 007e FFF7FEFF 		bl	current_catalogue
 3954              	.LVL295:
 3955 0082 6946     		mov	r1, sp
 3956 0084 FFF7FEFF 		bl	catcmd
 3957              	.LVL296:
ARM GAS  /tmp/cc90KtGY.s 			page 137


 3958 0088 0446     		mov	r4, r0
 3959              	.LVL297:
2289:src/keys.c    **** 
 3960              		.loc 1 2289 3 is_stmt 1 view .LVU1264
2291:src/keys.c    **** 			cmd++;
 3961              		.loc 1 2291 3 view .LVU1265
2292:src/keys.c    **** 		for (i=0; cmd[i] != '\0'; i++) {
 3962              		.loc 1 2292 4 view .LVU1266
2291:src/keys.c    **** 			cmd++;
 3963              		.loc 1 2291 7 is_stmt 0 view .LVU1267
 3964 008a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3965              	.LVL298:
2291:src/keys.c    **** 			cmd++;
 3966              		.loc 1 2291 6 view .LVU1268
 3967 008c 1428     		cmp	r0, #20
 3968 008e 04BF     		itt	eq
 3969 0090 6078     		ldrbeq	r0, [r4, #1]	@ zero_extendqisi2
2292:src/keys.c    **** 		for (i=0; cmd[i] != '\0'; i++) {
 3970              		.loc 1 2292 7 view .LVU1269
 3971 0092 0134     		addeq	r4, r4, #1
 3972              	.LVL299:
2293:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 3973              		.loc 1 2293 3 is_stmt 1 view .LVU1270
2293:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 3974              		.loc 1 2293 13 view .LVU1271
2293:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 3975              		.loc 1 2293 3 is_stmt 0 view .LVU1272
 3976 0094 0028     		cmp	r0, #0
 3977 0096 00F0BF80 		beq	.L432
 3978 009a DFF85CB2 		ldr	fp, .L506+28
 3979 009e C4F1010A 		rsb	r10, r4, #1
 3980 00a2 06E0     		b	.L435
 3981              	.LVL300:
 3982              	.L495:
 3983              	.LBB419:
2298:src/keys.c    **** 				break;
 3984              		.loc 1 2298 12 view .LVU1273
 3985 00a4 C0F2BA80 		blt	.L434
 3986              	.LBE419:
2293:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 3987              		.loc 1 2293 16 discriminator 2 view .LVU1274
 3988 00a8 14F8010F 		ldrb	r0, [r4, #1]!	@ zero_extendqisi2
 3989              	.LVL301:
2293:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 3990              		.loc 1 2293 3 discriminator 2 view .LVU1275
 3991 00ac 0028     		cmp	r0, #0
 3992 00ae 00F0BF80 		beq	.L494
 3993              	.LVL302:
 3994              	.L435:
 3995              	.LBB420:
2294:src/keys.c    **** 			const int cl = (unsigned char) Cmdline[i];
 3996              		.loc 1 2294 4 is_stmt 1 view .LVU1276
2294:src/keys.c    **** 			const int cl = (unsigned char) Cmdline[i];
 3997              		.loc 1 2294 18 is_stmt 0 view .LVU1277
 3998 00b2 FFF7FEFF 		bl	remap_chars
 3999              	.LVL303:
2298:src/keys.c    **** 				break;
ARM GAS  /tmp/cc90KtGY.s 			page 138


 4000              		.loc 1 2298 9 is_stmt 1 view .LVU1278
 4001              	.LBE420:
2293:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4002              		.loc 1 2293 29 view .LVU1279
 4003              	.LBB421:
2295:src/keys.c    **** 			if (c > cl)
 4004              		.loc 1 2295 4 view .LVU1280
2295:src/keys.c    **** 			if (c > cl)
 4005              		.loc 1 2295 42 is_stmt 0 view .LVU1281
 4006 00b6 1BF8013F 		ldrb	r3, [fp, #1]!	@ zero_extendqisi2
 4007              	.LVL304:
2296:src/keys.c    **** 				goto set_pos;
 4008              		.loc 1 2296 4 is_stmt 1 view .LVU1282
2296:src/keys.c    **** 				goto set_pos;
 4009              		.loc 1 2296 7 is_stmt 0 view .LVU1283
 4010 00ba 9842     		cmp	r0, r3
 4011 00bc 0AEB0402 		add	r2, r10, r4
 4012              	.LVL305:
2296:src/keys.c    **** 				goto set_pos;
 4013              		.loc 1 2296 7 view .LVU1284
 4014              	.LBE421:
2293:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4015              		.loc 1 2293 13 is_stmt 1 view .LVU1285
 4016              	.LBB422:
2296:src/keys.c    **** 				goto set_pos;
 4017              		.loc 1 2296 7 is_stmt 0 view .LVU1286
 4018 00c0 F0DD     		ble	.L495
 4019              	.LVL306:
 4020              	.L433:
2296:src/keys.c    **** 				goto set_pos;
 4021              		.loc 1 2296 7 view .LVU1287
 4022 00c2 D9F80040 		ldr	r4, [r9]
 4023              	.L413:
2296:src/keys.c    **** 				goto set_pos;
 4024              		.loc 1 2296 7 view .LVU1288
 4025              	.LBE422:
 4026              	.LBE418:
2307:src/keys.c    **** 		--pos;
 4027              		.loc 1 2307 8 is_stmt 1 view .LVU1289
 4028 00c6 002F     		cmp	r7, #0
 4029 00c8 00F0B680 		beq	.L417
2307:src/keys.c    **** 		--pos;
 4030              		.loc 1 2307 18 is_stmt 0 view .LVU1290
 4031 00cc 4DB1     		cbz	r5, .L411
 4032              	.LVL307:
 4033              	.L489:
2307:src/keys.c    **** 		--pos;
 4034              		.loc 1 2307 18 view .LVU1291
 4035 00ce 2846     		mov	r0, r5
 4036 00d0 FFF7FEFF 		bl	current_catalogue
 4037              	.LVL308:
2308:src/keys.c    **** 	State.catpos = pos;
 4038              		.loc 1 2308 3 is_stmt 1 view .LVU1292
2307:src/keys.c    **** 		--pos;
 4039              		.loc 1 2307 8 view .LVU1293
 4040              	.LBB423:
 4041              	.LBI423:
ARM GAS  /tmp/cc90KtGY.s 			page 139


2154:src/keys.c    **** 	return (current_catalogue(pos) & 0xf0) == 0xf0;
 4042              		.loc 1 2154 12 view .LVU1294
 4043              	.LBB424:
2155:src/keys.c    **** }
 4044              		.loc 1 2155 2 view .LVU1295
2155:src/keys.c    **** }
 4045              		.loc 1 2155 33 is_stmt 0 view .LVU1296
 4046 00d4 00F0F000 		and	r0, r0, #240
 4047              	.LBE424:
 4048              	.LBE423:
2307:src/keys.c    **** 		--pos;
 4049              		.loc 1 2307 25 view .LVU1297
 4050 00d8 F028     		cmp	r0, #240
 4051 00da 40F0AD80 		bne	.L417
2307:src/keys.c    **** 		--pos;
 4052              		.loc 1 2307 18 view .LVU1298
 4053 00de 013D     		subs	r5, r5, #1
 4054              	.LVL309:
2307:src/keys.c    **** 		--pos;
 4055              		.loc 1 2307 18 view .LVU1299
 4056 00e0 F5D1     		bne	.L489
 4057              	.LVL310:
 4058              	.L411:
2309:src/keys.c    **** 	return STATE_UNFINISHED;
 4059              		.loc 1 2309 2 is_stmt 1 view .LVU1300
2309:src/keys.c    **** 	return STATE_UNFINISHED;
 4060              		.loc 1 2309 15 is_stmt 0 view .LVU1301
 4061 00e2 B4F8DC37 		ldrh	r3, [r4, #2012]
 4062 00e6 65F34B13 		bfi	r3, r5, #5, #7
 4063 00ea A4F8DC37 		strh	r3, [r4, #2012]	@ movhi
2310:src/keys.c    **** }
 4064              		.loc 1 2310 2 is_stmt 1 view .LVU1302
2310:src/keys.c    **** }
 4065              		.loc 1 2310 9 is_stmt 0 view .LVU1303
 4066 00ee 3320     		movs	r0, #51
 4067              	.L502:
2311:src/keys.c    **** 
 4068              		.loc 1 2311 1 view .LVU1304
 4069 00f0 05B0     		add	sp, sp, #20
 4070              		.cfi_remember_state
 4071              		.cfi_def_cfa_offset 36
 4072              		@ sp needed
 4073 00f2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4074              	.LVL311:
 4075              	.L491:
 4076              		.cfi_restore_state
2168:src/keys.c    **** #ifdef DM42
 4077              		.loc 1 2168 3 is_stmt 1 view .LVU1305
 4078 00f6 431F     		subs	r3, r0, #5
 4079 00f8 1F2B     		cmp	r3, #31
 4080 00fa 2FD8     		bhi	.L394
 4081 00fc DFE803F0 		tbb	[pc, r3]
 4082              	.LVL312:
 4083              	.L396:
 4084 0100 35       		.byte	(.L400-.L396)/2
 4085 0101 2E       		.byte	(.L394-.L396)/2
 4086 0102 2E       		.byte	(.L394-.L396)/2
ARM GAS  /tmp/cc90KtGY.s 			page 140


 4087 0103 2E       		.byte	(.L394-.L396)/2
 4088 0104 2E       		.byte	(.L394-.L396)/2
 4089 0105 2E       		.byte	(.L394-.L396)/2
 4090 0106 2E       		.byte	(.L394-.L396)/2
 4091 0107 35       		.byte	(.L400-.L396)/2
 4092 0108 2E       		.byte	(.L394-.L396)/2
 4093 0109 2E       		.byte	(.L394-.L396)/2
 4094 010a 2E       		.byte	(.L394-.L396)/2
 4095 010b 20       		.byte	(.L399-.L396)/2
 4096 010c 2E       		.byte	(.L394-.L396)/2
 4097 010d 64       		.byte	(.L398-.L396)/2
 4098 010e 2E       		.byte	(.L394-.L396)/2
 4099 010f 2E       		.byte	(.L394-.L396)/2
 4100 0110 2E       		.byte	(.L394-.L396)/2
 4101 0111 2E       		.byte	(.L394-.L396)/2
 4102 0112 2E       		.byte	(.L394-.L396)/2
 4103 0113 6B       		.byte	(.L397-.L396)/2
 4104 0114 2E       		.byte	(.L394-.L396)/2
 4105 0115 2E       		.byte	(.L394-.L396)/2
 4106 0116 2E       		.byte	(.L394-.L396)/2
 4107 0117 2E       		.byte	(.L394-.L396)/2
 4108 0118 2E       		.byte	(.L394-.L396)/2
 4109 0119 2E       		.byte	(.L394-.L396)/2
 4110 011a 2E       		.byte	(.L394-.L396)/2
 4111 011b 2E       		.byte	(.L394-.L396)/2
 4112 011c 2E       		.byte	(.L394-.L396)/2
 4113 011d 2E       		.byte	(.L394-.L396)/2
 4114 011e 2E       		.byte	(.L394-.L396)/2
 4115 011f 27       		.byte	(.L395-.L396)/2
 4116              		.p2align 1
 4117              	.L501:
2257:src/keys.c    **** 			// Handle alpha shift in alpha character catalogues
 4118              		.loc 1 2257 39 is_stmt 0 discriminator 1 view .LVU1306
 4119 0120 724A     		ldr	r2, .L506+16
 4120              	.LVL313:
2257:src/keys.c    **** 			// Handle alpha shift in alpha character catalogues
 4121              		.loc 1 2257 39 discriminator 1 view .LVU1307
 4122 0122 7369     		ldr	r3, [r6, #20]
2257:src/keys.c    **** 			// Handle alpha shift in alpha character catalogues
 4123              		.loc 1 2257 21 discriminator 1 view .LVU1308
 4124 0124 1A42     		tst	r2, r3
 4125 0126 75D0     		beq	.L425
2259:src/keys.c    **** 			return STATE_UNFINISHED;
 4126              		.loc 1 2259 4 is_stmt 1 view .LVU1309
2259:src/keys.c    **** 			return STATE_UNFINISHED;
 4127              		.loc 1 2259 34 is_stmt 0 view .LVU1310
 4128 0128 B37D     		ldrb	r3, [r6, #22]	@ zero_extendqisi2
 4129 012a C3F30012 		ubfx	r2, r3, #4, #1
2259:src/keys.c    **** 			return STATE_UNFINISHED;
 4130              		.loc 1 2259 26 view .LVU1311
 4131 012e C2F10102 		rsb	r2, r2, #1
2259:src/keys.c    **** 			return STATE_UNFINISHED;
 4132              		.loc 1 2259 22 view .LVU1312
 4133 0132 62F30413 		bfi	r3, r2, #4, #1
 4134 0136 B375     		strb	r3, [r6, #22]
 4135              	.LVL314:
 4136              	.L490:
ARM GAS  /tmp/cc90KtGY.s 			page 141


2260:src/keys.c    **** 		}
 4137              		.loc 1 2260 4 is_stmt 1 view .LVU1313
2260:src/keys.c    **** 		}
 4138              		.loc 1 2260 11 is_stmt 0 view .LVU1314
 4139 0138 3320     		movs	r0, #51
 4140              	.L392:
2311:src/keys.c    **** 
 4141              		.loc 1 2311 1 view .LVU1315
 4142 013a 05B0     		add	sp, sp, #20
 4143              		.cfi_remember_state
 4144              		.cfi_def_cfa_offset 36
 4145              		@ sp needed
 4146 013c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4147              	.LVL315:
 4148              	.L399:
 4149              		.cfi_restore_state
2197:src/keys.c    **** 		      if (--CmdLineLength > 0)
 4150              		.loc 1 2197 7 is_stmt 1 view .LVU1316
2197:src/keys.c    **** 		      if (--CmdLineLength > 0)
 4151              		.loc 1 2197 10 is_stmt 0 view .LVU1317
 4152 0140 337F     		ldrb	r3, [r6, #28]	@ zero_extendqisi2
 4153 0142 23B1     		cbz	r3, .L395
2197:src/keys.c    **** 		      if (--CmdLineLength > 0)
 4154              		.loc 1 2197 32 discriminator 1 view .LVU1318
 4155 0144 FFF7FEFF 		bl	keyticks
 4156              	.LVL316:
2197:src/keys.c    **** 		      if (--CmdLineLength > 0)
 4157              		.loc 1 2197 29 discriminator 1 view .LVU1319
 4158 0148 1D28     		cmp	r0, #29
 4159 014a 40F39580 		ble	.L496
 4160              	.L395:
2207:src/keys.c    **** 			return STATE_UNFINISHED;
 4161              		.loc 1 2207 4 is_stmt 1 view .LVU1320
 4162 014e 0020     		movs	r0, #0
 4163 0150 FFF7FEFF 		bl	init_cat
 4164              	.LVL317:
2208:src/keys.c    **** 
 4165              		.loc 1 2208 4 view .LVU1321
2208:src/keys.c    **** 
 4166              		.loc 1 2208 11 is_stmt 0 view .LVU1322
 4167 0154 3320     		movs	r0, #51
2311:src/keys.c    **** 
 4168              		.loc 1 2311 1 view .LVU1323
 4169 0156 05B0     		add	sp, sp, #20
 4170              		.cfi_remember_state
 4171              		.cfi_def_cfa_offset 36
 4172              		@ sp needed
 4173 0158 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4174              	.LVL318:
 4175              	.L394:
 4176              		.cfi_restore_state
 4177              	.LBB425:
 4178              	.LBI400:
 384:src/keys.c    **** {
 4179              		.loc 1 384 12 is_stmt 1 discriminator 4 view .LVU1324
 4180              	.LBB406:
 386:src/keys.c    **** 		/*upper f-sft g-sft h-sft lower g-lower */
ARM GAS  /tmp/cc90KtGY.s 			page 142


 4181              		.loc 1 386 2 discriminator 4 view .LVU1325
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4182              		.loc 1 434 2 discriminator 4 view .LVU1326
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4183              		.loc 1 434 6 is_stmt 0 discriminator 4 view .LVU1327
 4184 015c B37D     		ldrb	r3, [r6, #22]	@ zero_extendqisi2
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4185              		.loc 1 434 5 discriminator 4 view .LVU1328
 4186 015e 13F0100F 		tst	r3, #16
 4187 0162 14BF     		ite	ne
 4188 0164 0421     		movne	r1, #4
 4189              	.LVL319:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4190              		.loc 1 434 5 discriminator 4 view .LVU1329
 4191 0166 0021     		moveq	r1, #0
 4192 0168 64E7     		b	.L428
 4193              	.LVL320:
 4194              	.L400:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4195              		.loc 1 434 5 discriminator 4 view .LVU1330
 4196              	.LBE406:
 4197              	.LBE425:
2175:src/keys.c    **** 				const opcode op = current_catalogue(pos);
 4198              		.loc 1 2175 4 is_stmt 1 view .LVU1331
2175:src/keys.c    **** 				const opcode op = current_catalogue(pos);
 4199              		.loc 1 2175 7 is_stmt 0 view .LVU1332
 4200 016a 4545     		cmp	r5, r8
 4201 016c EFDA     		bge	.L395
 4202 016e 2846     		mov	r0, r5
 4203              	.LVL321:
2175:src/keys.c    **** 				const opcode op = current_catalogue(pos);
 4204              		.loc 1 2175 20 discriminator 1 view .LVU1333
 4205 0170 002F     		cmp	r7, #0
 4206 0172 00F08D80 		beq	.L497
 4207              	.LVL322:
 4208              	.LBB426:
 4209              	.LBI426:
2154:src/keys.c    **** 	return (current_catalogue(pos) & 0xf0) == 0xf0;
 4210              		.loc 1 2154 12 is_stmt 1 view .LVU1334
 4211              	.LBB427:
2155:src/keys.c    **** }
 4212              		.loc 1 2155 2 view .LVU1335
2155:src/keys.c    **** }
 4213              		.loc 1 2155 10 is_stmt 0 view .LVU1336
 4214 0176 FFF7FEFF 		bl	current_catalogue
 4215              	.LVL323:
2155:src/keys.c    **** }
 4216              		.loc 1 2155 33 view .LVU1337
 4217 017a 00F0F003 		and	r3, r0, #240
 4218              	.LBE427:
 4219              	.LBE426:
2175:src/keys.c    **** 				const opcode op = current_catalogue(pos);
 4220              		.loc 1 2175 23 view .LVU1338
 4221 017e F02B     		cmp	r3, #240
 4222              	.LBB429:
 4223              	.LBB428:
2155:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 143


 4224              		.loc 1 2155 10 view .LVU1339
 4225 0180 0446     		mov	r4, r0
 4226              	.LBE428:
 4227              	.LBE429:
2175:src/keys.c    **** 				const opcode op = current_catalogue(pos);
 4228              		.loc 1 2175 23 view .LVU1340
 4229 0182 E4D0     		beq	.L395
 4230              	.L403:
 4231              	.LBB430:
2176:src/keys.c    **** 
 4232              		.loc 1 2176 5 is_stmt 1 view .LVU1341
2178:src/keys.c    **** 
 4233              		.loc 1 2178 5 view .LVU1342
 4234 0184 0020     		movs	r0, #0
 4235 0186 FFF7FEFF 		bl	init_cat
 4236              	.LVL324:
2180:src/keys.c    **** 					const unsigned int rarg = RARG_CMD(op);
 4237              		.loc 1 2180 5 view .LVU1343
2180:src/keys.c    **** 					const unsigned int rarg = RARG_CMD(op);
 4238              		.loc 1 2180 8 is_stmt 0 view .LVU1344
 4239 018a 14F47043 		ands	r3, r4, #61440
 4240 018e 00F08C80 		beq	.L404
2180:src/keys.c    **** 					const unsigned int rarg = RARG_CMD(op);
 4241              		.loc 1 2180 9 discriminator 1 view .LVU1345
 4242 0192 B3F5704F 		cmp	r3, #61440
 4243 0196 00F08880 		beq	.L404
 4244              	.LBB431:
2181:src/keys.c    **** 					if (rarg == RARG_CONST || rarg == RARG_CONST_CMPLX || rarg == RARG_CONV || rarg == RARG_ALPHA)
 4245              		.loc 1 2181 6 is_stmt 1 view .LVU1346
2181:src/keys.c    **** 					if (rarg == RARG_CONST || rarg == RARG_CONST_CMPLX || rarg == RARG_CONV || rarg == RARG_ALPHA)
 4246              		.loc 1 2181 32 is_stmt 0 view .LVU1347
 4247 019a C4F30723 		ubfx	r3, r4, #8, #8
 4248 019e A3F12005 		sub	r5, r3, #32
 4249              	.LVL325:
2181:src/keys.c    **** 					if (rarg == RARG_CONST || rarg == RARG_CONST_CMPLX || rarg == RARG_CONV || rarg == RARG_ALPHA)
 4250              		.loc 1 2181 32 view .LVU1348
 4251 01a2 EDB2     		uxtb	r5, r5
 4252              	.LVL326:
2182:src/keys.c    **** 						return op;
 4253              		.loc 1 2182 6 is_stmt 1 view .LVU1349
2182:src/keys.c    **** 						return op;
 4254              		.loc 1 2182 9 is_stmt 0 view .LVU1350
 4255 01a4 012D     		cmp	r5, #1
 4256 01a6 40F28980 		bls	.L405
2182:src/keys.c    **** 						return op;
 4257              		.loc 1 2182 57 discriminator 1 view .LVU1351
 4258 01aa 6C2D     		cmp	r5, #108
 4259 01ac 00F08680 		beq	.L405
2182:src/keys.c    **** 						return op;
 4260              		.loc 1 2182 78 discriminator 2 view .LVU1352
 4261 01b0 242D     		cmp	r5, #36
 4262 01b2 00F08380 		beq	.L405
2184:src/keys.c    **** 						State2.test = TST_EQ + (RARG_CMD(op) - RARG_TEST_EQ);
 4263              		.loc 1 2184 6 is_stmt 1 view .LVU1353
2184:src/keys.c    **** 						State2.test = TST_EQ + (RARG_CMD(op) - RARG_TEST_EQ);
 4264              		.loc 1 2184 31 is_stmt 0 view .LVU1354
 4265 01b6 A5F12D02 		sub	r2, r5, #45
ARM GAS  /tmp/cc90KtGY.s 			page 144


2184:src/keys.c    **** 						State2.test = TST_EQ + (RARG_CMD(op) - RARG_TEST_EQ);
 4266              		.loc 1 2184 9 view .LVU1355
 4267 01ba 062A     		cmp	r2, #6
 4268 01bc 00F29E80 		bhi	.L408
2185:src/keys.c    **** 					else
 4269              		.loc 1 2185 7 is_stmt 1 view .LVU1356
2185:src/keys.c    **** 					else
 4270              		.loc 1 2185 28 is_stmt 0 view .LVU1357
 4271 01c0 4D3B     		subs	r3, r3, #77
2185:src/keys.c    **** 					else
 4272              		.loc 1 2185 19 view .LVU1358
 4273 01c2 F373     		strb	r3, [r6, #15]
 4274              	.LBE431:
 4275              	.LBE430:
2194:src/keys.c    **** 
 4276              		.loc 1 2194 11 view .LVU1359
 4277 01c4 3320     		movs	r0, #51
 4278              	.LBB441:
 4279              	.LBB434:
 4280 01c6 B8E7     		b	.L392
 4281              	.LVL327:
 4282              	.L398:
2194:src/keys.c    **** 
 4283              		.loc 1 2194 11 view .LVU1360
 4284              	.LBE434:
 4285              	.LBE441:
2211:src/keys.c    **** 			if (pos == 0)
 4286              		.loc 1 2211 4 is_stmt 1 view .LVU1361
2211:src/keys.c    **** 			if (pos == 0)
 4287              		.loc 1 2211 18 is_stmt 0 view .LVU1362
 4288 01c8 0023     		movs	r3, #0
 4289 01ca 3377     		strb	r3, [r6, #28]
2212:src/keys.c    **** 				goto set_max;
 4290              		.loc 1 2212 4 is_stmt 1 view .LVU1363
2212:src/keys.c    **** 				goto set_max;
 4291              		.loc 1 2212 7 is_stmt 0 view .LVU1364
 4292 01cc 002D     		cmp	r5, #0
 4293 01ce 5DD1     		bne	.L498
 4294              	.LVL328:
 4295              	.L412:
2305:src/keys.c    **** set_pos:
 4296              		.loc 1 2305 2 is_stmt 1 view .LVU1365
2305:src/keys.c    **** set_pos:
 4297              		.loc 1 2305 6 is_stmt 0 view .LVU1366
 4298 01d0 08F1FF35 		add	r5, r8, #-1
 4299              	.LVL329:
2305:src/keys.c    **** set_pos:
 4300              		.loc 1 2305 6 view .LVU1367
 4301 01d4 77E7     		b	.L413
 4302              	.LVL330:
 4303              	.L397:
2219:src/keys.c    **** 			while (++pos < ctmax && is_multi && forbidden_alpha(pos));
 4304              		.loc 1 2219 4 is_stmt 1 view .LVU1368
2219:src/keys.c    **** 			while (++pos < ctmax && is_multi && forbidden_alpha(pos));
 4305              		.loc 1 2219 18 is_stmt 0 view .LVU1369
 4306 01d6 0023     		movs	r3, #0
 4307 01d8 3377     		strb	r3, [r6, #28]
ARM GAS  /tmp/cc90KtGY.s 			page 145


2220:src/keys.c    **** 			if (pos >= ctmax)
 4308              		.loc 1 2220 4 is_stmt 1 view .LVU1370
2220:src/keys.c    **** 			if (pos >= ctmax)
 4309              		.loc 1 2220 10 is_stmt 0 view .LVU1371
 4310 01da 06E0     		b	.L416
 4311              	.LVL331:
 4312              	.L499:
2220:src/keys.c    **** 			if (pos >= ctmax)
 4313              		.loc 1 2220 25 discriminator 1 view .LVU1372
 4314 01dc 67B3     		cbz	r7, .L417
 4315              	.LBB442:
 4316              	.LBB443:
2155:src/keys.c    **** }
 4317              		.loc 1 2155 10 view .LVU1373
 4318 01de FFF7FEFF 		bl	current_catalogue
 4319              	.LVL332:
2155:src/keys.c    **** }
 4320              		.loc 1 2155 33 view .LVU1374
 4321 01e2 00F0F000 		and	r0, r0, #240
 4322              	.LBE443:
 4323              	.LBE442:
2220:src/keys.c    **** 			if (pos >= ctmax)
 4324              		.loc 1 2220 37 view .LVU1375
 4325 01e6 F028     		cmp	r0, #240
 4326 01e8 26D1     		bne	.L417
 4327              	.L416:
2220:src/keys.c    **** 			if (pos >= ctmax)
 4328              		.loc 1 2220 61 is_stmt 1 discriminator 3 view .LVU1376
2220:src/keys.c    **** 			if (pos >= ctmax)
 4329              		.loc 1 2220 10 discriminator 3 view .LVU1377
 4330 01ea 0135     		adds	r5, r5, #1
 4331              	.LVL333:
 4332              	.LBB446:
 4333              	.LBI442:
2154:src/keys.c    **** 	return (current_catalogue(pos) & 0xf0) == 0xf0;
 4334              		.loc 1 2154 12 discriminator 3 view .LVU1378
 4335              	.LBB444:
2155:src/keys.c    **** }
 4336              		.loc 1 2155 2 discriminator 3 view .LVU1379
 4337              	.LBE444:
 4338              	.LBE446:
2220:src/keys.c    **** 			if (pos >= ctmax)
 4339              		.loc 1 2220 10 is_stmt 0 discriminator 3 view .LVU1380
 4340 01ec A845     		cmp	r8, r5
 4341              	.LBB447:
 4342              	.LBB445:
2155:src/keys.c    **** }
 4343              		.loc 1 2155 10 discriminator 3 view .LVU1381
 4344 01ee 2846     		mov	r0, r5
 4345              	.LBE445:
 4346              	.LBE447:
2220:src/keys.c    **** 			if (pos >= ctmax)
 4347              		.loc 1 2220 10 discriminator 3 view .LVU1382
 4348 01f0 F4DC     		bgt	.L499
 4349              	.LVL334:
2307:src/keys.c    **** 		--pos;
 4350              		.loc 1 2307 8 is_stmt 1 view .LVU1383
ARM GAS  /tmp/cc90KtGY.s 			page 146


2222:src/keys.c    **** 			goto set_pos;
 4351              		.loc 1 2222 9 is_stmt 0 view .LVU1384
 4352 01f2 3D46     		mov	r5, r7
 4353              	.LVL335:
2307:src/keys.c    **** 		--pos;
 4354              		.loc 1 2307 8 view .LVU1385
 4355 01f4 07B3     		cbz	r7, .L417
 4356              	.LVL336:
2307:src/keys.c    **** 		--pos;
 4357              		.loc 1 2307 8 view .LVU1386
 4358 01f6 0025     		movs	r5, #0
 4359              	.LVL337:
2307:src/keys.c    **** 		--pos;
 4360              		.loc 1 2307 8 view .LVU1387
 4361 01f8 73E7     		b	.L411
 4362              	.LVL338:
 4363              	.L442:
2280:src/keys.c    **** 		Cmdline[CmdLineLength++] = ch;
 4364              		.loc 1 2280 6 view .LVU1388
 4365 01fa 2B46     		mov	r3, r5
2281:src/keys.c    **** 	/* Search for the current buffer in the catalogue */
 4366              		.loc 1 2281 3 is_stmt 1 view .LVU1389
2281:src/keys.c    **** 	/* Search for the current buffer in the catalogue */
 4367              		.loc 1 2281 28 is_stmt 0 view .LVU1390
 4368 01fc 3344     		add	r3, r3, r6
2281:src/keys.c    **** 	/* Search for the current buffer in the catalogue */
 4369              		.loc 1 2281 24 view .LVU1391
 4370 01fe 0135     		adds	r5, r5, #1
 4371 0200 EDB2     		uxtb	r5, r5
 4372 0202 3577     		strb	r5, [r6, #28]
2281:src/keys.c    **** 	/* Search for the current buffer in the catalogue */
 4373              		.loc 1 2281 28 view .LVU1392
 4374 0204 83F82040 		strb	r4, [r3, #32]
 4375 0208 30E7     		b	.L410
 4376              	.LVL339:
 4377              	.L492:
2229:src/keys.c    **** 			/*
 4378              		.loc 1 2229 3 is_stmt 1 view .LVU1393
2229:src/keys.c    **** 			/*
 4379              		.loc 1 2229 6 is_stmt 0 view .LVU1394
 4380 020a BAF1120F 		cmp	r10, #18
 4381 020e 21D0     		beq	.L500
 4382              	.L419:
2257:src/keys.c    **** 			// Handle alpha shift in alpha character catalogues
 4383              		.loc 1 2257 8 is_stmt 1 view .LVU1395
2257:src/keys.c    **** 			// Handle alpha shift in alpha character catalogues
 4384              		.loc 1 2257 11 is_stmt 0 view .LVU1396
 4385 0210 2428     		cmp	r0, #36
 4386 0212 85D0     		beq	.L501
 4387              	.LVL340:
 4388              	.L425:
2272:src/keys.c    **** 	reset_shift();
 4389              		.loc 1 2272 2 is_stmt 1 view .LVU1397
 4390              	.LBB448:
 384:src/keys.c    **** {
 4391              		.loc 1 384 12 view .LVU1398
 4392              	.LBB407:
ARM GAS  /tmp/cc90KtGY.s 			page 147


 386:src/keys.c    **** 		/*upper f-sft g-sft h-sft lower g-lower */
 4393              		.loc 1 386 2 view .LVU1399
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4394              		.loc 1 434 2 view .LVU1400
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4395              		.loc 1 434 5 is_stmt 0 view .LVU1401
 4396 0214 0121     		movs	r1, #1
 4397              	.LVL341:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4398              		.loc 1 434 5 view .LVU1402
 4399 0216 0DE7     		b	.L428
 4400              	.LVL342:
 4401              	.L432:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4402              		.loc 1 434 5 view .LVU1403
 4403 0218 96F82030 		ldrb	r3, [r6, #32]	@ zero_extendqisi2
 4404              	.LVL343:
 4405              	.L434:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4406              		.loc 1 434 5 view .LVU1404
 4407              	.LBE407:
 4408              	.LBE448:
 4409              	.LBB449:
2301:src/keys.c    **** 			goto set_pos;
 4410              		.loc 1 2301 3 is_stmt 1 view .LVU1405
2301:src/keys.c    **** 			goto set_pos;
 4411              		.loc 1 2301 6 is_stmt 0 view .LVU1406
 4412 021c 002B     		cmp	r3, #0
 4413 021e 3FF450AF 		beq	.L433
 4414              	.LBE449:
2286:src/keys.c    **** 		char buf[16];
 4415              		.loc 1 2286 29 is_stmt 1 view .LVU1407
 4416 0222 0135     		adds	r5, r5, #1
 4417              	.LVL344:
2286:src/keys.c    **** 		char buf[16];
 4418              		.loc 1 2286 16 view .LVU1408
2286:src/keys.c    **** 		char buf[16];
 4419              		.loc 1 2286 2 is_stmt 0 view .LVU1409
 4420 0224 A845     		cmp	r8, r5
 4421 0226 7FF429AF 		bne	.L430
 4422              	.LVL345:
 4423              	.L488:
2286:src/keys.c    **** 		char buf[16];
 4424              		.loc 1 2286 2 view .LVU1410
 4425 022a D9F80040 		ldr	r4, [r9]
 4426 022e CFE7     		b	.L412
 4427              	.LVL346:
 4428              	.L494:
2286:src/keys.c    **** 		char buf[16];
 4429              		.loc 1 2286 2 view .LVU1411
 4430 0230 3244     		add	r2, r2, r6
 4431              	.LVL347:
2286:src/keys.c    **** 		char buf[16];
 4432              		.loc 1 2286 2 view .LVU1412
 4433 0232 92F82030 		ldrb	r3, [r2, #32]	@ zero_extendqisi2
 4434              	.LVL348:
2286:src/keys.c    **** 		char buf[16];
ARM GAS  /tmp/cc90KtGY.s 			page 148


 4435              		.loc 1 2286 2 view .LVU1413
 4436 0236 F1E7     		b	.L434
 4437              	.LVL349:
 4438              	.L417:
2309:src/keys.c    **** 	return STATE_UNFINISHED;
 4439              		.loc 1 2309 15 view .LVU1414
 4440 0238 B4F8DC37 		ldrh	r3, [r4, #2012]
 4441 023c 05F07F05 		and	r5, r5, #127
 4442              	.LVL350:
2309:src/keys.c    **** 	return STATE_UNFINISHED;
 4443              		.loc 1 2309 2 is_stmt 1 view .LVU1415
2309:src/keys.c    **** 	return STATE_UNFINISHED;
 4444              		.loc 1 2309 15 is_stmt 0 view .LVU1416
 4445 0240 65F34B13 		bfi	r3, r5, #5, #7
 4446 0244 A4F8DC37 		strh	r3, [r4, #2012]	@ movhi
2310:src/keys.c    **** }
 4447              		.loc 1 2310 2 is_stmt 1 view .LVU1417
2310:src/keys.c    **** }
 4448              		.loc 1 2310 9 is_stmt 0 view .LVU1418
 4449 0248 3320     		movs	r0, #51
 4450 024a 51E7     		b	.L502
 4451              	.LVL351:
 4452              	.L493:
2263:src/keys.c    **** 			init_cat(CATALOGUE_NONE);
 4453              		.loc 1 2263 3 is_stmt 1 view .LVU1419
2263:src/keys.c    **** 			init_cat(CATALOGUE_NONE);
 4454              		.loc 1 2263 6 is_stmt 0 view .LVU1420
 4455 024c 1028     		cmp	r0, #16
 4456 024e 23D0     		beq	.L503
 4457              	.L427:
2272:src/keys.c    **** 	reset_shift();
 4458              		.loc 1 2272 2 is_stmt 1 view .LVU1421
 4459              	.LVL352:
 4460              	.LBB450:
 384:src/keys.c    **** {
 4461              		.loc 1 384 12 view .LVU1422
 4462              	.LBB408:
 386:src/keys.c    **** 		/*upper f-sft g-sft h-sft lower g-lower */
 4463              		.loc 1 386 2 view .LVU1423
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4464              		.loc 1 434 2 view .LVU1424
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4465              		.loc 1 434 5 is_stmt 0 view .LVU1425
 4466 0250 0521     		movs	r1, #5
 4467              	.LVL353:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4468              		.loc 1 434 5 view .LVU1426
 4469 0252 EFE6     		b	.L428
 4470              	.LVL354:
 4471              	.L500:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 4472              		.loc 1 434 5 view .LVU1427
 4473              	.LBE408:
 4474              	.LBE450:
2229:src/keys.c    **** 			/*
 4475              		.loc 1 2229 29 discriminator 1 view .LVU1428
 4476 0254 0128     		cmp	r0, #1
ARM GAS  /tmp/cc90KtGY.s 			page 149


 4477 0256 DBD1     		bne	.L419
 4478              	.LBB451:
2238:src/keys.c    **** 				OP_MON | OP_AR_DB,	OP_MON | OP_DB_AR,
 4479              		.loc 1 2238 4 is_stmt 1 view .LVU1429
2246:src/keys.c    **** 			int i;
 4480              		.loc 1 2246 4 view .LVU1430
2246:src/keys.c    **** 			int i;
 4481              		.loc 1 2246 22 is_stmt 0 view .LVU1431
 4482 0258 2846     		mov	r0, r5
 4483              	.LVL355:
2246:src/keys.c    **** 			int i;
 4484              		.loc 1 2246 22 view .LVU1432
 4485 025a FFF7FEFF 		bl	current_catalogue
 4486              	.LVL356:
2246:src/keys.c    **** 			int i;
 4487              		.loc 1 2246 22 view .LVU1433
 4488 025e 0446     		mov	r4, r0
 4489              	.LVL357:
2247:src/keys.c    **** 
 4490              		.loc 1 2247 4 is_stmt 1 view .LVU1434
2249:src/keys.c    **** 			if (isRARG(op))
 4491              		.loc 1 2249 4 view .LVU1435
 4492 0260 0020     		movs	r0, #0
 4493              	.LVL358:
2249:src/keys.c    **** 			if (isRARG(op))
 4494              		.loc 1 2249 4 is_stmt 0 view .LVU1436
 4495 0262 FFF7FEFF 		bl	init_cat
 4496              	.LVL359:
2250:src/keys.c    **** 				return op ^ 1;
 4497              		.loc 1 2250 4 is_stmt 1 view .LVU1437
2250:src/keys.c    **** 				return op ^ 1;
 4498              		.loc 1 2250 7 is_stmt 0 view .LVU1438
 4499 0266 14F47043 		ands	r3, r4, #61440
 4500 026a 29D0     		beq	.L420
2250:src/keys.c    **** 				return op ^ 1;
 4501              		.loc 1 2250 8 discriminator 1 view .LVU1439
 4502 026c B3F5704F 		cmp	r3, #61440
 4503 0270 26D0     		beq	.L420
2251:src/keys.c    **** 			for (i = 0; i < sizeof(conv_mapping) / sizeof(conv_mapping[0]); ++i)
 4504              		.loc 1 2251 5 is_stmt 1 view .LVU1440
2251:src/keys.c    **** 			for (i = 0; i < sizeof(conv_mapping) / sizeof(conv_mapping[0]); ++i)
 4505              		.loc 1 2251 15 is_stmt 0 view .LVU1441
 4506 0272 84F00100 		eor	r0, r4, #1
 4507 0276 60E7     		b	.L392
 4508              	.LVL360:
 4509              	.L496:
2251:src/keys.c    **** 			for (i = 0; i < sizeof(conv_mapping) / sizeof(conv_mapping[0]); ++i)
 4510              		.loc 1 2251 15 view .LVU1442
 4511              	.LBE451:
2198:src/keys.c    **** 					goto search;
 4512              		.loc 1 2198 9 is_stmt 1 view .LVU1443
2198:src/keys.c    **** 					goto search;
 4513              		.loc 1 2198 13 is_stmt 0 view .LVU1444
 4514 0278 357F     		ldrb	r5, [r6, #28]	@ zero_extendqisi2
 4515              	.LVL361:
2198:src/keys.c    **** 					goto search;
 4516              		.loc 1 2198 13 view .LVU1445
ARM GAS  /tmp/cc90KtGY.s 			page 150


 4517 027a 013D     		subs	r5, r5, #1
 4518 027c EDB2     		uxtb	r5, r5
2198:src/keys.c    **** 					goto search;
 4519              		.loc 1 2198 12 view .LVU1446
 4520 027e 3577     		strb	r5, [r6, #28]
 4521 0280 002D     		cmp	r5, #0
 4522 0282 7FF4F3AE 		bne	.L410
 4523 0286 D9F80040 		ldr	r4, [r9]
 4524 028a 2AE7     		b	.L411
 4525              	.LVL362:
 4526              	.L498:
2215:src/keys.c    **** 			goto set_pos;
 4527              		.loc 1 2215 5 is_stmt 1 view .LVU1447
 4528 028c 013D     		subs	r5, r5, #1
 4529              	.LVL363:
2216:src/keys.c    **** 
 4530              		.loc 1 2216 4 view .LVU1448
 4531 028e 1AE7     		b	.L413
 4532              	.LVL364:
 4533              	.L497:
2216:src/keys.c    **** 
 4534              		.loc 1 2216 4 is_stmt 0 view .LVU1449
 4535 0290 FFF7FEFF 		bl	current_catalogue
 4536              	.LVL365:
2216:src/keys.c    **** 
 4537              		.loc 1 2216 4 view .LVU1450
 4538 0294 0446     		mov	r4, r0
 4539 0296 75E7     		b	.L403
 4540              	.LVL366:
 4541              	.L503:
2263:src/keys.c    **** 			init_cat(CATALOGUE_NONE);
 4542              		.loc 1 2263 16 discriminator 1 view .LVU1451
 4543 0298 BAF1130F 		cmp	r10, #19
 4544 029c D8D1     		bne	.L427
2264:src/keys.c    **** 			return OP_NIL | OP_SIGMACLEAR;
 4545              		.loc 1 2264 4 is_stmt 1 view .LVU1452
 4546 029e 0020     		movs	r0, #0
 4547              	.LVL367:
2264:src/keys.c    **** 			return OP_NIL | OP_SIGMACLEAR;
 4548              		.loc 1 2264 4 is_stmt 0 view .LVU1453
 4549 02a0 FFF7FEFF 		bl	init_cat
 4550              	.LVL368:
2265:src/keys.c    **** 		}
 4551              		.loc 1 2265 4 is_stmt 1 view .LVU1454
2265:src/keys.c    **** 		}
 4552              		.loc 1 2265 11 is_stmt 0 view .LVU1455
 4553 02a4 40F23D10 		movw	r0, #317
 4554 02a8 47E7     		b	.L392
 4555              	.L404:
 4556              	.LBB452:
2190:src/keys.c    **** 				}
 4557              		.loc 1 2190 6 is_stmt 1 view .LVU1456
 4558              	.LBB435:
 4559              	.LBB436:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 4560              		.loc 1 620 5 is_stmt 0 view .LVU1457
 4561 02aa C4F30723 		ubfx	r3, r4, #8, #8
ARM GAS  /tmp/cc90KtGY.s 			page 151


 4562 02ae 012B     		cmp	r3, #1
 4563              	.LBE436:
 4564              	.LBE435:
2190:src/keys.c    **** 				}
 4565              		.loc 1 2190 13 view .LVU1458
 4566 02b0 2046     		mov	r0, r4
 4567              	.LVL369:
 4568              	.LBB438:
 4569              	.LBI435:
 619:src/keys.c    **** 	if (opKIND(op) == KIND_NIL) {
 4570              		.loc 1 619 12 is_stmt 1 view .LVU1459
 4571              	.LBB437:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 4572              		.loc 1 620 2 view .LVU1460
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 4573              		.loc 1 620 5 is_stmt 0 view .LVU1461
 4574 02b2 7FF442AF 		bne	.L392
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 4575              		.loc 1 620 5 view .LVU1462
 4576 02b6 FFF7FEFF 		bl	check_confirm.part.0
 4577              	.LVL370:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 4578              		.loc 1 620 5 view .LVU1463
 4579 02ba 3EE7     		b	.L392
 4580              	.LVL371:
 4581              	.L405:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 4582              		.loc 1 620 5 view .LVU1464
 4583              	.LBE437:
 4584              	.LBE438:
 4585              	.LBB439:
2183:src/keys.c    **** 					if (rarg >= RARG_TEST_EQ && rarg <= RARG_TEST_GE)
 4586              		.loc 1 2183 7 is_stmt 1 view .LVU1465
2183:src/keys.c    **** 					if (rarg >= RARG_TEST_EQ && rarg <= RARG_TEST_GE)
 4587              		.loc 1 2183 14 is_stmt 0 view .LVU1466
 4588 02bc 2046     		mov	r0, r4
 4589 02be 3CE7     		b	.L392
 4590              	.LVL372:
 4591              	.L420:
2183:src/keys.c    **** 					if (rarg >= RARG_TEST_EQ && rarg <= RARG_TEST_GE)
 4592              		.loc 1 2183 14 view .LVU1467
 4593 02c0 0B48     		ldr	r0, .L506+20
 4594              	.LBE439:
 4595              	.LBE452:
2161:src/keys.c    **** 	int pos = State.catpos;
 4596              		.loc 1 2161 92 view .LVU1468
 4597 02c2 40F28522 		movw	r2, #645
 4598 02c6 0146     		mov	r1, r0
 4599 02c8 0023     		movs	r3, #0
 4600 02ca 01E0     		b	.L422
 4601              	.LVL373:
 4602              	.L505:
2161:src/keys.c    **** 	int pos = State.catpos;
 4603              		.loc 1 2161 92 view .LVU1469
 4604 02cc 31F8022F 		ldrh	r2, [r1, #2]!
 4605              	.LVL374:
 4606              	.L422:
ARM GAS  /tmp/cc90KtGY.s 			page 152


 4607              	.LBB453:
2253:src/keys.c    **** 					return conv_mapping[i^1];
 4608              		.loc 1 2253 5 is_stmt 1 view .LVU1470
2252:src/keys.c    **** 				if (op == conv_mapping[i])
 4609              		.loc 1 2252 68 view .LVU1471
2253:src/keys.c    **** 					return conv_mapping[i^1];
 4610              		.loc 1 2253 8 is_stmt 0 view .LVU1472
 4611 02d0 A242     		cmp	r2, r4
 4612 02d2 1DD0     		beq	.L504
2252:src/keys.c    **** 				if (op == conv_mapping[i])
 4613              		.loc 1 2252 68 discriminator 2 view .LVU1473
 4614 02d4 0133     		adds	r3, r3, #1
 4615              	.LVL375:
2252:src/keys.c    **** 				if (op == conv_mapping[i])
 4616              		.loc 1 2252 16 is_stmt 1 discriminator 2 view .LVU1474
2252:src/keys.c    **** 				if (op == conv_mapping[i])
 4617              		.loc 1 2252 4 is_stmt 0 discriminator 2 view .LVU1475
 4618 02d6 0C2B     		cmp	r3, #12
 4619 02d8 F8D1     		bne	.L505
 4620 02da 2DE7     		b	.L490
 4621              	.L507:
 4622              		.align	2
 4623              	.L506:
 4624 02dc 00000000 		.word	StateWhileOn
 4625 02e0 00000000 		.word	.LANCHOR2
 4626 02e4 00000000 		.word	.LANCHOR1
 4627 02e8 00000000 		.word	.LANCHOR9
 4628 02ec 00080800 		.word	526336
 4629 02f0 00000000 		.word	.LANCHOR8
 4630 02f4 00000000 		.word	main_ram
 4631 02f8 1F000000 		.word	StateWhileOn+31
 4632              	.LVL376:
 4633              	.L408:
2252:src/keys.c    **** 				if (op == conv_mapping[i])
 4634              		.loc 1 2252 4 discriminator 2 view .LVU1476
 4635              	.LBE453:
 4636              	.LBB454:
 4637              	.LBB440:
2187:src/keys.c    **** 				}
 4638              		.loc 1 2187 7 is_stmt 1 view .LVU1477
 4639              	.LBB432:
 4640              	.LBI432:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 4641              		.loc 1 501 13 view .LVU1478
 4642              	.LBB433:
 502:src/keys.c    **** 		return;
 4643              		.loc 1 502 2 view .LVU1479
 502:src/keys.c    **** 		return;
 4644              		.loc 1 502 6 is_stmt 0 view .LVU1480
 4645 02fc FFF7FEFF 		bl	is_bad_cmdline
 4646              	.LVL377:
 502:src/keys.c    **** 		return;
 4647              		.loc 1 502 5 view .LVU1481
 4648 0300 0028     		cmp	r0, #0
 4649 0302 7FF419AF 		bne	.L490
 4650 0306 2846     		mov	r0, r5
 4651 0308 FFF7FEFF 		bl	init_arg.part.0
ARM GAS  /tmp/cc90KtGY.s 			page 153


 4652              	.LVL378:
 4653              	.LBE433:
 4654              	.LBE432:
 4655              	.LBE440:
 4656              	.LBE454:
2194:src/keys.c    **** 
 4657              		.loc 1 2194 11 view .LVU1482
 4658 030c 3320     		movs	r0, #51
 4659 030e 14E7     		b	.L392
 4660              	.LVL379:
 4661              	.L504:
 4662              	.LBB455:
2254:src/keys.c    **** 			return STATE_UNFINISHED;		// Unreached
 4663              		.loc 1 2254 6 is_stmt 1 view .LVU1483
2254:src/keys.c    **** 			return STATE_UNFINISHED;		// Unreached
 4664              		.loc 1 2254 27 is_stmt 0 view .LVU1484
 4665 0310 83F00103 		eor	r3, r3, #1
 4666              	.LVL380:
2254:src/keys.c    **** 			return STATE_UNFINISHED;		// Unreached
 4667              		.loc 1 2254 25 view .LVU1485
 4668 0314 30F81300 		ldrh	r0, [r0, r3, lsl #1]
 4669 0318 0FE7     		b	.L392
 4670              	.LBE455:
 4671              		.cfi_endproc
 4672              	.LFE43:
 4674 031a 00BF     		.section	.text.find_pos,"ax",%progbits
 4675              		.align	1
 4676              		.p2align 2,,3
 4677              		.global	find_pos
 4678              		.syntax unified
 4679              		.thumb
 4680              		.thumb_func
 4681              		.fpu fpv4-sp-d16
 4683              	find_pos:
 4684              	.LVL381:
 4685              	.LFB44:
2314:src/keys.c    **** 	int pos;
 4686              		.loc 1 2314 32 is_stmt 1 view -0
 4687              		.cfi_startproc
 4688              		@ args = 0, pretend = 0, frame = 16
 4689              		@ frame_needed = 0, uses_anonymous_args = 0
2315:src/keys.c    **** 	const int ctmax = current_catalogue_max();
 4690              		.loc 1 2315 2 view .LVU1487
2316:src/keys.c    **** 	for (pos = 0; pos < ctmax; ++pos) {
 4691              		.loc 1 2316 2 view .LVU1488
 4692              	.LBB456:
 4693              	.LBI456:
2016:src/keys.c    **** 	// A quick table of catalogue sizes
 4694              		.loc 1 2016 5 view .LVU1489
 4695              	.LBB457:
2019:src/keys.c    **** 	{
 4696              		.loc 1 2019 2 view .LVU1490
2050:src/keys.c    **** #endif
 4697              		.loc 1 2050 2 view .LVU1491
 4698              	.LBE457:
 4699              	.LBE456:
2314:src/keys.c    **** 	int pos;
ARM GAS  /tmp/cc90KtGY.s 			page 154


 4700              		.loc 1 2314 32 is_stmt 0 view .LVU1492
 4701 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4702              		.cfi_def_cfa_offset 32
 4703              		.cfi_offset 4, -32
 4704              		.cfi_offset 5, -28
 4705              		.cfi_offset 6, -24
 4706              		.cfi_offset 7, -20
 4707              		.cfi_offset 8, -16
 4708              		.cfi_offset 9, -12
 4709              		.cfi_offset 10, -8
 4710              		.cfi_offset 14, -4
 4711              	.LBB459:
 4712              	.LBB458:
2050:src/keys.c    **** #endif
 4713              		.loc 1 2050 31 view .LVU1493
 4714 0004 1E4B     		ldr	r3, .L525
2050:src/keys.c    **** #endif
 4715              		.loc 1 2050 24 view .LVU1494
 4716 0006 1F4A     		ldr	r2, .L525+4
2050:src/keys.c    **** #endif
 4717              		.loc 1 2050 31 view .LVU1495
 4718 0008 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
2050:src/keys.c    **** #endif
 4719              		.loc 1 2050 24 view .LVU1496
 4720 000a 12F803A0 		ldrb	r10, [r2, r3]	@ zero_extendqisi2
 4721              	.LVL382:
2050:src/keys.c    **** #endif
 4722              		.loc 1 2050 24 view .LVU1497
 4723              	.LBE458:
 4724              	.LBE459:
2317:src/keys.c    **** 		char buf[16];
 4725              		.loc 1 2317 2 is_stmt 1 view .LVU1498
2317:src/keys.c    **** 		char buf[16];
 4726              		.loc 1 2317 16 view .LVU1499
2314:src/keys.c    **** 	int pos;
 4727              		.loc 1 2314 32 is_stmt 0 view .LVU1500
 4728 000e 84B0     		sub	sp, sp, #16
 4729              		.cfi_def_cfa_offset 48
2317:src/keys.c    **** 		char buf[16];
 4730              		.loc 1 2317 2 view .LVU1501
 4731 0010 BAF1000F 		cmp	r10, #0
 4732 0014 32D0     		beq	.L515
 4733 0016 8146     		mov	r9, r0
2317:src/keys.c    **** 		char buf[16];
 4734              		.loc 1 2317 11 view .LVU1502
 4735 0018 4FF00008 		mov	r8, #0
 4736 001c C0F10107 		rsb	r7, r0, #1
 4737              	.LVL383:
 4738              	.L514:
 4739              	.LBB460:
2318:src/keys.c    **** 		const char *cmd = catcmd(current_catalogue(pos), buf);
 4740              		.loc 1 2318 3 is_stmt 1 view .LVU1503
2319:src/keys.c    **** 		int i;
 4741              		.loc 1 2319 3 view .LVU1504
2319:src/keys.c    **** 		int i;
 4742              		.loc 1 2319 21 is_stmt 0 view .LVU1505
 4743 0020 4046     		mov	r0, r8
ARM GAS  /tmp/cc90KtGY.s 			page 155


 4744 0022 FFF7FEFF 		bl	current_catalogue
 4745              	.LVL384:
 4746 0026 6946     		mov	r1, sp
 4747 0028 FFF7FEFF 		bl	catcmd
 4748              	.LVL385:
 4749 002c 0646     		mov	r6, r0
 4750              	.LVL386:
2320:src/keys.c    **** 
 4751              		.loc 1 2320 3 is_stmt 1 view .LVU1506
2322:src/keys.c    **** 			cmd++;
 4752              		.loc 1 2322 3 view .LVU1507
2323:src/keys.c    **** 		for (i=0; cmd[i] != '\0'; i++) {
 4753              		.loc 1 2323 4 view .LVU1508
2322:src/keys.c    **** 			cmd++;
 4754              		.loc 1 2322 7 is_stmt 0 view .LVU1509
 4755 002e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4756              	.LVL387:
2322:src/keys.c    **** 			cmd++;
 4757              		.loc 1 2322 6 view .LVU1510
 4758 0030 1428     		cmp	r0, #20
 4759 0032 04BF     		itt	eq
 4760 0034 7078     		ldrbeq	r0, [r6, #1]	@ zero_extendqisi2
2323:src/keys.c    **** 		for (i=0; cmd[i] != '\0'; i++) {
 4761              		.loc 1 2323 7 view .LVU1511
 4762 0036 0136     		addeq	r6, r6, #1
 4763              	.LVL388:
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4764              		.loc 1 2324 3 is_stmt 1 view .LVU1512
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4765              		.loc 1 2324 13 view .LVU1513
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4766              		.loc 1 2324 3 is_stmt 0 view .LVU1514
 4767 0038 A8B1     		cbz	r0, .L516
 4768 003a 09F1FF33 		add	r3, r9, #-1
 4769 003e 04E0     		b	.L513
 4770              	.LVL389:
 4771              	.L524:
 4772              	.LBB461:
2329:src/keys.c    **** 				break;
 4773              		.loc 1 2329 12 view .LVU1515
 4774 0040 12DB     		blt	.L511
 4775              	.LBE461:
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4776              		.loc 1 2324 16 discriminator 2 view .LVU1516
 4777 0042 16F8010F 		ldrb	r0, [r6, #1]!	@ zero_extendqisi2
 4778              	.LVL390:
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4779              		.loc 1 2324 16 discriminator 2 view .LVU1517
 4780 0046 3C44     		add	r4, r4, r7
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4781              		.loc 1 2324 3 discriminator 2 view .LVU1518
 4782 0048 B0B1     		cbz	r0, .L523
 4783              	.LVL391:
 4784              	.L513:
 4785              	.LBB462:
2325:src/keys.c    **** 			const int cl = remap_chars(text[i]);
 4786              		.loc 1 2325 4 is_stmt 1 view .LVU1519
ARM GAS  /tmp/cc90KtGY.s 			page 156


 4787 004a 5C1C     		adds	r4, r3, #1
2325:src/keys.c    **** 			const int cl = remap_chars(text[i]);
 4788              		.loc 1 2325 18 is_stmt 0 view .LVU1520
 4789 004c FFF7FEFF 		bl	remap_chars
 4790              	.LVL392:
 4791 0050 0546     		mov	r5, r0
2326:src/keys.c    **** 			if (c > cl)
 4792              		.loc 1 2326 19 view .LVU1521
 4793 0052 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 4794              	.LVL393:
2326:src/keys.c    **** 			if (c > cl)
 4795              		.loc 1 2326 4 is_stmt 1 view .LVU1522
2326:src/keys.c    **** 			if (c > cl)
 4796              		.loc 1 2326 19 is_stmt 0 view .LVU1523
 4797 0054 FFF7FEFF 		bl	remap_chars
 4798              	.LVL394:
2329:src/keys.c    **** 				break;
 4799              		.loc 1 2329 9 is_stmt 1 view .LVU1524
 4800              	.LBE462:
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4801              		.loc 1 2324 29 view .LVU1525
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4802              		.loc 1 2324 13 view .LVU1526
 4803              	.LBB463:
2327:src/keys.c    **** 				return pos;
 4804              		.loc 1 2327 4 view .LVU1527
2327:src/keys.c    **** 				return pos;
 4805              		.loc 1 2327 7 is_stmt 0 view .LVU1528
 4806 0058 8542     		cmp	r5, r0
 4807 005a 2346     		mov	r3, r4
 4808 005c F0DD     		ble	.L524
 4809              	.LVL395:
 4810              	.L508:
2327:src/keys.c    **** 				return pos;
 4811              		.loc 1 2327 7 view .LVU1529
 4812              	.LBE463:
 4813              	.LBE460:
2336:src/keys.c    **** 
 4814              		.loc 1 2336 1 view .LVU1530
 4815 005e 4046     		mov	r0, r8
 4816 0060 04B0     		add	sp, sp, #16
 4817              		.cfi_remember_state
 4818              		.cfi_def_cfa_offset 32
 4819              		@ sp needed
 4820 0062 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4821              	.LVL396:
 4822              	.L516:
 4823              		.cfi_restore_state
 4824              	.LBB464:
2324:src/keys.c    **** 			const int c = remap_chars(cmd[i]);
 4825              		.loc 1 2324 3 view .LVU1531
 4826 0066 4C46     		mov	r4, r9
 4827              	.LVL397:
 4828              	.L511:
2332:src/keys.c    **** 			return pos;
 4829              		.loc 1 2332 3 is_stmt 1 view .LVU1532
2332:src/keys.c    **** 			return pos;
ARM GAS  /tmp/cc90KtGY.s 			page 157


 4830              		.loc 1 2332 6 is_stmt 0 view .LVU1533
 4831 0068 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 4832 006a 002B     		cmp	r3, #0
 4833 006c F7D0     		beq	.L508
 4834              	.LBE464:
2317:src/keys.c    **** 		char buf[16];
 4835              		.loc 1 2317 29 is_stmt 1 view .LVU1534
 4836 006e 08F10108 		add	r8, r8, #1
 4837              	.LVL398:
2317:src/keys.c    **** 		char buf[16];
 4838              		.loc 1 2317 16 view .LVU1535
2317:src/keys.c    **** 		char buf[16];
 4839              		.loc 1 2317 2 is_stmt 0 view .LVU1536
 4840 0072 D045     		cmp	r8, r10
 4841 0074 D4D1     		bne	.L514
 4842 0076 F2E7     		b	.L508
 4843              	.LVL399:
 4844              	.L523:
2317:src/keys.c    **** 		char buf[16];
 4845              		.loc 1 2317 2 view .LVU1537
 4846 0078 4C44     		add	r4, r4, r9
 4847 007a F5E7     		b	.L511
 4848              	.LVL400:
 4849              	.L515:
2317:src/keys.c    **** 		char buf[16];
 4850              		.loc 1 2317 11 view .LVU1538
 4851 007c D046     		mov	r8, r10
 4852 007e EEE7     		b	.L508
 4853              	.L526:
 4854              		.align	2
 4855              	.L525:
 4856 0080 00000000 		.word	StateWhileOn
 4857 0084 00000000 		.word	.LANCHOR2
 4858              		.cfi_endproc
 4859              	.LFE44:
 4861              		.section	.text.get_alpha_state,"ax",%progbits
 4862              		.align	1
 4863              		.p2align 2,,3
 4864              		.global	get_alpha_state
 4865              		.syntax unified
 4866              		.thumb
 4867              		.thumb_func
 4868              		.fpu fpv4-sp-d16
 4870              	get_alpha_state:
 4871              	.LFB56:
2661:src/keys.c    **** 
2662:src/keys.c    **** 
2663:src/keys.c    **** static int process_registerlist(const keycode c) {
2664:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c) & ~NO_SHORT;
2665:src/keys.c    **** 	enum shifts shift = reset_shift();
2666:src/keys.c    **** 	const int max = State2.local ? local_regs() : NUMREG;
2667:src/keys.c    **** 	const int g_max = global_regs();
2668:src/keys.c    **** 
2669:src/keys.c    **** 	if (n == LOCAL_REG_BASE) {	// '.'
2670:src/keys.c    **** 		if (local_regs())
2671:src/keys.c    **** 			State2.local = ! State2.local && ! State2.digval2;
2672:src/keys.c    **** 		State2.digval = State2.local ? 0 : regX_idx;
ARM GAS  /tmp/cc90KtGY.s 			page 158


2673:src/keys.c    **** 		goto reset_window;
2674:src/keys.c    **** 	}
2675:src/keys.c    **** 	else if (n <= 9) {
2676:src/keys.c    **** 		int dv = (State2.digval * 10 + n) % 100;
2677:src/keys.c    **** 		if (dv >= max || (! State2.local && (State2.digval >= g_max || dv >= g_max)))
2678:src/keys.c    **** 			dv = n;
2679:src/keys.c    **** 		State2.digval = dv;
2680:src/keys.c    **** 		goto reset_window;
2681:src/keys.c    **** 	}
2682:src/keys.c    **** 	else if ((shift == SHIFT_F || shift == SHIFT_G) && c == K21) {  // <( )>
2683:src/keys.c    **** 		set_window(shift == SHIFT_F ? STATE_WINDOWLEFT : STATE_WINDOWRIGHT);
2684:src/keys.c    **** 		set_smode(SDISP_SHOW);
2685:src/keys.c    **** 	}
2686:src/keys.c    **** 	else if (n != NO_REG) {
2687:src/keys.c    **** 		State2.digval = n;
2688:src/keys.c    **** 		goto reset_window;
2689:src/keys.c    **** 	}
2690:src/keys.c    **** 
2691:src/keys.c    **** 	switch (c) {
2692:src/keys.c    **** 	case K_DOWN:
2693:src/keys.c    **** 		if (State2.digval > 0) {
2694:src/keys.c    **** 			if (! State2.local && State2.digval == TOPREALREG)
2695:src/keys.c    **** 				State2.digval = global_regs();
2696:src/keys.c    **** 			--State2.digval;
2697:src/keys.c    **** 		}
2698:src/keys.c    **** 		else
2699:src/keys.c    **** 			State2.digval = max - 1;
2700:src/keys.c    **** 		goto reset_window;
2701:src/keys.c    **** 
2702:src/keys.c    **** 	case K_UP:
2703:src/keys.c    **** 		if (State2.digval < max - 1) {
2704:src/keys.c    **** 			State2.digval++;
2705:src/keys.c    **** 			if (! State2.local && State2.digval == global_regs())
2706:src/keys.c    **** 				State2.digval = regX_idx;
2707:src/keys.c    **** 		}
2708:src/keys.c    **** 		else	
2709:src/keys.c    **** 			State2.digval = 0;
2710:src/keys.c    **** 		goto reset_window;
2711:src/keys.c    **** 
2712:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
2713:src/keys.c    **** 	case K04:
2714:src/keys.c    **** 		State2.digval2 = ! State2.digval2 && ! State2.local;
2715:src/keys.c    **** 		goto reset_window;
2716:src/keys.c    **** #endif
2717:src/keys.c    **** 
2718:src/keys.c    **** 	case K24:			
2719:src/keys.c    **** 	//case K60:
2720:src/keys.c    **** 		if (State2.disp_temp)
2721:src/keys.c    **** 			return STATE_UNFINISHED;
2722:src/keys.c    **** 		break;		// Exit doing nothing
2723:src/keys.c    **** 
2724:src/keys.c    **** 	case K20:		// ENTER
2725:src/keys.c    **** 		if (shift == SHIFT_F) {
2726:src/keys.c    **** 			State2.disp_as_alpha = 1;
2727:src/keys.c    **** 			goto reset_window;
2728:src/keys.c    **** 		}
2729:src/keys.c    **** 	case K11:		// RCL
ARM GAS  /tmp/cc90KtGY.s 			page 159


2730:src/keys.c    **** 		if ( shift == SHIFT_N ) {
2731:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
2732:src/keys.c    **** 			n = RARG( State2.digval2 ? RARG_FLRCL : RARG_RCL, State2.digval );
2733:src/keys.c    **** #else
2734:src/keys.c    **** 			n = RARG( RARG_RCL, State2.digval );
2735:src/keys.c    **** #endif
2736:src/keys.c    **** 			State2.registerlist = 0;
2737:src/keys.c    **** 			State2.digval = 0;
2738:src/keys.c    **** 			State2.digval2 = 0;
2739:src/keys.c    **** 			return n;
2740:src/keys.c    **** 		}
2741:src/keys.c    **** 	default:
2742:src/keys.c    **** 		return STATE_UNFINISHED;
2743:src/keys.c    **** 	}
2744:src/keys.c    **** 	State2.registerlist = 0;
2745:src/keys.c    **** 	State2.digval = 0;
2746:src/keys.c    **** 	State2.digval2 = 0;
2747:src/keys.c    **** reset_window:
2748:src/keys.c    **** 	State2.window = 0;
2749:src/keys.c    **** 	return STATE_UNFINISHED;
2750:src/keys.c    **** }
2751:src/keys.c    **** 
2752:src/keys.c    **** 
2753:src/keys.c    **** static int process(const int c) {
2754:src/keys.c    ****   const enum shifts shift = cur_shift();
2755:src/keys.c    ****   enum catalogues cat;
2756:src/keys.c    **** 
2757:src/keys.c    ****   if (Running || Pause) {
2758:src/keys.c    ****     /*
2759:src/keys.c    ****      *  Abort a running program with R/S or EXIT
2760:src/keys.c    ****      */
2761:src/keys.c    ****     if (c == K60 || c == K63) {
2762:src/keys.c    ****       if (Pause && isXROM(state_pc()))
2763:src/keys.c    **** 	set_pc(0);
2764:src/keys.c    ****       Pause = 0;
2765:src/keys.c    ****       xeq_xrom();
2766:src/keys.c    ****       set_running_off();
2767:src/keys.c    ****       DispMsg = "Stopped";
2768:src/keys.c    ****       State2.disp_freeze = 0;
2769:src/keys.c    ****       return STATE_UNFINISHED;
2770:src/keys.c    ****     }
2771:src/keys.c    ****     if ( c != K_HEARTBEAT ) {
2772:src/keys.c    ****       LastKey = (char) (c + 1);	// Store for KEY?
2773:src/keys.c    ****       Pause = 0;			// leave PSE statement
2774:src/keys.c    ****       GoFast = 1;
2775:src/keys.c    ****     }
2776:src/keys.c    ****     // continue execution if really running, else ignore (PSE)
2777:src/keys.c    ****     return STATE_RUNNING;
2778:src/keys.c    ****   }
2779:src/keys.c    **** 
2780:src/keys.c    ****   /* Check for ON in the unshifted state -- this is a reset sequence
2781:src/keys.c    ****    * common across all modes.  Shifted modes need to check this themselves
2782:src/keys.c    ****    * if required.
2783:src/keys.c    ****    */
2784:src/keys.c    ****   if (c == K60 && shift == SHIFT_N && ! State2.catalogue) {
2785:src/keys.c    ****     soft_init_state();
2786:src/keys.c    ****     return STATE_UNFINISHED;
ARM GAS  /tmp/cc90KtGY.s 			page 160


2787:src/keys.c    ****   }
2788:src/keys.c    **** 
2789:src/keys.c    **** #ifndef CONSOLE
2790:src/keys.c    **** 	if (c == K63 && JustStopped) {
2791:src/keys.c    **** 		// Avoid an accidental restart with R/S
2792:src/keys.c    **** 		JustStopped = 0;
2793:src/keys.c    **** 		return STATE_IGNORE;
2794:src/keys.c    **** 	}
2795:src/keys.c    **** #endif
2796:src/keys.c    **** 	/*  Handle the keyboard timeout for catalogue navigation
2797:src/keys.c    **** 	 *  Must be done early in the process to capture the shifts correctly
2798:src/keys.c    **** 	 */
2799:src/keys.c    **** 	if (State2.catalogue && Keyticks > 30)
2800:src/keys.c    **** 		CmdLineLength = 0;
2801:src/keys.c    **** 	/*
2802:src/keys.c    **** 	 *  Process the various cases
2803:src/keys.c    **** 	 *  The handlers in this block here do not handle shifts at all or do it themselves
2804:src/keys.c    **** 	 */
2805:src/keys.c    **** 	if (State2.confirm)
2806:src/keys.c    **** 		return process_confirm((const keycode)c);
2807:src/keys.c    **** 
2808:src/keys.c    **** 	if (State2.rarg)
2809:src/keys.c    **** 		return process_arg((const keycode)c);
2810:src/keys.c    **** 
2811:src/keys.c    **** 	if (State2.gtodot)
2812:src/keys.c    **** 		return process_gtodot((const keycode)c);
2813:src/keys.c    **** 
2814:src/keys.c    **** 	if (State2.hyp)
2815:src/keys.c    **** 		return process_hyp((const keycode)c);
2816:src/keys.c    **** 
2817:src/keys.c    **** 	if (State2.test != TST_NONE)
2818:src/keys.c    **** 		return process_test((const keycode)c);
2819:src/keys.c    **** 
2820:src/keys.c    **** 	if (State2.status)
2821:src/keys.c    **** 		return process_status((const keycode)c);
2822:src/keys.c    **** 
2823:src/keys.c    **** 	/*
2824:src/keys.c    **** 	 *  Process shift keys directly
2825:src/keys.c    **** 	 */
2826:src/keys.c    **** 	if (c == K_F) {
2827:src/keys.c    **** 		toggle_shift(SHIFT_F);
2828:src/keys.c    **** 		return STATE_UNFINISHED;
2829:src/keys.c    **** 	}
2830:src/keys.c    **** 	if (c == K_G) {
2831:src/keys.c    **** 		toggle_shift(SHIFT_G);
2832:src/keys.c    **** 		return STATE_UNFINISHED;
2833:src/keys.c    **** 	}
2834:src/keys.c    **** 	if (c == K_H) {
2835:src/keys.c    **** 		toggle_shift(SHIFT_H);
2836:src/keys.c    **** 		State2.arrow = 0;
2837:src/keys.c    **** 		return STATE_UNFINISHED;
2838:src/keys.c    **** 	}
2839:src/keys.c    **** 	/*
2840:src/keys.c    **** 	 *  The handlers in this block need to call reset_shift somewhere
2841:src/keys.c    **** 	 */
2842:src/keys.c    **** 	// print_debug (2, c);
2843:src/keys.c    **** 	if (State2.arrow)
ARM GAS  /tmp/cc90KtGY.s 			page 161


2844:src/keys.c    **** 		return process_arrow((const keycode)c);
2845:src/keys.c    **** 
2846:src/keys.c    **** 	/*
2847:src/keys.c    **** 	 * Here the keys are mapped to catalogues
2848:src/keys.c    **** 	 * The position of this code decides where catalogue switching
2849:src/keys.c    **** 	 * works and were not
2850:src/keys.c    **** 	 */
2851:src/keys.c    **** 	cat = keycode_to_cat((keycode)c, shift);
2852:src/keys.c    **** 	if ( cat != CATALOGUE_NONE ) {
2853:src/keys.c    **** 		if (is_bad_cmdline())
2854:src/keys.c    **** 			return STATE_UNFINISHED;
2855:src/keys.c    **** 		init_cat( CATALOGUE_NONE );
2856:src/keys.c    **** 		init_cat( cat );
2857:src/keys.c    **** 		return STATE_UNFINISHED;
2858:src/keys.c    **** 	}
2859:src/keys.c    **** 
2860:src/keys.c    **** 	/*
2861:src/keys.c    **** 	 *  More handlers...
2862:src/keys.c    **** 	 */
2863:src/keys.c    **** 	if (State2.multi)
2864:src/keys.c    **** 		return process_multi((const keycode)c);
2865:src/keys.c    **** 
2866:src/keys.c    **** 	if (State2.labellist)
2867:src/keys.c    **** 		return process_labellist((const keycode)c);
2868:src/keys.c    **** 
2869:src/keys.c    **** 	if (State2.registerlist)
2870:src/keys.c    **** 		return process_registerlist((const keycode)c);
2871:src/keys.c    **** 
2872:src/keys.c    **** 	if (State2.catalogue)
2873:src/keys.c    **** 		return process_catalogue((const keycode)c, reset_shift(), 0);
2874:src/keys.c    **** 
2875:src/keys.c    **** 	if (State2.alphas) {
2876:src/keys.c    **** #ifndef INFRARED
2877:src/keys.c    **** 		return process_alpha((const keycode)c);
2878:src/keys.c    **** #else
2879:src/keys.c    **** 		int i = process_alpha((const keycode)c);
2880:src/keys.c    **** 		if (! State2.alphas && get_user_flag(T_FLAG)) {
2881:src/keys.c    **** 			print_tab(0);
2882:src/keys.c    **** 			print_alpha(OP_PRINT_ALPHA);
2883:src/keys.c    **** 		}
2884:src/keys.c    **** 		return i;
2885:src/keys.c    **** #endif
2886:src/keys.c    **** 	}
2887:src/keys.c    **** 
2888:src/keys.c    **** 	if (State2.cmplx) {
2889:src/keys.c    **** 		return process_cmplx((const keycode)c);
2890:src/keys.c    **** 	} else {
2891:src/keys.c    **** 		if (shift == SHIFT_F || shift == SHIFT_G)
2892:src/keys.c    **** 			return process_fg_shifted((const keycode)c);
2893:src/keys.c    **** 		if (shift == SHIFT_H)
2894:src/keys.c    **** 			return process_h_shifted((const keycode)c);
2895:src/keys.c    **** 		// print_debug (3, c);
2896:src/keys.c    **** 		return process_normal((const keycode)c);
2897:src/keys.c    **** 	}
2898:src/keys.c    **** }
2899:src/keys.c    **** 
2900:src/keys.c    ****  unsigned int get_alpha_state ( void ) {
ARM GAS  /tmp/cc90KtGY.s 			page 162


 4872              		.loc 1 2900 40 is_stmt 1 view -0
 4873              		.cfi_startproc
 4874              		@ args = 0, pretend = 0, frame = 0
 4875              		@ frame_needed = 0, uses_anonymous_args = 0
 4876              		@ link register save eliminated.
2901:src/keys.c    ****    return (State2.alphas || State2.confirm || State2.status || State2.labellist
 4877              		.loc 1 2901 4 view .LVU1540
 4878              		.loc 1 2901 53 is_stmt 0 view .LVU1541
 4879 0000 074B     		ldr	r3, .L532
 4880              		.loc 1 2901 44 view .LVU1542
 4881 0002 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 4882 0004 1AB9     		cbnz	r2, .L530
2902:src/keys.c    **** 	   || State2.rarg || State2.registerlist || State2.multi 
2903:src/keys.c    **** 	   || State2.gtodot || State2.catalogue || (State2.test != TST_NONE) );
 4883              		.loc 1 2903 5 discriminator 2 view .LVU1543
 4884 0006 5969     		ldr	r1, [r3, #20]
 4885 0008 064A     		ldr	r2, .L532+4
 4886 000a 0A40     		ands	r2, r2, r1
 4887 000c 0AB1     		cbz	r2, .L531
 4888              	.L530:
 4889 000e 0120     		movs	r0, #1
2904:src/keys.c    ****  }
 4890              		.loc 1 2904 2 view .LVU1544
 4891 0010 7047     		bx	lr
 4892              	.L531:
2903:src/keys.c    ****  }
 4893              		.loc 1 2903 42 discriminator 3 view .LVU1545
 4894 0012 D889     		ldrh	r0, [r3, #14]
 4895 0014 B0F5E060 		subs	r0, r0, #1792
 4896 0018 18BF     		it	ne
 4897 001a 0120     		movne	r0, #1
 4898 001c 7047     		bx	lr
 4899              	.L533:
 4900 001e 00BF     		.align	2
 4901              	.L532:
 4902 0020 00000000 		.word	StateWhileOn
 4903 0024 0709280C 		.word	203950343
 4904              		.cfi_endproc
 4905              	.LFE56:
 4907              		.section	.rodata.process_keycode.str1.4,"aMS",%progbits,1
 4908              		.align	2
 4909              	.LC0:
 4910 0000 52554E00 		.ascii	"RUN\000"
 4911              		.align	2
 4912              	.LC1:
 4913 0004 4E554C4C 		.ascii	"NULL\000"
 4913      00
 4914 0009 000000   		.align	2
 4915              	.LC2:
 4916 000c 53746F70 		.ascii	"Stopped\000"
 4916      70656400 
 4917              		.section	.text.process_keycode,"ax",%progbits
 4918              		.align	1
 4919              		.p2align 2,,3
 4920              		.global	process_keycode
 4921              		.syntax unified
 4922              		.thumb
ARM GAS  /tmp/cc90KtGY.s 			page 163


 4923              		.thumb_func
 4924              		.fpu fpv4-sp-d16
 4926              	process_keycode:
 4927              	.LVL401:
 4928              	.LFB58:
2905:src/keys.c    **** 
2906:src/keys.c    ****  void process_keycode_with_shift ( struct _ndmap remapped ) {
2907:src/keys.c    ****    if (remapped.shift >= 0) set_shift ( remapped.shift );
2908:src/keys.c    ****    if (remapped.key_34s == K_NOP) return;
2909:src/keys.c    ****    process_keycode ( remapped.key_34s );
2910:src/keys.c    ****  }
2911:src/keys.c    ****  
2912:src/keys.c    **** /*
2913:src/keys.c    ****  *  Fed with key codes by the event loop
2914:src/keys.c    ****  */
2915:src/keys.c    **** void process_keycode(int c)
2916:src/keys.c    **** {
 4929              		.loc 1 2916 1 is_stmt 1 view -0
 4930              		.cfi_startproc
 4931              		@ args = 0, pretend = 0, frame = 8
 4932              		@ frame_needed = 0, uses_anonymous_args = 0
2917:src/keys.c    ****   static int was_paused;
 4933              		.loc 1 2917 3 view .LVU1547
2918:src/keys.c    ****   //volatile int cmdline_empty; // volatile because it's uninitialized in some cases
2919:src/keys.c    ****   int cmdline_empty = 0;        // Visual studio chokes in debug mode over the above
 4934              		.loc 1 2919 3 view .LVU1548
2920:src/keys.c    ****   if (was_paused && Pause == 0) {
 4935              		.loc 1 2920 3 view .LVU1549
2916:src/keys.c    ****   static int was_paused;
 4936              		.loc 1 2916 1 is_stmt 0 view .LVU1550
 4937 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4938              		.cfi_def_cfa_offset 36
 4939              		.cfi_offset 4, -36
 4940              		.cfi_offset 5, -32
 4941              		.cfi_offset 6, -28
 4942              		.cfi_offset 7, -24
 4943              		.cfi_offset 8, -20
 4944              		.cfi_offset 9, -16
 4945              		.cfi_offset 10, -12
 4946              		.cfi_offset 11, -8
 4947              		.cfi_offset 14, -4
 4948              		.loc 1 2920 7 view .LVU1551
 4949 0004 A84E     		ldr	r6, .L1147
 4950              		.loc 1 2920 27 view .LVU1552
 4951 0006 A94D     		ldr	r5, .L1147+4
 4952              		.loc 1 2920 6 view .LVU1553
 4953 0008 3368     		ldr	r3, [r6]
2916:src/keys.c    ****   static int was_paused;
 4954              		.loc 1 2916 1 view .LVU1554
 4955 000a 83B0     		sub	sp, sp, #12
 4956              		.cfi_def_cfa_offset 48
2916:src/keys.c    ****   static int was_paused;
 4957              		.loc 1 2916 1 view .LVU1555
 4958 000c 0446     		mov	r4, r0
 4959              		.loc 1 2920 6 view .LVU1556
 4960 000e 1BB1     		cbz	r3, .L535
 4961              		.loc 1 2920 27 discriminator 1 view .LVU1557
ARM GAS  /tmp/cc90KtGY.s 			page 164


 4962 0010 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 4963              		.loc 1 2920 18 discriminator 1 view .LVU1558
 4964 0012 002B     		cmp	r3, #0
 4965 0014 00F0CE80 		beq	.L1070
 4966              	.LVL402:
 4967              	.L535:
2921:src/keys.c    ****     /*
2922:src/keys.c    ****      *  Continue XROM execution after a pause
2923:src/keys.c    ****      */
2924:src/keys.c    ****     xeq_xrom();
2925:src/keys.c    ****   }
2926:src/keys.c    ****   was_paused = Pause;
 4968              		.loc 1 2926 3 is_stmt 1 view .LVU1559
 4969              		.loc 1 2926 14 is_stmt 0 view .LVU1560
 4970 0018 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 4971 001a 3360     		str	r3, [r6]
2927:src/keys.c    ****   if (c == K_NOP) {
 4972              		.loc 1 2927 3 is_stmt 1 view .LVU1561
 4973              		.loc 1 2927 6 is_stmt 0 view .LVU1562
 4974 001c 2E2C     		cmp	r4, #46
 4975 001e 00F0C380 		beq	.L1071
2928:src/keys.c    ****     OpCode = 0;
2929:src/keys.c    ****   }
2930:src/keys.c    ****   else if (c == K_HEARTBEAT) {
 4976              		.loc 1 2930 8 is_stmt 1 view .LVU1563
 4977              		.loc 1 2930 11 is_stmt 0 view .LVU1564
 4978 0022 622C     		cmp	r4, #98
 4979 0024 6DD0     		beq	.L1072
2931:src/keys.c    ****     /*
2932:src/keys.c    ****      *  Heartbeat processing goes here.
2933:src/keys.c    ****      *  This is totally thread safe!
2934:src/keys.c    ****      */
2935:src/keys.c    ****     if (Keyticks >= 2) {
2936:src/keys.c    ****       /*
2937:src/keys.c    ****        *  Some time has passed after last key press
2938:src/keys.c    ****        */
2939:src/keys.c    ****       if (OpCode != 0) {
2940:src/keys.c    **** 	/*
2941:src/keys.c    **** 	 *  Handle command display and NULL here
2942:src/keys.c    **** 	 */
2943:src/keys.c    **** 	if (OpCodeDisplayPending) {
2944:src/keys.c    **** 	  /*
2945:src/keys.c    **** 	   *  Show command to the user
2946:src/keys.c    **** 	   */
2947:src/keys.c    **** 	  OpCodeDisplayPending = 0;
2948:src/keys.c    **** 	  if (OpCode == (OP_NIL | OP_RS)) {
2949:src/keys.c    **** 	    DispMsg = "RUN";
2950:src/keys.c    **** 	  }
2951:src/keys.c    **** 	  else {
2952:src/keys.c    **** 	    scopy_char(TraceBuffer, prt(OpCode, TraceBuffer), '\0');
2953:src/keys.c    **** 	    DispMsg = TraceBuffer;
2954:src/keys.c    **** 	  }
2955:src/keys.c    **** 	  display();
2956:src/keys.c    **** 	  ShowRPN = 1;	// Off because of DispMsg setting
2957:src/keys.c    **** 	}
2958:src/keys.c    ****     else if (Keyticks > 12) {
2959:src/keys.c    **** 	  /*
ARM GAS  /tmp/cc90KtGY.s 			page 165


2960:src/keys.c    **** 	   *  Key is too long held down
2961:src/keys.c    **** 	   */
2962:src/keys.c    **** 	  OpCode = 0;
2963:src/keys.c    **** 	  message("NULL", CNULL);
2964:src/keys.c    **** 	  // Force display update on key-up
2965:src/keys.c    **** 	  State2.disp_temp = 0;
2966:src/keys.c    **** 	}
2967:src/keys.c    ****       }
2968:src/keys.c    ****       if (Keyticks > 12 && shift_down() != SHIFT_N) {
2969:src/keys.c    **** 	// Rely on the held shift key instead of the toggle
2970:src/keys.c    **** 	State2.shifts = SHIFT_N;
2971:src/keys.c    ****       }
2972:src/keys.c    ****     }
2973:src/keys.c    **** 
2974:src/keys.c    ****     /*
2975:src/keys.c    ****      *  Serve the watchdog
2976:src/keys.c    ****      */
2977:src/keys.c    ****     watchdog();
2978:src/keys.c    **** 
2979:src/keys.c    **** #ifndef CONSOLE
2980:src/keys.c    ****     /*
2981:src/keys.c    ****      *  If buffer is empty re-allow R/S to start a program
2982:src/keys.c    ****      */
2983:src/keys.c    ****     if (JustStopped && !is_key_pressed()) {
2984:src/keys.c    ****       JustStopped = 0;
2985:src/keys.c    ****     }
2986:src/keys.c    **** #endif
2987:src/keys.c    **** 
2988:src/keys.c    ****     /*
2989:src/keys.c    ****      *  Do nothing if not running a program
2990:src/keys.c    ****      */
2991:src/keys.c    ****     if (!Running && ! Pause)
2992:src/keys.c    ****       return;
2993:src/keys.c    ****   }
2994:src/keys.c    ****   else {
2995:src/keys.c    ****     /*
2996:src/keys.c    ****      *  Not the heartbeat - prepare for execution of any commands
2997:src/keys.c    ****      */
2998:src/keys.c    ****     xeq_init_contexts();
 4980              		.loc 1 2998 5 is_stmt 1 view .LVU1565
2999:src/keys.c    ****     State2.wascomplex = 0;
 4981              		.loc 1 2999 23 is_stmt 0 view .LVU1566
 4982 0026 DFF8A082 		ldr	r8, .L1147+32
2998:src/keys.c    ****     State2.wascomplex = 0;
 4983              		.loc 1 2998 5 view .LVU1567
 4984 002a FFF7FEFF 		bl	xeq_init_contexts
 4985              	.LVL403:
 4986              		.loc 1 2999 5 is_stmt 1 view .LVU1568
 4987              		.loc 1 2999 23 is_stmt 0 view .LVU1569
 4988 002e 98F81430 		ldrb	r3, [r8, #20]	@ zero_extendqisi2
3000:src/keys.c    **** 
3001:src/keys.c    ****     if (is_dot(RPN)) {
 4989              		.loc 1 3001 9 view .LVU1570
 4990 0032 8D20     		movs	r0, #141
2999:src/keys.c    **** 
 4991              		.loc 1 2999 23 view .LVU1571
 4992 0034 6FF38713 		bfc	r3, #6, #2
ARM GAS  /tmp/cc90KtGY.s 			page 166


 4993 0038 88F81430 		strb	r3, [r8, #20]
 4994              		.loc 1 3001 5 is_stmt 1 view .LVU1572
 4995              		.loc 1 3001 9 is_stmt 0 view .LVU1573
 4996 003c FFF7FEFF 		bl	is_dot
 4997              	.LVL404:
 4998              		.loc 1 3001 8 view .LVU1574
 4999 0040 0028     		cmp	r0, #0
 5000 0042 40F0C381 		bne	.L1073
 5001              	.L553:
3002:src/keys.c    ****       /*
3003:src/keys.c    ****        * Turn off the RPN annunciator as a visual feedback
3004:src/keys.c    ****        */
3005:src/keys.c    ****       clr_dot(RPN);
3006:src/keys.c    ****       finish_RPN(); // RPN
3007:src/keys.c    ****     }
3008:src/keys.c    **** 
3009:src/keys.c    **** #ifndef CONSOLE
3010:src/keys.c    ****     /*
3011:src/keys.c    ****      *  Reallow display refresh which is temporarily disabled after a stop
3012:src/keys.c    ****      *  All keys execpt R/S trigger this. The latter will only be reenabled
3013:src/keys.c    ****      *  from the heartbeat after the keybord buffer has become empty to avoid
3014:src/keys.c    ****      *  an accidental restart of the program.
3015:src/keys.c    ****      */
3016:src/keys.c    ****     if (c != K63)
 5002              		.loc 1 3016 5 is_stmt 1 view .LVU1575
 5003              		.loc 1 3016 8 is_stmt 0 view .LVU1576
 5004 0046 272C     		cmp	r4, #39
 5005 0048 00F0BD81 		beq	.L555
3017:src/keys.c    ****       JustStopped = 0;
 5006              		.loc 1 3017 7 is_stmt 1 view .LVU1577
 5007              		.loc 1 3017 19 is_stmt 0 view .LVU1578
 5008 004c 984B     		ldr	r3, .L1147+8
 5009 004e 0022     		movs	r2, #0
3018:src/keys.c    **** #endif
3019:src/keys.c    ****   }
3020:src/keys.c    **** 
3021:src/keys.c    ****   /*
3022:src/keys.c    ****    *  Handle key release
3023:src/keys.c    ****    */
3024:src/keys.c    ****   if (c == K_RELEASE) {
 5010              		.loc 1 3024 6 view .LVU1579
 5011 0050 632C     		cmp	r4, #99
3017:src/keys.c    ****       JustStopped = 0;
 5012              		.loc 1 3017 19 view .LVU1580
 5013 0052 1A60     		str	r2, [r3]
 5014              		.loc 1 3024 3 is_stmt 1 view .LVU1581
 5015              		.loc 1 3024 6 is_stmt 0 view .LVU1582
 5016 0054 40F0B781 		bne	.L555
3025:src/keys.c    ****     if (OpCode != 0) {
 5017              		.loc 1 3025 5 is_stmt 1 view .LVU1583
 5018              		.loc 1 3025 16 is_stmt 0 view .LVU1584
 5019 0058 964B     		ldr	r3, .L1147+12
 5020 005a 1C68     		ldr	r4, [r3]
 5021              	.LVL405:
 5022              		.loc 1 3025 8 view .LVU1585
 5023 005c 002C     		cmp	r4, #0
 5024 005e 00F0BF81 		beq	.L556
ARM GAS  /tmp/cc90KtGY.s 			page 167


3026:src/keys.c    ****       /*
3027:src/keys.c    ****        * Execute the key on release
3028:src/keys.c    ****        */
3029:src/keys.c    ****       GoFast = 1;
 5025              		.loc 1 3029 7 is_stmt 1 view .LVU1586
 5026              		.loc 1 3029 14 is_stmt 0 view .LVU1587
 5027 0062 9549     		ldr	r1, .L1147+16
3030:src/keys.c    ****       c = OpCode;
3031:src/keys.c    ****       OpCode = 0;
 5028              		.loc 1 3031 14 view .LVU1588
 5029 0064 1A60     		str	r2, [r3]
3029:src/keys.c    ****       c = OpCode;
 5030              		.loc 1 3029 14 view .LVU1589
 5031 0066 0120     		movs	r0, #1
3032:src/keys.c    **** 
3033:src/keys.c    ****       if (c == STATE_SST)
 5032              		.loc 1 3033 10 view .LVU1590
 5033 0068 2E2C     		cmp	r4, #46
3030:src/keys.c    ****       OpCode = 0;
 5034              		.loc 1 3030 9 view .LVU1591
 5035 006a A346     		mov	fp, r4
3029:src/keys.c    ****       c = OpCode;
 5036              		.loc 1 3029 14 view .LVU1592
 5037 006c 0860     		str	r0, [r1]
3030:src/keys.c    ****       OpCode = 0;
 5038              		.loc 1 3030 7 is_stmt 1 view .LVU1593
 5039              	.LVL406:
3031:src/keys.c    **** 
 5040              		.loc 1 3031 7 view .LVU1594
 5041              		.loc 1 3033 7 view .LVU1595
 5042              		.loc 1 3033 10 is_stmt 0 view .LVU1596
 5043 006e 00F0CB81 		beq	.L1074
3034:src/keys.c    **** 	xeq_sst_bst(1);
3035:src/keys.c    ****       else {
3036:src/keys.c    **** 	if (c == (OP_NIL | OP_OFF) || c == (OP_NIL | OP_rCLX) || !is_bad_cmdline()) {
 5044              		.loc 1 3036 2 is_stmt 1 view .LVU1597
 5045              		.loc 1 3036 5 is_stmt 0 view .LVU1598
 5046 0072 B4F5817F 		cmp	r4, #258
 5047 0076 04D0     		beq	.L562
 5048              		.loc 1 3036 29 discriminator 1 view .LVU1599
 5049 0078 40F23F13 		movw	r3, #319
 5050 007c 9C42     		cmp	r4, r3
 5051 007e 40F09C80 		bne	.L1075
 5052              	.L562:
3037:src/keys.c    **** 	  xeq(c);
 5053              		.loc 1 3037 4 is_stmt 1 view .LVU1600
3038:src/keys.c    **** 	  if (Running || Pause)
 5054              		.loc 1 3038 8 is_stmt 0 view .LVU1601
 5055 0082 8E4E     		ldr	r6, .L1147+20
3037:src/keys.c    **** 	  xeq(c);
 5056              		.loc 1 3037 4 view .LVU1602
 5057 0084 2046     		mov	r0, r4
 5058 0086 FFF7FEFF 		bl	xeq
 5059              	.LVL407:
 5060              		.loc 1 3038 4 is_stmt 1 view .LVU1603
 5061              		.loc 1 3038 7 is_stmt 0 view .LVU1604
 5062 008a 3368     		ldr	r3, [r6]
ARM GAS  /tmp/cc90KtGY.s 			page 168


 5063 008c 0BB9     		cbnz	r3, .L560
 5064              		.loc 1 3038 16 discriminator 1 view .LVU1605
 5065 008e 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 5066 0090 0BB1     		cbz	r3, .L558
 5067              	.L560:
3039:src/keys.c    **** 	    xeqprog();
 5068              		.loc 1 3039 6 is_stmt 1 view .LVU1606
 5069 0092 FFF7FEFF 		bl	xeqprog
 5070              	.LVL408:
 5071              	.L558:
3040:src/keys.c    **** 	}
3041:src/keys.c    ****       }
3042:src/keys.c    ****       dot(RPN, ShowRPN);
 5072              		.loc 1 3042 7 view .LVU1607
 5073 0096 8A4C     		ldr	r4, .L1147+24
 5074              	.LVL409:
 5075              		.loc 1 3042 7 is_stmt 0 view .LVU1608
 5076 0098 8D20     		movs	r0, #141
 5077 009a 2168     		ldr	r1, [r4]
 5078 009c FFF7FEFF 		bl	dot
 5079              	.LVL410:
3043:src/keys.c    ****     }
3044:src/keys.c    ****     else {
3045:src/keys.c    ****       // Ignore key-up if no operation was pending
3046:src/keys.c    ****       dot(RPN, ShowRPN);
3047:src/keys.c    **** #ifndef CONSOLE
3048:src/keys.c    ****       if (! State2.disp_temp ) {
3049:src/keys.c    **** 	if (!WasDataEntry) {
3050:src/keys.c    **** 	  // This will get rid of the last displayed op-code
3051:src/keys.c    **** 	  display();
3052:src/keys.c    **** 	}
3053:src/keys.c    **** 	else {
3054:src/keys.c    **** 	  finish_RPN(); // Update the RPN annunciator
3055:src/keys.c    **** 	}
3056:src/keys.c    ****       }
3057:src/keys.c    **** #endif
3058:src/keys.c    ****       return;
3059:src/keys.c    ****     }
3060:src/keys.c    **** 
3061:src/keys.c    ****     /*
3062:src/keys.c    ****      *  Turn on the RPN symbol if desired
3063:src/keys.c    ****      */
3064:src/keys.c    ****     if (ShowRPN) {
 5080              		.loc 1 3064 5 is_stmt 1 view .LVU1609
 5081              		.loc 1 3064 9 is_stmt 0 view .LVU1610
 5082 00a0 2768     		ldr	r7, [r4]
 5083              		.loc 1 3064 8 view .LVU1611
 5084 00a2 002F     		cmp	r7, #0
 5085 00a4 40F09881 		bne	.L1076
 5086              	.LVL411:
 5087              	.L565:
3065:src/keys.c    ****       finish_RPN(); // RPN
3066:src/keys.c    ****     }
3067:src/keys.c    ****   }
3068:src/keys.c    ****   else {
3069:src/keys.c    ****     /*
3070:src/keys.c    ****      *  Decode the key 
ARM GAS  /tmp/cc90KtGY.s 			page 169


3071:src/keys.c    ****      */
3072:src/keys.c    ****     // print_debug (100, c);
3073:src/keys.c    ****     WasDataEntry = 0;
3074:src/keys.c    ****     ShowRPN = ! Running;	// Default behaviour, may be turned off later
3075:src/keys.c    ****     c = process(c);		// returns an op-code or state
3076:src/keys.c    ****     switch (c) {
3077:src/keys.c    ****     case STATE_SST:
3078:src/keys.c    ****       OpCode = c;
3079:src/keys.c    ****       OpCodeDisplayPending = 0;
3080:src/keys.c    ****       xeq_sst_bst(0);
3081:src/keys.c    ****       break;
3082:src/keys.c    **** 
3083:src/keys.c    ****     case STATE_BST:
3084:src/keys.c    ****       xeq_sst_bst(-1);
3085:src/keys.c    ****       break;
3086:src/keys.c    **** 
3087:src/keys.c    ****     case STATE_BACKSPACE:
3088:src/keys.c    ****       if (! State2.runmode)
3089:src/keys.c    **** 	delprog();
3090:src/keys.c    ****       else if (State2.alphas) {
3091:src/keys.c    **** 	char *p = find_char(Alpha, '\0');
3092:src/keys.c    **** 	if (p > Alpha)
3093:src/keys.c    **** 	  *--p = '\0';
3094:src/keys.c    ****       }
3095:src/keys.c    ****       break;
3096:src/keys.c    **** 
3097:src/keys.c    ****     case STATE_RUNNING:
3098:src/keys.c    ****       xeqprog();  // continue execution
3099:src/keys.c    ****       break;
3100:src/keys.c    **** 
3101:src/keys.c    ****     case STATE_WINDOWRIGHT:
3102:src/keys.c    ****     case STATE_WINDOWLEFT:
3103:src/keys.c    ****       if (!is_bad_cmdline())
3104:src/keys.c    **** 	set_window(c);
3105:src/keys.c    ****       break;
3106:src/keys.c    **** 
3107:src/keys.c    ****     case STATE_UNFINISHED:
3108:src/keys.c    ****     case STATE_IGNORE:
3109:src/keys.c    ****       break;
3110:src/keys.c    **** 
3111:src/keys.c    ****     default:
3112:src/keys.c    ****       if (State2.runmode || NonProgrammable) {
3113:src/keys.c    **** 	NonProgrammable = 0;
3114:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
3115:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
3116:src/keys.c    **** 	    // Data entry key
3117:src/keys.c    **** #ifndef CONSOLE
3118:src/keys.c    **** 	    WasDataEntry = 1;
3119:src/keys.c    **** #endif
3120:src/keys.c    **** 	    cmdline_empty = (CmdLineLength == 0);
3121:src/keys.c    **** 	    xeq(c);
3122:src/keys.c    **** 	    cmdline_empty |= (CmdLineLength == 0);
3123:src/keys.c    **** 	  }
3124:src/keys.c    **** 	}
3125:src/keys.c    **** 	else {
3126:src/keys.c    **** 	  // Save the op-code for execution on key-up
3127:src/keys.c    **** 	  OpCode = c;
ARM GAS  /tmp/cc90KtGY.s 			page 170


3128:src/keys.c    **** 	  OpCodeDisplayPending = 1;
3129:src/keys.c    **** 	  finish_RPN(); // Update the RPN annunciator
3130:src/keys.c    **** 	  goto no_display; // No need to update the display before the command is executed
3131:src/keys.c    **** 	}
3132:src/keys.c    ****       }
3133:src/keys.c    ****       else {
3134:src/keys.c    **** 	stoprog(c);
3135:src/keys.c    ****       }
3136:src/keys.c    ****     }
3137:src/keys.c    ****   }
3138:src/keys.c    ****   if (! Running && ! Pause
 5088              		.loc 1 3138 3 is_stmt 1 view .LVU1612
 5089              		.loc 1 3138 6 is_stmt 0 view .LVU1613
 5090 00a8 3368     		ldr	r3, [r6]
 5091 00aa 002B     		cmp	r3, #0
 5092 00ac 40F06C81 		bne	.L1064
 5093              	.LVL412:
 5094              	.L579:
 5095              		.loc 1 3138 20 discriminator 1 view .LVU1614
 5096 00b0 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 5097              		.loc 1 3138 17 discriminator 1 view .LVU1615
 5098 00b2 002B     		cmp	r3, #0
 5099 00b4 40F06881 		bne	.L1064
3139:src/keys.c    **** #ifndef CONSOLE
3140:src/keys.c    ****       && ! JustStopped
 5100              		.loc 1 3140 10 view .LVU1616
 5101 00b8 7D4B     		ldr	r3, .L1147+8
3141:src/keys.c    **** #endif
3142:src/keys.c    ****       && ! JustDisplayed && c != STATE_IGNORE) {
 5102              		.loc 1 3142 10 view .LVU1617
 5103 00ba 824C     		ldr	r4, .L1147+28
 5104 00bc 1B68     		ldr	r3, [r3]
 5105 00be 2268     		ldr	r2, [r4]
 5106              		.loc 1 3142 7 view .LVU1618
 5107 00c0 1343     		orrs	r3, r3, r2
 5108 00c2 19D1     		bne	.L837
 5109              		.loc 1 3142 26 discriminator 1 view .LVU1619
 5110 00c4 BBF1320F 		cmp	fp, #50
 5111 00c8 16D0     		beq	.L837
 5112              	.LBB639:
3143:src/keys.c    ****     const int orig_WasDataEntry = WasDataEntry;
 5113              		.loc 1 3143 5 is_stmt 1 view .LVU1620
 5114              		.loc 1 3143 15 is_stmt 0 view .LVU1621
 5115 00ca DFF81892 		ldr	r9, .L1147+60
 5116 00ce D9F80050 		ldr	r5, [r9]
 5117              	.LVL413:
3144:src/keys.c    **** 
3145:src/keys.c    ****     WasDataEntry &= !(c == (OP_SPEC | OP_ENTER) || cmdline_empty || State2.invalid_disp);
 5118              		.loc 1 3145 5 is_stmt 1 view .LVU1622
 5119              		.loc 1 3145 21 is_stmt 0 view .LVU1623
 5120 00d2 BBF1000F 		cmp	fp, #0
 5121 00d6 09D0     		beq	.L839
 5122              		.loc 1 3145 49 discriminator 1 view .LVU1624
 5123 00d8 002F     		cmp	r7, #0
 5124 00da 40F0DB84 		bne	.L889
 5125              		.loc 1 3145 66 discriminator 3 view .LVU1625
 5126 00de 7A4B     		ldr	r3, .L1147+32
ARM GAS  /tmp/cc90KtGY.s 			page 171


 5127 00e0 DB7D     		ldrb	r3, [r3, #23]	@ zero_extendqisi2
 5128              		.loc 1 3145 21 discriminator 3 view .LVU1626
 5129 00e2 9807     		lsls	r0, r3, #30
 5130 00e4 00F17D85 		bmi	.L890
 5131 00e8 05F0010B 		and	fp, r5, #1
 5132              	.LVL414:
 5133              	.L839:
 5134              		.loc 1 3145 18 discriminator 8 view .LVU1627
 5135 00ec C9F800B0 		str	fp, [r9]
3146:src/keys.c    ****     display();
 5136              		.loc 1 3146 5 is_stmt 1 discriminator 8 view .LVU1628
 5137 00f0 FFF7FEFF 		bl	display
 5138              	.LVL415:
3147:src/keys.c    ****     WasDataEntry = orig_WasDataEntry;
 5139              		.loc 1 3147 5 discriminator 8 view .LVU1629
 5140              		.loc 1 3147 18 is_stmt 0 discriminator 8 view .LVU1630
 5141 00f4 C9F80050 		str	r5, [r9]
 5142              	.LVL416:
 5143              	.L837:
 5144              		.loc 1 3147 18 discriminator 8 view .LVU1631
 5145              	.LBE639:
3148:src/keys.c    ****   }
3149:src/keys.c    **** 
3150:src/keys.c    ****  no_display:
3151:src/keys.c    ****   JustDisplayed = 0;
 5146              		.loc 1 3151 3 is_stmt 1 view .LVU1632
 5147              		.loc 1 3151 17 is_stmt 0 view .LVU1633
 5148 00f8 0023     		movs	r3, #0
 5149 00fa 2360     		str	r3, [r4]
3152:src/keys.c    ****   watchdog();
 5150              		.loc 1 3152 13 is_stmt 1 view .LVU1634
 5151              	.L534:
3153:src/keys.c    **** }
 5152              		.loc 1 3153 1 is_stmt 0 view .LVU1635
 5153 00fc 03B0     		add	sp, sp, #12
 5154              		.cfi_remember_state
 5155              		.cfi_def_cfa_offset 36
 5156              		@ sp needed
 5157 00fe BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5158              	.LVL417:
 5159              	.L1072:
 5160              		.cfi_restore_state
2935:src/keys.c    ****       /*
 5161              		.loc 1 2935 5 is_stmt 1 view .LVU1636
2935:src/keys.c    ****       /*
 5162              		.loc 1 2935 9 is_stmt 0 view .LVU1637
 5163 0102 FFF7FEFF 		bl	keyticks
 5164              	.LVL418:
2935:src/keys.c    ****       /*
 5165              		.loc 1 2935 8 view .LVU1638
 5166 0106 0128     		cmp	r0, #1
 5167 0108 1BDD     		ble	.L540
2939:src/keys.c    **** 	/*
 5168              		.loc 1 2939 7 is_stmt 1 view .LVU1639
2939:src/keys.c    **** 	/*
 5169              		.loc 1 2939 18 is_stmt 0 view .LVU1640
 5170 010a 6A4E     		ldr	r6, .L1147+12
ARM GAS  /tmp/cc90KtGY.s 			page 172


 5171 010c 3068     		ldr	r0, [r6]
2939:src/keys.c    **** 	/*
 5172              		.loc 1 2939 10 view .LVU1641
 5173 010e 98B1     		cbz	r0, .L542
2943:src/keys.c    **** 	  /*
 5174              		.loc 1 2943 2 is_stmt 1 view .LVU1642
2943:src/keys.c    **** 	  /*
 5175              		.loc 1 2943 6 is_stmt 0 view .LVU1643
 5176 0110 6E4B     		ldr	r3, .L1147+36
2943:src/keys.c    **** 	  /*
 5177              		.loc 1 2943 5 view .LVU1644
 5178 0112 1F68     		ldr	r7, [r3]
 5179 0114 002F     		cmp	r7, #0
 5180 0116 00F08481 		beq	.L543
2947:src/keys.c    **** 	  if (OpCode == (OP_NIL | OP_RS)) {
 5181              		.loc 1 2947 4 is_stmt 1 view .LVU1645
2948:src/keys.c    **** 	    DispMsg = "RUN";
 5182              		.loc 1 2948 7 is_stmt 0 view .LVU1646
 5183 011a 40F23B12 		movw	r2, #315
2947:src/keys.c    **** 	  if (OpCode == (OP_NIL | OP_RS)) {
 5184              		.loc 1 2947 25 view .LVU1647
 5185 011e 0026     		movs	r6, #0
2948:src/keys.c    **** 	    DispMsg = "RUN";
 5186              		.loc 1 2948 7 view .LVU1648
 5187 0120 9042     		cmp	r0, r2
2947:src/keys.c    **** 	  if (OpCode == (OP_NIL | OP_RS)) {
 5188              		.loc 1 2947 25 view .LVU1649
 5189 0122 1E60     		str	r6, [r3]
2948:src/keys.c    **** 	    DispMsg = "RUN";
 5190              		.loc 1 2948 4 is_stmt 1 view .LVU1650
2948:src/keys.c    **** 	    DispMsg = "RUN";
 5191              		.loc 1 2948 7 is_stmt 0 view .LVU1651
 5192 0124 40F07283 		bne	.L544
2949:src/keys.c    **** 	  }
 5193              		.loc 1 2949 6 is_stmt 1 view .LVU1652
2949:src/keys.c    **** 	  }
 5194              		.loc 1 2949 14 is_stmt 0 view .LVU1653
 5195 0128 694B     		ldr	r3, .L1147+40
 5196 012a 6A4A     		ldr	r2, .L1147+44
 5197 012c 1A60     		str	r2, [r3]
 5198              	.L545:
2955:src/keys.c    **** 	  ShowRPN = 1;	// Off because of DispMsg setting
 5199              		.loc 1 2955 4 is_stmt 1 view .LVU1654
 5200 012e FFF7FEFF 		bl	display
 5201              	.LVL419:
2956:src/keys.c    **** 	}
 5202              		.loc 1 2956 4 view .LVU1655
2956:src/keys.c    **** 	}
 5203              		.loc 1 2956 12 is_stmt 0 view .LVU1656
 5204 0132 634B     		ldr	r3, .L1147+24
 5205 0134 0122     		movs	r2, #1
 5206 0136 1A60     		str	r2, [r3]
 5207              	.L542:
2968:src/keys.c    **** 	// Rely on the held shift key instead of the toggle
 5208              		.loc 1 2968 7 is_stmt 1 view .LVU1657
2968:src/keys.c    **** 	// Rely on the held shift key instead of the toggle
 5209              		.loc 1 2968 11 is_stmt 0 view .LVU1658
ARM GAS  /tmp/cc90KtGY.s 			page 173


 5210 0138 FFF7FEFF 		bl	keyticks
 5211              	.LVL420:
2968:src/keys.c    **** 	// Rely on the held shift key instead of the toggle
 5212              		.loc 1 2968 10 view .LVU1659
 5213 013c 0C28     		cmp	r0, #12
 5214 013e 00F36781 		bgt	.L1077
 5215              	.L540:
2977:src/keys.c    **** 
 5216              		.loc 1 2977 15 is_stmt 1 view .LVU1660
2983:src/keys.c    ****       JustStopped = 0;
 5217              		.loc 1 2983 5 view .LVU1661
2983:src/keys.c    ****       JustStopped = 0;
 5218              		.loc 1 2983 9 is_stmt 0 view .LVU1662
 5219 0142 5B4E     		ldr	r6, .L1147+8
2983:src/keys.c    ****       JustStopped = 0;
 5220              		.loc 1 2983 8 view .LVU1663
 5221 0144 3368     		ldr	r3, [r6]
 5222 0146 002B     		cmp	r3, #0
 5223 0148 4ED1     		bne	.L1078
 5224              	.L549:
2991:src/keys.c    ****       return;
 5225              		.loc 1 2991 5 is_stmt 1 view .LVU1664
2991:src/keys.c    ****       return;
 5226              		.loc 1 2991 9 is_stmt 0 view .LVU1665
 5227 014a 5C4E     		ldr	r6, .L1147+20
 5228 014c 3368     		ldr	r3, [r6]
2991:src/keys.c    ****       return;
 5229              		.loc 1 2991 8 view .LVU1666
 5230 014e 002B     		cmp	r3, #0
 5231 0150 46D0     		beq	.L1079
 5232              	.L537:
3073:src/keys.c    ****     ShowRPN = ! Running;	// Default behaviour, may be turned off later
 5233              		.loc 1 3073 5 is_stmt 1 view .LVU1667
3074:src/keys.c    ****     c = process(c);		// returns an op-code or state
 5234              		.loc 1 3074 13 is_stmt 0 view .LVU1668
 5235 0152 5B49     		ldr	r1, .L1147+24
3073:src/keys.c    ****     ShowRPN = ! Running;	// Default behaviour, may be turned off later
 5236              		.loc 1 3073 18 view .LVU1669
 5237 0154 DFF88C91 		ldr	r9, .L1147+60
3074:src/keys.c    ****     c = process(c);		// returns an op-code or state
 5238              		.loc 1 3074 15 view .LVU1670
 5239 0158 B3FA83F3 		clz	r3, r3
 5240 015c 5B09     		lsrs	r3, r3, #5
3073:src/keys.c    ****     ShowRPN = ! Running;	// Default behaviour, may be turned off later
 5241              		.loc 1 3073 18 view .LVU1671
 5242 015e 0022     		movs	r2, #0
3074:src/keys.c    ****     c = process(c);		// returns an op-code or state
 5243              		.loc 1 3074 13 view .LVU1672
 5244 0160 0B60     		str	r3, [r1]
3073:src/keys.c    ****     ShowRPN = ! Running;	// Default behaviour, may be turned off later
 5245              		.loc 1 3073 18 view .LVU1673
 5246 0162 C9F80020 		str	r2, [r9]
3074:src/keys.c    ****     c = process(c);		// returns an op-code or state
 5247              		.loc 1 3074 5 is_stmt 1 view .LVU1674
3075:src/keys.c    ****     switch (c) {
 5248              		.loc 1 3075 5 view .LVU1675
 5249              	.LVL421:
ARM GAS  /tmp/cc90KtGY.s 			page 174


 5250              	.LBB640:
 5251              	.LBI640:
2753:src/keys.c    ****   const enum shifts shift = cur_shift();
 5252              		.loc 1 2753 12 view .LVU1676
 5253              	.LBB641:
2754:src/keys.c    ****   enum catalogues cat;
 5254              		.loc 1 2754 3 view .LVU1677
 5255              	.LBB642:
 5256              	.LBI642:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 5257              		.loc 1 84 13 view .LVU1678
 5258              	.LBB643:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 5259              		.loc 1 85 2 view .LVU1679
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 5260              		.loc 1 85 18 is_stmt 0 view .LVU1680
 5261 0166 FFF7FEFF 		bl	shift_down
 5262              	.LVL422:
  86:src/keys.c    **** }
 5263              		.loc 1 86 2 is_stmt 1 view .LVU1681
  86:src/keys.c    **** }
 5264              		.loc 1 86 52 is_stmt 0 view .LVU1682
 5265 016a 8246     		mov	r10, r0
 5266 016c 10B9     		cbnz	r0, .L568
 5267 016e 564B     		ldr	r3, .L1147+32
 5268 0170 93F810A0 		ldrb	r10, [r3, #16]	@ zero_extendqisi2
 5269              	.L568:
 5270              	.LVL423:
  86:src/keys.c    **** }
 5271              		.loc 1 86 52 view .LVU1683
 5272              	.LBE643:
 5273              	.LBE642:
2755:src/keys.c    **** 
 5274              		.loc 1 2755 3 is_stmt 1 view .LVU1684
2757:src/keys.c    ****     /*
 5275              		.loc 1 2757 3 view .LVU1685
2757:src/keys.c    ****     /*
 5276              		.loc 1 2757 7 is_stmt 0 view .LVU1686
 5277 0174 3768     		ldr	r7, [r6]
2757:src/keys.c    ****     /*
 5278              		.loc 1 2757 6 view .LVU1687
 5279 0176 0FB9     		cbnz	r7, .L569
2757:src/keys.c    ****     /*
 5280              		.loc 1 2757 15 view .LVU1688
 5281 0178 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 5282 017a 2BB3     		cbz	r3, .L570
 5283              	.L569:
2761:src/keys.c    ****       if (Pause && isXROM(state_pc()))
 5284              		.loc 1 2761 5 is_stmt 1 view .LVU1689
2761:src/keys.c    ****       if (Pause && isXROM(state_pc()))
 5285              		.loc 1 2761 8 is_stmt 0 view .LVU1690
 5286 017c 242C     		cmp	r4, #36
 5287 017e 00F00781 		beq	.L571
2761:src/keys.c    ****       if (Pause && isXROM(state_pc()))
 5288              		.loc 1 2761 18 view .LVU1691
 5289 0182 272C     		cmp	r4, #39
 5290 0184 00F00481 		beq	.L571
ARM GAS  /tmp/cc90KtGY.s 			page 175


2771:src/keys.c    ****       LastKey = (char) (c + 1);	// Store for KEY?
 5291              		.loc 1 2771 5 is_stmt 1 view .LVU1692
2771:src/keys.c    ****       LastKey = (char) (c + 1);	// Store for KEY?
 5292              		.loc 1 2771 8 is_stmt 0 view .LVU1693
 5293 0188 622C     		cmp	r4, #98
 5294 018a 07D0     		beq	.L574
2772:src/keys.c    ****       Pause = 0;			// leave PSE statement
 5295              		.loc 1 2772 7 is_stmt 1 view .LVU1694
2772:src/keys.c    ****       Pause = 0;			// leave PSE statement
 5296              		.loc 1 2772 15 is_stmt 0 view .LVU1695
 5297 018c 4E4B     		ldr	r3, .L1147+32
2774:src/keys.c    ****     }
 5298              		.loc 1 2774 14 view .LVU1696
 5299 018e 4A4A     		ldr	r2, .L1147+16
2772:src/keys.c    ****       Pause = 0;			// leave PSE statement
 5300              		.loc 1 2772 17 view .LVU1697
 5301 0190 0134     		adds	r4, r4, #1
 5302              	.LVL424:
2774:src/keys.c    ****     }
 5303              		.loc 1 2774 14 view .LVU1698
 5304 0192 0121     		movs	r1, #1
2772:src/keys.c    ****       Pause = 0;			// leave PSE statement
 5305              		.loc 1 2772 15 view .LVU1699
 5306 0194 DC74     		strb	r4, [r3, #19]
2773:src/keys.c    ****       GoFast = 1;
 5307              		.loc 1 2773 7 is_stmt 1 view .LVU1700
2773:src/keys.c    ****       GoFast = 1;
 5308              		.loc 1 2773 13 is_stmt 0 view .LVU1701
 5309 0196 0023     		movs	r3, #0
2774:src/keys.c    ****     }
 5310              		.loc 1 2774 14 view .LVU1702
 5311 0198 1160     		str	r1, [r2]
2773:src/keys.c    ****       GoFast = 1;
 5312              		.loc 1 2773 13 view .LVU1703
 5313 019a 2B70     		strb	r3, [r5]
2774:src/keys.c    ****     }
 5314              		.loc 1 2774 7 is_stmt 1 view .LVU1704
 5315              	.LVL425:
 5316              	.L574:
2774:src/keys.c    ****     }
 5317              		.loc 1 2774 7 is_stmt 0 view .LVU1705
 5318              	.LBE641:
 5319              	.LBE640:
3098:src/keys.c    ****       break;
 5320              		.loc 1 3098 7 is_stmt 1 view .LVU1706
 5321 019c FFF7FEFF 		bl	xeqprog
 5322              	.LVL426:
3099:src/keys.c    **** 
 5323              		.loc 1 3099 7 view .LVU1707
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 5324              		.loc 1 2919 7 is_stmt 0 view .LVU1708
 5325 01a0 0027     		movs	r7, #0
3099:src/keys.c    **** 
 5326              		.loc 1 3099 7 view .LVU1709
 5327 01a2 4FF0310B 		mov	fp, #49
 5328 01a6 7FE7     		b	.L565
 5329              	.LVL427:
ARM GAS  /tmp/cc90KtGY.s 			page 176


 5330              	.L1071:
2928:src/keys.c    ****   }
 5331              		.loc 1 2928 5 is_stmt 1 view .LVU1710
2928:src/keys.c    ****   }
 5332              		.loc 1 2928 12 is_stmt 0 view .LVU1711
 5333 01a8 424B     		ldr	r3, .L1147+12
 5334 01aa 444E     		ldr	r6, .L1147+20
 5335 01ac 0022     		movs	r2, #0
 5336 01ae 1A60     		str	r2, [r3]
3024:src/keys.c    ****     if (OpCode != 0) {
 5337              		.loc 1 3024 3 is_stmt 1 view .LVU1712
 5338 01b0 3368     		ldr	r3, [r6]
 5339 01b2 CEE7     		b	.L537
 5340              	.LVL428:
 5341              	.L1070:
2924:src/keys.c    ****   }
 5342              		.loc 1 2924 5 view .LVU1713
 5343 01b4 FFF7FEFF 		bl	xeq_xrom
 5344              	.LVL429:
2924:src/keys.c    ****   }
 5345              		.loc 1 2924 5 is_stmt 0 view .LVU1714
 5346 01b8 2EE7     		b	.L535
 5347              	.L1075:
3036:src/keys.c    **** 	  xeq(c);
 5348              		.loc 1 3036 60 discriminator 2 view .LVU1715
 5349 01ba FFF7FEFF 		bl	is_bad_cmdline
 5350              	.LVL430:
3036:src/keys.c    **** 	  xeq(c);
 5351              		.loc 1 3036 56 discriminator 2 view .LVU1716
 5352 01be 0028     		cmp	r0, #0
 5353 01c0 3FF45FAF 		beq	.L562
 5354 01c4 3D4E     		ldr	r6, .L1147+20
 5355 01c6 66E7     		b	.L558
 5356              	.LVL431:
 5357              	.L570:
 5358              	.LBB1234:
 5359              	.LBB1178:
2784:src/keys.c    ****     soft_init_state();
 5360              		.loc 1 2784 3 is_stmt 1 view .LVU1717
2784:src/keys.c    ****     soft_init_state();
 5361              		.loc 1 2784 6 is_stmt 0 view .LVU1718
 5362 01c8 242C     		cmp	r4, #36
 5363 01ca 00F09283 		beq	.L1080
2790:src/keys.c    **** 		// Avoid an accidental restart with R/S
 5364              		.loc 1 2790 2 is_stmt 1 view .LVU1719
2790:src/keys.c    **** 		// Avoid an accidental restart with R/S
 5365              		.loc 1 2790 5 is_stmt 0 view .LVU1720
 5366 01ce 272C     		cmp	r4, #39
 5367 01d0 10D1     		bne	.L578
2790:src/keys.c    **** 		// Avoid an accidental restart with R/S
 5368              		.loc 1 2790 15 view .LVU1721
 5369 01d2 374B     		ldr	r3, .L1147+8
 5370 01d4 1A68     		ldr	r2, [r3]
 5371 01d6 6AB1     		cbz	r2, .L578
2792:src/keys.c    **** 		return STATE_IGNORE;
 5372              		.loc 1 2792 3 is_stmt 1 view .LVU1722
2792:src/keys.c    **** 		return STATE_IGNORE;
ARM GAS  /tmp/cc90KtGY.s 			page 177


 5373              		.loc 1 2792 15 is_stmt 0 view .LVU1723
 5374 01d8 1F60     		str	r7, [r3]
2793:src/keys.c    **** 	}
 5375              		.loc 1 2793 3 is_stmt 1 view .LVU1724
 5376              	.LVL432:
2793:src/keys.c    **** 	}
 5377              		.loc 1 2793 3 is_stmt 0 view .LVU1725
 5378              	.LBE1178:
 5379              	.LBE1234:
3138:src/keys.c    **** #ifndef CONSOLE
 5380              		.loc 1 3138 3 is_stmt 1 view .LVU1726
 5381              	.LBB1235:
 5382              	.LBB1179:
2793:src/keys.c    **** 	}
 5383              		.loc 1 2793 10 is_stmt 0 view .LVU1727
 5384 01da 4FF0320B 		mov	fp, #50
 5385 01de 67E7     		b	.L579
 5386              	.LVL433:
 5387              	.L1079:
2793:src/keys.c    **** 	}
 5388              		.loc 1 2793 10 view .LVU1728
 5389              	.LBE1179:
 5390              	.LBE1235:
2991:src/keys.c    ****       return;
 5391              		.loc 1 2991 21 discriminator 1 view .LVU1729
 5392 01e0 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
2991:src/keys.c    ****       return;
 5393              		.loc 1 2991 18 discriminator 1 view .LVU1730
 5394 01e2 002A     		cmp	r2, #0
 5395 01e4 B5D1     		bne	.L537
 5396 01e6 89E7     		b	.L534
 5397              	.L1078:
2983:src/keys.c    ****       JustStopped = 0;
 5398              		.loc 1 2983 25 discriminator 1 view .LVU1731
 5399 01e8 FFF7FEFF 		bl	is_key_pressed
 5400              	.LVL434:
2983:src/keys.c    ****       JustStopped = 0;
 5401              		.loc 1 2983 21 discriminator 1 view .LVU1732
 5402 01ec 0028     		cmp	r0, #0
 5403 01ee ACD1     		bne	.L549
2984:src/keys.c    ****     }
 5404              		.loc 1 2984 7 is_stmt 1 view .LVU1733
2984:src/keys.c    ****     }
 5405              		.loc 1 2984 19 is_stmt 0 view .LVU1734
 5406 01f0 3060     		str	r0, [r6]
 5407 01f2 AAE7     		b	.L549
 5408              	.LVL435:
 5409              	.L578:
2984:src/keys.c    ****     }
 5410              		.loc 1 2984 19 view .LVU1735
 5411 01f4 DFF8D080 		ldr	r8, .L1147+32
 5412 01f8 98F80E30 		ldrb	r3, [r8, #14]	@ zero_extendqisi2
 5413              	.L576:
 5414              	.LBB1236:
 5415              	.LBB1180:
2799:src/keys.c    **** 		CmdLineLength = 0;
 5416              		.loc 1 2799 2 is_stmt 1 view .LVU1736
ARM GAS  /tmp/cc90KtGY.s 			page 178


2799:src/keys.c    **** 		CmdLineLength = 0;
 5417              		.loc 1 2799 5 is_stmt 0 view .LVU1737
 5418 01fc 002B     		cmp	r3, #0
 5419 01fe 40F0F082 		bne	.L1081
 5420              	.L581:
2805:src/keys.c    **** 		return process_confirm((const keycode)c);
 5421              		.loc 1 2805 2 is_stmt 1 view .LVU1738
2805:src/keys.c    **** 		return process_confirm((const keycode)c);
 5422              		.loc 1 2805 6 is_stmt 0 view .LVU1739
 5423 0202 98F81430 		ldrb	r3, [r8, #20]	@ zero_extendqisi2
2805:src/keys.c    **** 		return process_confirm((const keycode)c);
 5424              		.loc 1 2805 5 view .LVU1740
 5425 0206 5907     		lsls	r1, r3, #29
 5426 0208 40F00C83 		bne	.L1082
2808:src/keys.c    **** 		return process_arg((const keycode)c);
 5427              		.loc 1 2808 2 is_stmt 1 view .LVU1741
2808:src/keys.c    **** 		return process_arg((const keycode)c);
 5428              		.loc 1 2808 6 is_stmt 0 view .LVU1742
 5429 020c 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
2808:src/keys.c    **** 		return process_arg((const keycode)c);
 5430              		.loc 1 2808 5 view .LVU1743
 5431 0210 9A06     		lsls	r2, r3, #26
 5432 0212 00F17E83 		bmi	.L1083
2811:src/keys.c    **** 		return process_gtodot((const keycode)c);
 5433              		.loc 1 2811 2 is_stmt 1 view .LVU1744
2811:src/keys.c    **** 		return process_gtodot((const keycode)c);
 5434              		.loc 1 2811 6 is_stmt 0 view .LVU1745
 5435 0216 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
2811:src/keys.c    **** 		return process_gtodot((const keycode)c);
 5436              		.loc 1 2811 5 view .LVU1746
 5437 021a 12F0010B 		ands	fp, r2, #1
 5438 021e 40F0D583 		bne	.L1084
2814:src/keys.c    **** 		return process_hyp((const keycode)c);
 5439              		.loc 1 2814 2 is_stmt 1 view .LVU1747
2814:src/keys.c    **** 		return process_hyp((const keycode)c);
 5440              		.loc 1 2814 5 is_stmt 0 view .LVU1748
 5441 0222 12F02001 		ands	r1, r2, #32
 5442 0226 40F00C81 		bne	.L1085
2817:src/keys.c    **** 		return process_test((const keycode)c);
 5443              		.loc 1 2817 2 is_stmt 1 view .LVU1749
2817:src/keys.c    **** 		return process_test((const keycode)c);
 5444              		.loc 1 2817 12 is_stmt 0 view .LVU1750
 5445 022a 98F80FB0 		ldrb	fp, [r8, #15]	@ zero_extendqisi2
2817:src/keys.c    **** 		return process_test((const keycode)c);
 5446              		.loc 1 2817 5 view .LVU1751
 5447 022e BBF1070F 		cmp	fp, #7
 5448 0232 40F09783 		bne	.L1086
2820:src/keys.c    **** 		return process_status((const keycode)c);
 5449              		.loc 1 2820 2 is_stmt 1 view .LVU1752
2820:src/keys.c    **** 		return process_status((const keycode)c);
 5450              		.loc 1 2820 12 is_stmt 0 view .LVU1753
 5451 0236 98F80C30 		ldrb	r3, [r8, #12]	@ zero_extendqisi2
2820:src/keys.c    **** 		return process_status((const keycode)c);
 5452              		.loc 1 2820 5 view .LVU1754
 5453 023a 002B     		cmp	r3, #0
 5454 023c 40F03A84 		bne	.L1087
2826:src/keys.c    **** 		toggle_shift(SHIFT_F);
ARM GAS  /tmp/cc90KtGY.s 			page 179


 5455              		.loc 1 2826 2 is_stmt 1 view .LVU1755
2826:src/keys.c    **** 		toggle_shift(SHIFT_F);
 5456              		.loc 1 2826 5 is_stmt 0 view .LVU1756
 5457 0240 292C     		cmp	r4, #41
 5458 0242 00F00B85 		beq	.L1088
2830:src/keys.c    **** 		toggle_shift(SHIFT_G);
 5459              		.loc 1 2830 2 is_stmt 1 view .LVU1757
2830:src/keys.c    **** 		toggle_shift(SHIFT_G);
 5460              		.loc 1 2830 5 is_stmt 0 view .LVU1758
 5461 0246 2A2C     		cmp	r4, #42
 5462 0248 00F01A85 		beq	.L1089
2834:src/keys.c    **** 		toggle_shift(SHIFT_H);
 5463              		.loc 1 2834 2 is_stmt 1 view .LVU1759
2834:src/keys.c    **** 		toggle_shift(SHIFT_H);
 5464              		.loc 1 2834 5 is_stmt 0 view .LVU1760
 5465 024c 2B2C     		cmp	r4, #43
 5466 024e 00F02985 		beq	.L1090
2843:src/keys.c    **** 		return process_arrow((const keycode)c);
 5467              		.loc 1 2843 2 is_stmt 1 view .LVU1761
2843:src/keys.c    **** 		return process_arrow((const keycode)c);
 5468              		.loc 1 2843 5 is_stmt 0 view .LVU1762
 5469 0252 5007     		lsls	r0, r2, #29
 5470 0254 00F15884 		bmi	.L1091
2851:src/keys.c    **** 	if ( cat != CATALOGUE_NONE ) {
 5471              		.loc 1 2851 2 is_stmt 1 view .LVU1763
2851:src/keys.c    **** 	if ( cat != CATALOGUE_NONE ) {
 5472              		.loc 1 2851 8 is_stmt 0 view .LVU1764
 5473 0258 E4B2     		uxtb	r4, r4
 5474              	.LVL436:
 5475              	.LBB644:
 5476              	.LBI644:
 254:src/keys.c    **** {
 5477              		.loc 1 254 24 is_stmt 1 view .LVU1765
 5478              	.LBB645:
 256:src/keys.c    ****   int i, col, max;
 5479              		.loc 1 256 3 view .LVU1766
 257:src/keys.c    ****   const struct _map {
 5480              		.loc 1 257 3 view .LVU1767
 258:src/keys.c    ****     unsigned char key, cat[3];
 5481              		.loc 1 258 3 view .LVU1768
 263:src/keys.c    ****     return CATALOGUE_PROGXFCN;
 5482              		.loc 1 263 3 view .LVU1769
 263:src/keys.c    ****     return CATALOGUE_PROGXFCN;
 5483              		.loc 1 263 6 is_stmt 0 view .LVU1770
 5484 025a 212C     		cmp	r4, #33
 5485 025c 00F0E884 		beq	.L1092
 266:src/keys.c    ****     /*
 5486              		.loc 1 266 3 is_stmt 1 view .LVU1771
 266:src/keys.c    ****     /*
 5487              		.loc 1 266 23 is_stmt 0 view .LVU1772
 5488 0260 1D49     		ldr	r1, .L1147+48
 5489 0262 D8F81430 		ldr	r3, [r8, #20]
 266:src/keys.c    ****     /*
 5490              		.loc 1 266 6 view .LVU1773
 5491 0266 1942     		tst	r1, r3
 5492 0268 40F09184 		bne	.L658
 5493              	.LBB646:
ARM GAS  /tmp/cc90KtGY.s 			page 180


 270:src/keys.c    **** #ifdef DM42
 5494              		.loc 1 270 5 is_stmt 1 view .LVU1774
 297:src/keys.c    ****       /*
 5495              		.loc 1 297 5 view .LVU1775
 297:src/keys.c    ****       /*
 5496              		.loc 1 297 8 is_stmt 0 view .LVU1776
 5497 026c 242C     		cmp	r4, #36
 5498 026e 03D1     		bne	.L659
 297:src/keys.c    ****       /*
 5499              		.loc 1 297 18 view .LVU1777
 5500 0270 BAF1020F 		cmp	r10, #2
 5501 0274 01F0B882 		beq	.L863
 5502              	.L659:
 312:src/keys.c    ****       /*
 5503              		.loc 1 312 5 is_stmt 1 view .LVU1778
 312:src/keys.c    ****       /*
 5504              		.loc 1 312 8 is_stmt 0 view .LVU1779
 5505 0278 BAF1030F 		cmp	r10, #3
 5506 027c 3BD1     		bne	.L666
 5507              	.L851:
 322:src/keys.c    **** #ifndef WINGUI
 5508              		.loc 1 322 5 is_stmt 1 view .LVU1780
 5509              	.LVL437:
 324:src/keys.c    **** #else
 5510              		.loc 1 324 5 view .LVU1781
 324:src/keys.c    **** #else
 5511              		.loc 1 324 23 is_stmt 0 view .LVU1782
 5512 027e 174B     		ldr	r3, .L1147+52
 5513 0280 1B68     		ldr	r3, [r3]
 5514 0282 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 324:src/keys.c    **** #else
 5515              		.loc 1 324 27 view .LVU1783
 5516 0286 D907     		lsls	r1, r3, #31
 5517 0288 00F16685 		bmi	.L864
 324:src/keys.c    **** #else
 5518              		.loc 1 324 73 view .LVU1784
 5519 028c 12F0020B 		ands	fp, r2, #2
 5520 0290 01F0D780 		beq	.L1093
 322:src/keys.c    **** #ifndef WINGUI
 5521              		.loc 1 322 8 view .LVU1785
 5522 0294 124B     		ldr	r3, .L1147+56
 328:src/keys.c    ****   }
 5523              		.loc 1 328 9 view .LVU1786
 5524 0296 0C21     		movs	r1, #12
 324:src/keys.c    **** #else
 5525              		.loc 1 324 73 view .LVU1787
 5526 0298 4FF0020C 		mov	ip, #2
 5527              	.LVL438:
 5528              	.L661:
 324:src/keys.c    **** #else
 5529              		.loc 1 324 73 view .LVU1788
 5530              	.LBE646:
 370:src/keys.c    ****     if (cp->key == c) {
 5531              		.loc 1 370 3 is_stmt 1 view .LVU1789
 370:src/keys.c    ****     if (cp->key == c) {
 5532              		.loc 1 370 15 view .LVU1790
 5533 029c 181F     		subs	r0, r3, #4
ARM GAS  /tmp/cc90KtGY.s 			page 181


 5534 029e 00EB8100 		add	r0, r0, r1, lsl #2
 5535              	.LBB647:
 324:src/keys.c    **** #else
 5536              		.loc 1 324 73 is_stmt 0 view .LVU1791
 5537 02a2 0421     		movs	r1, #4
 5538              	.LVL439:
 324:src/keys.c    **** #else
 5539              		.loc 1 324 73 view .LVU1792
 5540 02a4 22E0     		b	.L667
 5541              	.L1148:
 5542 02a6 00BF     		.align	2
 5543              	.L1147:
 5544 02a8 00000000 		.word	.LANCHOR12
 5545 02ac 00000000 		.word	Pause
 5546 02b0 00000000 		.word	JustStopped
 5547 02b4 00000000 		.word	OpCode
 5548 02b8 00000000 		.word	GoFast
 5549 02bc 00000000 		.word	Running
 5550 02c0 00000000 		.word	ShowRPN
 5551 02c4 00000000 		.word	JustDisplayed
 5552 02c8 00000000 		.word	StateWhileOn
 5553 02cc 00000000 		.word	OpCodeDisplayPending
 5554 02d0 00000000 		.word	DispMsg
 5555 02d4 00000000 		.word	.LC0
 5556 02d8 00080800 		.word	526336
 5557 02dc 00000000 		.word	main_ram
 5558 02e0 00000000 		.word	.LANCHOR11
 5559 02e4 00000000 		.word	WasDataEntry
 5560              	.LVL440:
 5561              	.L1095:
 324:src/keys.c    **** #else
 5562              		.loc 1 324 73 view .LVU1793
 5563 02e8 13F8041F 		ldrb	r1, [r3, #4]!	@ zero_extendqisi2
 5564              	.LVL441:
 5565              	.L667:
 324:src/keys.c    **** #else
 5566              		.loc 1 324 73 view .LVU1794
 5567              	.LBE647:
 371:src/keys.c    ****       cat = (enum catalogues) cp->cat[col];
 5568              		.loc 1 371 5 is_stmt 1 view .LVU1795
 370:src/keys.c    ****     if (cp->key == c) {
 5569              		.loc 1 370 24 view .LVU1796
 370:src/keys.c    ****     if (cp->key == c) {
 5570              		.loc 1 370 15 view .LVU1797
 371:src/keys.c    ****       cat = (enum catalogues) cp->cat[col];
 5571              		.loc 1 371 8 is_stmt 0 view .LVU1798
 5572 02ec 8C42     		cmp	r4, r1
 5573 02ee 00F08584 		beq	.L1094
 370:src/keys.c    ****     if (cp->key == c) {
 5574              		.loc 1 370 3 view .LVU1799
 5575 02f2 9842     		cmp	r0, r3
 5576 02f4 F8D1     		bne	.L1095
 5577              	.LVL442:
 5578              	.L666:
 376:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
 5579              		.loc 1 376 3 is_stmt 1 view .LVU1800
 376:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
ARM GAS  /tmp/cc90KtGY.s 			page 182


 5580              		.loc 1 376 6 is_stmt 0 view .LVU1801
 5581 02f6 1107     		lsls	r1, r2, #28
 5582 02f8 00F1F980 		bmi	.L671
 5583              	.LVL443:
 5584              	.L670:
 376:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
 5585              		.loc 1 376 6 view .LVU1802
 5586              	.LBE645:
 5587              	.LBE644:
2866:src/keys.c    **** 		return process_labellist((const keycode)c);
 5588              		.loc 1 2866 2 is_stmt 1 view .LVU1803
2866:src/keys.c    **** 		return process_labellist((const keycode)c);
 5589              		.loc 1 2866 6 is_stmt 0 view .LVU1804
 5590 02fc 98F81710 		ldrb	r1, [r8, #23]	@ zero_extendqisi2
2866:src/keys.c    **** 		return process_labellist((const keycode)c);
 5591              		.loc 1 2866 5 view .LVU1805
 5592 0300 4B07     		lsls	r3, r1, #29
 5593 0302 00F12F85 		bmi	.L1096
2869:src/keys.c    **** 		return process_registerlist((const keycode)c);
 5594              		.loc 1 2869 2 is_stmt 1 view .LVU1806
2869:src/keys.c    **** 		return process_registerlist((const keycode)c);
 5595              		.loc 1 2869 5 is_stmt 0 view .LVU1807
 5596 0306 0807     		lsls	r0, r1, #28
 5597 0308 00F16A86 		bmi	.L1097
2872:src/keys.c    **** 		return process_catalogue((const keycode)c, reset_shift(), 0);
 5598              		.loc 1 2872 2 is_stmt 1 view .LVU1808
2872:src/keys.c    **** 		return process_catalogue((const keycode)c, reset_shift(), 0);
 5599              		.loc 1 2872 5 is_stmt 0 view .LVU1809
 5600 030c 98F80E30 		ldrb	r3, [r8, #14]	@ zero_extendqisi2
 5601 0310 002B     		cmp	r3, #0
 5602 0312 40F04A87 		bne	.L1098
2875:src/keys.c    **** #ifndef INFRARED
 5603              		.loc 1 2875 2 is_stmt 1 view .LVU1810
2875:src/keys.c    **** #ifndef INFRARED
 5604              		.loc 1 2875 6 is_stmt 0 view .LVU1811
 5605 0316 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
2875:src/keys.c    **** #ifndef INFRARED
 5606              		.loc 1 2875 5 view .LVU1812
 5607 031a 1807     		lsls	r0, r3, #28
 5608 031c 00F15A87 		bmi	.L1099
2888:src/keys.c    **** 		return process_cmplx((const keycode)c);
 5609              		.loc 1 2888 2 is_stmt 1 view .LVU1813
2888:src/keys.c    **** 		return process_cmplx((const keycode)c);
 5610              		.loc 1 2888 5 is_stmt 0 view .LVU1814
 5611 0320 12F0020B 		ands	fp, r2, #2
 5612 0324 41F09980 		bne	.L1100
2891:src/keys.c    **** 			return process_fg_shifted((const keycode)c);
 5613              		.loc 1 2891 3 is_stmt 1 view .LVU1815
2891:src/keys.c    **** 			return process_fg_shifted((const keycode)c);
 5614              		.loc 1 2891 24 is_stmt 0 view .LVU1816
 5615 0328 0AF1FF32 		add	r2, r10, #-1
2891:src/keys.c    **** 			return process_fg_shifted((const keycode)c);
 5616              		.loc 1 2891 6 view .LVU1817
 5617 032c D2B2     		uxtb	r2, r2
 5618 032e 012A     		cmp	r2, #1
 5619 0330 41F20281 		bls	.L1101
2893:src/keys.c    **** 			return process_h_shifted((const keycode)c);
ARM GAS  /tmp/cc90KtGY.s 			page 183


 5620              		.loc 1 2893 3 is_stmt 1 view .LVU1818
2893:src/keys.c    **** 			return process_h_shifted((const keycode)c);
 5621              		.loc 1 2893 6 is_stmt 0 view .LVU1819
 5622 0334 BAF1030F 		cmp	r10, #3
 5623 0338 00F0E587 		beq	.L1102
2896:src/keys.c    **** 	}
 5624              		.loc 1 2896 3 is_stmt 1 view .LVU1820
 5625              	.LVL444:
 5626              	.LBB660:
 5627              	.LBI660:
 673:src/keys.c    **** {
 5628              		.loc 1 673 12 view .LVU1821
 5629              	.LBB661:
 675:src/keys.c    **** 		// Row 1
 5630              		.loc 1 675 2 view .LVU1822
 722:src/keys.c    **** 	int op = op_map[lc];
 5631              		.loc 1 722 2 view .LVU1823
 5632              	.LBB662:
 5633              	.LBI662:
 134:src/keys.c    **** {
 5634              		.loc 1 134 12 view .LVU1824
 5635              	.LBB663:
 136:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 5636              		.loc 1 136 2 view .LVU1825
 146:src/keys.c    **** }
 5637              		.loc 1 146 2 view .LVU1826
 146:src/keys.c    **** }
 5638              		.loc 1 146 2 is_stmt 0 view .LVU1827
 5639              	.LBE663:
 5640              	.LBE662:
 723:src/keys.c    **** 	
 5641              		.loc 1 723 2 is_stmt 1 view .LVU1828
 728:src/keys.c    **** 	  switch (c) {
 5642              		.loc 1 728 6 is_stmt 0 view .LVU1829
 5643 033c A74A     		ldr	r2, .L1149
 5644              	.LBB666:
 5645              	.LBB664:
 146:src/keys.c    **** }
 5646              		.loc 1 146 23 view .LVU1830
 5647 033e A848     		ldr	r0, .L1149+4
 5648              	.LBE664:
 5649              	.LBE666:
 728:src/keys.c    **** 	  switch (c) {
 5650              		.loc 1 728 6 view .LVU1831
 5651 0340 1268     		ldr	r2, [r2]
 5652              	.LBB667:
 5653              	.LBB665:
 146:src/keys.c    **** }
 5654              		.loc 1 146 23 view .LVU1832
 5655 0342 10F804C0 		ldrb	ip, [r0, r4]	@ zero_extendqisi2
 5656              	.LBE665:
 5657              	.LBE667:
 723:src/keys.c    **** 	
 5658              		.loc 1 723 17 view .LVU1833
 5659 0346 A748     		ldr	r0, .L1149+8
 728:src/keys.c    **** 	  switch (c) {
 5660              		.loc 1 728 6 view .LVU1834
ARM GAS  /tmp/cc90KtGY.s 			page 184


 5661 0348 92F8E827 		ldrb	r2, [r2, #2024]	@ zero_extendqisi2
 723:src/keys.c    **** 	
 5662              		.loc 1 723 17 view .LVU1835
 5663 034c 30F81CA0 		ldrh	r10, [r0, ip, lsl #1]
 5664              	.LVL445:
 728:src/keys.c    **** 	  switch (c) {
 5665              		.loc 1 728 5 view .LVU1836
 5666 0350 D207     		lsls	r2, r2, #31
 723:src/keys.c    **** 	
 5667              		.loc 1 723 6 view .LVU1837
 5668 0352 D346     		mov	fp, r10
 5669              	.LVL446:
 727:src/keys.c    **** 	if (UState.intm) {
 5670              		.loc 1 727 2 is_stmt 1 view .LVU1838
 728:src/keys.c    **** 	  switch (c) {
 5671              		.loc 1 728 2 view .LVU1839
 728:src/keys.c    **** 	  switch (c) {
 5672              		.loc 1 728 5 is_stmt 0 view .LVU1840
 5673 0354 40F1B080 		bpl	.L801
 729:src/keys.c    **** 	  case K00:
 5674              		.loc 1 729 4 is_stmt 1 view .LVU1841
 5675 0358 122C     		cmp	r4, #18
 5676 035a 00F2AD80 		bhi	.L801
 5677 035e DFE814F0 		tbh	[pc, r4, lsl #1]
 5678              	.L803:
 5679 0362 D401     		.2byte	(.L806-.L803)/2
 5680 0364 C801     		.2byte	(.L805-.L803)/2
 5681 0366 AB00     		.2byte	(.L801-.L803)/2
 5682 0368 A801     		.2byte	(.L804-.L803)/2
 5683 036a AB00     		.2byte	(.L801-.L803)/2
 5684 036c AB00     		.2byte	(.L801-.L803)/2
 5685 036e AB00     		.2byte	(.L801-.L803)/2
 5686 0370 AB00     		.2byte	(.L801-.L803)/2
 5687 0372 AB00     		.2byte	(.L801-.L803)/2
 5688 0374 AB00     		.2byte	(.L801-.L803)/2
 5689 0376 AB00     		.2byte	(.L801-.L803)/2
 5690 0378 AB00     		.2byte	(.L801-.L803)/2
 5691 037a AB00     		.2byte	(.L801-.L803)/2
 5692 037c AB00     		.2byte	(.L801-.L803)/2
 5693 037e AB00     		.2byte	(.L801-.L803)/2
 5694 0380 AB00     		.2byte	(.L801-.L803)/2
 5695 0382 AB00     		.2byte	(.L801-.L803)/2
 5696 0384 AB00     		.2byte	(.L801-.L803)/2
 5697 0386 9C01     		.2byte	(.L802-.L803)/2
 5698              	.LVL447:
 5699              		.p2align 1
 5700              	.L1064:
 729:src/keys.c    **** 	  case K00:
 5701              		.loc 1 729 4 is_stmt 0 view .LVU1842
 5702 0388 974C     		ldr	r4, .L1149+12
 5703              	.LBE661:
 5704              	.LBE660:
 5705              	.LBE1180:
 5706              	.LBE1236:
3151:src/keys.c    ****   watchdog();
 5707              		.loc 1 3151 3 is_stmt 1 view .LVU1843
3151:src/keys.c    ****   watchdog();
ARM GAS  /tmp/cc90KtGY.s 			page 185


 5708              		.loc 1 3151 17 is_stmt 0 view .LVU1844
 5709 038a 0023     		movs	r3, #0
 5710 038c 2360     		str	r3, [r4]
3152:src/keys.c    **** }
 5711              		.loc 1 3152 13 is_stmt 1 view .LVU1845
 5712 038e B5E6     		b	.L534
 5713              	.LVL448:
 5714              	.L571:
 5715              	.LBB1237:
 5716              	.LBB1181:
2762:src/keys.c    **** 	set_pc(0);
 5717              		.loc 1 2762 7 view .LVU1846
2762:src/keys.c    **** 	set_pc(0);
 5718              		.loc 1 2762 11 is_stmt 0 view .LVU1847
 5719 0390 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
2762:src/keys.c    **** 	set_pc(0);
 5720              		.loc 1 2762 10 view .LVU1848
 5721 0392 3BB1     		cbz	r3, .L573
2762:src/keys.c    **** 	set_pc(0);
 5722              		.loc 1 2762 20 view .LVU1849
 5723 0394 914B     		ldr	r3, .L1149
 5724 0396 1B68     		ldr	r3, [r3]
 5725 0398 B3F8E037 		ldrh	r3, [r3, #2016]
2762:src/keys.c    **** 	set_pc(0);
 5726              		.loc 1 2762 17 view .LVU1850
 5727 039c 9B0B     		lsrs	r3, r3, #14
 5728 039e 032B     		cmp	r3, #3
 5729 03a0 00F0BC82 		beq	.L1103
 5730              	.L573:
2764:src/keys.c    ****       xeq_xrom();
 5731              		.loc 1 2764 7 is_stmt 1 view .LVU1851
2764:src/keys.c    ****       xeq_xrom();
 5732              		.loc 1 2764 13 is_stmt 0 view .LVU1852
 5733 03a4 0027     		movs	r7, #0
 5734 03a6 2F70     		strb	r7, [r5]
2765:src/keys.c    ****       set_running_off();
 5735              		.loc 1 2765 7 is_stmt 1 view .LVU1853
 5736 03a8 FFF7FEFF 		bl	xeq_xrom
 5737              	.LVL449:
2766:src/keys.c    ****       DispMsg = "Stopped";
 5738              		.loc 1 2766 7 view .LVU1854
 5739 03ac FFF7FEFF 		bl	set_running_off
 5740              	.LVL450:
2767:src/keys.c    ****       State2.disp_freeze = 0;
 5741              		.loc 1 2767 7 view .LVU1855
2768:src/keys.c    ****       return STATE_UNFINISHED;
 5742              		.loc 1 2768 26 is_stmt 0 view .LVU1856
 5743 03b0 8E4B     		ldr	r3, .L1149+16
2767:src/keys.c    ****       State2.disp_freeze = 0;
 5744              		.loc 1 2767 15 view .LVU1857
 5745 03b2 8F49     		ldr	r1, .L1149+20
2768:src/keys.c    ****       return STATE_UNFINISHED;
 5746              		.loc 1 2768 26 view .LVU1858
 5747 03b4 DA7D     		ldrb	r2, [r3, #23]	@ zero_extendqisi2
2767:src/keys.c    ****       State2.disp_freeze = 0;
 5748              		.loc 1 2767 15 view .LVU1859
 5749 03b6 8F48     		ldr	r0, .L1149+24
ARM GAS  /tmp/cc90KtGY.s 			page 186


 5750 03b8 0860     		str	r0, [r1]
2768:src/keys.c    ****       return STATE_UNFINISHED;
 5751              		.loc 1 2768 7 is_stmt 1 view .LVU1860
2768:src/keys.c    ****       return STATE_UNFINISHED;
 5752              		.loc 1 2768 26 is_stmt 0 view .LVU1861
 5753 03ba 67F30412 		bfi	r2, r7, #4, #1
 5754 03be DA75     		strb	r2, [r3, #23]
2769:src/keys.c    ****     }
 5755              		.loc 1 2769 7 is_stmt 1 view .LVU1862
2769:src/keys.c    ****     }
 5756              		.loc 1 2769 14 is_stmt 0 view .LVU1863
 5757 03c0 4FF0330B 		mov	fp, #51
 5758 03c4 70E6     		b	.L565
 5759              	.LVL451:
 5760              	.L555:
2769:src/keys.c    ****     }
 5761              		.loc 1 2769 14 view .LVU1864
 5762 03c6 8C4E     		ldr	r6, .L1149+28
 5763 03c8 3368     		ldr	r3, [r6]
 5764 03ca C2E6     		b	.L537
 5765              	.L1073:
2769:src/keys.c    ****     }
 5766              		.loc 1 2769 14 view .LVU1865
 5767              	.LBE1181:
 5768              	.LBE1237:
3005:src/keys.c    ****       finish_RPN(); // RPN
 5769              		.loc 1 3005 7 is_stmt 1 view .LVU1866
 5770 03cc 8D20     		movs	r0, #141
 5771 03ce FFF7FEFF 		bl	clr_dot
 5772              	.LVL452:
3006:src/keys.c    ****     }
 5773              		.loc 1 3006 7 view .LVU1867
 5774 03d2 FFF7FEFF 		bl	finish_RPN
 5775              	.LVL453:
 5776 03d6 36E6     		b	.L553
 5777              	.LVL454:
 5778              	.L1076:
3065:src/keys.c    ****     }
 5779              		.loc 1 3065 7 view .LVU1868
 5780 03d8 FFF7FEFF 		bl	finish_RPN
 5781              	.LVL455:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 5782              		.loc 1 2919 7 is_stmt 0 view .LVU1869
 5783 03dc 0027     		movs	r7, #0
 5784 03de 63E6     		b	.L565
 5785              	.LVL456:
 5786              	.L556:
3046:src/keys.c    **** #ifndef CONSOLE
 5787              		.loc 1 3046 7 is_stmt 1 view .LVU1870
 5788 03e0 864B     		ldr	r3, .L1149+32
 5789 03e2 8D20     		movs	r0, #141
 5790 03e4 1968     		ldr	r1, [r3]
 5791 03e6 FFF7FEFF 		bl	dot
 5792              	.LVL457:
3048:src/keys.c    **** 	if (!WasDataEntry) {
 5793              		.loc 1 3048 7 view .LVU1871
3048:src/keys.c    **** 	if (!WasDataEntry) {
ARM GAS  /tmp/cc90KtGY.s 			page 187


 5794              		.loc 1 3048 11 is_stmt 0 view .LVU1872
 5795 03ea 98F81730 		ldrb	r3, [r8, #23]	@ zero_extendqisi2
3048:src/keys.c    **** 	if (!WasDataEntry) {
 5796              		.loc 1 3048 10 view .LVU1873
 5797 03ee 9806     		lsls	r0, r3, #26
 5798 03f0 3FF584AE 		bmi	.L534
3049:src/keys.c    **** 	  // This will get rid of the last displayed op-code
 5799              		.loc 1 3049 2 is_stmt 1 view .LVU1874
3049:src/keys.c    **** 	  // This will get rid of the last displayed op-code
 5800              		.loc 1 3049 6 is_stmt 0 view .LVU1875
 5801 03f4 824B     		ldr	r3, .L1149+36
3049:src/keys.c    **** 	  // This will get rid of the last displayed op-code
 5802              		.loc 1 3049 5 view .LVU1876
 5803 03f6 1B68     		ldr	r3, [r3]
 5804 03f8 002B     		cmp	r3, #0
 5805 03fa 40F00282 		bne	.L567
3051:src/keys.c    **** 	}
 5806              		.loc 1 3051 4 is_stmt 1 view .LVU1877
 5807              		.loc 1 3153 1 is_stmt 0 view .LVU1878
 5808 03fe 03B0     		add	sp, sp, #12
 5809              		.cfi_remember_state
 5810              		.cfi_def_cfa_offset 36
 5811              		@ sp needed
 5812 0400 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5813              		.cfi_restore 14
 5814              		.cfi_restore 11
 5815              		.cfi_restore 10
 5816              		.cfi_restore 9
 5817              		.cfi_restore 8
 5818              		.cfi_restore 7
 5819              		.cfi_restore 6
 5820              		.cfi_restore 5
 5821              		.cfi_restore 4
 5822              		.cfi_def_cfa_offset 0
3051:src/keys.c    **** 	}
 5823              		.loc 1 3051 4 view .LVU1879
 5824 0404 FFF7FEBF 		b	display
 5825              	.LVL458:
 5826              	.L1074:
 5827              		.cfi_restore_state
3034:src/keys.c    ****       else {
 5828              		.loc 1 3034 2 is_stmt 1 view .LVU1880
 5829 0408 FFF7FEFF 		bl	xeq_sst_bst
 5830              	.LVL459:
 5831 040c 7A4E     		ldr	r6, .L1149+28
 5832 040e 42E6     		b	.L558
 5833              	.L1077:
2968:src/keys.c    **** 	// Rely on the held shift key instead of the toggle
 5834              		.loc 1 2968 28 is_stmt 0 discriminator 1 view .LVU1881
 5835 0410 FFF7FEFF 		bl	shift_down
 5836              	.LVL460:
2968:src/keys.c    **** 	// Rely on the held shift key instead of the toggle
 5837              		.loc 1 2968 25 discriminator 1 view .LVU1882
 5838 0414 0028     		cmp	r0, #0
 5839 0416 3FF494AE 		beq	.L540
2970:src/keys.c    ****       }
 5840              		.loc 1 2970 2 is_stmt 1 view .LVU1883
ARM GAS  /tmp/cc90KtGY.s 			page 188


2970:src/keys.c    ****       }
 5841              		.loc 1 2970 16 is_stmt 0 view .LVU1884
 5842 041a 744B     		ldr	r3, .L1149+16
 5843 041c 0022     		movs	r2, #0
 5844 041e 1A74     		strb	r2, [r3, #16]
 5845 0420 8FE6     		b	.L540
 5846              	.L543:
2958:src/keys.c    **** 	  /*
 5847              		.loc 1 2958 10 is_stmt 1 view .LVU1885
2958:src/keys.c    **** 	  /*
 5848              		.loc 1 2958 14 is_stmt 0 view .LVU1886
 5849 0422 FFF7FEFF 		bl	keyticks
 5850              	.LVL461:
2958:src/keys.c    **** 	  /*
 5851              		.loc 1 2958 13 view .LVU1887
 5852 0426 0C28     		cmp	r0, #12
 5853 0428 7FF786AE 		ble	.L542
2962:src/keys.c    **** 	  message("NULL", CNULL);
 5854              		.loc 1 2962 4 is_stmt 1 view .LVU1888
2963:src/keys.c    **** 	  // Force display update on key-up
 5855              		.loc 1 2963 4 is_stmt 0 view .LVU1889
 5856 042c 7548     		ldr	r0, .L1149+40
2962:src/keys.c    **** 	  message("NULL", CNULL);
 5857              		.loc 1 2962 11 view .LVU1890
 5858 042e 3760     		str	r7, [r6]
2963:src/keys.c    **** 	  // Force display update on key-up
 5859              		.loc 1 2963 4 is_stmt 1 view .LVU1891
 5860 0430 3946     		mov	r1, r7
 5861 0432 FFF7FEFF 		bl	message
 5862              	.LVL462:
2965:src/keys.c    **** 	}
 5863              		.loc 1 2965 4 view .LVU1892
2965:src/keys.c    **** 	}
 5864              		.loc 1 2965 21 is_stmt 0 view .LVU1893
 5865 0436 6D4B     		ldr	r3, .L1149+16
 5866 0438 DA7D     		ldrb	r2, [r3, #23]	@ zero_extendqisi2
 5867 043a 67F34512 		bfi	r2, r7, #5, #1
 5868 043e DA75     		strb	r2, [r3, #23]
 5869 0440 7AE6     		b	.L542
 5870              	.LVL463:
 5871              	.L1085:
 5872              	.LBB1238:
 5873              	.LBB1182:
2815:src/keys.c    **** 
 5874              		.loc 1 2815 3 is_stmt 1 view .LVU1894
 5875              	.LBB684:
 5876              	.LBB685:
1228:src/keys.c    **** 	State2.dot = 0;
 5877              		.loc 1 1228 15 is_stmt 0 view .LVU1895
 5878 0442 22F06203 		bic	r3, r2, #98
 5879              	.LBE685:
 5880              	.LBE684:
2815:src/keys.c    **** 
 5881              		.loc 1 2815 10 view .LVU1896
 5882 0446 E4B2     		uxtb	r4, r4
 5883              	.LVL464:
 5884              	.LBB699:
ARM GAS  /tmp/cc90KtGY.s 			page 189


 5885              	.LBI684:
1218:src/keys.c    **** 	static const unsigned char op_map[][2] = {
 5886              		.loc 1 1218 12 is_stmt 1 view .LVU1897
 5887              	.LBB695:
1219:src/keys.c    **** 		{ OP_ASINH, OP_SINH },
 5888              		.loc 1 1219 2 view .LVU1898
1224:src/keys.c    **** 	int f = State2.dot;
 5889              		.loc 1 1224 2 view .LVU1899
1228:src/keys.c    **** 	State2.dot = 0;
 5890              		.loc 1 1228 15 is_stmt 0 view .LVU1900
 5891 0448 88F81530 		strb	r3, [r8, #21]
1224:src/keys.c    **** 	int f = State2.dot;
 5892              		.loc 1 1224 20 view .LVU1901
 5893 044c C2F3400A 		ubfx	r10, r2, #1, #1
 5894              	.LVL465:
1225:src/keys.c    **** 
 5895              		.loc 1 1225 2 is_stmt 1 view .LVU1902
1225:src/keys.c    **** 
 5896              		.loc 1 1225 16 is_stmt 0 view .LVU1903
 5897 0450 C2F38019 		ubfx	r9, r2, #6, #1
 5898              	.LVL466:
1227:src/keys.c    **** 	State2.cmplx = 0;
 5899              		.loc 1 1227 2 is_stmt 1 view .LVU1904
1228:src/keys.c    **** 	State2.dot = 0;
 5900              		.loc 1 1228 2 view .LVU1905
1229:src/keys.c    **** #ifdef DM42
 5901              		.loc 1 1229 2 view .LVU1906
1231:src/keys.c    **** #endif
 5902              		.loc 1 1231 2 view .LVU1907
 5903              	.LBB686:
 5904              	.LBI686:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 5905              		.loc 1 102 13 view .LVU1908
 5906              	.LBE686:
 5907              	.LBE695:
 5908              	.LBE699:
 5909              	.LBE1182:
 5910              	.LBE1238:
 103:src/keys.c    **** }
 5911              		.loc 1 103 2 view .LVU1909
 5912              	.LBB1239:
 5913              	.LBB1183:
 5914              	.LBB700:
 5915              	.LBB696:
 5916              	.LBB693:
 5917              	.LBB687:
 5918              	.LBI687:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 5919              		.loc 1 92 20 view .LVU1910
 5920              	.LBB688:
  93:src/keys.c    **** 	State2.shifts = shift;
 5921              		.loc 1 93 2 view .LVU1911
 5922              	.LBB689:
 5923              	.LBI689:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 5924              		.loc 1 84 13 view .LVU1912
 5925              	.LBB690:
ARM GAS  /tmp/cc90KtGY.s 			page 190


  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 5926              		.loc 1 85 2 view .LVU1913
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 5927              		.loc 1 85 18 is_stmt 0 view .LVU1914
 5928 0454 FFF7FEFF 		bl	shift_down
 5929              	.LVL467:
  86:src/keys.c    **** }
 5930              		.loc 1 86 2 is_stmt 1 view .LVU1915
 5931              	.LBE690:
 5932              	.LBE689:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 5933              		.loc 1 94 2 view .LVU1916
 5934              	.LBE688:
 5935              	.LBE687:
 5936              	.LBE693:
1233:src/keys.c    **** 
 5937              		.loc 1 1233 2 is_stmt 0 view .LVU1917
 5938 0458 2A2C     		cmp	r4, #42
 5939              	.LBB694:
 5940              	.LBB692:
 5941              	.LBB691:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 5942              		.loc 1 94 16 view .LVU1918
 5943 045a 88F810B0 		strb	fp, [r8, #16]
  95:src/keys.c    **** 	return r;
 5944              		.loc 1 95 2 is_stmt 1 view .LVU1919
  95:src/keys.c    **** 	return r;
 5945              		.loc 1 95 19 is_stmt 0 view .LVU1920
 5946 045e 88F80DB0 		strb	fp, [r8, #13]
  96:src/keys.c    **** }
 5947              		.loc 1 96 2 is_stmt 1 view .LVU1921
 5948              	.LVL468:
  96:src/keys.c    **** }
 5949              		.loc 1 96 2 is_stmt 0 view .LVU1922
 5950              	.LBE691:
 5951              	.LBE692:
 5952              	.LBE694:
1233:src/keys.c    **** 
 5953              		.loc 1 1233 2 is_stmt 1 view .LVU1923
 5954 0462 00F2FF82 		bhi	.L615
 5955 0466 282C     		cmp	r4, #40
 5956 0468 00F20384 		bhi	.L616
 5957 046c 013C     		subs	r4, r4, #1
 5958              	.LVL469:
1233:src/keys.c    **** 
 5959              		.loc 1 1233 2 is_stmt 0 view .LVU1924
 5960 046e E3B2     		uxtb	r3, r4
 5961 0470 022B     		cmp	r3, #2
 5962 0472 00F2B080 		bhi	.L1061
1238:src/keys.c    **** 
 5963              		.loc 1 1238 3 is_stmt 1 view .LVU1925
1238:src/keys.c    **** 
 5964              		.loc 1 1238 54 is_stmt 0 view .LVU1926
 5965 0476 644A     		ldr	r2, .L1149+44
 5966 0478 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 5967 047c 02EB4404 		add	r4, r2, r4, lsl #1
 5968              	.LVL470:
ARM GAS  /tmp/cc90KtGY.s 			page 191


1238:src/keys.c    **** 
 5969              		.loc 1 1238 27 view .LVU1927
 5970 0480 BAF1000F 		cmp	r10, #0
1238:src/keys.c    **** 
 5971              		.loc 1 1238 54 view .LVU1928
 5972 0484 14F809B0 		ldrb	fp, [r4, r9]	@ zero_extendqisi2
1238:src/keys.c    **** 
 5973              		.loc 1 1238 27 view .LVU1929
 5974 0488 14BF     		ite	ne
 5975 048a 4FF4A062 		movne	r2, #1280
 5976 048e 4FF40072 		moveq	r2, #512
1238:src/keys.c    **** 
 5977              		.loc 1 1238 37 view .LVU1930
 5978 0492 4BEA020B 		orr	fp, fp, r2
 5979 0496 5846     		mov	r0, fp
 5980              	.LVL471:
 5981              	.L620:
1238:src/keys.c    **** 
 5982              		.loc 1 1238 37 view .LVU1931
 5983              	.LBE696:
 5984              	.LBE700:
 5985              	.LBE1183:
 5986              	.LBE1239:
3112:src/keys.c    **** 	NonProgrammable = 0;
 5987              		.loc 1 3112 7 is_stmt 1 view .LVU1932
3112:src/keys.c    **** 	NonProgrammable = 0;
 5988              		.loc 1 3112 10 is_stmt 0 view .LVU1933
 5989 0498 13F04003 		ands	r3, r3, #64
 5990 049c 00F0FB83 		beq	.L1104
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 5991              		.loc 1 3113 2 is_stmt 1 view .LVU1934
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 5992              		.loc 1 3113 18 is_stmt 0 view .LVU1935
 5993 04a0 5A4B     		ldr	r3, .L1149+48
 5994 04a2 0022     		movs	r2, #0
 5995 04a4 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 5996              		.loc 1 3114 2 is_stmt 1 view .LVU1936
 5997              	.LVL472:
 5998              	.L831:
3127:src/keys.c    **** 	  OpCodeDisplayPending = 1;
 5999              		.loc 1 3127 4 view .LVU1937
3127:src/keys.c    **** 	  OpCodeDisplayPending = 1;
 6000              		.loc 1 3127 11 is_stmt 0 view .LVU1938
 6001 04a6 5A4A     		ldr	r2, .L1149+52
3128:src/keys.c    **** 	  finish_RPN(); // Update the RPN annunciator
 6002              		.loc 1 3128 25 view .LVU1939
 6003 04a8 5A4B     		ldr	r3, .L1149+56
3127:src/keys.c    **** 	  OpCodeDisplayPending = 1;
 6004              		.loc 1 3127 11 view .LVU1940
 6005 04aa 1060     		str	r0, [r2]
3128:src/keys.c    **** 	  finish_RPN(); // Update the RPN annunciator
 6006              		.loc 1 3128 4 is_stmt 1 view .LVU1941
3128:src/keys.c    **** 	  finish_RPN(); // Update the RPN annunciator
 6007              		.loc 1 3128 25 is_stmt 0 view .LVU1942
 6008 04ac 0122     		movs	r2, #1
 6009 04ae 4E4C     		ldr	r4, .L1149+12
ARM GAS  /tmp/cc90KtGY.s 			page 192


 6010 04b0 1A60     		str	r2, [r3]
3129:src/keys.c    **** 	  goto no_display; // No need to update the display before the command is executed
 6011              		.loc 1 3129 4 is_stmt 1 view .LVU1943
 6012 04b2 FFF7FEFF 		bl	finish_RPN
 6013              	.LVL473:
3130:src/keys.c    **** 	}
 6014              		.loc 1 3130 4 view .LVU1944
 6015 04b6 1FE6     		b	.L837
 6016              	.LVL474:
 6017              	.L801:
 6018              	.LBB1240:
 6019              	.LBB1184:
 6020              	.LBB701:
 6021              	.LBB670:
 762:src/keys.c    **** 	  }
 6022              		.loc 1 762 12 view .LVU1945
 767:src/keys.c    **** #ifdef DM42
 6023              		.loc 1 767 2 view .LVU1946
 6024 04b8 2D2C     		cmp	r4, #45
 6025 04ba 68D8     		bhi	.L594
 6026 04bc DFE804F0 		tbb	[pc, r4]
 6027              	.L812:
 6028 04c0 E7       		.byte	(.L818-.L812)/2
 6029 04c1 DB       		.byte	(.L817-.L812)/2
 6030 04c2 67       		.byte	(.L594-.L812)/2
 6031 04c3 E1       		.byte	(.L816-.L812)/2
 6032 04c4 67       		.byte	(.L594-.L812)/2
 6033 04c5 67       		.byte	(.L594-.L812)/2
 6034 04c6 82       		.byte	(.L814-.L812)/2
 6035 04c7 82       		.byte	(.L814-.L812)/2
 6036 04c8 67       		.byte	(.L594-.L812)/2
 6037 04c9 67       		.byte	(.L594-.L812)/2
 6038 04ca 67       		.byte	(.L594-.L812)/2
 6039 04cb 67       		.byte	(.L594-.L812)/2
 6040 04cc 67       		.byte	(.L594-.L812)/2
 6041 04cd 67       		.byte	(.L594-.L812)/2
 6042 04ce 67       		.byte	(.L594-.L812)/2
 6043 04cf 67       		.byte	(.L594-.L812)/2
 6044 04d0 D1       		.byte	(.L815-.L812)/2
 6045 04d1 67       		.byte	(.L594-.L812)/2
 6046 04d2 82       		.byte	(.L814-.L812)/2
 6047 04d3 67       		.byte	(.L594-.L812)/2
 6048 04d4 67       		.byte	(.L594-.L812)/2
 6049 04d5 67       		.byte	(.L594-.L812)/2
 6050 04d6 67       		.byte	(.L594-.L812)/2
 6051 04d7 67       		.byte	(.L594-.L812)/2
 6052 04d8 67       		.byte	(.L594-.L812)/2
 6053 04d9 67       		.byte	(.L594-.L812)/2
 6054 04da 67       		.byte	(.L594-.L812)/2
 6055 04db 67       		.byte	(.L594-.L812)/2
 6056 04dc 67       		.byte	(.L594-.L812)/2
 6057 04dd 67       		.byte	(.L594-.L812)/2
 6058 04de 67       		.byte	(.L594-.L812)/2
 6059 04df 67       		.byte	(.L594-.L812)/2
 6060 04e0 67       		.byte	(.L594-.L812)/2
 6061 04e1 67       		.byte	(.L594-.L812)/2
 6062 04e2 67       		.byte	(.L594-.L812)/2
ARM GAS  /tmp/cc90KtGY.s 			page 193


 6063 04e3 67       		.byte	(.L594-.L812)/2
 6064 04e4 67       		.byte	(.L594-.L812)/2
 6065 04e5 67       		.byte	(.L594-.L812)/2
 6066 04e6 67       		.byte	(.L594-.L812)/2
 6067 04e7 67       		.byte	(.L594-.L812)/2
 6068 04e8 67       		.byte	(.L594-.L812)/2
 6069 04e9 67       		.byte	(.L594-.L812)/2
 6070 04ea 67       		.byte	(.L594-.L812)/2
 6071 04eb 67       		.byte	(.L594-.L812)/2
 6072 04ec B9       		.byte	(.L813-.L812)/2
 6073 04ed B0       		.byte	(.L811-.L812)/2
 6074              	.LVL475:
 6075              		.p2align 1
 6076              	.L671:
 767:src/keys.c    **** #ifdef DM42
 6077              		.loc 1 767 2 is_stmt 0 view .LVU1947
 6078              	.LBE670:
 6079              	.LBE701:
2864:src/keys.c    **** 
 6080              		.loc 1 2864 3 is_stmt 1 view .LVU1948
 6081              	.LBB702:
 6082              	.LBI702:
2349:src/keys.c    **** 	enum shifts shift = reset_shift();
 6083              		.loc 1 2349 12 view .LVU1949
 6084              	.LBB703:
2350:src/keys.c    **** 	unsigned int ch = 0;
 6085              		.loc 1 2350 2 view .LVU1950
 6086              	.LBB704:
 6087              	.LBI704:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 6088              		.loc 1 102 13 view .LVU1951
 6089              	.LBE704:
 6090              	.LBE703:
 6091              	.LBE702:
 6092              	.LBE1184:
 6093              	.LBE1240:
 103:src/keys.c    **** }
 6094              		.loc 1 103 2 view .LVU1952
 6095              	.LBB1241:
 6096              	.LBB1185:
 6097              	.LBB737:
 6098              	.LBB730:
 6099              	.LBB711:
 6100              	.LBB705:
 6101              	.LBI705:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 6102              		.loc 1 92 20 view .LVU1953
 6103              	.LBB706:
  93:src/keys.c    **** 	State2.shifts = shift;
 6104              		.loc 1 93 2 view .LVU1954
 6105              	.LBB707:
 6106              	.LBI707:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 6107              		.loc 1 84 13 view .LVU1955
 6108              	.LBB708:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 6109              		.loc 1 85 2 view .LVU1956
ARM GAS  /tmp/cc90KtGY.s 			page 194


  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 6110              		.loc 1 85 18 is_stmt 0 view .LVU1957
 6111 04ee FFF7FEFF 		bl	shift_down
 6112              	.LVL476:
  86:src/keys.c    **** }
 6113              		.loc 1 86 2 is_stmt 1 view .LVU1958
  86:src/keys.c    **** }
 6114              		.loc 1 86 52 is_stmt 0 view .LVU1959
 6115 04f2 0146     		mov	r1, r0
 6116 04f4 08B9     		cbnz	r0, .L669
 6117 04f6 98F81010 		ldrb	r1, [r8, #16]	@ zero_extendqisi2
 6118              	.L669:
 6119              	.LVL477:
  86:src/keys.c    **** }
 6120              		.loc 1 86 52 view .LVU1960
 6121              	.LBE708:
 6122              	.LBE707:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 6123              		.loc 1 94 2 is_stmt 1 view .LVU1961
 6124              	.LBE706:
 6125              	.LBE705:
 6126              	.LBE711:
2354:src/keys.c    **** 		// Alpha catalogue from within multi character command
 6127              		.loc 1 2354 5 is_stmt 0 view .LVU1962
 6128 04fa 98F80E20 		ldrb	r2, [r8, #14]	@ zero_extendqisi2
 6129              	.LBB712:
 6130              	.LBB710:
 6131              	.LBB709:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 6132              		.loc 1 94 16 view .LVU1963
 6133 04fe 0023     		movs	r3, #0
 6134 0500 88F81030 		strb	r3, [r8, #16]
  95:src/keys.c    **** 	return r;
 6135              		.loc 1 95 2 is_stmt 1 view .LVU1964
  95:src/keys.c    **** 	return r;
 6136              		.loc 1 95 19 is_stmt 0 view .LVU1965
 6137 0504 88F80D30 		strb	r3, [r8, #13]
  96:src/keys.c    **** }
 6138              		.loc 1 96 2 is_stmt 1 view .LVU1966
 6139              	.LVL478:
  96:src/keys.c    **** }
 6140              		.loc 1 96 2 is_stmt 0 view .LVU1967
 6141              	.LBE709:
 6142              	.LBE710:
 6143              	.LBE712:
2351:src/keys.c    **** 	unsigned int opcode;
 6144              		.loc 1 2351 2 is_stmt 1 view .LVU1968
2352:src/keys.c    **** 
 6145              		.loc 1 2352 2 view .LVU1969
2354:src/keys.c    **** 		// Alpha catalogue from within multi character command
 6146              		.loc 1 2354 2 view .LVU1970
2354:src/keys.c    **** 		// Alpha catalogue from within multi character command
 6147              		.loc 1 2354 5 is_stmt 0 view .LVU1971
 6148 0508 002A     		cmp	r2, #0
 6149 050a 40F0D586 		bne	.L1105
2363:src/keys.c    **** 	case K20:	// Enter - exit multi mode, maybe return a result
 6150              		.loc 1 2363 2 is_stmt 1 view .LVU1972
ARM GAS  /tmp/cc90KtGY.s 			page 195


 6151 050e 102C     		cmp	r4, #16
 6152 0510 01F00B81 		beq	.L674
 6153 0514 242C     		cmp	r4, #36
 6154 0516 01F0F380 		beq	.L675
 6155 051a 0C2C     		cmp	r4, #12
 6156 051c 01F01681 		beq	.L1106
 6157              	.L676:
2396:src/keys.c    **** 	if (ch == 0)
 6158              		.loc 1 2396 2 view .LVU1973
 6159              	.LBB713:
 6160              	.LBB714:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 6161              		.loc 1 434 6 is_stmt 0 view .LVU1974
 6162 0520 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 6163              	.LVL479:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 6164              		.loc 1 434 6 view .LVU1975
 6165              	.LBE714:
 6166              	.LBI713:
 384:src/keys.c    **** {
 6167              		.loc 1 384 12 is_stmt 1 view .LVU1976
 6168              	.LBB719:
 386:src/keys.c    **** 		/*upper f-sft g-sft h-sft lower g-lower */
 6169              		.loc 1 386 2 view .LVU1977
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 6170              		.loc 1 434 2 view .LVU1978
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 6171              		.loc 1 434 5 is_stmt 0 view .LVU1979
 6172 0524 DA06     		lsls	r2, r3, #27
 6173 0526 03D5     		bpl	.L679
 435:src/keys.c    **** 			shift = SHIFT_LC_N;
 6174              		.loc 1 435 3 is_stmt 1 view .LVU1980
 435:src/keys.c    **** 			shift = SHIFT_LC_N;
 6175              		.loc 1 435 6 is_stmt 0 view .LVU1981
 6176 0528 0029     		cmp	r1, #0
 6177 052a 41F00583 		bne	.L1107
 436:src/keys.c    **** 		else if (shift == SHIFT_G)
 6178              		.loc 1 436 10 view .LVU1982
 6179 052e 0421     		movs	r1, #4
 6180              	.LVL480:
 6181              	.L679:
 440:src/keys.c    **** }
 6182              		.loc 1 440 2 is_stmt 1 view .LVU1983
 6183              	.LBB715:
 6184              	.LBI715:
 119:src/keys.c    **** {
 6185              		.loc 1 119 12 view .LVU1984
 6186              	.LBB716:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 6187              		.loc 1 121 2 view .LVU1985
 131:src/keys.c    **** }
 6188              		.loc 1 131 2 view .LVU1986
 131:src/keys.c    **** }
 6189              		.loc 1 131 23 is_stmt 0 view .LVU1987
 6190 0530 394B     		ldr	r3, .L1149+60
 6191              	.LBE716:
 6192              	.LBE715:
ARM GAS  /tmp/cc90KtGY.s 			page 196


 440:src/keys.c    **** }
 6193              		.loc 1 440 49 view .LVU1988
 6194 0532 3A4A     		ldr	r2, .L1149+64
 6195              	.LBB718:
 6196              	.LBB717:
 131:src/keys.c    **** }
 6197              		.loc 1 131 23 view .LVU1989
 6198 0534 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 6199              	.LBE717:
 6200              	.LBE718:
 440:src/keys.c    **** }
 6201              		.loc 1 440 49 view .LVU1990
 6202 0536 0620     		movs	r0, #6
 6203 0538 00FB0323 		mla	r3, r0, r3, r2
 6204              	.LBE719:
 6205              	.LBE713:
2396:src/keys.c    **** 	if (ch == 0)
 6206              		.loc 1 2396 5 view .LVU1991
 6207 053c 5B5C     		ldrb	r3, [r3, r1]	@ zero_extendqisi2
 6208              	.LVL481:
2397:src/keys.c    **** 		return STATE_UNFINISHED;
 6209              		.loc 1 2397 2 is_stmt 1 view .LVU1992
2397:src/keys.c    **** 		return STATE_UNFINISHED;
 6210              		.loc 1 2397 5 is_stmt 0 view .LVU1993
 6211 053e 002B     		cmp	r3, #0
 6212 0540 49D0     		beq	.L1061
 6213              	.L673:
2400:src/keys.c    **** 		State2.digval = ch;
 6214              		.loc 1 2400 2 is_stmt 1 view .LVU1994
2400:src/keys.c    **** 		State2.digval = ch;
 6215              		.loc 1 2400 12 is_stmt 0 view .LVU1995
 6216 0542 98F80B20 		ldrb	r2, [r8, #11]	@ zero_extendqisi2
2400:src/keys.c    **** 		State2.digval = ch;
 6217              		.loc 1 2400 5 view .LVU1996
 6218 0546 002A     		cmp	r2, #0
 6219 0548 01F01F81 		beq	.L1108
2404:src/keys.c    **** 		State2.digval2 = ch;
 6220              		.loc 1 2404 9 is_stmt 1 view .LVU1997
2404:src/keys.c    **** 		State2.digval2 = ch;
 6221              		.loc 1 2404 12 is_stmt 0 view .LVU1998
 6222 054c 012A     		cmp	r2, #1
 6223 054e 01F08881 		beq	.L1109
2409:src/keys.c    **** 
 6224              		.loc 1 2409 2 is_stmt 1 view .LVU1999
 6225              	.LBB721:
 6226              	.LBI721:
2342:src/keys.c    **** 	// Reset the multi flag and clear lowercase flag if not called from alpha mode
 6227              		.loc 1 2342 13 view .LVU2000
 6228              	.LBB722:
2344:src/keys.c    **** 	if (! State2.alphas )
 6229              		.loc 1 2344 2 view .LVU2001
2344:src/keys.c    **** 	if (! State2.alphas )
 6230              		.loc 1 2344 15 is_stmt 0 view .LVU2002
 6231 0552 98F81510 		ldrb	r1, [r8, #21]	@ zero_extendqisi2
2345:src/keys.c    **** 		State2.alphashift = 0;
 6232              		.loc 1 2345 6 view .LVU2003
 6233 0556 98F81620 		ldrb	r2, [r8, #22]	@ zero_extendqisi2
ARM GAS  /tmp/cc90KtGY.s 			page 197


2344:src/keys.c    **** 	if (! State2.alphas )
 6234              		.loc 1 2344 15 view .LVU2004
 6235 055a 6FF3C301 		bfc	r1, #3, #1
 6236 055e 88F81510 		strb	r1, [r8, #21]
2345:src/keys.c    **** 		State2.alphashift = 0;
 6237              		.loc 1 2345 2 is_stmt 1 view .LVU2005
2345:src/keys.c    **** 		State2.alphashift = 0;
 6238              		.loc 1 2345 5 is_stmt 0 view .LVU2006
 6239 0562 12F00801 		ands	r1, r2, #8
2346:src/keys.c    **** }
 6240              		.loc 1 2346 3 is_stmt 1 view .LVU2007
2346:src/keys.c    **** }
 6241              		.loc 1 2346 21 is_stmt 0 view .LVU2008
 6242 0566 04BF     		itt	eq
 6243 0568 61F30412 		bfieq	r2, r1, #4, #1
 6244 056c 88F81620 		strbeq	r2, [r8, #22]
 6245              	.LVL482:
 6246              	.L678:
2346:src/keys.c    **** }
 6247              		.loc 1 2346 21 view .LVU2009
 6248              	.LBE722:
 6249              	.LBE721:
2412:src/keys.c    **** 	       + State2.digval + (State2.digval2 << 16) + (ch << 24);
 6250              		.loc 1 2412 2 is_stmt 1 view .LVU2010
2414:src/keys.c    **** }
 6251              		.loc 1 2414 2 view .LVU2011
2412:src/keys.c    **** 	       + State2.digval + (State2.digval2 << 16) + (ch << 24);
 6252              		.loc 1 2412 21 is_stmt 0 view .LVU2012
 6253 0570 98F81FB0 		ldrb	fp, [r8, #31]	@ zero_extendqisi2
2413:src/keys.c    **** 	return opcode;
 6254              		.loc 1 2413 17 view .LVU2013
 6255 0574 B8F80810 		ldrh	r1, [r8, #8]
2413:src/keys.c    **** 	return opcode;
 6256              		.loc 1 2413 34 view .LVU2014
 6257 0578 98F80A20 		ldrb	r2, [r8, #10]	@ zero_extendqisi2
2412:src/keys.c    **** 	       + State2.digval + (State2.digval2 << 16) + (ch << 24);
 6258              		.loc 1 2412 29 view .LVU2015
 6259 057c 4FEA0B2B 		lsl	fp, fp, #8
2412:src/keys.c    **** 	       + State2.digval + (State2.digval2 << 16) + (ch << 24);
 6260              		.loc 1 2412 18 view .LVU2016
 6261 0580 0BF5704B 		add	fp, fp, #61440
2413:src/keys.c    **** 	return opcode;
 6262              		.loc 1 2413 9 view .LVU2017
 6263 0584 8B44     		add	fp, fp, r1
2413:src/keys.c    **** 	return opcode;
 6264              		.loc 1 2413 25 view .LVU2018
 6265 0586 0BEB024B 		add	fp, fp, r2, lsl #16
2412:src/keys.c    **** 	       + State2.digval + (State2.digval2 << 16) + (ch << 24);
 6266              		.loc 1 2412 9 view .LVU2019
 6267 058a 0BEB036B 		add	fp, fp, r3, lsl #24
 6268              	.LVL483:
 6269              	.L594:
2412:src/keys.c    **** 	       + State2.digval + (State2.digval2 << 16) + (ch << 24);
 6270              		.loc 1 2412 9 view .LVU2020
 6271              	.LBE730:
 6272              	.LBE737:
 6273              	.LBE1185:
ARM GAS  /tmp/cc90KtGY.s 			page 198


 6274              	.LBE1241:
3076:src/keys.c    ****     case STATE_SST:
 6275              		.loc 1 3076 5 is_stmt 1 view .LVU2021
 6276 058e ABF12B03 		sub	r3, fp, #43
 6277 0592 082B     		cmp	r3, #8
 6278 0594 00F2F480 		bhi	.L820
 6279 0598 01A2     		adr	r2, .L821
 6280 059a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6281 059e 00BF     		.p2align 2
 6282              	.L821:
 6283 05a0 21070000 		.word	.L826+1
 6284 05a4 21070000 		.word	.L826+1
 6285 05a8 81070000 		.word	.L820+1
 6286 05ac 51070000 		.word	.L756+1
 6287 05b0 37070000 		.word	.L755+1
 6288 05b4 6B070000 		.word	.L752+1
 6289 05b8 9D010000 		.word	.L574+1
 6290 05bc A9000000 		.word	.L565+1
 6291 05c0 A9000000 		.word	.L565+1
 6292              	.LVL484:
 6293              		.p2align 1
 6294              	.L814:
 6295              	.LBB1242:
 6296              	.LBB1186:
 6297              	.LBB738:
 6298              	.LBB671:
 829:src/keys.c    **** 		break;
 6299              		.loc 1 829 3 view .LVU2022
 6300              	.LBB668:
 6301              	.LBI668:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 6302              		.loc 1 501 13 view .LVU2023
 6303              	.LBB669:
 502:src/keys.c    **** 		return;
 6304              		.loc 1 502 2 view .LVU2024
 502:src/keys.c    **** 		return;
 6305              		.loc 1 502 6 is_stmt 0 view .LVU2025
 6306 05c4 FFF7FEFF 		bl	is_bad_cmdline
 6307              	.LVL485:
 502:src/keys.c    **** 		return;
 6308              		.loc 1 502 5 view .LVU2026
 6309 05c8 0446     		mov	r4, r0
 6310 05ca 20B9     		cbnz	r0, .L1061
 6311 05cc 5FFA8AF0 		uxtb	r0, r10
 6312 05d0 FFF7FEFF 		bl	init_arg.part.0
 6313              	.LVL486:
 6314              	.LBE669:
 6315              	.LBE668:
 6316              	.LBE671:
 6317              	.LBE738:
 6318              	.LBE1186:
 6319              	.LBE1242:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 6320              		.loc 1 2919 7 view .LVU2027
 6321 05d4 2746     		mov	r7, r4
 6322              	.LVL487:
 6323              	.L1061:
ARM GAS  /tmp/cc90KtGY.s 			page 199


 6324              	.LBB1243:
 6325              	.LBB1187:
 6326              	.LBB739:
 6327              	.LBB740:
2749:src/keys.c    **** }
 6328              		.loc 1 2749 2 is_stmt 1 view .LVU2028
2749:src/keys.c    **** }
 6329              		.loc 1 2749 9 is_stmt 0 view .LVU2029
 6330 05d6 4FF0330B 		mov	fp, #51
 6331 05da 65E5     		b	.L565
 6332              	.L1150:
 6333              		.align	2
 6334              	.L1149:
 6335 05dc 00000000 		.word	main_ram
 6336 05e0 00000000 		.word	.LANCHOR18
 6337 05e4 00000000 		.word	.LANCHOR22
 6338 05e8 00000000 		.word	JustDisplayed
 6339 05ec 00000000 		.word	StateWhileOn
 6340 05f0 00000000 		.word	DispMsg
 6341 05f4 0C000000 		.word	.LC2
 6342 05f8 00000000 		.word	Running
 6343 05fc 00000000 		.word	ShowRPN
 6344 0600 00000000 		.word	WasDataEntry
 6345 0604 04000000 		.word	.LC1
 6346 0608 00000000 		.word	.LANCHOR13
 6347 060c 00000000 		.word	NonProgrammable
 6348 0610 00000000 		.word	OpCode
 6349 0614 00000000 		.word	OpCodeDisplayPending
 6350 0618 00000000 		.word	.LANCHOR1
 6351 061c 00000000 		.word	.LANCHOR9
 6352              	.LVL488:
 6353              	.L811:
2749:src/keys.c    **** }
 6354              		.loc 1 2749 9 view .LVU2030
 6355              	.LBE740:
 6356              	.LBE739:
 6357              	.LBB773:
 6358              	.LBB672:
 816:src/keys.c    **** 		break;
 6359              		.loc 1 816 3 is_stmt 1 view .LVU2031
 816:src/keys.c    **** 		break;
 6360              		.loc 1 816 16 is_stmt 0 view .LVU2032
 6361 0620 98F81530 		ldrb	r3, [r8, #21]	@ zero_extendqisi2
 6362 0624 43F00203 		orr	r3, r3, #2
 6363 0628 88F81530 		strb	r3, [r8, #21]
 817:src/keys.c    **** 
 6364              		.loc 1 817 3 is_stmt 1 view .LVU2033
 835:src/keys.c    **** }
 6365              		.loc 1 835 9 is_stmt 0 view .LVU2034
 6366 062c 4FF0330B 		mov	fp, #51
 817:src/keys.c    **** 
 6367              		.loc 1 817 3 view .LVU2035
 6368 0630 3AE5     		b	.L565
 6369              	.L813:
 798:src/keys.c    **** 			return STATE_UNFINISHED;
 6370              		.loc 1 798 3 is_stmt 1 view .LVU2036
 798:src/keys.c    **** 			return STATE_UNFINISHED;
ARM GAS  /tmp/cc90KtGY.s 			page 200


 6371              		.loc 1 798 7 is_stmt 0 view .LVU2037
 6372 0632 FFF7FEFF 		bl	is_bad_cmdline
 6373              	.LVL489:
 798:src/keys.c    **** 			return STATE_UNFINISHED;
 6374              		.loc 1 798 6 view .LVU2038
 6375 0636 0446     		mov	r4, r0
 6376 0638 0028     		cmp	r0, #0
 6377 063a CCD1     		bne	.L1061
 800:src/keys.c    **** 		State2.arrow = 1;
 6378              		.loc 1 800 3 is_stmt 1 view .LVU2039
 6379 063c FFF7FEFF 		bl	process_cmdline_set_lift
 6380              	.LVL490:
 801:src/keys.c    **** #ifdef DM42
 6381              		.loc 1 801 3 view .LVU2040
 801:src/keys.c    **** #ifdef DM42
 6382              		.loc 1 801 16 is_stmt 0 view .LVU2041
 6383 0640 98F81530 		ldrb	r3, [r8, #21]	@ zero_extendqisi2
 803:src/keys.c    **** 		display_current_menu ();
 6384              		.loc 1 803 3 view .LVU2042
 6385 0644 0920     		movs	r0, #9
 801:src/keys.c    **** #ifdef DM42
 6386              		.loc 1 801 16 view .LVU2043
 6387 0646 43F00403 		orr	r3, r3, #4
 6388 064a 88F81530 		strb	r3, [r8, #21]
 803:src/keys.c    **** 		display_current_menu ();
 6389              		.loc 1 803 3 is_stmt 1 view .LVU2044
 6390 064e FFF7FEFF 		bl	set_menu
 6391              	.LVL491:
 804:src/keys.c    **** 		lcd_refresh ();
 6392              		.loc 1 804 3 view .LVU2045
 6393 0652 FFF7FEFF 		bl	display_current_menu
 6394              	.LVL492:
 805:src/keys.c    **** #else
 6395              		.loc 1 805 3 view .LVU2046
 6396 0656 BB4B     		ldr	r3, .L1151
 6397 0658 9847     		blx	r3
 6398              	.LVL493:
 809:src/keys.c    **** 
 6399              		.loc 1 809 3 view .LVU2047
 6400              	.LBE672:
 6401              	.LBE773:
 6402              	.LBE1187:
 6403              	.LBE1243:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 6404              		.loc 1 2919 7 is_stmt 0 view .LVU2048
 6405 065a 2746     		mov	r7, r4
 6406              	.LBB1244:
 6407              	.LBB1188:
 6408              	.LBB774:
 6409              	.LBB673:
 835:src/keys.c    **** }
 6410              		.loc 1 835 9 view .LVU2049
 6411 065c 4FF0330B 		mov	fp, #51
 809:src/keys.c    **** 
 6412              		.loc 1 809 3 view .LVU2050
 6413 0660 22E5     		b	.L565
 6414              	.L815:
ARM GAS  /tmp/cc90KtGY.s 			page 201


 820:src/keys.c    **** 			return STATE_UNFINISHED;
 6415              		.loc 1 820 3 is_stmt 1 view .LVU2051
 820:src/keys.c    **** 			return STATE_UNFINISHED;
 6416              		.loc 1 820 6 is_stmt 0 view .LVU2052
 6417 0662 8806     		lsls	r0, r1, #26
 6418 0664 B7D4     		bmi	.L1061
 822:src/keys.c    **** 			return op;
 6419              		.loc 1 822 3 is_stmt 1 view .LVU2053
 822:src/keys.c    **** 			return op;
 6420              		.loc 1 822 6 is_stmt 0 view .LVU2054
 6421 0666 5906     		lsls	r1, r3, #25
 6422 0668 00F19F80 		bmi	.L819
 6423              	.LVL494:
 6424              	.L827:
 822:src/keys.c    **** 			return op;
 6425              		.loc 1 822 6 view .LVU2055
 6426              	.LBE673:
 6427              	.LBE774:
 6428              	.LBE1188:
 6429              	.LBE1244:
3089:src/keys.c    ****       else if (State2.alphas) {
 6430              		.loc 1 3089 2 is_stmt 1 view .LVU2056
 6431 066c FFF7FEFF 		bl	delprog
 6432              	.LVL495:
 6433 0670 4FF0300B 		mov	fp, #48
 6434 0674 18E5     		b	.L565
 6435              	.LVL496:
 6436              	.L817:
 6437              	.LBB1245:
 6438              	.LBB1189:
 6439              	.LBB775:
 6440              	.LBB674:
 772:src/keys.c    **** 	case K03:
 6441              		.loc 1 772 3 view .LVU2057
 772:src/keys.c    **** 	case K03:
 6442              		.loc 1 772 10 is_stmt 0 view .LVU2058
 6443 0676 5146     		mov	r1, r10
 6444 0678 0120     		movs	r0, #1
 6445 067a FFF7FEFF 		bl	check_f_key
 6446              	.LVL497:
 6447 067e 8346     		mov	fp, r0
 6448 0680 85E7     		b	.L594
 6449              	.L816:
 774:src/keys.c    **** #else
 6450              		.loc 1 774 3 is_stmt 1 view .LVU2059
 774:src/keys.c    **** #else
 6451              		.loc 1 774 10 is_stmt 0 view .LVU2060
 6452 0682 5146     		mov	r1, r10
 6453 0684 0220     		movs	r0, #2
 6454 0686 FFF7FEFF 		bl	check_f_key
 6455              	.LVL498:
 6456 068a 8346     		mov	fp, r0
 6457 068c 7FE7     		b	.L594
 6458              	.L818:
 770:src/keys.c    **** 	case K01:
 6459              		.loc 1 770 3 is_stmt 1 view .LVU2061
 770:src/keys.c    **** 	case K01:
ARM GAS  /tmp/cc90KtGY.s 			page 202


 6460              		.loc 1 770 10 is_stmt 0 view .LVU2062
 6461 068e 5146     		mov	r1, r10
 6462 0690 0020     		movs	r0, #0
 6463 0692 FFF7FEFF 		bl	check_f_key
 6464              	.LVL499:
 6465 0696 8346     		mov	fp, r0
 6466 0698 79E7     		b	.L594
 6467              	.L802:
 755:src/keys.c    **** 	    if (intltr(15)) {
 6468              		.loc 1 755 6 is_stmt 1 view .LVU2063
 6469              	.LVL500:
 756:src/keys.c    **** 	      return op_int;
 6470              		.loc 1 756 6 view .LVU2064
 756:src/keys.c    **** 	      return op_int;
 6471              		.loc 1 756 10 is_stmt 0 view .LVU2065
 6472 069a 0F20     		movs	r0, #15
 6473 069c FFF7FEFF 		bl	intltr
 6474              	.LVL501:
 756:src/keys.c    **** 	      return op_int;
 6475              		.loc 1 756 9 view .LVU2066
 6476 06a0 0028     		cmp	r0, #0
 6477 06a2 41F0A580 		bne	.L810
 760:src/keys.c    **** 	    }
 6478              		.loc 1 760 8 is_stmt 1 view .LVU2067
 760:src/keys.c    **** 	    }
 6479              		.loc 1 760 15 is_stmt 0 view .LVU2068
 6480 06a6 5146     		mov	r1, r10
 6481 06a8 0520     		movs	r0, #5
 6482 06aa FFF7FEFF 		bl	check_f_key
 6483              	.LVL502:
 6484 06ae 8346     		mov	fp, r0
 6485 06b0 6DE7     		b	.L594
 6486              	.LVL503:
 6487              	.L804:
 747:src/keys.c    **** 	    if (intltr(12)) {
 6488              		.loc 1 747 6 is_stmt 1 view .LVU2069
 748:src/keys.c    **** 	      return op_int;
 6489              		.loc 1 748 6 view .LVU2070
 748:src/keys.c    **** 	      return op_int;
 6490              		.loc 1 748 10 is_stmt 0 view .LVU2071
 6491 06b2 0C20     		movs	r0, #12
 6492 06b4 FFF7FEFF 		bl	intltr
 6493              	.LVL504:
 748:src/keys.c    **** 	      return op_int;
 6494              		.loc 1 748 9 view .LVU2072
 6495 06b8 0028     		cmp	r0, #0
 6496 06ba E2D0     		beq	.L816
 6497              	.LVL505:
 748:src/keys.c    **** 	      return op_int;
 6498              		.loc 1 748 9 view .LVU2073
 6499              	.LBE674:
 6500              	.LBE775:
 6501              	.LBE1189:
 6502              	.LBE1245:
3112:src/keys.c    **** 	NonProgrammable = 0;
 6503              		.loc 1 3112 7 is_stmt 1 view .LVU2074
3112:src/keys.c    **** 	NonProgrammable = 0;
ARM GAS  /tmp/cc90KtGY.s 			page 203


 6504              		.loc 1 3112 11 is_stmt 0 view .LVU2075
 6505 06bc 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3112:src/keys.c    **** 	NonProgrammable = 0;
 6506              		.loc 1 3112 10 view .LVU2076
 6507 06c0 5C06     		lsls	r4, r3, #25
 6508 06c2 41F11682 		bpl	.L883
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 6509              		.loc 1 3113 2 is_stmt 1 view .LVU2077
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 6510              		.loc 1 3113 18 is_stmt 0 view .LVU2078
 6511 06c6 A04B     		ldr	r3, .L1151+4
 6512 06c8 0022     		movs	r2, #0
 6513              	.LBB1246:
 6514              	.LBB1190:
 6515              	.LBB776:
 6516              	.LBB675:
 749:src/keys.c    **** 	    }
 6517              		.loc 1 749 15 view .LVU2079
 6518 06ca 4FF0110B 		mov	fp, #17
 6519              	.LBE675:
 6520              	.LBE776:
 6521              	.LBE1190:
 6522              	.LBE1246:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 6523              		.loc 1 3113 18 view .LVU2080
 6524 06ce 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 6525              		.loc 1 3114 2 is_stmt 1 view .LVU2081
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 6526              		.loc 1 3114 32 is_stmt 0 view .LVU2082
 6527 06d0 5846     		mov	r0, fp
 6528              	.LVL506:
 6529              	.L833:
3118:src/keys.c    **** #endif
 6530              		.loc 1 3118 6 is_stmt 1 view .LVU2083
3120:src/keys.c    **** 	    xeq(c);
 6531              		.loc 1 3120 37 is_stmt 0 view .LVU2084
 6532 06d2 98F81C70 		ldrb	r7, [r8, #28]	@ zero_extendqisi2
3118:src/keys.c    **** #endif
 6533              		.loc 1 3118 19 view .LVU2085
 6534 06d6 0123     		movs	r3, #1
 6535 06d8 C9F80030 		str	r3, [r9]
3120:src/keys.c    **** 	    xeq(c);
 6536              		.loc 1 3120 6 is_stmt 1 view .LVU2086
3120:src/keys.c    **** 	    xeq(c);
 6537              		.loc 1 3120 37 is_stmt 0 view .LVU2087
 6538 06dc B7FA87F7 		clz	r7, r7
3121:src/keys.c    **** 	    cmdline_empty |= (CmdLineLength == 0);
 6539              		.loc 1 3121 6 view .LVU2088
 6540 06e0 FFF7FEFF 		bl	xeq
 6541              	.LVL507:
3122:src/keys.c    **** 	  }
 6542              		.loc 1 3122 38 view .LVU2089
 6543 06e4 98F81C30 		ldrb	r3, [r8, #28]	@ zero_extendqisi2
3120:src/keys.c    **** 	    xeq(c);
 6544              		.loc 1 3120 37 view .LVU2090
 6545 06e8 7F09     		lsrs	r7, r7, #5
ARM GAS  /tmp/cc90KtGY.s 			page 204


 6546              	.LVL508:
3121:src/keys.c    **** 	    cmdline_empty |= (CmdLineLength == 0);
 6547              		.loc 1 3121 6 is_stmt 1 view .LVU2091
3122:src/keys.c    **** 	  }
 6548              		.loc 1 3122 6 view .LVU2092
3122:src/keys.c    **** 	  }
 6549              		.loc 1 3122 20 is_stmt 0 view .LVU2093
 6550 06ea 002B     		cmp	r3, #0
 6551 06ec 08BF     		it	eq
 6552 06ee 0127     		moveq	r7, #1
 6553              	.LVL509:
3122:src/keys.c    **** 	  }
 6554              		.loc 1 3122 20 view .LVU2094
 6555 06f0 DAE4     		b	.L565
 6556              	.LVL510:
 6557              	.L805:
 6558              	.LBB1247:
 6559              	.LBB1191:
 6560              	.LBB777:
 6561              	.LBB676:
 739:src/keys.c    **** 	    if (intltr(11)) {
 6562              		.loc 1 739 6 is_stmt 1 view .LVU2095
 740:src/keys.c    **** 	      return op;
 6563              		.loc 1 740 6 view .LVU2096
 740:src/keys.c    **** 	      return op;
 6564              		.loc 1 740 10 is_stmt 0 view .LVU2097
 6565 06f2 0B20     		movs	r0, #11
 6566 06f4 FFF7FEFF 		bl	intltr
 6567              	.LVL511:
 740:src/keys.c    **** 	      return op;
 6568              		.loc 1 740 9 view .LVU2098
 6569 06f8 0028     		cmp	r0, #0
 6570 06fa 41F07481 		bne	.L808
 744:src/keys.c    **** 	    }
 6571              		.loc 1 744 8 is_stmt 1 view .LVU2099
 744:src/keys.c    **** 	    }
 6572              		.loc 1 744 15 is_stmt 0 view .LVU2100
 6573 06fe 1021     		movs	r1, #16
 6574 0700 0120     		movs	r0, #1
 6575 0702 FFF7FEFF 		bl	check_f_key
 6576              	.LVL512:
 6577 0706 8346     		mov	fp, r0
 6578 0708 41E7     		b	.L594
 6579              	.LVL513:
 6580              	.L806:
 731:src/keys.c    **** 	    if (intltr(10)) {
 6581              		.loc 1 731 6 is_stmt 1 view .LVU2101
 732:src/keys.c    **** 	      return op;
 6582              		.loc 1 732 6 view .LVU2102
 732:src/keys.c    **** 	      return op;
 6583              		.loc 1 732 10 is_stmt 0 view .LVU2103
 6584 070a 0A20     		movs	r0, #10
 6585 070c FFF7FEFF 		bl	intltr
 6586              	.LVL514:
 732:src/keys.c    **** 	      return op;
 6587              		.loc 1 732 9 view .LVU2104
 6588 0710 0028     		cmp	r0, #0
ARM GAS  /tmp/cc90KtGY.s 			page 205


 6589 0712 41F0C080 		bne	.L807
 736:src/keys.c    **** 	    }
 6590              		.loc 1 736 8 is_stmt 1 view .LVU2105
 736:src/keys.c    **** 	    }
 6591              		.loc 1 736 15 is_stmt 0 view .LVU2106
 6592 0716 0F21     		movs	r1, #15
 6593 0718 FFF7FEFF 		bl	check_f_key
 6594              	.LVL515:
 6595 071c 8346     		mov	fp, r0
 6596 071e 36E7     		b	.L594
 6597              	.LVL516:
 6598              	.L826:
 736:src/keys.c    **** 	    }
 6599              		.loc 1 736 15 view .LVU2107
 6600              	.LBE676:
 6601              	.LBE777:
 6602              	.LBE1191:
 6603              	.LBE1247:
3103:src/keys.c    **** 	set_window(c);
 6604              		.loc 1 3103 7 is_stmt 1 view .LVU2108
3103:src/keys.c    **** 	set_window(c);
 6605              		.loc 1 3103 12 is_stmt 0 view .LVU2109
 6606 0720 FFF7FEFF 		bl	is_bad_cmdline
 6607              	.LVL517:
3103:src/keys.c    **** 	set_window(c);
 6608              		.loc 1 3103 10 view .LVU2110
 6609 0724 0346     		mov	r3, r0
 6610 0726 0028     		cmp	r0, #0
 6611 0728 7FF4BEAC 		bne	.L565
3104:src/keys.c    ****       break;
 6612              		.loc 1 3104 2 is_stmt 1 view .LVU2111
 6613 072c 5846     		mov	r0, fp
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 6614              		.loc 1 2919 7 is_stmt 0 view .LVU2112
 6615 072e 1F46     		mov	r7, r3
3104:src/keys.c    ****       break;
 6616              		.loc 1 3104 2 view .LVU2113
 6617 0730 FFF7FEFF 		bl	set_window
 6618              	.LVL518:
 6619 0734 B8E4     		b	.L565
 6620              	.LVL519:
 6621              	.L755:
3084:src/keys.c    ****       break;
 6622              		.loc 1 3084 7 is_stmt 1 view .LVU2114
 6623 0736 4FF0FF30 		mov	r0, #-1
 6624 073a FFF7FEFF 		bl	xeq_sst_bst
 6625              	.LVL520:
3085:src/keys.c    **** 
 6626              		.loc 1 3085 7 view .LVU2115
 6627 073e 4FF02F0B 		mov	fp, #47
 6628 0742 B1E4     		b	.L565
 6629              	.LVL521:
 6630              	.L744:
 6631              	.LBB1248:
 6632              	.LBB1192:
 6633              	.LBB778:
 6634              	.LBB779:
ARM GAS  /tmp/cc90KtGY.s 			page 206


1446:src/keys.c    **** 			if ( State2.runmode ) {
 6635              		.loc 1 1446 3 view .LVU2116
1446:src/keys.c    **** 			if ( State2.runmode ) {
 6636              		.loc 1 1446 6 is_stmt 0 view .LVU2117
 6637 0744 0028     		cmp	r0, #0
 6638 0746 40F0AF85 		bne	.L740
1447:src/keys.c    **** 				// Alpha scroll right
 6639              		.loc 1 1447 4 is_stmt 1 view .LVU2118
1447:src/keys.c    **** 				// Alpha scroll right
 6640              		.loc 1 1447 7 is_stmt 0 view .LVU2119
 6641 074a 5806     		lsls	r0, r3, #25
 6642              	.LVL522:
1447:src/keys.c    **** 				// Alpha scroll right
 6643              		.loc 1 1447 7 view .LVU2120
 6644 074c 3FF543AF 		bmi	.L1061
 6645              	.LVL523:
 6646              	.L756:
1447:src/keys.c    **** 				// Alpha scroll right
 6647              		.loc 1 1447 7 view .LVU2121
 6648              	.LBE779:
 6649              	.LBE778:
 6650              	.LBE1192:
 6651              	.LBE1248:
3078:src/keys.c    ****       OpCodeDisplayPending = 0;
 6652              		.loc 1 3078 7 is_stmt 1 view .LVU2122
3078:src/keys.c    ****       OpCodeDisplayPending = 0;
 6653              		.loc 1 3078 14 is_stmt 0 view .LVU2123
 6654 0750 7E49     		ldr	r1, .L1151+8
3079:src/keys.c    ****       xeq_sst_bst(0);
 6655              		.loc 1 3079 28 view .LVU2124
 6656 0752 7F4A     		ldr	r2, .L1151+12
3078:src/keys.c    ****       OpCodeDisplayPending = 0;
 6657              		.loc 1 3078 14 view .LVU2125
 6658 0754 2E23     		movs	r3, #46
3079:src/keys.c    ****       xeq_sst_bst(0);
 6659              		.loc 1 3079 28 view .LVU2126
 6660 0756 0020     		movs	r0, #0
3078:src/keys.c    ****       OpCodeDisplayPending = 0;
 6661              		.loc 1 3078 14 view .LVU2127
 6662 0758 0B60     		str	r3, [r1]
3079:src/keys.c    ****       xeq_sst_bst(0);
 6663              		.loc 1 3079 7 is_stmt 1 view .LVU2128
3081:src/keys.c    **** 
 6664              		.loc 1 3081 7 is_stmt 0 view .LVU2129
 6665 075a 9B46     		mov	fp, r3
3079:src/keys.c    ****       xeq_sst_bst(0);
 6666              		.loc 1 3079 28 view .LVU2130
 6667 075c 1060     		str	r0, [r2]
3080:src/keys.c    ****       break;
 6668              		.loc 1 3080 7 is_stmt 1 view .LVU2131
 6669 075e FFF7FEFF 		bl	xeq_sst_bst
 6670              	.LVL524:
3081:src/keys.c    **** 
 6671              		.loc 1 3081 7 view .LVU2132
 6672 0762 A1E4     		b	.L565
 6673              	.LVL525:
 6674              	.L746:
ARM GAS  /tmp/cc90KtGY.s 			page 207


 6675              	.LBB1249:
 6676              	.LBB1193:
 6677              	.LBB835:
 6678              	.LBB822:
1427:src/keys.c    **** 			return STATE_BACKSPACE;
 6679              		.loc 1 1427 3 view .LVU2133
1427:src/keys.c    **** 			return STATE_BACKSPACE;
 6680              		.loc 1 1427 6 is_stmt 0 view .LVU2134
 6681 0764 0028     		cmp	r0, #0
 6682 0766 41F09E81 		bne	.L753
 6683              	.LVL526:
 6684              	.L752:
1427:src/keys.c    **** 			return STATE_BACKSPACE;
 6685              		.loc 1 1427 6 view .LVU2135
 6686              	.LBE822:
 6687              	.LBE835:
 6688              	.LBE1193:
 6689              	.LBE1249:
3088:src/keys.c    **** 	delprog();
 6690              		.loc 1 3088 7 is_stmt 1 view .LVU2136
3088:src/keys.c    **** 	delprog();
 6691              		.loc 1 3088 11 is_stmt 0 view .LVU2137
 6692 076a 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3088:src/keys.c    **** 	delprog();
 6693              		.loc 1 3088 10 view .LVU2138
 6694 076e 5A06     		lsls	r2, r3, #25
 6695 0770 7FF57CAF 		bpl	.L827
3090:src/keys.c    **** 	char *p = find_char(Alpha, '\0');
 6696              		.loc 1 3090 12 is_stmt 1 view .LVU2139
3090:src/keys.c    **** 	char *p = find_char(Alpha, '\0');
 6697              		.loc 1 3090 15 is_stmt 0 view .LVU2140
 6698 0774 1C07     		lsls	r4, r3, #28
 6699 0776 00F1D580 		bmi	.L828
 6700              	.L1056:
 6701              	.LBB1250:
3093:src/keys.c    ****       }
 6702              		.loc 1 3093 9 view .LVU2141
 6703 077a 4FF0300B 		mov	fp, #48
 6704 077e 93E4     		b	.L565
 6705              	.LVL527:
 6706              	.L820:
3093:src/keys.c    ****       }
 6707              		.loc 1 3093 9 view .LVU2142
 6708              	.LBE1250:
3112:src/keys.c    **** 	NonProgrammable = 0;
 6709              		.loc 1 3112 7 is_stmt 1 view .LVU2143
3112:src/keys.c    **** 	NonProgrammable = 0;
 6710              		.loc 1 3112 11 is_stmt 0 view .LVU2144
 6711 0780 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3112:src/keys.c    **** 	NonProgrammable = 0;
 6712              		.loc 1 3112 10 view .LVU2145
 6713 0784 5C06     		lsls	r4, r3, #25
 6714 0786 34D5     		bpl	.L834
 6715 0788 6F4A     		ldr	r2, .L1151+4
 6716 078a 5846     		mov	r0, fp
 6717              	.LVL528:
 6718              	.L835:
ARM GAS  /tmp/cc90KtGY.s 			page 208


3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 6719              		.loc 1 3113 2 is_stmt 1 view .LVU2146
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 6720              		.loc 1 3113 18 is_stmt 0 view .LVU2147
 6721 078c 0023     		movs	r3, #0
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 6722              		.loc 1 3114 5 view .LVU2148
 6723 078e 1428     		cmp	r0, #20
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 6724              		.loc 1 3113 18 view .LVU2149
 6725 0790 1360     		str	r3, [r2]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 6726              		.loc 1 3114 2 is_stmt 1 view .LVU2150
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 6727              		.loc 1 3114 5 is_stmt 0 view .LVU2151
 6728 0792 3FF688AE 		bhi	.L831
3115:src/keys.c    **** 	    // Data entry key
 6729              		.loc 1 3115 4 is_stmt 1 view .LVU2152
3115:src/keys.c    **** 	    // Data entry key
 6730              		.loc 1 3115 7 is_stmt 0 view .LVU2153
 6731 0796 BBF1000F 		cmp	fp, #0
 6732 079a 9AD1     		bne	.L833
3115:src/keys.c    **** 	    // Data entry key
 6733              		.loc 1 3115 38 discriminator 1 view .LVU2154
 6734 079c FFF7FEFF 		bl	is_bad_cmdline
 6735              	.LVL529:
3115:src/keys.c    **** 	    // Data entry key
 6736              		.loc 1 3115 34 discriminator 1 view .LVU2155
 6737 07a0 0028     		cmp	r0, #0
 6738 07a2 40F05C81 		bne	.L888
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 6739              		.loc 1 3114 32 view .LVU2156
 6740 07a6 5846     		mov	r0, fp
 6741 07a8 93E7     		b	.L833
 6742              	.LVL530:
 6743              	.L819:
3076:src/keys.c    ****     case STATE_SST:
 6744              		.loc 1 3076 5 is_stmt 1 view .LVU2157
 6745 07aa AAF12B03 		sub	r3, r10, #43
 6746 07ae 082B     		cmp	r3, #8
 6747 07b0 14D8     		bhi	.L847
 6748 07b2 01A2     		adr	r2, .L848
 6749 07b4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6750              		.p2align 2
 6751              	.L848:
 6752 07b8 21070000 		.word	.L826+1
 6753 07bc 21070000 		.word	.L826+1
 6754 07c0 DD070000 		.word	.L847+1
 6755 07c4 51070000 		.word	.L756+1
 6756 07c8 37070000 		.word	.L755+1
 6757 07cc 6B070000 		.word	.L752+1
 6758 07d0 9D010000 		.word	.L574+1
 6759 07d4 A9000000 		.word	.L565+1
 6760 07d8 A9000000 		.word	.L565+1
 6761              		.p2align 1
 6762              	.L847:
 6763 07dc 5A4A     		ldr	r2, .L1151+4
ARM GAS  /tmp/cc90KtGY.s 			page 209


 6764 07de 5046     		mov	r0, r10
 6765 07e0 D4E7     		b	.L835
 6766              	.LVL531:
 6767              	.L1081:
 6768              	.LBB1251:
 6769              	.LBB1194:
2799:src/keys.c    **** 		CmdLineLength = 0;
 6770              		.loc 1 2799 26 is_stmt 0 view .LVU2158
 6771 07e2 FFF7FEFF 		bl	keyticks
 6772              	.LVL532:
2799:src/keys.c    **** 		CmdLineLength = 0;
 6773              		.loc 1 2799 23 view .LVU2159
 6774 07e6 1E28     		cmp	r0, #30
2800:src/keys.c    **** 	/*
 6775              		.loc 1 2800 3 is_stmt 1 view .LVU2160
2800:src/keys.c    **** 	/*
 6776              		.loc 1 2800 17 is_stmt 0 view .LVU2161
 6777 07e8 C4BF     		itt	gt
 6778 07ea 0023     		movgt	r3, #0
 6779 07ec 88F81C30 		strbgt	r3, [r8, #28]
 6780 07f0 07E5     		b	.L581
 6781              	.LVL533:
 6782              	.L834:
2800:src/keys.c    **** 	/*
 6783              		.loc 1 2800 17 view .LVU2162
 6784              	.LBE1194:
 6785              	.LBE1251:
3112:src/keys.c    **** 	NonProgrammable = 0;
 6786              		.loc 1 3112 26 view .LVU2163
 6787 07f2 554A     		ldr	r2, .L1151+4
 6788 07f4 1368     		ldr	r3, [r2]
 6789 07f6 5846     		mov	r0, fp
 6790 07f8 002B     		cmp	r3, #0
 6791 07fa C7D1     		bne	.L835
 6792              	.LVL534:
 6793              	.L836:
3134:src/keys.c    ****       }
 6794              		.loc 1 3134 2 is_stmt 1 view .LVU2164
 6795 07fc FFF7FEFF 		bl	stoprog
 6796              	.LVL535:
 6797 0800 52E4     		b	.L565
 6798              	.LVL536:
 6799              	.L567:
3054:src/keys.c    **** 	}
 6800              		.loc 1 3054 4 view .LVU2165
 6801              		.loc 1 3153 1 is_stmt 0 view .LVU2166
 6802 0802 03B0     		add	sp, sp, #12
 6803              		.cfi_remember_state
 6804              		.cfi_def_cfa_offset 36
 6805              		@ sp needed
 6806 0804 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6807              		.cfi_restore 14
 6808              		.cfi_restore 11
 6809              		.cfi_restore 10
 6810              		.cfi_restore 9
 6811              		.cfi_restore 8
 6812              		.cfi_restore 7
ARM GAS  /tmp/cc90KtGY.s 			page 210


 6813              		.cfi_restore 6
 6814              		.cfi_restore 5
 6815              		.cfi_restore 4
 6816              		.cfi_def_cfa_offset 0
3054:src/keys.c    **** 	}
 6817              		.loc 1 3054 4 view .LVU2167
 6818 0808 FFF7FEBF 		b	finish_RPN
 6819              	.LVL537:
 6820              	.L544:
 6821              		.cfi_restore_state
2952:src/keys.c    **** 	    DispMsg = TraceBuffer;
 6822              		.loc 1 2952 6 is_stmt 1 view .LVU2168
 6823 080c 514F     		ldr	r7, .L1151+16
 6824 080e 3946     		mov	r1, r7
 6825 0810 FFF7FEFF 		bl	prt
 6826              	.LVL538:
 6827 0814 3246     		mov	r2, r6
 6828 0816 0146     		mov	r1, r0
 6829 0818 3846     		mov	r0, r7
 6830 081a FFF7FEFF 		bl	scopy_char
 6831              	.LVL539:
2953:src/keys.c    **** 	  }
 6832              		.loc 1 2953 6 view .LVU2169
2953:src/keys.c    **** 	  }
 6833              		.loc 1 2953 14 is_stmt 0 view .LVU2170
 6834 081e 4E4B     		ldr	r3, .L1151+20
 6835 0820 1F60     		str	r7, [r3]
 6836 0822 84E4     		b	.L545
 6837              	.LVL540:
 6838              	.L1082:
 6839              	.LBB1252:
 6840              	.LBB1195:
2806:src/keys.c    **** 
 6841              		.loc 1 2806 3 is_stmt 1 view .LVU2171
 6842              	.LBB836:
 6843              	.LBI836:
2420:src/keys.c    **** 	// Optimization hint: a switch is shorter then a table of function pointers!
 6844              		.loc 1 2420 12 view .LVU2172
 6845              	.LBB837:
2422:src/keys.c    **** #ifdef DM42
 6846              		.loc 1 2422 2 view .LVU2173
 6847 0824 E4B2     		uxtb	r4, r4
 6848              	.LVL541:
2422:src/keys.c    **** #ifdef DM42
 6849              		.loc 1 2422 2 is_stmt 0 view .LVU2174
 6850 0826 0E3C     		subs	r4, r4, #14
 6851 0828 192C     		cmp	r4, #25
 6852 082a 3FF6D4AE 		bhi	.L1061
 6853 082e 01A3     		adr	r3, .L586
 6854 0830 53F824F0 		ldr	pc, [r3, r4, lsl #2]
 6855              		.p2align 2
 6856              	.L586:
 6857 0834 A1080000 		.word	.L587+1
 6858 0838 D7050000 		.word	.L1061+1
 6859 083c A1080000 		.word	.L587+1
 6860 0840 D7050000 		.word	.L1061+1
 6861 0844 D7050000 		.word	.L1061+1
ARM GAS  /tmp/cc90KtGY.s 			page 211


 6862 0848 D7050000 		.word	.L1061+1
 6863 084c D7050000 		.word	.L1061+1
 6864 0850 D7050000 		.word	.L1061+1
 6865 0854 D7050000 		.word	.L1061+1
 6866 0858 D7050000 		.word	.L1061+1
 6867 085c D7050000 		.word	.L1061+1
 6868 0860 D7050000 		.word	.L1061+1
 6869 0864 D7050000 		.word	.L1061+1
 6870 0868 D7050000 		.word	.L1061+1
 6871 086c D7050000 		.word	.L1061+1
 6872 0870 D7050000 		.word	.L1061+1
 6873 0874 D7050000 		.word	.L1061+1
 6874 0878 D7050000 		.word	.L1061+1
 6875 087c BB080000 		.word	.L585+1
 6876 0880 D7050000 		.word	.L1061+1
 6877 0884 D7050000 		.word	.L1061+1
 6878 0888 D7050000 		.word	.L1061+1
 6879 088c D7050000 		.word	.L1061+1
 6880 0890 D7050000 		.word	.L1061+1
 6881 0894 D7050000 		.word	.L1061+1
 6882 0898 BB080000 		.word	.L585+1
 6883              		.p2align 1
 6884              	.L588:
2431:src/keys.c    **** 	  }
 6885              		.loc 1 2431 26 is_stmt 1 view .LVU2175
 6886 089c FFF7FEFF 		bl	clpall
 6887              	.LVL542:
2431:src/keys.c    **** 	  }
 6888              		.loc 1 2431 36 view .LVU2176
 6889              	.L587:
2440:src/keys.c    **** 	  State2.digval = 0;
 6890              		.loc 1 2440 4 view .LVU2177
2440:src/keys.c    **** 	  State2.digval = 0;
 6891              		.loc 1 2440 19 is_stmt 0 view .LVU2178
 6892 08a0 98F81430 		ldrb	r3, [r8, #20]	@ zero_extendqisi2
2441:src/keys.c    **** 	  break;
 6893              		.loc 1 2441 18 view .LVU2179
 6894 08a4 0022     		movs	r2, #0
2440:src/keys.c    **** 	  State2.digval = 0;
 6895              		.loc 1 2440 19 view .LVU2180
 6896 08a6 6FF30203 		bfc	r3, #0, #3
 6897 08aa 88F81430 		strb	r3, [r8, #20]
2441:src/keys.c    **** 	  break;
 6898              		.loc 1 2441 4 is_stmt 1 view .LVU2181
2441:src/keys.c    **** 	  break;
 6899              		.loc 1 2441 18 is_stmt 0 view .LVU2182
 6900 08ae A8F80820 		strh	r2, [r8, #8]	@ movhi
2442:src/keys.c    **** 	default:			// No state change
 6901              		.loc 1 2442 4 is_stmt 1 view .LVU2183
 6902              	.LBE837:
 6903              	.LBE836:
2806:src/keys.c    **** 
 6904              		.loc 1 2806 10 is_stmt 0 view .LVU2184
 6905 08b2 4FF0330B 		mov	fp, #51
 6906              	.LBB839:
 6907              	.LBB838:
2442:src/keys.c    **** 	default:			// No state change
ARM GAS  /tmp/cc90KtGY.s 			page 212


 6908              		.loc 1 2442 4 view .LVU2185
 6909 08b6 FFF7F7BB 		b	.L565
 6910              	.L585:
2427:src/keys.c    **** 	  case confirm_clall:	 clrall();	break;
 6911              		.loc 1 2427 4 is_stmt 1 view .LVU2186
2427:src/keys.c    **** 	  case confirm_clall:	 clrall();	break;
 6912              		.loc 1 2427 18 is_stmt 0 view .LVU2187
 6913 08ba 98F81430 		ldrb	r3, [r8, #20]	@ zero_extendqisi2
 6914 08be 03F00703 		and	r3, r3, #7
 6915 08c2 013B     		subs	r3, r3, #1
 6916 08c4 032B     		cmp	r3, #3
 6917 08c6 EBD8     		bhi	.L587
 6918 08c8 01A2     		adr	r2, .L589
 6919 08ca 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6920 08ce 00BF     		.p2align 2
 6921              	.L589:
 6922 08d0 ED080000 		.word	.L592+1
 6923 08d4 E7080000 		.word	.L591+1
 6924 08d8 E1080000 		.word	.L590+1
 6925 08dc 9D080000 		.word	.L588+1
 6926              		.p2align 1
 6927              	.L590:
2430:src/keys.c    **** 	  case confirm_clpall:	 clpall();	break;
 6928              		.loc 1 2430 26 is_stmt 1 view .LVU2188
 6929 08e0 FFF7FEFF 		bl	clrprog
 6930              	.LVL543:
2430:src/keys.c    **** 	  case confirm_clpall:	 clpall();	break;
 6931              		.loc 1 2430 37 view .LVU2189
2430:src/keys.c    **** 	  case confirm_clpall:	 clpall();	break;
 6932              		.loc 1 2430 4 is_stmt 0 view .LVU2190
 6933 08e4 DCE7     		b	.L587
 6934              	.L591:
2429:src/keys.c    **** 	  case confirm_clprog:	 clrprog();	break;
 6935              		.loc 1 2429 25 is_stmt 1 view .LVU2191
 6936 08e6 FFF7FEFF 		bl	reset
 6937              	.LVL544:
2429:src/keys.c    **** 	  case confirm_clprog:	 clrprog();	break;
 6938              		.loc 1 2429 34 view .LVU2192
2429:src/keys.c    **** 	  case confirm_clprog:	 clrprog();	break;
 6939              		.loc 1 2429 4 is_stmt 0 view .LVU2193
 6940 08ea D9E7     		b	.L587
 6941              	.L592:
2428:src/keys.c    **** 	  case confirm_reset:	 reset();	break;
 6942              		.loc 1 2428 25 is_stmt 1 view .LVU2194
 6943 08ec FFF7FEFF 		bl	clrall
 6944              	.LVL545:
2428:src/keys.c    **** 	  case confirm_reset:	 reset();	break;
 6945              		.loc 1 2428 35 view .LVU2195
2428:src/keys.c    **** 	  case confirm_reset:	 reset();	break;
 6946              		.loc 1 2428 4 is_stmt 0 view .LVU2196
 6947 08f0 D6E7     		b	.L587
 6948              	.LVL546:
 6949              	.L1080:
2428:src/keys.c    **** 	  case confirm_reset:	 reset();	break;
 6950              		.loc 1 2428 4 view .LVU2197
 6951              	.LBE838:
 6952              	.LBE839:
ARM GAS  /tmp/cc90KtGY.s 			page 213


2784:src/keys.c    ****     soft_init_state();
 6953              		.loc 1 2784 47 view .LVU2198
 6954 08f2 DFF86C80 		ldr	r8, .L1151+28
 6955 08f6 98F80E30 		ldrb	r3, [r8, #14]	@ zero_extendqisi2
2784:src/keys.c    ****     soft_init_state();
 6956              		.loc 1 2784 36 view .LVU2199
 6957 08fa 4AEA0302 		orr	r2, r10, r3
 6958 08fe 12F0FF0F 		tst	r2, #255
 6959 0902 7FF47BAC 		bne	.L576
2785:src/keys.c    ****     return STATE_UNFINISHED;
 6960              		.loc 1 2785 5 is_stmt 1 view .LVU2200
 6961 0906 FFF7FEFF 		bl	soft_init_state
 6962              	.LVL547:
2786:src/keys.c    ****   }
 6963              		.loc 1 2786 5 view .LVU2201
2786:src/keys.c    ****   }
 6964              		.loc 1 2786 12 is_stmt 0 view .LVU2202
 6965 090a 4FF0330B 		mov	fp, #51
 6966 090e FFF7CBBB 		b	.L565
 6967              	.L1083:
2809:src/keys.c    **** 
 6968              		.loc 1 2809 3 is_stmt 1 view .LVU2203
2809:src/keys.c    **** 
 6969              		.loc 1 2809 10 is_stmt 0 view .LVU2204
 6970 0912 E0B2     		uxtb	r0, r4
 6971 0914 FFF7FEFF 		bl	process_arg
 6972              	.LVL548:
 6973 0918 8346     		mov	fp, r0
 6974 091a 38E6     		b	.L594
 6975              	.L1103:
2763:src/keys.c    ****       Pause = 0;
 6976              		.loc 1 2763 2 is_stmt 1 view .LVU2205
 6977 091c 0020     		movs	r0, #0
 6978 091e FFF7FEFF 		bl	set_pc
 6979              	.LVL549:
 6980 0922 3FE5     		b	.L573
 6981              	.LVL550:
 6982              	.L828:
2763:src/keys.c    ****       Pause = 0;
 6983              		.loc 1 2763 2 is_stmt 0 view .LVU2206
 6984              	.LBE1195:
 6985              	.LBE1252:
 6986              	.LBB1253:
3091:src/keys.c    **** 	if (p > Alpha)
 6987              		.loc 1 3091 2 is_stmt 1 view .LVU2207
3091:src/keys.c    **** 	if (p > Alpha)
 6988              		.loc 1 3091 22 is_stmt 0 view .LVU2208
 6989 0924 0D4C     		ldr	r4, .L1151+24
 6990 0926 2068     		ldr	r0, [r4]
3091:src/keys.c    **** 	if (p > Alpha)
 6991              		.loc 1 3091 12 view .LVU2209
 6992 0928 0021     		movs	r1, #0
 6993 092a 00F5F660 		add	r0, r0, #1968
 6994 092e FFF7FEFF 		bl	find_char
 6995              	.LVL551:
3092:src/keys.c    **** 	  *--p = '\0';
 6996              		.loc 1 3092 8 view .LVU2210
ARM GAS  /tmp/cc90KtGY.s 			page 214


 6997 0932 2368     		ldr	r3, [r4]
 6998              	.LVL552:
3092:src/keys.c    **** 	  *--p = '\0';
 6999              		.loc 1 3092 2 is_stmt 1 view .LVU2211
3092:src/keys.c    **** 	  *--p = '\0';
 7000              		.loc 1 3092 8 is_stmt 0 view .LVU2212
 7001 0934 03F5F663 		add	r3, r3, #1968
3092:src/keys.c    **** 	  *--p = '\0';
 7002              		.loc 1 3092 5 view .LVU2213
 7003 0938 9842     		cmp	r0, r3
3093:src/keys.c    ****       }
 7004              		.loc 1 3093 4 is_stmt 1 view .LVU2214
 7005              	.LVL553:
3093:src/keys.c    ****       }
 7006              		.loc 1 3093 9 is_stmt 0 view .LVU2215
 7007 093a 84BF     		itt	hi
 7008 093c 0023     		movhi	r3, #0
 7009 093e 00F8013C 		strbhi	r3, [r0, #-1]
 7010 0942 1AE7     		b	.L1056
 7011              	.L1152:
 7012              		.align	2
 7013              	.L1151:
 7014 0944 31020008 		.word	134218289
 7015 0948 00000000 		.word	NonProgrammable
 7016 094c 00000000 		.word	OpCode
 7017 0950 00000000 		.word	OpCodeDisplayPending
 7018 0954 00000000 		.word	TraceBuffer
 7019 0958 00000000 		.word	DispMsg
 7020 095c 00000000 		.word	main_ram
 7021 0960 00000000 		.word	StateWhileOn
 7022              	.LVL554:
 7023              	.L1086:
3093:src/keys.c    ****       }
 7024              		.loc 1 3093 9 view .LVU2216
 7025              	.LBE1253:
 7026              	.LBB1254:
 7027              	.LBB1196:
2818:src/keys.c    **** 
 7028              		.loc 1 2818 3 is_stmt 1 view .LVU2217
 7029              	.LBB840:
 7030              	.LBI840:
1886:src/keys.c    **** 	int r = State2.test;
 7031              		.loc 1 1886 12 view .LVU2218
 7032              	.LBB841:
1887:src/keys.c    **** 	int cmpx = State2.cmplx;
 7033              		.loc 1 1887 2 view .LVU2219
1888:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c) & ~NO_SHORT;
 7034              		.loc 1 1888 2 view .LVU2220
 7035              	.LBB842:
 7036              	.LBB843:
 7037              	.LBB844:
 7038              	.LBB845:
 131:src/keys.c    **** }
 7039              		.loc 1 131 23 is_stmt 0 view .LVU2221
 7040 0964 D748     		ldr	r0, .L1153
 7041              	.LBE845:
 7042              	.LBE844:
ARM GAS  /tmp/cc90KtGY.s 			page 215


 221:src/keys.c    **** }
 7043              		.loc 1 221 28 view .LVU2222
 7044 0966 DFF860C3 		ldr	ip, .L1153+4
 7045              	.LBB849:
 7046              	.LBB846:
 131:src/keys.c    **** }
 7047              		.loc 1 131 23 view .LVU2223
 7048 096a E4B2     		uxtb	r4, r4
 7049              	.LVL555:
 131:src/keys.c    **** }
 7050              		.loc 1 131 23 view .LVU2224
 7051              	.LBE846:
 7052              	.LBE849:
 7053              	.LBE843:
 7054              	.LBE842:
1890:src/keys.c    **** 
 7055              		.loc 1 1890 44 view .LVU2225
 7056 096c 12F0020F 		tst	r2, #2
 7057              	.LBB854:
 7058              	.LBB852:
 7059              	.LBB850:
 7060              	.LBB847:
 131:src/keys.c    **** }
 7061              		.loc 1 131 23 view .LVU2226
 7062 0970 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
 7063              	.LBE847:
 7064              	.LBE850:
 221:src/keys.c    **** }
 7065              		.loc 1 221 28 view .LVU2227
 7066 0972 1CF800C0 		ldrb	ip, [ip, r0]	@ zero_extendqisi2
 7067              	.LBE852:
 7068              	.LBE854:
1888:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c) & ~NO_SHORT;
 7069              		.loc 1 1888 19 view .LVU2228
 7070 0976 C2F3400E 		ubfx	lr, r2, #1, #1
 7071              	.LVL556:
1889:src/keys.c    **** 	unsigned int base = (cmpx ? RARG_TEST_ZEQ : RARG_TEST_EQ) + r;
 7072              		.loc 1 1889 2 is_stmt 1 view .LVU2229
 7073              	.LBB855:
 7074              	.LBI842:
 198:src/keys.c    **** {
 7075              		.loc 1 198 14 view .LVU2230
 7076              	.LBB853:
 200:src/keys.c    ****     // K00 - K05
 7077              		.loc 1 200 3 view .LVU2231
 221:src/keys.c    **** }
 7078              		.loc 1 221 3 view .LVU2232
 7079              	.LBB851:
 7080              	.LBI844:
 119:src/keys.c    **** {
 7081              		.loc 1 119 12 view .LVU2233
 7082              	.LBB848:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 7083              		.loc 1 121 2 view .LVU2234
 131:src/keys.c    **** }
 7084              		.loc 1 131 2 view .LVU2235
 131:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 216


 7085              		.loc 1 131 2 is_stmt 0 view .LVU2236
 7086              	.LBE848:
 7087              	.LBE851:
 7088              	.LBE853:
 7089              	.LBE855:
1889:src/keys.c    **** 	unsigned int base = (cmpx ? RARG_TEST_ZEQ : RARG_TEST_EQ) + r;
 7090              		.loc 1 1889 15 view .LVU2237
 7091 097a 2CF08000 		bic	r0, ip, #128
 7092              	.LVL557:
1890:src/keys.c    **** 
 7093              		.loc 1 1890 2 is_stmt 1 view .LVU2238
1890:src/keys.c    **** 
 7094              		.loc 1 1890 44 is_stmt 0 view .LVU2239
 7095 097e 00F08C80 		beq	.L1110
 7096              	.LVL558:
1892:src/keys.c    **** 	State2.cmplx = 0;
 7097              		.loc 1 1892 2 is_stmt 1 view .LVU2240
1893:src/keys.c    **** 	if (n == regX_idx) n = 1; //don't want x-reg
 7098              		.loc 1 1893 15 is_stmt 0 view .LVU2241
 7099 0982 61F34102 		bfi	r2, r1, #1, #1
1894:src/keys.c    **** 	if (n != NO_REG && n >= TOPREALREG && n < LOCAL_REG_BASE ) {
 7100              		.loc 1 1894 5 view .LVU2242
 7101 0986 6428     		cmp	r0, #100
1892:src/keys.c    **** 	State2.cmplx = 0;
 7102              		.loc 1 1892 14 view .LVU2243
 7103 0988 4FF00701 		mov	r1, #7
1893:src/keys.c    **** 	if (n == regX_idx) n = 1; //don't want x-reg
 7104              		.loc 1 1893 15 view .LVU2244
 7105 098c 88F81520 		strb	r2, [r8, #21]
1892:src/keys.c    **** 	State2.cmplx = 0;
 7106              		.loc 1 1892 14 view .LVU2245
 7107 0990 88F80F10 		strb	r1, [r8, #15]
1893:src/keys.c    **** 	if (n == regX_idx) n = 1; //don't want x-reg
 7108              		.loc 1 1893 2 is_stmt 1 view .LVU2246
1894:src/keys.c    **** 	if (n != NO_REG && n >= TOPREALREG && n < LOCAL_REG_BASE ) {
 7109              		.loc 1 1894 2 view .LVU2247
1894:src/keys.c    **** 	if (n != NO_REG && n >= TOPREALREG && n < LOCAL_REG_BASE ) {
 7110              		.loc 1 1894 5 is_stmt 0 view .LVU2248
 7111 0994 00F00184 		beq	.L891
1890:src/keys.c    **** 
 7112              		.loc 1 1890 44 view .LVU2249
 7113 0998 4FF0340A 		mov	r10, #52
 7114              	.LVL559:
 7115              	.L853:
1895:src/keys.c    **** 		// Lettered register
 7116              		.loc 1 1895 5 view .LVU2250
 7117 099c 7F28     		cmp	r0, #127
1890:src/keys.c    **** 
 7118              		.loc 1 1890 60 view .LVU2251
 7119 099e DA44     		add	r10, r10, fp
1895:src/keys.c    **** 		// Lettered register
 7120              		.loc 1 1895 2 is_stmt 1 view .LVU2252
1895:src/keys.c    **** 		// Lettered register
 7121              		.loc 1 1895 5 is_stmt 0 view .LVU2253
 7122 09a0 00F0FE80 		beq	.L625
 7123              	.LVL560:
1895:src/keys.c    **** 		// Lettered register
ARM GAS  /tmp/cc90KtGY.s 			page 217


 7124              		.loc 1 1895 18 view .LVU2254
 7125 09a4 6328     		cmp	r0, #99
 7126 09a6 40F21F81 		bls	.L626
1895:src/keys.c    **** 		// Lettered register
 7127              		.loc 1 1895 37 view .LVU2255
 7128 09aa 6F28     		cmp	r0, #111
 7129 09ac 00F2F880 		bhi	.L625
1897:src/keys.c    **** 			if (n == regI_idx)
 7130              		.loc 1 1897 3 is_stmt 1 view .LVU2256
1897:src/keys.c    **** 			if (n == regI_idx)
 7131              		.loc 1 1897 6 is_stmt 0 view .LVU2257
 7132 09b0 BEF1000F 		cmp	lr, #0
 7133 09b4 00F0AA81 		beq	.L627
1897:src/keys.c    **** 			if (n == regI_idx)
 7134              		.loc 1 1897 12 view .LVU2258
 7135 09b8 1CF0010F 		tst	ip, #1
 7136 09bc 00F0A681 		beq	.L627
1898:src/keys.c    **** 				return OP_SPEC + OP_Zeqi + r;
 7137              		.loc 1 1898 4 is_stmt 1 view .LVU2259
1898:src/keys.c    **** 				return OP_SPEC + OP_Zeqi + r;
 7138              		.loc 1 1898 7 is_stmt 0 view .LVU2260
 7139 09c0 6D28     		cmp	r0, #109
 7140 09c2 40F0FA80 		bne	.L628
1899:src/keys.c    **** 			// Disallow odd complex registers > A
 7141              		.loc 1 1899 5 is_stmt 1 view .LVU2261
1899:src/keys.c    **** 			// Disallow odd complex registers > A
 7142              		.loc 1 1899 30 is_stmt 0 view .LVU2262
 7143 09c6 0BF1290B 		add	fp, fp, #41
 7144              	.LVL561:
1899:src/keys.c    **** 			// Disallow odd complex registers > A
 7145              		.loc 1 1899 30 view .LVU2263
 7146 09ca E0E5     		b	.L594
 7147              	.LVL562:
 7148              	.L1084:
1899:src/keys.c    **** 			// Disallow odd complex registers > A
 7149              		.loc 1 1899 30 view .LVU2264
 7150              	.LBE841:
 7151              	.LBE840:
2812:src/keys.c    **** 
 7152              		.loc 1 2812 3 is_stmt 1 view .LVU2265
 7153              	.LBB865:
 7154              	.LBI865:
1320:src/keys.c    **** 	int pc = -1;
 7155              		.loc 1 1320 12 view .LVU2266
 7156              	.LBB866:
1321:src/keys.c    **** 	unsigned int rawpc = keycode_to_digit_or_register(c);
 7157              		.loc 1 1321 2 view .LVU2267
1322:src/keys.c    **** 
 7158              		.loc 1 1322 2 view .LVU2268
 7159              	.LBB867:
 7160              	.LBI867:
 198:src/keys.c    **** {
 7161              		.loc 1 198 14 view .LVU2269
 7162              	.LBB868:
 200:src/keys.c    ****     // K00 - K05
 7163              		.loc 1 200 3 view .LVU2270
 221:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 218


 7164              		.loc 1 221 3 view .LVU2271
 7165              	.LBB869:
 7166              	.LBI869:
 119:src/keys.c    **** {
 7167              		.loc 1 119 12 view .LVU2272
 7168              	.LBB870:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 7169              		.loc 1 121 2 view .LVU2273
 131:src/keys.c    **** }
 7170              		.loc 1 131 2 view .LVU2274
 131:src/keys.c    **** }
 7171              		.loc 1 131 23 is_stmt 0 view .LVU2275
 7172 09cc BD4B     		ldr	r3, .L1153
 7173              	.LBE870:
 7174              	.LBE869:
 221:src/keys.c    **** }
 7175              		.loc 1 221 28 view .LVU2276
 7176 09ce BE4A     		ldr	r2, .L1153+4
 7177 09d0 E4B2     		uxtb	r4, r4
 7178              	.LVL563:
 7179              	.LBB872:
 7180              	.LBB871:
 131:src/keys.c    **** }
 7181              		.loc 1 131 23 view .LVU2277
 7182 09d2 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 7183              	.LBE871:
 7184              	.LBE872:
 221:src/keys.c    **** }
 7185              		.loc 1 221 28 view .LVU2278
 7186 09d4 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 7187              	.LVL564:
 221:src/keys.c    **** }
 7188              		.loc 1 221 28 view .LVU2279
 7189              	.LBE868:
 7190              	.LBE867:
1324:src/keys.c    **** 		// Digit 0 - 9
 7191              		.loc 1 1324 2 is_stmt 1 view .LVU2280
1324:src/keys.c    **** 		// Digit 0 - 9
 7192              		.loc 1 1324 5 is_stmt 0 view .LVU2281
 7193 09d6 0928     		cmp	r0, #9
 7194 09d8 40F2FB80 		bls	.L1111
1329:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regY_idx) rawpc = gtodot_digit(2); 
 7195              		.loc 1 1329 7 is_stmt 1 view .LVU2282
1329:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regY_idx) rawpc = gtodot_digit(2); 
 7196              		.loc 1 1329 18 is_stmt 0 view .LVU2283
 7197 09dc 20F08000 		bic	r0, r0, #128
 7198              	.LVL565:
1329:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regY_idx) rawpc = gtodot_digit(2); 
 7199              		.loc 1 1329 10 view .LVU2284
 7200 09e0 6428     		cmp	r0, #100
 7201 09e2 00F08781 		beq	.L1112
1330:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regZ_idx) rawpc = gtodot_digit(3); 
 7202              		.loc 1 1330 7 is_stmt 1 view .LVU2285
1330:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regZ_idx) rawpc = gtodot_digit(3); 
 7203              		.loc 1 1330 10 is_stmt 0 view .LVU2286
 7204 09e6 6528     		cmp	r0, #101
 7205 09e8 00F09781 		beq	.L1113
ARM GAS  /tmp/cc90KtGY.s 			page 219


1331:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regT_idx) rawpc = gtodot_digit(4); 
 7206              		.loc 1 1331 7 is_stmt 1 view .LVU2287
1331:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regT_idx) rawpc = gtodot_digit(4); 
 7207              		.loc 1 1331 10 is_stmt 0 view .LVU2288
 7208 09ec 6628     		cmp	r0, #102
 7209 09ee 00F0AC81 		beq	.L1114
1332:src/keys.c    **** #endif
 7210              		.loc 1 1332 7 is_stmt 1 view .LVU2289
1332:src/keys.c    **** #endif
 7211              		.loc 1 1332 10 is_stmt 0 view .LVU2290
 7212 09f2 6728     		cmp	r0, #103
 7213 09f4 00F0ED82 		beq	.L1115
1334:src/keys.c    **** 		// A - D
 7214              		.loc 1 1334 7 is_stmt 1 view .LVU2291
1334:src/keys.c    **** 		// A - D
 7215              		.loc 1 1334 10 is_stmt 0 view .LVU2292
 7216 09f8 032C     		cmp	r4, #3
 7217 09fa 40F2B783 		bls	.L1116
1339:src/keys.c    **** 		// .
 7218              		.loc 1 1339 7 is_stmt 1 view .LVU2293
1339:src/keys.c    **** 		// .
 7219              		.loc 1 1339 10 is_stmt 0 view .LVU2294
 7220 09fe 262C     		cmp	r4, #38
 7221 0a00 00F0E483 		beq	.L1117
1344:src/keys.c    **** 		// ENTER - short circuit processing
 7222              		.loc 1 1344 7 is_stmt 1 view .LVU2295
1344:src/keys.c    **** 		// ENTER - short circuit processing
 7223              		.loc 1 1344 10 is_stmt 0 view .LVU2296
 7224 0a04 0C2C     		cmp	r4, #12
 7225 0a06 00F0AE83 		beq	.L1118
1348:src/keys.c    **** 		// backspace
 7226              		.loc 1 1348 7 is_stmt 1 view .LVU2297
1348:src/keys.c    **** 		// backspace
 7227              		.loc 1 1348 10 is_stmt 0 view .LVU2298
 7228 0a0a 102C     		cmp	r4, #16
 7229 0a0c 00F06284 		beq	.L1119
1357:src/keys.c    **** 		// up
 7230              		.loc 1 1357 7 is_stmt 1 view .LVU2299
1357:src/keys.c    **** 		// up
 7231              		.loc 1 1357 10 is_stmt 0 view .LVU2300
 7232 0a10 122C     		cmp	r4, #18
 7233 0a12 00F0D286 		beq	.L1120
1367:src/keys.c    **** 		// down
 7234              		.loc 1 1367 7 is_stmt 1 view .LVU2301
1367:src/keys.c    **** 		// down
 7235              		.loc 1 1367 10 is_stmt 0 view .LVU2302
 7236 0a16 182C     		cmp	r4, #24
 7237 0a18 7FF4DDAD 		bne	.L1061
1369:src/keys.c    **** 		rawpc = do_inc(ProgEnd, 0);
 7238              		.loc 1 1369 3 is_stmt 1 view .LVU2303
1370:src/keys.c    **** 		if (rawpc == 0 && ProgSize > 0)
 7239              		.loc 1 1370 18 is_stmt 0 view .LVU2304
 7240 0a1c AB4C     		ldr	r4, .L1153+8
1369:src/keys.c    **** 		rawpc = do_inc(ProgEnd, 0);
 7241              		.loc 1 1369 3 view .LVU2305
 7242 0a1e 0120     		movs	r0, #1
 7243 0a20 FFF7FEFF 		bl	update_program_bounds
ARM GAS  /tmp/cc90KtGY.s 			page 220


 7244              	.LVL566:
1370:src/keys.c    **** 		if (rawpc == 0 && ProgSize > 0)
 7245              		.loc 1 1370 3 is_stmt 1 view .LVU2306
1370:src/keys.c    **** 		if (rawpc == 0 && ProgSize > 0)
 7246              		.loc 1 1370 18 is_stmt 0 view .LVU2307
 7247 0a24 2368     		ldr	r3, [r4]
1370:src/keys.c    **** 		if (rawpc == 0 && ProgSize > 0)
 7248              		.loc 1 1370 11 view .LVU2308
 7249 0a26 0021     		movs	r1, #0
 7250 0a28 B3F8EE07 		ldrh	r0, [r3, #2030]
 7251 0a2c FFF7FEFF 		bl	do_inc
 7252              	.LVL567:
1371:src/keys.c    **** 			rawpc = 1;
 7253              		.loc 1 1371 3 is_stmt 1 view .LVU2309
1371:src/keys.c    **** 			rawpc = 1;
 7254              		.loc 1 1371 6 is_stmt 0 view .LVU2310
 7255 0a30 20B9     		cbnz	r0, .L606
1371:src/keys.c    **** 			rawpc = 1;
 7256              		.loc 1 1371 21 view .LVU2311
 7257 0a32 2368     		ldr	r3, [r4]
1371:src/keys.c    **** 			rawpc = 1;
 7258              		.loc 1 1371 18 view .LVU2312
 7259 0a34 5888     		ldrh	r0, [r3, #2]
 7260              	.LVL568:
1371:src/keys.c    **** 			rawpc = 1;
 7261              		.loc 1 1371 18 view .LVU2313
 7262 0a36 0038     		subs	r0, r0, #0
 7263 0a38 18BF     		it	ne
 7264 0a3a 0120     		movne	r0, #1
 7265              	.LVL569:
 7266              	.L606:
1377:src/keys.c    **** fin2:		State2.gtodot = 0;
 7267              		.loc 1 1377 7 is_stmt 1 view .LVU2314
 7268 0a3c FFF7FEFF 		bl	set_pc
 7269              	.LVL570:
 7270              	.L610:
1378:src/keys.c    **** 		State2.digval = 0;
 7271              		.loc 1 1378 8 view .LVU2315
1378:src/keys.c    **** 		State2.digval = 0;
 7272              		.loc 1 1378 22 is_stmt 0 view .LVU2316
 7273 0a40 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
1379:src/keys.c    **** 		State2.numdigit = 0;
 7274              		.loc 1 1379 17 view .LVU2317
 7275 0a44 0023     		movs	r3, #0
1378:src/keys.c    **** 		State2.digval = 0;
 7276              		.loc 1 1378 22 view .LVU2318
 7277 0a46 6FF30002 		bfc	r2, #0, #1
 7278 0a4a 88F81520 		strb	r2, [r8, #21]
1379:src/keys.c    **** 		State2.numdigit = 0;
 7279              		.loc 1 1379 3 is_stmt 1 view .LVU2319
1379:src/keys.c    **** 		State2.numdigit = 0;
 7280              		.loc 1 1379 17 is_stmt 0 view .LVU2320
 7281 0a4e A8F80830 		strh	r3, [r8, #8]	@ movhi
1380:src/keys.c    **** 	}
 7282              		.loc 1 1380 3 is_stmt 1 view .LVU2321
1380:src/keys.c    **** 	}
 7283              		.loc 1 1380 19 is_stmt 0 view .LVU2322
ARM GAS  /tmp/cc90KtGY.s 			page 221


 7284 0a52 88F80B30 		strb	r3, [r8, #11]
 7285              	.LBE866:
 7286              	.LBE865:
2812:src/keys.c    **** 
 7287              		.loc 1 2812 10 view .LVU2323
 7288 0a56 4FF0330B 		mov	fp, #51
 7289 0a5a FFF725BB 		b	.L565
 7290              	.LVL571:
 7291              	.L888:
2812:src/keys.c    **** 
 7292              		.loc 1 2812 10 view .LVU2324
 7293              	.LBE1196:
 7294              	.LBE1254:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 7295              		.loc 1 2919 7 view .LVU2325
 7296 0a5e 5F46     		mov	r7, fp
 7297 0a60 FFF722BB 		b	.L565
 7298              	.LVL572:
 7299              	.L615:
 7300              	.LBB1255:
 7301              	.LBB1197:
 7302              	.LBB885:
 7303              	.LBB697:
1233:src/keys.c    **** 
 7304              		.loc 1 1233 2 view .LVU2326
 7305 0a64 2D2C     		cmp	r4, #45
 7306 0a66 7FF4B6AD 		bne	.L1061
1241:src/keys.c    **** 		goto stay;
 7307              		.loc 1 1241 3 is_stmt 1 view .LVU2327
 7308 0a6a 8AF0010A 		eor	r10, r10, #1
 7309              	.LVL573:
1242:src/keys.c    **** 
 7310              		.loc 1 1242 3 view .LVU2328
 7311              	.L621:
1250:src/keys.c    **** 		State2.cmplx = cmplx;
 7312              		.loc 1 1250 3 view .LVU2329
1251:src/keys.c    **** 		State2.dot = f;
 7313              		.loc 1 1251 3 view .LVU2330
1252:src/keys.c    **** 		break;
 7314              		.loc 1 1252 3 view .LVU2331
1251:src/keys.c    **** 		State2.dot = f;
 7315              		.loc 1 1251 16 is_stmt 0 view .LVU2332
 7316 0a6e 4FEA4A03 		lsl	r3, r10, #1
 7317 0a72 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
 7318 0a76 43F02003 		orr	r3, r3, #32
 7319 0a7a 43EA8913 		orr	r3, r3, r9, lsl #6
 7320 0a7e 03F06203 		and	r3, r3, #98
 7321 0a82 22F06202 		bic	r2, r2, #98
 7322 0a86 1343     		orrs	r3, r3, r2
 7323 0a88 88F81530 		strb	r3, [r8, #21]
1253:src/keys.c    **** 
 7324              		.loc 1 1253 3 is_stmt 1 view .LVU2333
1258:src/keys.c    **** }
 7325              		.loc 1 1258 9 is_stmt 0 view .LVU2334
 7326 0a8c 4FF0330B 		mov	fp, #51
1253:src/keys.c    **** 
 7327              		.loc 1 1253 3 view .LVU2335
ARM GAS  /tmp/cc90KtGY.s 			page 222


 7328 0a90 FFF70ABB 		b	.L565
 7329              	.LVL574:
 7330              	.L889:
1253:src/keys.c    **** 
 7331              		.loc 1 1253 3 view .LVU2336
 7332              	.LBE697:
 7333              	.LBE885:
 7334              	.LBE1197:
 7335              	.LBE1255:
 7336              	.LBB1256:
 7337 0a94 9B46     		mov	fp, r3
 7338              	.LVL575:
1253:src/keys.c    **** 
 7339              		.loc 1 1253 3 view .LVU2337
 7340 0a96 FFF729BB 		b	.L839
 7341              	.LVL576:
 7342              	.L1110:
1253:src/keys.c    **** 
 7343              		.loc 1 1253 3 view .LVU2338
 7344              	.LBE1256:
 7345              	.LBB1257:
 7346              	.LBB1198:
 7347              	.LBB886:
 7348              	.LBB858:
1892:src/keys.c    **** 	State2.cmplx = 0;
 7349              		.loc 1 1892 2 is_stmt 1 view .LVU2339
1893:src/keys.c    **** 	if (n == regX_idx) n = 1; //don't want x-reg
 7350              		.loc 1 1893 15 is_stmt 0 view .LVU2340
 7351 0a9a 6EF34102 		bfi	r2, lr, #1, #1
1892:src/keys.c    **** 	State2.cmplx = 0;
 7352              		.loc 1 1892 14 view .LVU2341
 7353 0a9e 0721     		movs	r1, #7
1894:src/keys.c    **** 	if (n != NO_REG && n >= TOPREALREG && n < LOCAL_REG_BASE ) {
 7354              		.loc 1 1894 5 view .LVU2342
 7355 0aa0 6428     		cmp	r0, #100
1893:src/keys.c    **** 	if (n == regX_idx) n = 1; //don't want x-reg
 7356              		.loc 1 1893 15 view .LVU2343
 7357 0aa2 88F81520 		strb	r2, [r8, #21]
1892:src/keys.c    **** 	State2.cmplx = 0;
 7358              		.loc 1 1892 14 view .LVU2344
 7359 0aa6 88F80F10 		strb	r1, [r8, #15]
1893:src/keys.c    **** 	if (n == regX_idx) n = 1; //don't want x-reg
 7360              		.loc 1 1893 2 is_stmt 1 view .LVU2345
1894:src/keys.c    **** 	if (n != NO_REG && n >= TOPREALREG && n < LOCAL_REG_BASE ) {
 7361              		.loc 1 1894 2 view .LVU2346
1894:src/keys.c    **** 	if (n != NO_REG && n >= TOPREALREG && n < LOCAL_REG_BASE ) {
 7362              		.loc 1 1894 5 is_stmt 0 view .LVU2347
 7363 0aaa 00F07A83 		beq	.L892
1890:src/keys.c    **** 
 7364              		.loc 1 1890 44 view .LVU2348
 7365 0aae 4FF02D0A 		mov	r10, #45
 7366              	.LVL577:
1890:src/keys.c    **** 
 7367              		.loc 1 1890 44 view .LVU2349
 7368 0ab2 73E7     		b	.L853
 7369              	.LVL578:
 7370              	.L1087:
ARM GAS  /tmp/cc90KtGY.s 			page 223


1890:src/keys.c    **** 
 7371              		.loc 1 1890 44 view .LVU2350
 7372              	.LBE858:
 7373              	.LBE886:
2821:src/keys.c    **** 
 7374              		.loc 1 2821 3 is_stmt 1 view .LVU2351
 7375              	.LBB887:
 7376              	.LBB888:
2455:src/keys.c    **** 
 7377              		.loc 1 2455 12 is_stmt 0 view .LVU2352
 7378 0ab4 854A     		ldr	r2, .L1153+8
 7379 0ab6 1268     		ldr	r2, [r2]
2455:src/keys.c    **** 
 7380              		.loc 1 2455 31 view .LVU2353
 7381 0ab8 B2F9DE27 		ldrsh	r2, [r2, #2014]
 7382              	.LBE888:
 7383              	.LBE887:
2821:src/keys.c    **** 
 7384              		.loc 1 2821 10 view .LVU2354
 7385 0abc E4B2     		uxtb	r4, r4
 7386              	.LVL579:
 7387              	.LBB904:
 7388              	.LBI887:
2453:src/keys.c    **** 	int n = ((int)State2.status) - 3;
 7389              		.loc 1 2453 12 is_stmt 1 view .LVU2355
 7390              	.LBB898:
2454:src/keys.c    **** 	int max = LocalRegs < 0 ? 11 : 10;
 7391              		.loc 1 2454 2 view .LVU2356
2455:src/keys.c    **** 
 7392              		.loc 1 2455 2 view .LVU2357
2455:src/keys.c    **** 
 7393              		.loc 1 2455 31 is_stmt 0 view .LVU2358
 7394 0abe 002A     		cmp	r2, #0
 7395 0ac0 B4BF     		ite	lt
 7396 0ac2 0B20     		movlt	r0, #11
 7397 0ac4 0A20     		movge	r0, #10
 7398              	.LVL580:
2457:src/keys.c    **** 		if (--n < -2)
 7399              		.loc 1 2457 2 is_stmt 1 view .LVU2359
2457:src/keys.c    **** 		if (--n < -2)
 7400              		.loc 1 2457 5 is_stmt 0 view .LVU2360
 7401 0ac6 122C     		cmp	r4, #18
 7402 0ac8 00F00E81 		beq	.L1121
2461:src/keys.c    **** 		if (++n > max)
 7403              		.loc 1 2461 7 is_stmt 1 view .LVU2361
2461:src/keys.c    **** 		if (++n > max)
 7404              		.loc 1 2461 10 is_stmt 0 view .LVU2362
 7405 0acc 182C     		cmp	r4, #24
 7406 0ace 00F03181 		beq	.L1122
2465:src/keys.c    **** 		State2.status = 0;
 7407              		.loc 1 2465 7 is_stmt 1 view .LVU2363
2465:src/keys.c    **** 		State2.status = 0;
 7408              		.loc 1 2465 10 is_stmt 0 view .LVU2364
 7409 0ad2 102C     		cmp	r4, #16
 7410 0ad4 00F01184 		beq	.L1123
 7411              	.LBB889:
2470:src/keys.c    **** 		if (nn <= 9)
ARM GAS  /tmp/cc90KtGY.s 			page 224


 7412              		.loc 1 2470 3 is_stmt 1 view .LVU2365
 7413              	.LVL581:
 7414              	.LBB890:
 7415              	.LBI890:
 198:src/keys.c    **** {
 7416              		.loc 1 198 14 view .LVU2366
 7417              	.LBB891:
 200:src/keys.c    ****     // K00 - K05
 7418              		.loc 1 200 3 view .LVU2367
 221:src/keys.c    **** }
 7419              		.loc 1 221 3 view .LVU2368
 7420              	.LBB892:
 7421              	.LBI892:
 119:src/keys.c    **** {
 7422              		.loc 1 119 12 view .LVU2369
 7423              	.LBB893:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 7424              		.loc 1 121 2 view .LVU2370
 131:src/keys.c    **** }
 7425              		.loc 1 131 2 view .LVU2371
 131:src/keys.c    **** }
 7426              		.loc 1 131 23 is_stmt 0 view .LVU2372
 7427 0ad8 7A4A     		ldr	r2, .L1153
 7428              	.LBE893:
 7429              	.LBE892:
 221:src/keys.c    **** }
 7430              		.loc 1 221 28 view .LVU2373
 7431 0ada 7B49     		ldr	r1, .L1153+4
 7432              	.LBB895:
 7433              	.LBB894:
 131:src/keys.c    **** }
 7434              		.loc 1 131 23 view .LVU2374
 7435 0adc 125D     		ldrb	r2, [r2, r4]	@ zero_extendqisi2
 7436 0ade 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 7437 0ae0 02F07F02 		and	r2, r2, #127
 7438              	.LVL582:
 131:src/keys.c    **** }
 7439              		.loc 1 131 23 view .LVU2375
 7440              	.LBE894:
 7441              	.LBE895:
 7442              	.LBE891:
 7443              	.LBE890:
2471:src/keys.c    **** 			n = nn;
 7444              		.loc 1 2471 3 is_stmt 1 view .LVU2376
2471:src/keys.c    **** 			n = nn;
 7445              		.loc 1 2471 6 is_stmt 0 view .LVU2377
 7446 0ae4 092A     		cmp	r2, #9
 7447 0ae6 08D9     		bls	.L641
2473:src/keys.c    **** 			n = n == max ? 10 : max;
 7448              		.loc 1 2473 11 view .LVU2378
 7449 0ae8 702A     		cmp	r2, #112
 7450              	.LBE889:
2454:src/keys.c    **** 	int max = LocalRegs < 0 ? 11 : 10;
 7451              		.loc 1 2454 6 view .LVU2379
 7452 0aea A3F10303 		sub	r3, r3, #3
 7453              	.LVL583:
 7454              	.LBB896:
ARM GAS  /tmp/cc90KtGY.s 			page 225


2473:src/keys.c    **** 			n = n == max ? 10 : max;
 7455              		.loc 1 2473 8 is_stmt 1 view .LVU2380
2473:src/keys.c    **** 			n = n == max ? 10 : max;
 7456              		.loc 1 2473 11 is_stmt 0 view .LVU2381
 7457 0aee 00F02781 		beq	.L1124
2475:src/keys.c    **** 			n = 10; 
 7458              		.loc 1 2475 8 is_stmt 1 view .LVU2382
2475:src/keys.c    **** 			n = 10; 
 7459              		.loc 1 2475 11 is_stmt 0 view .LVU2383
 7460 0af2 7F2A     		cmp	r2, #127
 7461 0af4 00F03583 		beq	.L1049
 7462              	.L860:
 7463 0af8 0A22     		movs	r2, #10
 7464              	.LVL584:
 7465              	.L641:
2475:src/keys.c    **** 			n = 10; 
 7466              		.loc 1 2475 11 view .LVU2384
 7467              	.LBE896:
2478:src/keys.c    **** 
 7468              		.loc 1 2478 2 is_stmt 1 view .LVU2385
2478:src/keys.c    **** 
 7469              		.loc 1 2478 20 is_stmt 0 view .LVU2386
 7470 0afa 0332     		adds	r2, r2, #3
2478:src/keys.c    **** 
 7471              		.loc 1 2478 16 view .LVU2387
 7472 0afc 88F80C20 		strb	r2, [r8, #12]
2480:src/keys.c    **** }
 7473              		.loc 1 2480 2 is_stmt 1 view .LVU2388
 7474              	.LBE898:
 7475              	.LBE904:
2821:src/keys.c    **** 
 7476              		.loc 1 2821 10 is_stmt 0 view .LVU2389
 7477 0b00 4FF0330B 		mov	fp, #51
 7478              	.LBB905:
 7479              	.LBB899:
2480:src/keys.c    **** }
 7480              		.loc 1 2480 9 view .LVU2390
 7481 0b04 FFF7D0BA 		b	.L565
 7482              	.LVL585:
 7483              	.L1091:
2480:src/keys.c    **** }
 7484              		.loc 1 2480 9 view .LVU2391
 7485              	.LBE899:
 7486              	.LBE905:
2844:src/keys.c    **** 
 7487              		.loc 1 2844 3 is_stmt 1 view .LVU2392
 7488              	.LBB906:
 7489              	.LBB907:
 7490              	.LBB908:
 7491              	.LBB909:
 7492              	.LBB910:
 7493              	.LBB911:
 7494              	.LBB912:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 7495              		.loc 1 85 18 is_stmt 0 view .LVU2393
 7496 0b08 FFF7FEFF 		bl	shift_down
 7497              	.LVL586:
ARM GAS  /tmp/cc90KtGY.s 			page 226


 7498              	.LBE912:
 7499              	.LBE911:
 7500              	.LBE910:
 7501              	.LBE909:
 7502              	.LBE908:
 7503              	.LBE907:
 7504              	.LBE906:
2844:src/keys.c    **** 
 7505              		.loc 1 2844 10 view .LVU2394
 7506 0b0c E4B2     		uxtb	r4, r4
 7507              	.LVL587:
 7508              	.LBB932:
 7509              	.LBI906:
1265:src/keys.c    **** 	static const unsigned short int op_map[][2] = {
 7510              		.loc 1 1265 12 is_stmt 1 view .LVU2395
 7511              	.LBB929:
1266:src/keys.c    **** 		{ OP_MON | OP_2DEG,  OP_MON | OP_2HMS },
 7512              		.loc 1 1266 2 view .LVU2396
1271:src/keys.c    **** 		{ SDISP_OCT, SDISP_BIN },
 7513              		.loc 1 1271 2 view .LVU2397
1275:src/keys.c    **** 	const int f = (shift == SHIFT_F);
 7514              		.loc 1 1275 2 view .LVU2398
 7515              	.LBB921:
 7516              	.LBI908:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 7517              		.loc 1 102 13 view .LVU2399
 7518              	.LBE921:
 7519              	.LBE929:
 7520              	.LBE932:
 7521              	.LBE1198:
 7522              	.LBE1257:
 103:src/keys.c    **** }
 7523              		.loc 1 103 2 view .LVU2400
 7524              	.LBB1258:
 7525              	.LBB1199:
 7526              	.LBB933:
 7527              	.LBB930:
 7528              	.LBB922:
 7529              	.LBB918:
 7530              	.LBI909:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 7531              		.loc 1 92 20 view .LVU2401
 7532              	.LBB915:
  93:src/keys.c    **** 	State2.shifts = shift;
 7533              		.loc 1 93 2 view .LVU2402
 7534              	.LBB914:
 7535              	.LBI911:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 7536              		.loc 1 84 13 view .LVU2403
 7537              	.LBB913:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 7538              		.loc 1 85 2 view .LVU2404
  86:src/keys.c    **** }
 7539              		.loc 1 86 2 view .LVU2405
  86:src/keys.c    **** }
 7540              		.loc 1 86 52 is_stmt 0 view .LVU2406
 7541 0b0e 8346     		mov	fp, r0
ARM GAS  /tmp/cc90KtGY.s 			page 227


 7542 0b10 08B9     		cbnz	r0, .L651
 7543 0b12 98F810B0 		ldrb	fp, [r8, #16]	@ zero_extendqisi2
 7544              	.L651:
 7545              	.LVL588:
  86:src/keys.c    **** }
 7546              		.loc 1 86 52 view .LVU2407
 7547              	.LBE913:
 7548              	.LBE914:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 7549              		.loc 1 94 2 is_stmt 1 view .LVU2408
 7550              	.LBE915:
 7551              	.LBE918:
 7552              	.LBE922:
1278:src/keys.c    **** 	set_last_menu ();
 7553              		.loc 1 1278 15 is_stmt 0 view .LVU2409
 7554 0b16 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
 7555              	.LBB923:
 7556              	.LBB919:
 7557              	.LBB916:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 7558              		.loc 1 94 16 view .LVU2410
 7559 0b1a 0023     		movs	r3, #0
 7560              	.LBE916:
 7561              	.LBE919:
 7562              	.LBE923:
1276:src/keys.c    **** 
 7563              		.loc 1 1276 23 view .LVU2411
 7564 0b1c ABF1010A 		sub	r10, fp, #1
 7565              	.LVL589:
1278:src/keys.c    **** 	set_last_menu ();
 7566              		.loc 1 1278 15 view .LVU2412
 7567 0b20 63F38202 		bfi	r2, r3, #2, #1
1276:src/keys.c    **** 
 7568              		.loc 1 1276 23 view .LVU2413
 7569 0b24 BAFA8AFA 		clz	r10, r10
1278:src/keys.c    **** 	set_last_menu ();
 7570              		.loc 1 1278 15 view .LVU2414
 7571 0b28 88F81520 		strb	r2, [r8, #21]
 7572              	.LBB924:
 7573              	.LBB920:
 7574              	.LBB917:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 7575              		.loc 1 94 16 view .LVU2415
 7576 0b2c 88F81030 		strb	r3, [r8, #16]
  95:src/keys.c    **** 	return r;
 7577              		.loc 1 95 2 is_stmt 1 view .LVU2416
  95:src/keys.c    **** 	return r;
 7578              		.loc 1 95 19 is_stmt 0 view .LVU2417
 7579 0b30 88F80D30 		strb	r3, [r8, #13]
  96:src/keys.c    **** }
 7580              		.loc 1 96 2 is_stmt 1 view .LVU2418
 7581              	.LVL590:
  96:src/keys.c    **** }
 7582              		.loc 1 96 2 is_stmt 0 view .LVU2419
 7583              	.LBE917:
 7584              	.LBE920:
 7585              	.LBE924:
ARM GAS  /tmp/cc90KtGY.s 			page 228


1276:src/keys.c    **** 
 7586              		.loc 1 1276 2 is_stmt 1 view .LVU2420
1276:src/keys.c    **** 
 7587              		.loc 1 1276 23 is_stmt 0 view .LVU2421
 7588 0b34 4FEA5A1A 		lsr	r10, r10, #5
 7589              	.LVL591:
1278:src/keys.c    **** 	set_last_menu ();
 7590              		.loc 1 1278 2 is_stmt 1 view .LVU2422
1279:src/keys.c    **** 	display_current_menu ();
 7591              		.loc 1 1279 2 view .LVU2423
 7592 0b38 FFF7FEFF 		bl	set_last_menu
 7593              	.LVL592:
1280:src/keys.c    **** 
 7594              		.loc 1 1280 2 view .LVU2424
 7595 0b3c FFF7FEFF 		bl	display_current_menu
 7596              	.LVL593:
1282:src/keys.c    **** 	
 7597              		.loc 1 1282 2 view .LVU2425
1282:src/keys.c    **** 	
 7598              		.loc 1 1282 5 is_stmt 0 view .LVU2426
 7599 0b40 BBF1000F 		cmp	fp, #0
 7600 0b44 3FF447AD 		beq	.L1061
1284:src/keys.c    **** 		return op_map[c - K10][f];
 7601              		.loc 1 1284 2 is_stmt 1 view .LVU2427
1284:src/keys.c    **** 		return op_map[c - K10][f];
 7602              		.loc 1 1284 15 is_stmt 0 view .LVU2428
 7603 0b48 A31F     		subs	r3, r4, #6
1284:src/keys.c    **** 		return op_map[c - K10][f];
 7604              		.loc 1 1284 5 view .LVU2429
 7605 0b4a DAB2     		uxtb	r2, r3
 7606 0b4c 022A     		cmp	r2, #2
 7607 0b4e 40F2EB80 		bls	.L1125
1287:src/keys.c    **** 		set_smode(disp[c - K22][f]);
 7608              		.loc 1 1287 2 is_stmt 1 view .LVU2430
1287:src/keys.c    **** 		set_smode(disp[c - K22][f]);
 7609              		.loc 1 1287 15 is_stmt 0 view .LVU2431
 7610 0b52 0E3C     		subs	r4, r4, #14
 7611              	.LVL594:
1287:src/keys.c    **** 		set_smode(disp[c - K22][f]);
 7612              		.loc 1 1287 5 view .LVU2432
 7613 0b54 E3B2     		uxtb	r3, r4
 7614 0b56 012B     		cmp	r3, #1
 7615 0b58 3FF63DAD 		bhi	.L1061
1288:src/keys.c    **** 
 7616              		.loc 1 1288 3 is_stmt 1 view .LVU2433
 7617 0b5c 5C4B     		ldr	r3, .L1153+12
 7618              	.LBB925:
 7619              	.LBB926:
 647:src/keys.c    **** }
 7620              		.loc 1 647 15 is_stmt 0 view .LVU2434
 7621 0b5e 98F81120 		ldrb	r2, [r8, #17]	@ zero_extendqisi2
 7622              	.LBE926:
 7623              	.LBE925:
1288:src/keys.c    **** 
 7624              		.loc 1 1288 3 view .LVU2435
 7625 0b62 03EB4404 		add	r4, r3, r4, lsl #1
 7626              	.LVL595:
ARM GAS  /tmp/cc90KtGY.s 			page 229


1290:src/keys.c    **** }
 7627              		.loc 1 1290 9 view .LVU2436
 7628 0b66 4FF0330B 		mov	fp, #51
 7629              	.LVL596:
1288:src/keys.c    **** 
 7630              		.loc 1 1288 3 view .LVU2437
 7631 0b6a 14F80A30 		ldrb	r3, [r4, r10]	@ zero_extendqisi2
 7632              	.LVL597:
 7633              	.LBB928:
 7634              	.LBI925:
 646:src/keys.c    **** 	State2.smode = (State2.smode == d)?SDISP_NORMAL:d;
 7635              		.loc 1 646 13 is_stmt 1 view .LVU2438
 7636              	.LBB927:
 647:src/keys.c    **** }
 7637              		.loc 1 647 2 view .LVU2439
 647:src/keys.c    **** }
 7638              		.loc 1 647 15 is_stmt 0 view .LVU2440
 7639 0b6e 9A42     		cmp	r2, r3
 7640 0b70 08BF     		it	eq
 7641 0b72 0023     		moveq	r3, #0
 7642              	.LVL598:
 647:src/keys.c    **** }
 7643              		.loc 1 647 15 view .LVU2441
 7644 0b74 88F81130 		strb	r3, [r8, #17]
 648:src/keys.c    **** 
 7645              		.loc 1 648 1 view .LVU2442
 7646 0b78 FFF796BA 		b	.L565
 7647              	.LVL599:
 7648              	.L1127:
 648:src/keys.c    **** 
 7649              		.loc 1 648 1 view .LVU2443
 7650              	.LBE927:
 7651              	.LBE928:
 7652              	.LBE930:
 7653              	.LBE933:
 7654              	.LBB934:
 7655              	.LBB653:
 263:src/keys.c    ****     return CATALOGUE_PROGXFCN;
 7656              		.loc 1 263 74 view .LVU2444
 7657 0b7c D8F81430 		ldr	r3, [r8, #20]
 7658 0b80 5449     		ldr	r1, .L1153+16
 7659 0b82 0B42     		tst	r3, r1
 7660 0b84 44D0     		beq	.L656
 266:src/keys.c    ****     /*
 7661              		.loc 1 266 3 is_stmt 1 view .LVU2445
 266:src/keys.c    ****     /*
 7662              		.loc 1 266 23 is_stmt 0 view .LVU2446
 7663 0b86 5449     		ldr	r1, .L1153+20
 266:src/keys.c    ****     /*
 7664              		.loc 1 266 6 view .LVU2447
 7665 0b88 0B42     		tst	r3, r1
 7666 0b8a 3FF478AB 		beq	.L851
 7667              	.L658:
 7668              	.LBB648:
 335:src/keys.c    ****       { K04, { CATALOGUE_NONE, CATALOGUE_ALPHA_ARROWS,  CATALOGUE_NONE              } },
 7669              		.loc 1 335 5 is_stmt 1 view .LVU2448
 357:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 230


 7670              		.loc 1 357 5 view .LVU2449
 362:src/keys.c    ****     col = smap[shift];
 7671              		.loc 1 362 5 view .LVU2450
 7672              	.LVL600:
 363:src/keys.c    ****     max = sizeof(amap) / sizeof(amap[0]);
 7673              		.loc 1 363 5 view .LVU2451
 363:src/keys.c    ****     max = sizeof(amap) / sizeof(amap[0]);
 7674              		.loc 1 363 15 is_stmt 0 view .LVU2452
 7675 0b8e 5349     		ldr	r1, .L1153+24
 362:src/keys.c    ****     col = smap[shift];
 7676              		.loc 1 362 8 view .LVU2453
 7677 0b90 534B     		ldr	r3, .L1153+28
 363:src/keys.c    ****     max = sizeof(amap) / sizeof(amap[0]);
 7678              		.loc 1 363 9 view .LVU2454
 7679 0b92 11F80AC0 		ldrb	ip, [r1, r10]	@ zero_extendqisi2
 7680              	.LVL601:
 364:src/keys.c    ****   }
 7681              		.loc 1 364 5 is_stmt 1 view .LVU2455
 364:src/keys.c    ****   }
 7682              		.loc 1 364 9 is_stmt 0 view .LVU2456
 7683 0b96 0621     		movs	r1, #6
 7684 0b98 FFF780BB 		b	.L661
 7685              	.LVL602:
 7686              	.L631:
 364:src/keys.c    ****   }
 7687              		.loc 1 364 9 view .LVU2457
 7688              	.LBE648:
 7689              	.LBE653:
 7690              	.LBE934:
 7691              	.LBB935:
 7692              	.LBB859:
1914:src/keys.c    **** 		// digit 2..9, -> or .
 7693              		.loc 1 1914 7 is_stmt 1 view .LVU2458
1914:src/keys.c    **** 		// digit 2..9, -> or .
 7694              		.loc 1 1914 10 is_stmt 0 view .LVU2459
 7695 0b9c 0928     		cmp	r0, #9
 7696 0b9e 51D9     		bls	.L633
 7697              	.L625:
1914:src/keys.c    **** 		// digit 2..9, -> or .
 7698              		.loc 1 1914 19 view .LVU2460
 7699 0ba0 2C2C     		cmp	r4, #44
 7700 0ba2 4FD0     		beq	.L633
1914:src/keys.c    **** 		// digit 2..9, -> or .
 7701              		.loc 1 1914 35 view .LVU2461
 7702 0ba4 262C     		cmp	r4, #38
 7703 0ba6 4DD0     		beq	.L633
1920:src/keys.c    **** 	case K11:					// tests vs register
 7704              		.loc 1 1920 2 is_stmt 1 view .LVU2462
 7705 0ba8 0C2C     		cmp	r4, #12
 7706 0baa 3FF40BAD 		beq	.L814
 7707 0bae 102C     		cmp	r4, #16
 7708 0bb0 3FF411AD 		beq	.L1061
 7709 0bb4 072C     		cmp	r4, #7
 7710 0bb6 3FF405AD 		beq	.L814
 7711              	.L628:
1934:src/keys.c    **** 	State2.cmplx = cmpx;
 7712              		.loc 1 1934 2 view .LVU2463
ARM GAS  /tmp/cc90KtGY.s 			page 231


1935:src/keys.c    **** 	return STATE_UNFINISHED;
 7713              		.loc 1 1935 15 is_stmt 0 view .LVU2464
 7714 0bba 98F81530 		ldrb	r3, [r8, #21]	@ zero_extendqisi2
1934:src/keys.c    **** 	State2.cmplx = cmpx;
 7715              		.loc 1 1934 14 view .LVU2465
 7716 0bbe 88F80FB0 		strb	fp, [r8, #15]
1935:src/keys.c    **** 	return STATE_UNFINISHED;
 7717              		.loc 1 1935 2 is_stmt 1 view .LVU2466
1935:src/keys.c    **** 	return STATE_UNFINISHED;
 7718              		.loc 1 1935 15 is_stmt 0 view .LVU2467
 7719 0bc2 6EF34103 		bfi	r3, lr, #1, #1
 7720 0bc6 88F81530 		strb	r3, [r8, #21]
1936:src/keys.c    **** }
 7721              		.loc 1 1936 2 is_stmt 1 view .LVU2468
1936:src/keys.c    **** }
 7722              		.loc 1 1936 9 is_stmt 0 view .LVU2469
 7723 0bca 4FF0330B 		mov	fp, #51
 7724              	.LVL603:
1936:src/keys.c    **** }
 7725              		.loc 1 1936 9 view .LVU2470
 7726 0bce FFF76BBA 		b	.L565
 7727              	.LVL604:
 7728              	.L1111:
1936:src/keys.c    **** }
 7729              		.loc 1 1936 9 view .LVU2471
 7730              	.LBE859:
 7731              	.LBE935:
 7732              	.LBB936:
 7733              	.LBB875:
1326:src/keys.c    **** 	}
 7734              		.loc 1 1326 3 is_stmt 1 view .LVU2472
1326:src/keys.c    **** 	}
 7735              		.loc 1 1326 8 is_stmt 0 view .LVU2473
 7736 0bd2 FFF7FEFF 		bl	gtodot_digit
 7737              	.LVL605:
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 7738              		.loc 1 1375 2 is_stmt 1 view .LVU2474
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 7739              		.loc 1 1375 5 is_stmt 0 view .LVU2475
 7740 0bd6 0028     		cmp	r0, #0
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 7741              		.loc 1 1375 5 view .LVU2476
 7742 0bd8 FFF6FDAC 		blt	.L1061
 7743              	.L597:
1376:src/keys.c    **** fin:		set_pc(rawpc);
 7744              		.loc 1 1376 3 is_stmt 1 view .LVU2477
1376:src/keys.c    **** fin:		set_pc(rawpc);
 7745              		.loc 1 1376 11 is_stmt 0 view .LVU2478
 7746 0bdc FFF7FEFF 		bl	find_user_pc
 7747              	.LVL606:
1376:src/keys.c    **** fin:		set_pc(rawpc);
 7748              		.loc 1 1376 11 view .LVU2479
 7749 0be0 2CE7     		b	.L606
 7750              	.LVL607:
 7751              	.L890:
1376:src/keys.c    **** fin:		set_pc(rawpc);
 7752              		.loc 1 1376 11 view .LVU2480
ARM GAS  /tmp/cc90KtGY.s 			page 232


 7753              	.LBE875:
 7754              	.LBE936:
 7755              	.LBE1199:
 7756              	.LBE1258:
 7757              	.LBB1259:
 7758 0be2 BB46     		mov	fp, r7
 7759              	.LVL608:
1376:src/keys.c    **** fin:		set_pc(rawpc);
 7760              		.loc 1 1376 11 view .LVU2481
 7761 0be4 FFF782BA 		b	.L839
 7762              	.LVL609:
 7763              	.L626:
1376:src/keys.c    **** fin:		set_pc(rawpc);
 7764              		.loc 1 1376 11 view .LVU2482
 7765              	.LBE1259:
 7766              	.LBB1260:
 7767              	.LBB1200:
 7768              	.LBB937:
 7769              	.LBB860:
1906:src/keys.c    **** 		// Special 0
 7770              		.loc 1 1906 7 is_stmt 1 view .LVU2483
1906:src/keys.c    **** 		// Special 0
 7771              		.loc 1 1906 10 is_stmt 0 view .LVU2484
 7772 0be8 0028     		cmp	r0, #0
 7773 0bea 41F01580 		bne	.L629
1908:src/keys.c    **** 	}
 7774              		.loc 1 1908 3 is_stmt 1 view .LVU2485
1908:src/keys.c    **** 	}
 7775              		.loc 1 1908 18 is_stmt 0 view .LVU2486
 7776 0bee BEF1000F 		cmp	lr, #0
 7777 0bf2 14BF     		ite	ne
 7778 0bf4 2523     		movne	r3, #37
 7779 0bf6 1723     		moveq	r3, #23
1908:src/keys.c    **** 	}
 7780              		.loc 1 1908 47 view .LVU2487
 7781 0bf8 9B44     		add	fp, fp, r3
 7782              	.LVL610:
1908:src/keys.c    **** 	}
 7783              		.loc 1 1908 47 view .LVU2488
 7784 0bfa C8E4     		b	.L594
 7785              	.LVL611:
 7786              	.L1094:
1908:src/keys.c    **** 	}
 7787              		.loc 1 1908 47 view .LVU2489
 7788              	.LBE860:
 7789              	.LBE937:
 7790              	.LBB938:
 7791              	.LBB654:
 372:src/keys.c    ****       break;
 7792              		.loc 1 372 7 is_stmt 1 view .LVU2490
 372:src/keys.c    ****       break;
 7793              		.loc 1 372 11 is_stmt 0 view .LVU2491
 7794 0bfc 6344     		add	r3, r3, ip
 7795              	.LVL612:
 372:src/keys.c    ****       break;
 7796              		.loc 1 372 11 view .LVU2492
 7797 0bfe 93F801B0 		ldrb	fp, [r3, #1]	@ zero_extendqisi2
ARM GAS  /tmp/cc90KtGY.s 			page 233


 7798              	.LVL613:
 373:src/keys.c    ****     }
 7799              		.loc 1 373 7 is_stmt 1 view .LVU2493
 376:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
 7800              		.loc 1 376 3 view .LVU2494
 376:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
 7801              		.loc 1 376 6 is_stmt 0 view .LVU2495
 7802 0c02 1307     		lsls	r3, r2, #28
 7803 0c04 7DD5     		bpl	.L1126
 376:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
 7804              		.loc 1 376 20 view .LVU2496
 7805 0c06 ABF10B03 		sub	r3, fp, #11
 7806 0c0a 042B     		cmp	r3, #4
 7807 0c0c 3FF66FAC 		bhi	.L671
 7808              	.LVL614:
 7809              	.L656:
 376:src/keys.c    ****     // Ignore the non character catalogues in multi character mode
 7810              		.loc 1 376 20 view .LVU2497
 7811              	.LBE654:
 7812              	.LBE938:
2853:src/keys.c    **** 			return STATE_UNFINISHED;
 7813              		.loc 1 2853 3 is_stmt 1 view .LVU2498
2853:src/keys.c    **** 			return STATE_UNFINISHED;
 7814              		.loc 1 2853 7 is_stmt 0 view .LVU2499
 7815 0c10 FFF7FEFF 		bl	is_bad_cmdline
 7816              	.LVL615:
2853:src/keys.c    **** 			return STATE_UNFINISHED;
 7817              		.loc 1 2853 6 view .LVU2500
 7818 0c14 0446     		mov	r4, r0
 7819 0c16 0028     		cmp	r0, #0
 7820 0c18 7FF4DDAC 		bne	.L1061
2855:src/keys.c    **** 		init_cat( cat );
 7821              		.loc 1 2855 3 is_stmt 1 view .LVU2501
 7822 0c1c FFF7FEFF 		bl	init_cat
 7823              	.LVL616:
2856:src/keys.c    **** 		return STATE_UNFINISHED;
 7824              		.loc 1 2856 3 view .LVU2502
 7825 0c20 5846     		mov	r0, fp
 7826 0c22 FFF7FEFF 		bl	init_cat
 7827              	.LVL617:
2857:src/keys.c    **** 	}
 7828              		.loc 1 2857 3 view .LVU2503
 7829              	.LBE1200:
 7830              	.LBE1260:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 7831              		.loc 1 2919 7 is_stmt 0 view .LVU2504
 7832 0c26 2746     		mov	r7, r4
 7833              	.LBB1261:
 7834              	.LBB1201:
2857:src/keys.c    **** 	}
 7835              		.loc 1 2857 10 view .LVU2505
 7836 0c28 4FF0330B 		mov	fp, #51
 7837 0c2c FFF73CBA 		b	.L565
 7838              	.LVL618:
 7839              	.L1092:
 7840              	.LBB939:
 7841              	.LBB655:
ARM GAS  /tmp/cc90KtGY.s 			page 234


 263:src/keys.c    ****     return CATALOGUE_PROGXFCN;
 7842              		.loc 1 263 16 view .LVU2506
 7843 0c30 BAF1030F 		cmp	r10, #3
 7844 0c34 A2D0     		beq	.L1127
 266:src/keys.c    ****     /*
 7845              		.loc 1 266 3 is_stmt 1 view .LVU2507
 266:src/keys.c    ****     /*
 7846              		.loc 1 266 23 is_stmt 0 view .LVU2508
 7847 0c36 2849     		ldr	r1, .L1153+20
 7848 0c38 D8F81430 		ldr	r3, [r8, #20]
 266:src/keys.c    ****     /*
 7849              		.loc 1 266 6 view .LVU2509
 7850 0c3c 1942     		tst	r1, r3
 7851 0c3e 3FF45AAB 		beq	.L666
 7852 0c42 A4E7     		b	.L658
 7853              	.LVL619:
 7854              	.L633:
 266:src/keys.c    ****     /*
 7855              		.loc 1 266 6 view .LVU2510
 7856              	.LBE655:
 7857              	.LBE939:
 7858              	.LBB940:
 7859              	.LBB861:
1916:src/keys.c    **** 		return process_arg(c);
 7860              		.loc 1 1916 3 is_stmt 1 view .LVU2511
 7861              	.LBB856:
 7862              	.LBI856:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 7863              		.loc 1 501 13 view .LVU2512
 7864              	.LBB857:
 502:src/keys.c    **** 		return;
 7865              		.loc 1 502 2 view .LVU2513
 502:src/keys.c    **** 		return;
 7866              		.loc 1 502 6 is_stmt 0 view .LVU2514
 7867 0c44 FFF7FEFF 		bl	is_bad_cmdline
 7868              	.LVL620:
 502:src/keys.c    **** 		return;
 7869              		.loc 1 502 5 view .LVU2515
 7870 0c48 18B9     		cbnz	r0, .L635
 7871 0c4a 5FFA8AF0 		uxtb	r0, r10
 7872 0c4e FFF7FEFF 		bl	init_arg.part.0
 7873              	.LVL621:
 7874              	.L635:
 502:src/keys.c    **** 		return;
 7875              		.loc 1 502 5 view .LVU2516
 7876              	.LBE857:
 7877              	.LBE856:
1917:src/keys.c    **** 	}
 7878              		.loc 1 1917 3 is_stmt 1 view .LVU2517
1917:src/keys.c    **** 	}
 7879              		.loc 1 1917 10 is_stmt 0 view .LVU2518
 7880 0c52 2046     		mov	r0, r4
 7881 0c54 FFF7FEFF 		bl	process_arg
 7882              	.LVL622:
 7883 0c58 8346     		mov	fp, r0
 7884              	.LVL623:
1917:src/keys.c    **** 	}
ARM GAS  /tmp/cc90KtGY.s 			page 235


 7885              		.loc 1 1917 10 view .LVU2519
 7886 0c5a 98E4     		b	.L594
 7887              	.LVL624:
 7888              	.L1088:
1917:src/keys.c    **** 	}
 7889              		.loc 1 1917 10 view .LVU2520
 7890              	.LBE861:
 7891              	.LBE940:
2827:src/keys.c    **** 		return STATE_UNFINISHED;
 7892              		.loc 1 2827 3 is_stmt 1 view .LVU2521
 7893              	.LBB941:
 7894              	.LBI941:
 109:src/keys.c    **** 	State2.shifts = State2.shifts == shift ? SHIFT_N : shift;
 7895              		.loc 1 109 13 view .LVU2522
 7896              	.LBB942:
 110:src/keys.c    **** }
 7897              		.loc 1 110 2 view .LVU2523
 110:src/keys.c    **** }
 7898              		.loc 1 110 16 is_stmt 0 view .LVU2524
 7899 0c5c 98F81030 		ldrb	r3, [r8, #16]	@ zero_extendqisi2
 7900 0c60 013B     		subs	r3, r3, #1
 7901 0c62 18BF     		it	ne
 7902 0c64 0123     		movne	r3, #1
 7903 0c66 88F81030 		strb	r3, [r8, #16]
 7904              	.LVL625:
 110:src/keys.c    **** }
 7905              		.loc 1 110 16 view .LVU2525
 7906              	.LBE942:
 7907              	.LBE941:
2828:src/keys.c    **** 	}
 7908              		.loc 1 2828 3 is_stmt 1 view .LVU2526
2828:src/keys.c    **** 	}
 7909              		.loc 1 2828 10 is_stmt 0 view .LVU2527
 7910 0c6a 4FF0330B 		mov	fp, #51
 7911 0c6e FFF71BBA 		b	.L565
 7912              	.LVL626:
 7913              	.L616:
 7914              	.LBB943:
 7915              	.LBB698:
1246:src/keys.c    **** 		// fall trough
 7916              		.loc 1 1246 3 is_stmt 1 view .LVU2528
1246:src/keys.c    **** 		// fall trough
 7917              		.loc 1 1246 10 is_stmt 0 view .LVU2529
 7918 0c72 A4F12909 		sub	r9, r4, #41
 7919              	.LVL627:
1246:src/keys.c    **** 		// fall trough
 7920              		.loc 1 1246 10 view .LVU2530
 7921 0c76 B9FA89F9 		clz	r9, r9
 7922 0c7a 4FEA5919 		lsr	r9, r9, #5
 7923              	.LVL628:
1246:src/keys.c    **** 		// fall trough
 7924              		.loc 1 1246 10 view .LVU2531
 7925 0c7e F6E6     		b	.L621
 7926              	.LVL629:
 7927              	.L1089:
1246:src/keys.c    **** 		// fall trough
 7928              		.loc 1 1246 10 view .LVU2532
ARM GAS  /tmp/cc90KtGY.s 			page 236


 7929              	.LBE698:
 7930              	.LBE943:
2831:src/keys.c    **** 		return STATE_UNFINISHED;
 7931              		.loc 1 2831 3 is_stmt 1 view .LVU2533
 7932              	.LBB944:
 7933              	.LBI944:
 109:src/keys.c    **** 	State2.shifts = State2.shifts == shift ? SHIFT_N : shift;
 7934              		.loc 1 109 13 view .LVU2534
 7935              	.LBB945:
 110:src/keys.c    **** }
 7936              		.loc 1 110 2 view .LVU2535
 110:src/keys.c    **** }
 7937              		.loc 1 110 16 is_stmt 0 view .LVU2536
 7938 0c80 98F81020 		ldrb	r2, [r8, #16]	@ zero_extendqisi2
 7939 0c84 022A     		cmp	r2, #2
 7940 0c86 18BF     		it	ne
 7941 0c88 0223     		movne	r3, #2
 7942 0c8a 88F81030 		strb	r3, [r8, #16]
 7943              	.LVL630:
 110:src/keys.c    **** }
 7944              		.loc 1 110 16 view .LVU2537
 7945              	.LBE945:
 7946              	.LBE944:
2832:src/keys.c    **** 	}
 7947              		.loc 1 2832 3 is_stmt 1 view .LVU2538
2832:src/keys.c    **** 	}
 7948              		.loc 1 2832 10 is_stmt 0 view .LVU2539
 7949 0c8e 4FF0330B 		mov	fp, #51
 7950 0c92 FFF709BA 		b	.L565
 7951              	.LVL631:
 7952              	.L1104:
2832:src/keys.c    **** 	}
 7953              		.loc 1 2832 10 view .LVU2540
 7954              	.LBE1201:
 7955              	.LBE1261:
3112:src/keys.c    **** 	NonProgrammable = 0;
 7956              		.loc 1 3112 26 view .LVU2541
 7957 0c96 134A     		ldr	r2, .L1153+32
 7958 0c98 1168     		ldr	r1, [r2]
 7959 0c9a 0029     		cmp	r1, #0
 7960 0c9c 3FF4AEAD 		beq	.L836
 7961              	.LVL632:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 7962              		.loc 1 3113 2 is_stmt 1 view .LVU2542
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 7963              		.loc 1 3113 18 is_stmt 0 view .LVU2543
 7964 0ca0 1360     		str	r3, [r2]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 7965              		.loc 1 3114 2 is_stmt 1 view .LVU2544
 7966 0ca2 00E4     		b	.L831
 7967              	.LVL633:
 7968              	.L1090:
 7969              	.LBB1262:
 7970              	.LBB1202:
2835:src/keys.c    **** 		State2.arrow = 0;
 7971              		.loc 1 2835 3 view .LVU2545
 7972              	.LBB946:
ARM GAS  /tmp/cc90KtGY.s 			page 237


 7973              	.LBI946:
 109:src/keys.c    **** 	State2.shifts = State2.shifts == shift ? SHIFT_N : shift;
 7974              		.loc 1 109 13 view .LVU2546
 7975              	.LBB947:
 110:src/keys.c    **** }
 7976              		.loc 1 110 2 view .LVU2547
 110:src/keys.c    **** }
 7977              		.loc 1 110 16 is_stmt 0 view .LVU2548
 7978 0ca4 98F81000 		ldrb	r0, [r8, #16]	@ zero_extendqisi2
 7979 0ca8 0328     		cmp	r0, #3
 7980              	.LBE947:
 7981              	.LBE946:
2836:src/keys.c    **** 		return STATE_UNFINISHED;
 7982              		.loc 1 2836 16 view .LVU2549
 7983 0caa 61F38202 		bfi	r2, r1, #2, #1
 7984              	.LBB950:
 7985              	.LBB948:
 110:src/keys.c    **** }
 7986              		.loc 1 110 16 view .LVU2550
 7987 0cae 18BF     		it	ne
 7988 0cb0 0323     		movne	r3, #3
 7989              	.LBE948:
 7990              	.LBE950:
2836:src/keys.c    **** 		return STATE_UNFINISHED;
 7991              		.loc 1 2836 16 view .LVU2551
 7992 0cb2 88F81520 		strb	r2, [r8, #21]
 7993              	.LBB951:
 7994              	.LBB949:
 110:src/keys.c    **** }
 7995              		.loc 1 110 16 view .LVU2552
 7996 0cb6 88F81030 		strb	r3, [r8, #16]
 7997              	.LVL634:
 110:src/keys.c    **** }
 7998              		.loc 1 110 16 view .LVU2553
 7999              	.LBE949:
 8000              	.LBE951:
2836:src/keys.c    **** 		return STATE_UNFINISHED;
 8001              		.loc 1 2836 3 is_stmt 1 view .LVU2554
2837:src/keys.c    **** 	}
 8002              		.loc 1 2837 3 view .LVU2555
2837:src/keys.c    **** 	}
 8003              		.loc 1 2837 10 is_stmt 0 view .LVU2556
 8004 0cba 4FF0330B 		mov	fp, #51
 8005 0cbe FFF7F3B9 		b	.L565
 8006              	.L1154:
 8007 0cc2 00BF     		.align	2
 8008              	.L1153:
 8009 0cc4 00000000 		.word	.LANCHOR1
 8010 0cc8 00000000 		.word	.LANCHOR0
 8011 0ccc 00000000 		.word	main_ram
 8012 0cd0 00000000 		.word	.LANCHOR15
 8013 0cd4 000A4000 		.word	4196864
 8014 0cd8 00080800 		.word	526336
 8015 0cdc 00000000 		.word	.LANCHOR16
 8016 0ce0 00000000 		.word	.LANCHOR10
 8017 0ce4 00000000 		.word	NonProgrammable
 8018              	.LVL635:
ARM GAS  /tmp/cc90KtGY.s 			page 238


 8019              	.L1121:
 8020              	.LBB952:
 8021              	.LBB900:
2458:src/keys.c    **** 			n = max;
 8022              		.loc 1 2458 3 is_stmt 1 view .LVU2557
2458:src/keys.c    **** 			n = max;
 8023              		.loc 1 2458 6 is_stmt 0 view .LVU2558
 8024 0ce8 012B     		cmp	r3, #1
 8025 0cea A3F10402 		sub	r2, r3, #4
 8026              	.LVL636:
2458:src/keys.c    **** 			n = max;
 8027              		.loc 1 2458 6 view .LVU2559
 8028 0cee 2AD0     		beq	.L1050
 8029 0cf0 D2B2     		uxtb	r2, r2
 8030              	.LVL637:
2458:src/keys.c    **** 			n = max;
 8031              		.loc 1 2458 6 view .LVU2560
 8032 0cf2 02E7     		b	.L641
 8033              	.LVL638:
 8034              	.L1112:
2458:src/keys.c    **** 			n = max;
 8035              		.loc 1 2458 6 view .LVU2561
 8036              	.LBE900:
 8037              	.LBE952:
 8038              	.LBB953:
 8039              	.LBB876:
1329:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regY_idx) rawpc = gtodot_digit(2); 
 8040              		.loc 1 1329 44 is_stmt 1 view .LVU2562
1329:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regY_idx) rawpc = gtodot_digit(2); 
 8041              		.loc 1 1329 52 is_stmt 0 view .LVU2563
 8042 0cf4 0120     		movs	r0, #1
 8043 0cf6 FFF7FEFF 		bl	gtodot_digit
 8044              	.LVL639:
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 8045              		.loc 1 1375 2 is_stmt 1 view .LVU2564
 8046              	.LBE876:
 8047              	.LBE953:
2812:src/keys.c    **** 
 8048              		.loc 1 2812 10 is_stmt 0 view .LVU2565
 8049 0cfa 4FF0330B 		mov	fp, #51
 8050 0cfe FFF7D3B9 		b	.L565
 8051              	.LVL640:
 8052              	.L1126:
2852:src/keys.c    **** 		if (is_bad_cmdline())
 8053              		.loc 1 2852 2 is_stmt 1 view .LVU2566
2852:src/keys.c    **** 		if (is_bad_cmdline())
 8054              		.loc 1 2852 5 is_stmt 0 view .LVU2567
 8055 0d02 BBF1000F 		cmp	fp, #0
 8056 0d06 83D1     		bne	.L656
 8057 0d08 FFF7F8BA 		b	.L670
 8058              	.LVL641:
 8059              	.L627:
 8060              	.LBB954:
 8061              	.LBB862:
1904:src/keys.c    **** 	}
 8062              		.loc 1 1904 3 is_stmt 1 view .LVU2568
1904:src/keys.c    **** 	}
ARM GAS  /tmp/cc90KtGY.s 			page 239


 8063              		.loc 1 1904 10 is_stmt 0 view .LVU2569
 8064 0d0c 0AF1200A 		add	r10, r10, #32
 8065 0d10 40EA0A20 		orr	r0, r0, r10, lsl #8
 8066 0d14 8346     		mov	fp, r0
 8067              	.LVL642:
1904:src/keys.c    **** 	}
 8068              		.loc 1 1904 10 view .LVU2570
 8069 0d16 FFF7BFBB 		b	.L620
 8070              	.LVL643:
 8071              	.L1113:
1904:src/keys.c    **** 	}
 8072              		.loc 1 1904 10 view .LVU2571
 8073              	.LBE862:
 8074              	.LBE954:
 8075              	.LBB955:
 8076              	.LBB877:
1330:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regZ_idx) rawpc = gtodot_digit(3); 
 8077              		.loc 1 1330 44 is_stmt 1 view .LVU2572
1330:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regZ_idx) rawpc = gtodot_digit(3); 
 8078              		.loc 1 1330 52 is_stmt 0 view .LVU2573
 8079 0d1a 0220     		movs	r0, #2
 8080 0d1c FFF7FEFF 		bl	gtodot_digit
 8081              	.LVL644:
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 8082              		.loc 1 1375 2 is_stmt 1 view .LVU2574
 8083              	.LBE877:
 8084              	.LBE955:
2812:src/keys.c    **** 
 8085              		.loc 1 2812 10 is_stmt 0 view .LVU2575
 8086 0d20 4FF0330B 		mov	fp, #51
 8087 0d24 FFF7C0B9 		b	.L565
 8088              	.LVL645:
 8089              	.L1125:
 8090              	.LBB956:
 8091              	.LBB931:
1285:src/keys.c    **** 
 8092              		.loc 1 1285 3 is_stmt 1 view .LVU2576
1285:src/keys.c    **** 
 8093              		.loc 1 1285 25 is_stmt 0 view .LVU2577
 8094 0d28 E74A     		ldr	r2, .L1155
 8095 0d2a 0AEB4303 		add	r3, r10, r3, lsl #1
 8096 0d2e 32F813B0 		ldrh	fp, [r2, r3, lsl #1]
 8097              	.LVL646:
1285:src/keys.c    **** 
 8098              		.loc 1 1285 25 view .LVU2578
 8099 0d32 2CE4     		b	.L594
 8100              	.LVL647:
 8101              	.L1122:
1285:src/keys.c    **** 
 8102              		.loc 1 1285 25 view .LVU2579
 8103              	.LBE931:
 8104              	.LBE956:
 8105              	.LBB957:
 8106              	.LBB901:
2462:src/keys.c    **** 			n = -2;
 8107              		.loc 1 2462 3 is_stmt 1 view .LVU2580
2462:src/keys.c    **** 			n = -2;
ARM GAS  /tmp/cc90KtGY.s 			page 240


 8108              		.loc 1 2462 6 is_stmt 0 view .LVU2581
 8109 0d34 023B     		subs	r3, r3, #2
 8110              	.LVL648:
2462:src/keys.c    **** 			n = -2;
 8111              		.loc 1 2462 6 view .LVU2582
 8112 0d36 8342     		cmp	r3, r0
 8113 0d38 40F31382 		ble	.L1049
 8114 0d3c FE22     		movs	r2, #254
 8115 0d3e DCE6     		b	.L641
 8116              	.LVL649:
 8117              	.L1124:
 8118              	.LBB897:
2474:src/keys.c    **** 		else if (nn != NO_REG)
 8119              		.loc 1 2474 4 is_stmt 1 view .LVU2583
2474:src/keys.c    **** 		else if (nn != NO_REG)
 8120              		.loc 1 2474 22 is_stmt 0 view .LVU2584
 8121 0d40 8342     		cmp	r3, r0
 8122 0d42 3FF4D9AE 		beq	.L860
 8123              	.LVL650:
 8124              	.L1050:
2474:src/keys.c    **** 		else if (nn != NO_REG)
 8125              		.loc 1 2474 22 view .LVU2585
 8126 0d46 C2B2     		uxtb	r2, r0
 8127 0d48 D7E6     		b	.L641
 8128              	.LVL651:
 8129              	.L1114:
2474:src/keys.c    **** 		else if (nn != NO_REG)
 8130              		.loc 1 2474 22 view .LVU2586
 8131              	.LBE897:
 8132              	.LBE901:
 8133              	.LBE957:
 8134              	.LBB958:
 8135              	.LBB878:
1331:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regT_idx) rawpc = gtodot_digit(4); 
 8136              		.loc 1 1331 44 is_stmt 1 view .LVU2587
1331:src/keys.c    **** 	else if ((rawpc & ~NO_SHORT) == regT_idx) rawpc = gtodot_digit(4); 
 8137              		.loc 1 1331 52 is_stmt 0 view .LVU2588
 8138 0d4a 0320     		movs	r0, #3
 8139 0d4c FFF7FEFF 		bl	gtodot_digit
 8140              	.LVL652:
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 8141              		.loc 1 1375 2 is_stmt 1 view .LVU2589
 8142              	.LBE878:
 8143              	.LBE958:
2812:src/keys.c    **** 
 8144              		.loc 1 2812 10 is_stmt 0 view .LVU2590
 8145 0d50 4FF0330B 		mov	fp, #51
 8146 0d54 FFF7A8B9 		b	.L565
 8147              	.LVL653:
 8148              	.L864:
 8149              	.LBB959:
 8150              	.LBB656:
 8151              	.LBB649:
 322:src/keys.c    **** #ifndef WINGUI
 8152              		.loc 1 322 8 view .LVU2591
 8153 0d58 DC4B     		ldr	r3, .L1155+4
 328:src/keys.c    ****   }
ARM GAS  /tmp/cc90KtGY.s 			page 241


 8154              		.loc 1 328 9 view .LVU2592
 8155 0d5a 0C21     		movs	r1, #12
 324:src/keys.c    **** #else
 8156              		.loc 1 324 27 view .LVU2593
 8157 0d5c 4FF0010C 		mov	ip, #1
 8158 0d60 FFF79CBA 		b	.L661
 8159              	.LVL654:
 8160              	.L1096:
 324:src/keys.c    **** #else
 8161              		.loc 1 324 27 view .LVU2594
 8162              	.LBE649:
 8163              	.LBE656:
 8164              	.LBE959:
2867:src/keys.c    **** 
 8165              		.loc 1 2867 3 is_stmt 1 view .LVU2595
 8166              	.LBB960:
 8167              	.LBI960:
2532:src/keys.c    **** 	unsigned int pc = State2.digval;
 8168              		.loc 1 2532 12 view .LVU2596
 8169              	.LBB961:
2533:src/keys.c    **** 	const unsigned int n = c == K62 ? REGION_XROM 
 8170              		.loc 1 2533 2 view .LVU2597
2535:src/keys.c    **** 	const int opcode = getprog(pc);
 8171              		.loc 1 2535 27 is_stmt 0 view .LVU2598
 8172 0d64 262C     		cmp	r4, #38
2533:src/keys.c    **** 	const unsigned int n = c == K62 ? REGION_XROM 
 8173              		.loc 1 2533 15 view .LVU2599
 8174 0d66 B8F808A0 		ldrh	r10, [r8, #8]
 8175              	.LVL655:
2534:src/keys.c    **** 		                        : keycode_to_digit_or_register(c) & ~NO_SHORT;
 8176              		.loc 1 2534 2 is_stmt 1 view .LVU2600
2535:src/keys.c    **** 	const int opcode = getprog(pc);
 8177              		.loc 1 2535 27 is_stmt 0 view .LVU2601
 8178 0d6a 00F06783 		beq	.L869
 8179              	.LVL656:
 8180              	.LBB962:
 8181              	.LBI962:
 198:src/keys.c    **** {
 8182              		.loc 1 198 14 is_stmt 1 view .LVU2602
 8183              	.LBB963:
 200:src/keys.c    ****     // K00 - K05
 8184              		.loc 1 200 3 view .LVU2603
 221:src/keys.c    **** }
 8185              		.loc 1 221 3 view .LVU2604
 8186              	.LBB964:
 8187              	.LBI964:
 119:src/keys.c    **** {
 8188              		.loc 1 119 12 view .LVU2605
 8189              	.LBB965:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 8190              		.loc 1 121 2 view .LVU2606
 131:src/keys.c    **** }
 8191              		.loc 1 131 2 view .LVU2607
 131:src/keys.c    **** }
 8192              		.loc 1 131 23 is_stmt 0 view .LVU2608
 8193 0d6e D84B     		ldr	r3, .L1155+8
 8194              	.LBE965:
ARM GAS  /tmp/cc90KtGY.s 			page 242


 8195              	.LBE964:
 221:src/keys.c    **** }
 8196              		.loc 1 221 28 view .LVU2609
 8197 0d70 D84A     		ldr	r2, .L1155+12
 8198              	.LBB967:
 8199              	.LBB966:
 131:src/keys.c    **** }
 8200              		.loc 1 131 23 view .LVU2610
 8201 0d72 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 8202              	.LBE966:
 8203              	.LBE967:
 221:src/keys.c    **** }
 8204              		.loc 1 221 10 view .LVU2611
 8205 0d74 12F803B0 		ldrb	fp, [r2, r3]	@ zero_extendqisi2
 8206              	.LBE963:
 8207              	.LBE962:
2535:src/keys.c    **** 	const int opcode = getprog(pc);
 8208              		.loc 1 2535 27 view .LVU2612
 8209 0d78 2BF0800B 		bic	fp, fp, #128
 8210              	.L685:
 8211              	.LVL657:
2536:src/keys.c    **** 	const int label = isDBL(opcode) ? (getprog(pc) & 0xfffff0ff) : 0;
 8212              		.loc 1 2536 2 is_stmt 1 view .LVU2613
2536:src/keys.c    **** 	const int label = isDBL(opcode) ? (getprog(pc) & 0xfffff0ff) : 0;
 8213              		.loc 1 2536 21 is_stmt 0 view .LVU2614
 8214 0d7c 5046     		mov	r0, r10
 8215 0d7e FFF7FEFF 		bl	getprog
 8216              	.LVL658:
2537:src/keys.c    **** 	const int direct = State2.runmode;
 8217              		.loc 1 2537 2 is_stmt 1 view .LVU2615
2537:src/keys.c    **** 	const int direct = State2.runmode;
 8218              		.loc 1 2537 20 is_stmt 0 view .LVU2616
 8219 0d82 00F47040 		and	r0, r0, #61440
 8220              	.LVL659:
2537:src/keys.c    **** 	const int direct = State2.runmode;
 8221              		.loc 1 2537 63 view .LVU2617
 8222 0d86 B0F5704F 		cmp	r0, #61440
 8223 0d8a 00F09A84 		beq	.L1128
 8224 0d8e 0023     		movs	r3, #0
 8225              	.L686:
 8226              	.LVL660:
2538:src/keys.c    **** 	const enum shifts shift = reset_shift();
 8227              		.loc 1 2538 2 is_stmt 1 view .LVU2618
2538:src/keys.c    **** 	const enum shifts shift = reset_shift();
 8228              		.loc 1 2538 27 is_stmt 0 view .LVU2619
 8229 0d90 98F81620 		ldrb	r2, [r8, #22]	@ zero_extendqisi2
 8230 0d94 0193     		str	r3, [sp, #4]
 8231              	.LVL661:
2538:src/keys.c    **** 	const enum shifts shift = reset_shift();
 8232              		.loc 1 2538 27 view .LVU2620
 8233 0d96 C2F38012 		ubfx	r2, r2, #6, #1
 8234 0d9a 0092     		str	r2, [sp]
 8235              	.LVL662:
2539:src/keys.c    **** 	int op = STATE_UNFINISHED;
 8236              		.loc 1 2539 2 is_stmt 1 view .LVU2621
 8237              	.LBB968:
 8238              	.LBI968:
ARM GAS  /tmp/cc90KtGY.s 			page 243


 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 8239              		.loc 1 102 13 view .LVU2622
 8240              	.LBE968:
 8241              	.LBE961:
 8242              	.LBE960:
 8243              	.LBE1202:
 8244              	.LBE1262:
 103:src/keys.c    **** }
 8245              		.loc 1 103 2 view .LVU2623
 8246              	.LBB1263:
 8247              	.LBB1203:
 8248              	.LBB995:
 8249              	.LBB987:
 8250              	.LBB975:
 8251              	.LBB969:
 8252              	.LBI969:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 8253              		.loc 1 92 20 view .LVU2624
 8254              	.LBB970:
  93:src/keys.c    **** 	State2.shifts = shift;
 8255              		.loc 1 93 2 view .LVU2625
 8256              	.LBB971:
 8257              	.LBI971:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 8258              		.loc 1 84 13 view .LVU2626
 8259              	.LBB972:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 8260              		.loc 1 85 2 view .LVU2627
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 8261              		.loc 1 85 18 is_stmt 0 view .LVU2628
 8262 0d9c FFF7FEFF 		bl	shift_down
 8263              	.LVL663:
  86:src/keys.c    **** }
 8264              		.loc 1 86 2 is_stmt 1 view .LVU2629
  86:src/keys.c    **** }
 8265              		.loc 1 86 52 is_stmt 0 view .LVU2630
 8266 0da0 DDE90023 		ldrd	r2, r3, [sp]
 8267 0da4 08B9     		cbnz	r0, .L687
 8268 0da6 98F81000 		ldrb	r0, [r8, #16]	@ zero_extendqisi2
 8269              	.LVL664:
 8270              	.L687:
  86:src/keys.c    **** }
 8271              		.loc 1 86 52 view .LVU2631
 8272              	.LBE972:
 8273              	.LBE971:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 8274              		.loc 1 94 2 is_stmt 1 view .LVU2632
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 8275              		.loc 1 94 16 is_stmt 0 view .LVU2633
 8276 0daa 0021     		movs	r1, #0
 8277              	.LBE970:
 8278              	.LBE969:
 8279              	.LBE975:
2542:src/keys.c    **** 		// Digits take you to that segment
 8280              		.loc 1 2542 5 view .LVU2634
 8281 0dac BBF1020F 		cmp	fp, #2
 8282              	.LBB976:
ARM GAS  /tmp/cc90KtGY.s 			page 244


 8283              	.LBB974:
 8284              	.LBB973:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 8285              		.loc 1 94 16 view .LVU2635
 8286 0db0 88F81010 		strb	r1, [r8, #16]
  95:src/keys.c    **** 	return r;
 8287              		.loc 1 95 2 is_stmt 1 view .LVU2636
  95:src/keys.c    **** 	return r;
 8288              		.loc 1 95 19 is_stmt 0 view .LVU2637
 8289 0db4 88F80D10 		strb	r1, [r8, #13]
  96:src/keys.c    **** }
 8290              		.loc 1 96 2 is_stmt 1 view .LVU2638
 8291              	.LVL665:
  96:src/keys.c    **** }
 8292              		.loc 1 96 2 is_stmt 0 view .LVU2639
 8293              	.LBE973:
 8294              	.LBE974:
 8295              	.LBE976:
2540:src/keys.c    **** 
 8296              		.loc 1 2540 2 is_stmt 1 view .LVU2640
2542:src/keys.c    **** 		// Digits take you to that segment
 8297              		.loc 1 2542 2 view .LVU2641
2542:src/keys.c    **** 		// Digits take you to that segment
 8298              		.loc 1 2542 5 is_stmt 0 view .LVU2642
 8299 0db8 40F25C85 		bls	.L1129
2551:src/keys.c    **** 
 8300              		.loc 1 2551 2 is_stmt 1 view .LVU2643
2551:src/keys.c    **** 
 8301              		.loc 1 2551 12 is_stmt 0 view .LVU2644
 8302 0dbc 44EA0024 		orr	r4, r4, r0, lsl #8
2551:src/keys.c    **** 
 8303              		.loc 1 2551 2 view .LVU2645
 8304 0dc0 272C     		cmp	r4, #39
 8305 0dc2 00F3BB80 		bgt	.L690
 8306 0dc6 042C     		cmp	r4, #4
 8307 0dc8 7FF705AC 		ble	.L1061
 8308 0dcc 053C     		subs	r4, r4, #5
 8309 0dce 222C     		cmp	r4, #34
 8310 0dd0 3FF601AC 		bhi	.L1061
 8311 0dd4 01A1     		adr	r1, .L698
 8312 0dd6 51F824F0 		ldr	pc, [r1, r4, lsl #2]
 8313 0dda 00BF     		.p2align 2
 8314              	.L698:
 8315 0ddc 310F0000 		.word	.L703+1
 8316 0de0 B10E0000 		.word	.L872+1
 8317 0de4 B10E0000 		.word	.L872+1
 8318 0de8 D7050000 		.word	.L1061+1
 8319 0dec D7050000 		.word	.L1061+1
 8320 0df0 D7050000 		.word	.L1061+1
 8321 0df4 D7050000 		.word	.L1061+1
 8322 0df8 7F0E0000 		.word	.L1052+1
 8323 0dfc D7050000 		.word	.L1061+1
 8324 0e00 D7050000 		.word	.L1061+1
 8325 0e04 D7050000 		.word	.L1061+1
 8326 0e08 170F0000 		.word	.L701+1
 8327 0e0c D7050000 		.word	.L1061+1
 8328 0e10 030F0000 		.word	.L700+1
ARM GAS  /tmp/cc90KtGY.s 			page 245


 8329 0e14 D7050000 		.word	.L1061+1
 8330 0e18 D7050000 		.word	.L1061+1
 8331 0e1c D7050000 		.word	.L1061+1
 8332 0e20 D7050000 		.word	.L1061+1
 8333 0e24 D7050000 		.word	.L1061+1
 8334 0e28 C30E0000 		.word	.L699+1
 8335 0e2c D7050000 		.word	.L1061+1
 8336 0e30 D7050000 		.word	.L1061+1
 8337 0e34 D7050000 		.word	.L1061+1
 8338 0e38 D7050000 		.word	.L1061+1
 8339 0e3c D7050000 		.word	.L1061+1
 8340 0e40 D7050000 		.word	.L1061+1
 8341 0e44 D7050000 		.word	.L1061+1
 8342 0e48 D7050000 		.word	.L1061+1
 8343 0e4c D7050000 		.word	.L1061+1
 8344 0e50 D7050000 		.word	.L1061+1
 8345 0e54 D7050000 		.word	.L1061+1
 8346 0e58 D7050000 		.word	.L1061+1
 8347 0e5c D7050000 		.word	.L1061+1
 8348 0e60 D7050000 		.word	.L1061+1
 8349 0e64 D90E0000 		.word	.L697+1
 8350              		.p2align 1
 8351              	.L704:
 8352 0e68 40F22733 		movw	r3, #807
 8353 0e6c 9C42     		cmp	r4, r3
 8354 0e6e 7FF4B2AB 		bne	.L1061
2621:src/keys.c    **** 		goto set_pc_and_exit;
 8355              		.loc 1 2621 3 is_stmt 1 view .LVU2646
2621:src/keys.c    **** 		goto set_pc_and_exit;
 8356              		.loc 1 2621 18 is_stmt 0 view .LVU2647
 8357 0e72 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 8358 0e76 61F38613 		bfi	r3, r1, #6, #1
 8359 0e7a 88F81630 		strb	r3, [r8, #22]
 8360              	.L1052:
2622:src/keys.c    **** 
 8361              		.loc 1 2622 3 is_stmt 1 view .LVU2648
2540:src/keys.c    **** 
 8362              		.loc 1 2540 6 is_stmt 0 view .LVU2649
 8363 0e7e 4FF0330B 		mov	fp, #51
 8364              	.LVL666:
 8365              	.L695:
2573:src/keys.c    **** 		break;
 8366              		.loc 1 2573 3 is_stmt 1 view .LVU2650
 8367 0e82 5046     		mov	r0, r10
 8368              	.LVL667:
2573:src/keys.c    **** 		break;
 8369              		.loc 1 2573 3 is_stmt 0 view .LVU2651
 8370 0e84 FFF7FEFF 		bl	set_pc
 8371              	.LVL668:
2574:src/keys.c    **** 
 8372              		.loc 1 2574 3 is_stmt 1 view .LVU2652
 8373              	.L707:
2627:src/keys.c    **** 	State2.labellist = 0;
 8374              		.loc 1 2627 2 view .LVU2653
2628:src/keys.c    **** 	return check_confirm(op);
 8375              		.loc 1 2628 19 is_stmt 0 view .LVU2654
 8376 0e88 98F81710 		ldrb	r1, [r8, #23]	@ zero_extendqisi2
ARM GAS  /tmp/cc90KtGY.s 			page 246


2627:src/keys.c    **** 	State2.labellist = 0;
 8377              		.loc 1 2627 16 view .LVU2655
 8378 0e8c 0022     		movs	r2, #0
 8379              	.LBB977:
 8380              	.LBB978:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8381              		.loc 1 620 5 view .LVU2656
 8382 0e8e CBF30723 		ubfx	r3, fp, #8, #8
 8383              	.LBE978:
 8384              	.LBE977:
2628:src/keys.c    **** 	return check_confirm(op);
 8385              		.loc 1 2628 19 view .LVU2657
 8386 0e92 62F38201 		bfi	r1, r2, #2, #1
 8387              	.LBB983:
 8388              	.LBB979:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8389              		.loc 1 620 5 view .LVU2658
 8390 0e96 012B     		cmp	r3, #1
 8391              	.LBE979:
 8392              	.LBE983:
2628:src/keys.c    **** 	return check_confirm(op);
 8393              		.loc 1 2628 19 view .LVU2659
 8394 0e98 88F81710 		strb	r1, [r8, #23]
2627:src/keys.c    **** 	State2.labellist = 0;
 8395              		.loc 1 2627 16 view .LVU2660
 8396 0e9c A8F80820 		strh	r2, [r8, #8]	@ movhi
2628:src/keys.c    **** 	return check_confirm(op);
 8397              		.loc 1 2628 2 is_stmt 1 view .LVU2661
2629:src/keys.c    **** }
 8398              		.loc 1 2629 2 view .LVU2662
 8399              	.LVL669:
 8400              	.LBB984:
 8401              	.LBI977:
 619:src/keys.c    **** 	if (opKIND(op) == KIND_NIL) {
 8402              		.loc 1 619 12 view .LVU2663
 8403              	.LBB980:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8404              		.loc 1 620 2 view .LVU2664
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8405              		.loc 1 620 5 is_stmt 0 view .LVU2665
 8406 0ea0 7FF475AB 		bne	.L594
 8407              	.LVL670:
 8408              	.L850:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8409              		.loc 1 620 5 view .LVU2666
 8410              	.LBE980:
 8411              	.LBE984:
 8412              	.LBE987:
 8413              	.LBE995:
 8414              	.LBB996:
 8415              	.LBB997:
 8416              	.LBB998:
 8417              	.LBB999:
 8418 0ea4 5846     		mov	r0, fp
 8419 0ea6 FFF7FEFF 		bl	check_confirm.part.0
 8420              	.LVL671:
 8421 0eaa 8346     		mov	fp, r0
ARM GAS  /tmp/cc90KtGY.s 			page 247


 8422              	.LVL672:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8423              		.loc 1 620 5 view .LVU2667
 8424 0eac FFF76FBB 		b	.L594
 8425              	.LVL673:
 8426              	.L872:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8427              		.loc 1 620 5 view .LVU2668
 8428              	.LBE999:
 8429              	.LBE998:
 8430              	.LBE997:
 8431              	.LBE996:
 8432              	.LBB1038:
 8433              	.LBB988:
2586:src/keys.c    **** #endif	    
 8434              		.loc 1 2586 13 view .LVU2669
 8435 0eb0 4FF4807B 		mov	fp, #256
 8436              	.LVL674:
2586:src/keys.c    **** #endif	    
 8437              		.loc 1 2586 13 view .LVU2670
 8438 0eb4 E5E7     		b	.L695
 8439              	.LVL675:
 8440              	.L692:
2558:src/keys.c    **** 	case K_DOWN:				// Find next label
 8441              		.loc 1 2558 3 is_stmt 1 view .LVU2671
2558:src/keys.c    **** 	case K_DOWN:				// Find next label
 8442              		.loc 1 2558 8 is_stmt 0 view .LVU2672
 8443 0eb6 5046     		mov	r0, r10
 8444              	.LVL676:
2558:src/keys.c    **** 	case K_DOWN:				// Find next label
 8445              		.loc 1 2558 8 view .LVU2673
 8446 0eb8 0122     		movs	r2, #1
 8447 0eba 0021     		movs	r1, #0
 8448 0ebc FFF7FEFF 		bl	advance_to_next_label
 8449              	.LVL677:
 8450 0ec0 8246     		mov	r10, r0
 8451              	.LVL678:
 8452              	.L699:
2561:src/keys.c    **** 		return STATE_UNFINISHED;
 8453              		.loc 1 2561 3 is_stmt 1 view .LVU2674
2561:src/keys.c    **** 		return STATE_UNFINISHED;
 8454              		.loc 1 2561 19 is_stmt 0 view .LVU2675
 8455 0ec2 5046     		mov	r0, r10
 8456 0ec4 0022     		movs	r2, #0
 8457 0ec6 0121     		movs	r1, #1
 8458 0ec8 FFF7FEFF 		bl	advance_to_next_label
 8459              	.LVL679:
2562:src/keys.c    **** 
 8460              		.loc 1 2562 10 view .LVU2676
 8461 0ecc 4FF0330B 		mov	fp, #51
 8462              	.LVL680:
2561:src/keys.c    **** 		return STATE_UNFINISHED;
 8463              		.loc 1 2561 17 view .LVU2677
 8464 0ed0 A8F80800 		strh	r0, [r8, #8]	@ movhi
2562:src/keys.c    **** 
 8465              		.loc 1 2562 3 is_stmt 1 view .LVU2678
2562:src/keys.c    **** 
ARM GAS  /tmp/cc90KtGY.s 			page 248


 8466              		.loc 1 2562 10 is_stmt 0 view .LVU2679
 8467 0ed4 FFF7E8B8 		b	.L565
 8468              	.LVL681:
 8469              	.L697:
2613:src/keys.c    **** 			cmdgtocommon(1, pc);	// set pc and push return address
 8470              		.loc 1 2613 3 is_stmt 1 view .LVU2680
2613:src/keys.c    **** 			cmdgtocommon(1, pc);	// set pc and push return address
 8471              		.loc 1 2613 6 is_stmt 0 view .LVU2681
 8472 0ed8 002A     		cmp	r2, #0
 8473 0eda 3FF47CAB 		beq	.L1061
2613:src/keys.c    **** 			cmdgtocommon(1, pc);	// set pc and push return address
 8474              		.loc 1 2613 14 view .LVU2682
 8475 0ede 002B     		cmp	r3, #0
 8476 0ee0 3FF479AB 		beq	.L1061
2614:src/keys.c    **** 			op = STATE_RUNNING;	// quit the browser, start program
 8477              		.loc 1 2614 4 is_stmt 1 view .LVU2683
 8478 0ee4 5146     		mov	r1, r10
 8479 0ee6 0120     		movs	r0, #1
 8480              	.LVL682:
2614:src/keys.c    **** 			op = STATE_RUNNING;	// quit the browser, start program
 8481              		.loc 1 2614 4 is_stmt 0 view .LVU2684
 8482 0ee8 FFF7FEFF 		bl	cmdgtocommon
 8483              	.LVL683:
2615:src/keys.c    **** 			break;
 8484              		.loc 1 2615 4 is_stmt 1 view .LVU2685
2616:src/keys.c    **** 		}
 8485              		.loc 1 2616 4 view .LVU2686
2627:src/keys.c    **** 	State2.labellist = 0;
 8486              		.loc 1 2627 2 view .LVU2687
2628:src/keys.c    **** 	return check_confirm(op);
 8487              		.loc 1 2628 19 is_stmt 0 view .LVU2688
 8488 0eec 98F81720 		ldrb	r2, [r8, #23]	@ zero_extendqisi2
2627:src/keys.c    **** 	State2.labellist = 0;
 8489              		.loc 1 2627 16 view .LVU2689
 8490 0ef0 0023     		movs	r3, #0
2628:src/keys.c    **** 	return check_confirm(op);
 8491              		.loc 1 2628 19 view .LVU2690
 8492 0ef2 63F38202 		bfi	r2, r3, #2, #1
 8493 0ef6 88F81720 		strb	r2, [r8, #23]
2627:src/keys.c    **** 	State2.labellist = 0;
 8494              		.loc 1 2627 16 view .LVU2691
 8495 0efa A8F80830 		strh	r3, [r8, #8]	@ movhi
2628:src/keys.c    **** 	return check_confirm(op);
 8496              		.loc 1 2628 2 is_stmt 1 view .LVU2692
2629:src/keys.c    **** }
 8497              		.loc 1 2629 2 view .LVU2693
 8498              	.LVL684:
 8499              	.LBB985:
 619:src/keys.c    **** 	if (opKIND(op) == KIND_NIL) {
 8500              		.loc 1 619 12 view .LVU2694
 8501              	.LBB981:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8502              		.loc 1 620 2 view .LVU2695
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8503              		.loc 1 620 2 is_stmt 0 view .LVU2696
 8504              	.LBE981:
 8505              	.LBE985:
ARM GAS  /tmp/cc90KtGY.s 			page 249


 8506              	.LBE988:
 8507              	.LBE1038:
 8508              	.LBE1203:
 8509              	.LBE1263:
3076:src/keys.c    ****     case STATE_SST:
 8510              		.loc 1 3076 5 is_stmt 1 view .LVU2697
 8511 0efe FFF74DB9 		b	.L574
 8512              	.LVL685:
 8513              	.L700:
 8514              	.LBB1264:
 8515              	.LBB1204:
 8516              	.LBB1039:
 8517              	.LBB989:
2565:src/keys.c    **** 		return STATE_UNFINISHED;
 8518              		.loc 1 2565 3 view .LVU2698
2565:src/keys.c    **** 		return STATE_UNFINISHED;
 8519              		.loc 1 2565 19 is_stmt 0 view .LVU2699
 8520 0f02 5046     		mov	r0, r10
 8521              	.LVL686:
2565:src/keys.c    **** 		return STATE_UNFINISHED;
 8522              		.loc 1 2565 19 view .LVU2700
 8523 0f04 0021     		movs	r1, #0
 8524 0f06 FFF7FEFF 		bl	advance_to_previous_label
 8525              	.LVL687:
2566:src/keys.c    **** 
 8526              		.loc 1 2566 10 view .LVU2701
 8527 0f0a 4FF0330B 		mov	fp, #51
 8528              	.LVL688:
2565:src/keys.c    **** 		return STATE_UNFINISHED;
 8529              		.loc 1 2565 17 view .LVU2702
 8530 0f0e A8F80800 		strh	r0, [r8, #8]	@ movhi
2566:src/keys.c    **** 
 8531              		.loc 1 2566 3 is_stmt 1 view .LVU2703
2566:src/keys.c    **** 
 8532              		.loc 1 2566 10 is_stmt 0 view .LVU2704
 8533 0f12 FFF7C9B8 		b	.L565
 8534              	.LVL689:
 8535              	.L701:
2627:src/keys.c    **** 	State2.labellist = 0;
 8536              		.loc 1 2627 2 is_stmt 1 view .LVU2705
2628:src/keys.c    **** 	return check_confirm(op);
 8537              		.loc 1 2628 19 is_stmt 0 view .LVU2706
 8538 0f16 98F81720 		ldrb	r2, [r8, #23]	@ zero_extendqisi2
2627:src/keys.c    **** 	State2.labellist = 0;
 8539              		.loc 1 2627 16 view .LVU2707
 8540 0f1a 0023     		movs	r3, #0
2628:src/keys.c    **** 	return check_confirm(op);
 8541              		.loc 1 2628 19 view .LVU2708
 8542 0f1c 63F38202 		bfi	r2, r3, #2, #1
 8543 0f20 88F81720 		strb	r2, [r8, #23]
2627:src/keys.c    **** 	State2.labellist = 0;
 8544              		.loc 1 2627 16 view .LVU2709
 8545 0f24 A8F80830 		strh	r3, [r8, #8]	@ movhi
2628:src/keys.c    **** 	return check_confirm(op);
 8546              		.loc 1 2628 2 is_stmt 1 view .LVU2710
2629:src/keys.c    **** }
 8547              		.loc 1 2629 2 view .LVU2711
ARM GAS  /tmp/cc90KtGY.s 			page 250


 8548              	.LVL690:
 8549              	.LBB986:
 619:src/keys.c    **** 	if (opKIND(op) == KIND_NIL) {
 8550              		.loc 1 619 12 view .LVU2712
 8551              	.LBB982:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8552              		.loc 1 620 2 view .LVU2713
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 8553              		.loc 1 620 2 is_stmt 0 view .LVU2714
 8554              	.LBE982:
 8555              	.LBE986:
 8556              	.LBE989:
 8557              	.LBE1039:
 8558              	.LBE1204:
 8559              	.LBE1264:
3076:src/keys.c    ****     case STATE_SST:
 8560              		.loc 1 3076 5 is_stmt 1 view .LVU2715
 8561              	.LBB1265:
 8562              	.LBB1205:
 8563              	.LBB1040:
 8564              	.LBB990:
2540:src/keys.c    **** 
 8565              		.loc 1 2540 6 is_stmt 0 view .LVU2716
 8566 0f28 4FF0330B 		mov	fp, #51
 8567              	.LVL691:
2540:src/keys.c    **** 
 8568              		.loc 1 2540 6 view .LVU2717
 8569 0f2c FFF7BCB8 		b	.L565
 8570              	.LVL692:
 8571              	.L703:
 8572              	.L708:
2591:src/keys.c    **** 		goto xeq_or_gto;
 8573              		.loc 1 2591 3 is_stmt 1 view .LVU2718
2591:src/keys.c    **** 		goto xeq_or_gto;
 8574              		.loc 1 2591 6 is_stmt 0 view .LVU2719
 8575 0f30 03F5007B 		add	fp, r3, #512
 8576              	.LVL693:
2592:src/keys.c    **** 
 8577              		.loc 1 2592 3 is_stmt 1 view .LVU2720
2597:src/keys.c    **** 			break;
 8578              		.loc 1 2597 3 view .LVU2721
2597:src/keys.c    **** 			break;
 8579              		.loc 1 2597 6 is_stmt 0 view .LVU2722
 8580 0f34 002B     		cmp	r3, #0
 8581 0f36 A7D1     		bne	.L707
 8582 0f38 FFF74DBB 		b	.L1061
 8583              	.LVL694:
 8584              	.L690:
2551:src/keys.c    **** 
 8585              		.loc 1 2551 2 view .LVU2723
 8586 0f3c B4F58C7F 		cmp	r4, #280
 8587 0f40 92DC     		bgt	.L704
 8588 0f42 B4F5827F 		cmp	r4, #260
 8589 0f46 7FF746AB 		ble	.L1061
 8590 0f4a 6FF4827C 		mvn	ip, #260
 8591 0f4e 6444     		add	r4, r4, ip
 8592 0f50 132C     		cmp	r4, #19
ARM GAS  /tmp/cc90KtGY.s 			page 251


 8593 0f52 3FF640AB 		bhi	.L1061
 8594 0f56 01A2     		adr	r2, .L693
 8595 0f58 52F824F0 		ldr	pc, [r2, r4, lsl #2]
 8596              		.p2align 2
 8597              	.L693:
 8598 0f5c B30F0000 		.word	.L696+1
 8599 0f60 D7050000 		.word	.L1061+1
 8600 0f64 D7050000 		.word	.L1061+1
 8601 0f68 D7050000 		.word	.L1061+1
 8602 0f6c D7050000 		.word	.L1061+1
 8603 0f70 D7050000 		.word	.L1061+1
 8604 0f74 D7050000 		.word	.L1061+1
 8605 0f78 D7050000 		.word	.L1061+1
 8606 0f7c D7050000 		.word	.L1061+1
 8607 0f80 D7050000 		.word	.L1061+1
 8608 0f84 D7050000 		.word	.L1061+1
 8609 0f88 AD0F0000 		.word	.L871+1
 8610 0f8c D7050000 		.word	.L1061+1
 8611 0f90 C10F0000 		.word	.L694+1
 8612 0f94 D7050000 		.word	.L1061+1
 8613 0f98 D7050000 		.word	.L1061+1
 8614 0f9c D7050000 		.word	.L1061+1
 8615 0fa0 D7050000 		.word	.L1061+1
 8616 0fa4 D7050000 		.word	.L1061+1
 8617 0fa8 B70E0000 		.word	.L692+1
 8618              		.p2align 1
 8619              	.L871:
 8620 0fac 40F2431B 		movw	fp, #323
 8621              	.LVL695:
2551:src/keys.c    **** 
 8622              		.loc 1 2551 2 view .LVU2724
 8623 0fb0 67E7     		b	.L695
 8624              	.LVL696:
 8625              	.L696:
2595:src/keys.c    **** 	xeq_or_gto:
 8626              		.loc 1 2595 3 is_stmt 1 view .LVU2725
2595:src/keys.c    **** 	xeq_or_gto:
 8627              		.loc 1 2595 6 is_stmt 0 view .LVU2726
 8628 0fb2 03F5407B 		add	fp, r3, #768
 8629              	.LVL697:
2597:src/keys.c    **** 			break;
 8630              		.loc 1 2597 3 is_stmt 1 view .LVU2727
2597:src/keys.c    **** 			break;
 8631              		.loc 1 2597 6 is_stmt 0 view .LVU2728
 8632 0fb6 002B     		cmp	r3, #0
 8633 0fb8 7FF466AF 		bne	.L707
 8634 0fbc FFF70BBB 		b	.L1061
 8635              	.LVL698:
 8636              	.L694:
2554:src/keys.c    **** 		goto next;
 8637              		.loc 1 2554 3 is_stmt 1 view .LVU2729
2554:src/keys.c    **** 		goto next;
 8638              		.loc 1 2554 8 is_stmt 0 view .LVU2730
 8639 0fc0 5046     		mov	r0, r10
 8640              	.LVL699:
2554:src/keys.c    **** 		goto next;
 8641              		.loc 1 2554 8 view .LVU2731
ARM GAS  /tmp/cc90KtGY.s 			page 252


 8642 0fc2 0121     		movs	r1, #1
 8643 0fc4 FFF7FEFF 		bl	advance_to_previous_label
 8644              	.LVL700:
 8645 0fc8 0121     		movs	r1, #1
 8646 0fca FFF7FEFF 		bl	advance_to_previous_label
 8647              	.LVL701:
 8648 0fce 8246     		mov	r10, r0
 8649              	.LVL702:
2555:src/keys.c    **** 
 8650              		.loc 1 2555 3 is_stmt 1 view .LVU2732
 8651 0fd0 77E7     		b	.L699
 8652              	.LVL703:
 8653              	.L1115:
2555:src/keys.c    **** 
 8654              		.loc 1 2555 3 is_stmt 0 view .LVU2733
 8655              	.LBE990:
 8656              	.LBE1040:
 8657              	.LBB1041:
 8658              	.LBB879:
1332:src/keys.c    **** #endif
 8659              		.loc 1 1332 44 is_stmt 1 view .LVU2734
1332:src/keys.c    **** #endif
 8660              		.loc 1 1332 52 is_stmt 0 view .LVU2735
 8661 0fd2 0420     		movs	r0, #4
 8662 0fd4 FFF7FEFF 		bl	gtodot_digit
 8663              	.LVL704:
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 8664              		.loc 1 1375 2 is_stmt 1 view .LVU2736
 8665              	.LBE879:
 8666              	.LBE1041:
2812:src/keys.c    **** 
 8667              		.loc 1 2812 10 is_stmt 0 view .LVU2737
 8668 0fd8 4FF0330B 		mov	fp, #51
 8669 0fdc FFF764B8 		b	.L565
 8670              	.LVL705:
 8671              	.L1097:
2870:src/keys.c    **** 
 8672              		.loc 1 2870 3 is_stmt 1 view .LVU2738
 8673              	.LBB1042:
 8674              	.LBI739:
2663:src/keys.c    **** 	unsigned int n = keycode_to_digit_or_register(c) & ~NO_SHORT;
 8675              		.loc 1 2663 12 view .LVU2739
 8676              	.LBB764:
2664:src/keys.c    **** 	enum shifts shift = reset_shift();
 8677              		.loc 1 2664 2 view .LVU2740
 8678              	.LBB741:
 8679              	.LBI741:
 198:src/keys.c    **** {
 8680              		.loc 1 198 14 view .LVU2741
 8681              	.LBB742:
 200:src/keys.c    ****     // K00 - K05
 8682              		.loc 1 200 3 view .LVU2742
 221:src/keys.c    **** }
 8683              		.loc 1 221 3 view .LVU2743
 8684              	.LBB743:
 8685              	.LBI743:
 119:src/keys.c    **** {
ARM GAS  /tmp/cc90KtGY.s 			page 253


 8686              		.loc 1 119 12 view .LVU2744
 8687              	.LBB744:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 8688              		.loc 1 121 2 view .LVU2745
 131:src/keys.c    **** }
 8689              		.loc 1 131 2 view .LVU2746
 131:src/keys.c    **** }
 8690              		.loc 1 131 23 is_stmt 0 view .LVU2747
 8691 0fe0 3B4B     		ldr	r3, .L1155+8
 8692              	.LBE744:
 8693              	.LBE743:
 221:src/keys.c    **** }
 8694              		.loc 1 221 28 view .LVU2748
 8695 0fe2 3C4A     		ldr	r2, .L1155+12
 8696              	.LBB746:
 8697              	.LBB745:
 131:src/keys.c    **** }
 8698              		.loc 1 131 23 view .LVU2749
 8699 0fe4 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 8700              	.LBE745:
 8701              	.LBE746:
 221:src/keys.c    **** }
 8702              		.loc 1 221 10 view .LVU2750
 8703 0fe6 12F803A0 		ldrb	r10, [r2, r3]	@ zero_extendqisi2
 8704              	.LVL706:
 221:src/keys.c    **** }
 8705              		.loc 1 221 10 view .LVU2751
 8706              	.LBE742:
 8707              	.LBE741:
 8708              	.LBB747:
 8709              	.LBB748:
 8710              	.LBB749:
 8711              	.LBB750:
 8712              	.LBB751:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 8713              		.loc 1 85 18 view .LVU2752
 8714 0fea FFF7FEFF 		bl	shift_down
 8715              	.LVL707:
 8716              	.LBE751:
 8717              	.LBE750:
 8718              	.LBE749:
 8719              	.LBE748:
 8720              	.LBE747:
2664:src/keys.c    **** 	enum shifts shift = reset_shift();
 8721              		.loc 1 2664 15 view .LVU2753
 8722 0fee 2AF0800A 		bic	r10, r10, #128
 8723              	.LVL708:
2665:src/keys.c    **** 	const int max = State2.local ? local_regs() : NUMREG;
 8724              		.loc 1 2665 2 is_stmt 1 view .LVU2754
 8725              	.LBB758:
 8726              	.LBI747:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 8727              		.loc 1 102 13 view .LVU2755
 8728              	.LBE758:
 8729              	.LBE764:
 8730              	.LBE1042:
 8731              	.LBE1205:
ARM GAS  /tmp/cc90KtGY.s 			page 254


 8732              	.LBE1265:
 103:src/keys.c    **** }
 8733              		.loc 1 103 2 view .LVU2756
 8734              	.LBB1266:
 8735              	.LBB1206:
 8736              	.LBB1043:
 8737              	.LBB765:
 8738              	.LBB759:
 8739              	.LBB756:
 8740              	.LBI748:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 8741              		.loc 1 92 20 view .LVU2757
 8742              	.LBB754:
  93:src/keys.c    **** 	State2.shifts = shift;
 8743              		.loc 1 93 2 view .LVU2758
 8744              	.LBB753:
 8745              	.LBI750:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 8746              		.loc 1 84 13 view .LVU2759
 8747              	.LBB752:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 8748              		.loc 1 85 2 view .LVU2760
  86:src/keys.c    **** }
 8749              		.loc 1 86 2 view .LVU2761
  86:src/keys.c    **** }
 8750              		.loc 1 86 52 is_stmt 0 view .LVU2762
 8751 0ff2 0346     		mov	r3, r0
 8752 0ff4 08B9     		cbnz	r0, .L710
 8753 0ff6 98F81030 		ldrb	r3, [r8, #16]	@ zero_extendqisi2
 8754              	.L710:
 8755              	.LVL709:
  86:src/keys.c    **** }
 8756              		.loc 1 86 52 view .LVU2763
 8757              	.LBE752:
 8758              	.LBE753:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 8759              		.loc 1 94 2 is_stmt 1 view .LVU2764
 8760              	.LBE754:
 8761              	.LBE756:
 8762              	.LBE759:
2666:src/keys.c    **** 	const int g_max = global_regs();
 8763              		.loc 1 2666 31 is_stmt 0 view .LVU2765
 8764 0ffa 98F81610 		ldrb	r1, [r8, #22]	@ zero_extendqisi2
 8765              	.LBB760:
 8766              	.LBB757:
 8767              	.LBB755:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 8768              		.loc 1 94 16 view .LVU2766
 8769 0ffe 0022     		movs	r2, #0
 8770 1000 88F81020 		strb	r2, [r8, #16]
  95:src/keys.c    **** 	return r;
 8771              		.loc 1 95 2 is_stmt 1 view .LVU2767
  95:src/keys.c    **** 	return r;
 8772              		.loc 1 95 19 is_stmt 0 view .LVU2768
 8773 1004 88F80D20 		strb	r2, [r8, #13]
  96:src/keys.c    **** }
 8774              		.loc 1 96 2 is_stmt 1 view .LVU2769
ARM GAS  /tmp/cc90KtGY.s 			page 255


 8775              	.LVL710:
  96:src/keys.c    **** }
 8776              		.loc 1 96 2 is_stmt 0 view .LVU2770
 8777              	.LBE755:
 8778              	.LBE757:
 8779              	.LBE760:
2666:src/keys.c    **** 	const int g_max = global_regs();
 8780              		.loc 1 2666 2 is_stmt 1 view .LVU2771
2666:src/keys.c    **** 	const int g_max = global_regs();
 8781              		.loc 1 2666 46 is_stmt 0 view .LVU2772
 8782 1008 CA07     		lsls	r2, r1, #31
 8783 100a 00F18182 		bmi	.L1130
 8784 100e 4FF07009 		mov	r9, #112
 8785              	.LVL711:
 8786              	.L711:
2666:src/keys.c    **** 	const int g_max = global_regs();
 8787              		.loc 1 2666 46 view .LVU2773
 8788 1012 0093     		str	r3, [sp]
 8789              	.LVL712:
2667:src/keys.c    **** 
 8790              		.loc 1 2667 2 is_stmt 1 view .LVU2774
2667:src/keys.c    **** 
 8791              		.loc 1 2667 20 is_stmt 0 view .LVU2775
 8792 1014 FFF7FEFF 		bl	global_regs
 8793              	.LVL713:
2669:src/keys.c    **** 		if (local_regs())
 8794              		.loc 1 2669 2 is_stmt 1 view .LVU2776
2669:src/keys.c    **** 		if (local_regs())
 8795              		.loc 1 2669 5 is_stmt 0 view .LVU2777
 8796 1018 BAF1700F 		cmp	r10, #112
 8797 101c 009B     		ldr	r3, [sp]
 8798 101e 00F00584 		beq	.L1131
2675:src/keys.c    **** 		int dv = (State2.digval * 10 + n) % 100;
 8799              		.loc 1 2675 7 is_stmt 1 view .LVU2778
2675:src/keys.c    **** 		int dv = (State2.digval * 10 + n) % 100;
 8800              		.loc 1 2675 10 is_stmt 0 view .LVU2779
 8801 1022 BAF1090F 		cmp	r10, #9
 8802 1026 40F25383 		bls	.L1132
2682:src/keys.c    **** 		set_window(shift == SHIFT_F ? STATE_WINDOWLEFT : STATE_WINDOWRIGHT);
 8803              		.loc 1 2682 7 is_stmt 1 view .LVU2780
2682:src/keys.c    **** 		set_window(shift == SHIFT_F ? STATE_WINDOWLEFT : STATE_WINDOWRIGHT);
 8804              		.loc 1 2682 29 is_stmt 0 view .LVU2781
 8805 102a 5A1E     		subs	r2, r3, #1
2682:src/keys.c    **** 		set_window(shift == SHIFT_F ? STATE_WINDOWLEFT : STATE_WINDOWRIGHT);
 8806              		.loc 1 2682 10 view .LVU2782
 8807 102c D2B2     		uxtb	r2, r2
 8808 102e 012A     		cmp	r2, #1
 8809 1030 40F25A82 		bls	.L1133
 8810              	.L719:
2686:src/keys.c    **** 		State2.digval = n;
 8811              		.loc 1 2686 7 is_stmt 1 view .LVU2783
2686:src/keys.c    **** 		State2.digval = n;
 8812              		.loc 1 2686 10 is_stmt 0 view .LVU2784
 8813 1034 BAF17F0F 		cmp	r10, #127
 8814 1038 40F08583 		bne	.L1134
2691:src/keys.c    **** 	case K_DOWN:
 8815              		.loc 1 2691 2 is_stmt 1 view .LVU2785
ARM GAS  /tmp/cc90KtGY.s 			page 256


 8816 103c 073C     		subs	r4, r4, #7
 8817 103e 112C     		cmp	r4, #17
 8818 1040 3FF6C9AA 		bhi	.L1061
 8819 1044 01A2     		adr	r2, .L840
 8820 1046 52F824F0 		ldr	pc, [r2, r4, lsl #2]
 8821 104a 00BF     		.p2align 2
 8822              	.L840:
 8823 104c 25110000 		.word	.L732+1
 8824 1050 D7050000 		.word	.L1061+1
 8825 1054 D7050000 		.word	.L1061+1
 8826 1058 D7050000 		.word	.L1061+1
 8827 105c D7050000 		.word	.L1061+1
 8828 1060 51110000 		.word	.L731+1
 8829 1064 D7050000 		.word	.L1061+1
 8830 1068 D7050000 		.word	.L1061+1
 8831 106c D7050000 		.word	.L1061+1
 8832 1070 07110000 		.word	.L729+1
 8833 1074 D7050000 		.word	.L1061+1
 8834 1078 D9100000 		.word	.L725+1
 8835 107c D7050000 		.word	.L1061+1
 8836 1080 D7050000 		.word	.L1061+1
 8837 1084 D7050000 		.word	.L1061+1
 8838 1088 D7050000 		.word	.L1061+1
 8839 108c D7050000 		.word	.L1061+1
 8840 1090 95100000 		.word	.L722+1
 8841              		.p2align 1
 8842              	.L722:
2693:src/keys.c    **** 			if (! State2.local && State2.digval == TOPREALREG)
 8843              		.loc 1 2693 3 view .LVU2786
2693:src/keys.c    **** 			if (! State2.local && State2.digval == TOPREALREG)
 8844              		.loc 1 2693 13 is_stmt 0 view .LVU2787
 8845 1094 B8F80830 		ldrh	r3, [r8, #8]
2693:src/keys.c    **** 			if (! State2.local && State2.digval == TOPREALREG)
 8846              		.loc 1 2693 6 view .LVU2788
 8847 1098 002B     		cmp	r3, #0
 8848 109a 00F0DB85 		beq	.L723
2694:src/keys.c    **** 				State2.digval = global_regs();
 8849              		.loc 1 2694 4 is_stmt 1 view .LVU2789
2694:src/keys.c    **** 				State2.digval = global_regs();
 8850              		.loc 1 2694 8 is_stmt 0 view .LVU2790
 8851 109e 98F81620 		ldrb	r2, [r8, #22]	@ zero_extendqisi2
2694:src/keys.c    **** 				State2.digval = global_regs();
 8852              		.loc 1 2694 7 view .LVU2791
 8853 10a2 D207     		lsls	r2, r2, #31
 8854 10a4 02D4     		bmi	.L724
2694:src/keys.c    **** 				State2.digval = global_regs();
 8855              		.loc 1 2694 23 view .LVU2792
 8856 10a6 642B     		cmp	r3, #100
 8857 10a8 00F0DA85 		beq	.L1135
 8858              	.LVL714:
 8859              	.L724:
2696:src/keys.c    **** 		}
 8860              		.loc 1 2696 4 is_stmt 1 view .LVU2793
 8861 10ac B8F80830 		ldrh	r3, [r8, #8]
 8862 10b0 013B     		subs	r3, r3, #1
 8863              	.L1053:
2696:src/keys.c    **** 		}
ARM GAS  /tmp/cc90KtGY.s 			page 257


 8864              		.loc 1 2696 4 is_stmt 0 view .LVU2794
 8865 10b2 A8F80830 		strh	r3, [r8, #8]	@ movhi
 8866              	.LVL715:
 8867              	.L715:
2748:src/keys.c    **** 	return STATE_UNFINISHED;
 8868              		.loc 1 2748 2 is_stmt 1 view .LVU2795
2748:src/keys.c    **** 	return STATE_UNFINISHED;
 8869              		.loc 1 2748 16 is_stmt 0 view .LVU2796
 8870 10b6 98F81430 		ldrb	r3, [r8, #20]	@ zero_extendqisi2
 8871 10ba 6FF3C503 		bfc	r3, #3, #3
 8872 10be 88F81430 		strb	r3, [r8, #20]
 8873 10c2 FFF788BA 		b	.L1061
 8874              	.L1156:
 8875 10c6 00BF     		.align	2
 8876              	.L1155:
 8877 10c8 00000000 		.word	.LANCHOR14
 8878 10cc 00000000 		.word	.LANCHOR11
 8879 10d0 00000000 		.word	.LANCHOR1
 8880 10d4 00000000 		.word	.LANCHOR0
 8881              	.LVL716:
 8882              	.L725:
2703:src/keys.c    **** 			State2.digval++;
 8883              		.loc 1 2703 3 is_stmt 1 view .LVU2797
2703:src/keys.c    **** 			State2.digval++;
 8884              		.loc 1 2703 13 is_stmt 0 view .LVU2798
 8885 10d8 B8F80830 		ldrh	r3, [r8, #8]
2703:src/keys.c    **** 			State2.digval++;
 8886              		.loc 1 2703 27 view .LVU2799
 8887 10dc 09F1FF39 		add	r9, r9, #-1
 8888              	.LVL717:
2703:src/keys.c    **** 			State2.digval++;
 8889              		.loc 1 2703 6 view .LVU2800
 8890 10e0 4B45     		cmp	r3, r9
 8891 10e2 80F2A485 		bge	.L726
2704:src/keys.c    **** 			if (! State2.local && State2.digval == global_regs())
 8892              		.loc 1 2704 4 is_stmt 1 view .LVU2801
2705:src/keys.c    **** 				State2.digval = regX_idx;
 8893              		.loc 1 2705 8 is_stmt 0 view .LVU2802
 8894 10e6 98F81620 		ldrb	r2, [r8, #22]	@ zero_extendqisi2
2704:src/keys.c    **** 			if (! State2.local && State2.digval == global_regs())
 8895              		.loc 1 2704 17 view .LVU2803
 8896 10ea 0133     		adds	r3, r3, #1
 8897 10ec 9CB2     		uxth	r4, r3
2705:src/keys.c    **** 				State2.digval = regX_idx;
 8898              		.loc 1 2705 7 view .LVU2804
 8899 10ee D307     		lsls	r3, r2, #31
2704:src/keys.c    **** 			if (! State2.local && State2.digval == global_regs())
 8900              		.loc 1 2704 17 view .LVU2805
 8901 10f0 A8F80840 		strh	r4, [r8, #8]	@ movhi
2705:src/keys.c    **** 				State2.digval = regX_idx;
 8902              		.loc 1 2705 4 is_stmt 1 view .LVU2806
2705:src/keys.c    **** 				State2.digval = regX_idx;
 8903              		.loc 1 2705 7 is_stmt 0 view .LVU2807
 8904 10f4 DFD4     		bmi	.L715
2705:src/keys.c    **** 				State2.digval = regX_idx;
 8905              		.loc 1 2705 43 view .LVU2808
 8906 10f6 FFF7FEFF 		bl	global_regs
ARM GAS  /tmp/cc90KtGY.s 			page 258


 8907              	.LVL718:
2705:src/keys.c    **** 				State2.digval = regX_idx;
 8908              		.loc 1 2705 23 view .LVU2809
 8909 10fa 8442     		cmp	r4, r0
 8910 10fc DBD1     		bne	.L715
2706:src/keys.c    **** 		}
 8911              		.loc 1 2706 5 is_stmt 1 view .LVU2810
2706:src/keys.c    **** 		}
 8912              		.loc 1 2706 19 is_stmt 0 view .LVU2811
 8913 10fe 6423     		movs	r3, #100
 8914 1100 A8F80830 		strh	r3, [r8, #8]	@ movhi
 8915 1104 D7E7     		b	.L715
 8916              	.LVL719:
 8917              	.L729:
2720:src/keys.c    **** 			return STATE_UNFINISHED;
 8918              		.loc 1 2720 3 is_stmt 1 view .LVU2812
2720:src/keys.c    **** 			return STATE_UNFINISHED;
 8919              		.loc 1 2720 7 is_stmt 0 view .LVU2813
 8920 1106 98F81730 		ldrb	r3, [r8, #23]	@ zero_extendqisi2
2720:src/keys.c    **** 			return STATE_UNFINISHED;
 8921              		.loc 1 2720 6 view .LVU2814
 8922 110a 13F02002 		ands	r2, r3, #32
 8923 110e 7FF462AA 		bne	.L1061
2722:src/keys.c    **** 
 8924              		.loc 1 2722 3 is_stmt 1 view .LVU2815
2744:src/keys.c    **** 	State2.digval = 0;
 8925              		.loc 1 2744 2 view .LVU2816
2744:src/keys.c    **** 	State2.digval = 0;
 8926              		.loc 1 2744 22 is_stmt 0 view .LVU2817
 8927 1112 62F3C303 		bfi	r3, r2, #3, #1
 8928 1116 88F81730 		strb	r3, [r8, #23]
2745:src/keys.c    **** 	State2.digval2 = 0;
 8929              		.loc 1 2745 2 is_stmt 1 view .LVU2818
2745:src/keys.c    **** 	State2.digval2 = 0;
 8930              		.loc 1 2745 16 is_stmt 0 view .LVU2819
 8931 111a A8F80820 		strh	r2, [r8, #8]	@ movhi
2746:src/keys.c    **** reset_window:
 8932              		.loc 1 2746 2 is_stmt 1 view .LVU2820
2746:src/keys.c    **** reset_window:
 8933              		.loc 1 2746 17 is_stmt 0 view .LVU2821
 8934 111e 88F80A20 		strb	r2, [r8, #10]
 8935 1122 C8E7     		b	.L715
 8936              	.L732:
2730:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
 8937              		.loc 1 2730 3 is_stmt 1 view .LVU2822
2730:src/keys.c    **** #ifdef INCLUDE_FLASH_RECALL
 8938              		.loc 1 2730 6 is_stmt 0 view .LVU2823
 8939 1124 002B     		cmp	r3, #0
 8940 1126 7FF456AA 		bne	.L1061
2734:src/keys.c    **** #endif
 8941              		.loc 1 2734 4 is_stmt 1 view .LVU2824
2734:src/keys.c    **** #endif
 8942              		.loc 1 2734 8 is_stmt 0 view .LVU2825
 8943 112a B8F808B0 		ldrh	fp, [r8, #8]
 8944              	.LVL720:
2736:src/keys.c    **** 			State2.digval = 0;
 8945              		.loc 1 2736 4 is_stmt 1 view .LVU2826
ARM GAS  /tmp/cc90KtGY.s 			page 259


2736:src/keys.c    **** 			State2.digval = 0;
 8946              		.loc 1 2736 24 is_stmt 0 view .LVU2827
 8947 112e 98F81720 		ldrb	r2, [r8, #23]	@ zero_extendqisi2
2738:src/keys.c    **** 			return n;
 8948              		.loc 1 2738 19 view .LVU2828
 8949 1132 88F80A30 		strb	r3, [r8, #10]
2736:src/keys.c    **** 			State2.digval = 0;
 8950              		.loc 1 2736 24 view .LVU2829
 8951 1136 63F3C302 		bfi	r2, r3, #3, #1
2739:src/keys.c    **** 		}
 8952              		.loc 1 2739 11 view .LVU2830
 8953 113a 4BF4285B 		orr	fp, fp, #10752
 8954              	.LVL721:
2737:src/keys.c    **** 			State2.digval2 = 0;
 8955              		.loc 1 2737 18 view .LVU2831
 8956 113e A8F80830 		strh	r3, [r8, #8]	@ movhi
 8957 1142 5846     		mov	r0, fp
 8958              	.LVL722:
2737:src/keys.c    **** 			State2.digval2 = 0;
 8959              		.loc 1 2737 18 view .LVU2832
 8960 1144 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
2736:src/keys.c    **** 			State2.digval = 0;
 8961              		.loc 1 2736 24 view .LVU2833
 8962 1148 88F81720 		strb	r2, [r8, #23]
2737:src/keys.c    **** 			State2.digval2 = 0;
 8963              		.loc 1 2737 4 is_stmt 1 view .LVU2834
2738:src/keys.c    **** 			return n;
 8964              		.loc 1 2738 4 view .LVU2835
2739:src/keys.c    **** 		}
 8965              		.loc 1 2739 4 view .LVU2836
2739:src/keys.c    **** 		}
 8966              		.loc 1 2739 11 is_stmt 0 view .LVU2837
 8967 114c FFF7A4B9 		b	.L620
 8968              	.LVL723:
 8969              	.L731:
2725:src/keys.c    **** 			State2.disp_as_alpha = 1;
 8970              		.loc 1 2725 3 is_stmt 1 view .LVU2838
2725:src/keys.c    **** 			State2.disp_as_alpha = 1;
 8971              		.loc 1 2725 6 is_stmt 0 view .LVU2839
 8972 1150 012B     		cmp	r3, #1
 8973 1152 E7D1     		bne	.L732
2726:src/keys.c    **** 			goto reset_window;
 8974              		.loc 1 2726 4 is_stmt 1 view .LVU2840
2726:src/keys.c    **** 			goto reset_window;
 8975              		.loc 1 2726 25 is_stmt 0 view .LVU2841
 8976 1154 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 8977 1158 43F00403 		orr	r3, r3, #4
 8978 115c 88F81630 		strb	r3, [r8, #22]
2727:src/keys.c    **** 		}
 8979              		.loc 1 2727 4 is_stmt 1 view .LVU2842
 8980 1160 A9E7     		b	.L715
 8981              	.LVL724:
 8982              	.L1049:
2727:src/keys.c    **** 		}
 8983              		.loc 1 2727 4 is_stmt 0 view .LVU2843
 8984 1162 DAB2     		uxtb	r2, r3
 8985 1164 C9E4     		b	.L641
ARM GAS  /tmp/cc90KtGY.s 			page 260


 8986              	.LVL725:
 8987              	.L1118:
2727:src/keys.c    **** 		}
 8988              		.loc 1 2727 4 view .LVU2844
 8989              	.LBE765:
 8990              	.LBE1043:
 8991              	.LBB1044:
 8992              	.LBB880:
1346:src/keys.c    **** 	}
 8993              		.loc 1 1346 3 is_stmt 1 view .LVU2845
1346:src/keys.c    **** 	}
 8994              		.loc 1 1346 6 is_stmt 0 view .LVU2846
 8995 1166 B8F80800 		ldrh	r0, [r8, #8]
 8996              	.LVL726:
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 8997              		.loc 1 1375 2 is_stmt 1 view .LVU2847
 8998 116a 37E5     		b	.L597
 8999              	.LVL727:
 9000              	.L1116:
1336:src/keys.c    **** 		goto fin;
 9001              		.loc 1 1336 3 view .LVU2848
 9002              	.LBB873:
 9003              	.LBI873:
1308:src/keys.c    **** 	const int code = 100 + n;
 9004              		.loc 1 1308 12 view .LVU2849
 9005              	.LBB874:
1309:src/keys.c    **** 	unsigned int pc = state_pc();
 9006              		.loc 1 1309 2 view .LVU2850
1310:src/keys.c    **** 
 9007              		.loc 1 1310 2 view .LVU2851
1310:src/keys.c    **** 
 9008              		.loc 1 1310 20 is_stmt 0 view .LVU2852
 9009 116c DFF8AC93 		ldr	r9, .L1157
 9010 1170 D9F80030 		ldr	r3, [r9]
 9011              	.LVL728:
1310:src/keys.c    **** 
 9012              		.loc 1 1310 15 view .LVU2853
 9013 1174 B3F8E007 		ldrh	r0, [r3, #2016]
 9014              	.LVL729:
1312:src/keys.c    **** 		pc = 1;
 9015              		.loc 1 1312 2 is_stmt 1 view .LVU2854
1312:src/keys.c    **** 		pc = 1;
 9016              		.loc 1 1312 5 is_stmt 0 view .LVU2855
 9017 1178 830B     		lsrs	r3, r0, #14
1313:src/keys.c    **** 	pc = find_label_from(pc, code, FIND_OP_ERROR | FIND_OP_ENDS);
 9018              		.loc 1 1313 6 view .LVU2856
 9019 117a 032B     		cmp	r3, #3
 9020              	.LVL730:
1314:src/keys.c    **** 	if (pc > 0)
 9021              		.loc 1 1314 2 is_stmt 1 view .LVU2857
1314:src/keys.c    **** 	if (pc > 0)
 9022              		.loc 1 1314 7 is_stmt 0 view .LVU2858
 9023 117c 08BF     		it	eq
 9024 117e 0120     		moveq	r0, #1
 9025              	.LVL731:
1314:src/keys.c    **** 	if (pc > 0)
 9026              		.loc 1 1314 7 view .LVU2859
ARM GAS  /tmp/cc90KtGY.s 			page 261


 9027 1180 04F16401 		add	r1, r4, #100
 9028              	.LVL732:
1314:src/keys.c    **** 	if (pc > 0)
 9029              		.loc 1 1314 7 view .LVU2860
 9030 1184 0322     		movs	r2, #3
 9031              	.LVL733:
1314:src/keys.c    **** 	if (pc > 0)
 9032              		.loc 1 1314 7 view .LVU2861
 9033 1186 FFF7FEFF 		bl	find_label_from
 9034              	.LVL734:
1315:src/keys.c    **** 		return pc;
 9035              		.loc 1 1315 2 is_stmt 1 view .LVU2862
1315:src/keys.c    **** 		return pc;
 9036              		.loc 1 1315 5 is_stmt 0 view .LVU2863
 9037 118a 0028     		cmp	r0, #0
 9038 118c 7FF456AC 		bne	.L606
1317:src/keys.c    **** }
 9039              		.loc 1 1317 2 is_stmt 1 view .LVU2864
1317:src/keys.c    **** }
 9040              		.loc 1 1317 9 is_stmt 0 view .LVU2865
 9041 1190 D9F80030 		ldr	r3, [r9]
 9042 1194 B3F8E007 		ldrh	r0, [r3, #2016]
 9043              	.LVL735:
1317:src/keys.c    **** }
 9044              		.loc 1 1317 9 view .LVU2866
 9045              	.LBE874:
 9046              	.LBE873:
1337:src/keys.c    **** 	}
 9047              		.loc 1 1337 3 is_stmt 1 view .LVU2867
 9048 1198 50E4     		b	.L606
 9049              	.LVL736:
 9050              	.L891:
1337:src/keys.c    **** 	}
 9051              		.loc 1 1337 3 is_stmt 0 view .LVU2868
 9052              	.LBE880:
 9053              	.LBE1044:
 9054              	.LBB1045:
 9055              	.LBB863:
1912:src/keys.c    **** 	}
 9056              		.loc 1 1912 18 view .LVU2869
 9057 119a 2723     		movs	r3, #39
1912:src/keys.c    **** 	}
 9058              		.loc 1 1912 47 view .LVU2870
 9059 119c 9B44     		add	fp, fp, r3
 9060              	.LVL737:
1912:src/keys.c    **** 	}
 9061              		.loc 1 1912 47 view .LVU2871
 9062 119e FFF7F6B9 		b	.L594
 9063              	.LVL738:
 9064              	.L892:
1912:src/keys.c    **** 	}
 9065              		.loc 1 1912 18 view .LVU2872
 9066 11a2 1E23     		movs	r3, #30
1912:src/keys.c    **** 	}
 9067              		.loc 1 1912 47 view .LVU2873
 9068 11a4 9B44     		add	fp, fp, r3
 9069              	.LVL739:
ARM GAS  /tmp/cc90KtGY.s 			page 262


1912:src/keys.c    **** 	}
 9070              		.loc 1 1912 47 view .LVU2874
 9071 11a6 FFF7F2B9 		b	.L594
 9072              	.LVL740:
 9073              	.L1098:
1912:src/keys.c    **** 	}
 9074              		.loc 1 1912 47 view .LVU2875
 9075              	.LBE863:
 9076              	.LBE1045:
2873:src/keys.c    **** 
 9077              		.loc 1 2873 3 is_stmt 1 view .LVU2876
 9078              	.LBB1046:
 9079              	.LBI1046:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 9080              		.loc 1 102 13 view .LVU2877
 9081              	.LBE1046:
 9082              	.LBE1206:
 9083              	.LBE1266:
 103:src/keys.c    **** }
 9084              		.loc 1 103 2 view .LVU2878
 9085              	.LBB1267:
 9086              	.LBB1207:
 9087              	.LBB1053:
 9088              	.LBB1047:
 9089              	.LBI1047:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 9090              		.loc 1 92 20 view .LVU2879
 9091              	.LBB1048:
  93:src/keys.c    **** 	State2.shifts = shift;
 9092              		.loc 1 93 2 view .LVU2880
 9093              	.LBB1049:
 9094              	.LBI1049:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 9095              		.loc 1 84 13 view .LVU2881
 9096              	.LBB1050:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9097              		.loc 1 85 2 view .LVU2882
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9098              		.loc 1 85 18 is_stmt 0 view .LVU2883
 9099 11aa FFF7FEFF 		bl	shift_down
 9100              	.LVL741:
  86:src/keys.c    **** }
 9101              		.loc 1 86 2 is_stmt 1 view .LVU2884
  86:src/keys.c    **** }
 9102              		.loc 1 86 52 is_stmt 0 view .LVU2885
 9103 11ae 0146     		mov	r1, r0
 9104 11b0 08B9     		cbnz	r0, .L734
 9105 11b2 98F81010 		ldrb	r1, [r8, #16]	@ zero_extendqisi2
 9106              	.L734:
 9107              	.LVL742:
  86:src/keys.c    **** }
 9108              		.loc 1 86 52 view .LVU2886
 9109              	.LBE1050:
 9110              	.LBE1049:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9111              		.loc 1 94 2 is_stmt 1 view .LVU2887
  94:src/keys.c    **** 	State2.alpha_pos = 0;
ARM GAS  /tmp/cc90KtGY.s 			page 263


 9112              		.loc 1 94 16 is_stmt 0 view .LVU2888
 9113 11b6 0022     		movs	r2, #0
 9114              	.LBE1048:
 9115              	.LBE1047:
 9116              	.LBE1053:
2873:src/keys.c    **** 
 9117              		.loc 1 2873 10 view .LVU2889
 9118 11b8 2046     		mov	r0, r4
 9119              	.LBB1054:
 9120              	.LBB1052:
 9121              	.LBB1051:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9122              		.loc 1 94 16 view .LVU2890
 9123 11ba 88F81020 		strb	r2, [r8, #16]
  95:src/keys.c    **** 	return r;
 9124              		.loc 1 95 2 is_stmt 1 view .LVU2891
  95:src/keys.c    **** 	return r;
 9125              		.loc 1 95 19 is_stmt 0 view .LVU2892
 9126 11be 88F80D20 		strb	r2, [r8, #13]
  96:src/keys.c    **** }
 9127              		.loc 1 96 2 is_stmt 1 view .LVU2893
 9128              	.LVL743:
  96:src/keys.c    **** }
 9129              		.loc 1 96 2 is_stmt 0 view .LVU2894
 9130              	.LBE1051:
 9131              	.LBE1052:
 9132              	.LBE1054:
2873:src/keys.c    **** 
 9133              		.loc 1 2873 10 view .LVU2895
 9134 11c2 FFF7FEFF 		bl	process_catalogue
 9135              	.LVL744:
2873:src/keys.c    **** 
 9136              		.loc 1 2873 10 view .LVU2896
 9137 11c6 8346     		mov	fp, r0
 9138 11c8 FFF7E1B9 		b	.L594
 9139              	.LVL745:
 9140              	.L1117:
 9141              	.LBB1055:
 9142              	.LBB881:
1341:src/keys.c    **** 		goto fin;
 9143              		.loc 1 1341 3 is_stmt 1 view .LVU2897
1341:src/keys.c    **** 		goto fin;
 9144              		.loc 1 1341 11 is_stmt 0 view .LVU2898
 9145 11cc D34B     		ldr	r3, .L1157
 9146              	.LVL746:
1341:src/keys.c    **** 		goto fin;
 9147              		.loc 1 1341 11 view .LVU2899
 9148 11ce 1B68     		ldr	r3, [r3]
1341:src/keys.c    **** 		goto fin;
 9149              		.loc 1 1341 9 view .LVU2900
 9150 11d0 5888     		ldrh	r0, [r3, #2]
 9151              	.LVL747:
1342:src/keys.c    **** 	}
 9152              		.loc 1 1342 3 is_stmt 1 view .LVU2901
 9153 11d2 33E4     		b	.L606
 9154              	.LVL748:
 9155              	.L1099:
ARM GAS  /tmp/cc90KtGY.s 			page 264


1342:src/keys.c    **** 	}
 9156              		.loc 1 1342 3 is_stmt 0 view .LVU2902
 9157              	.LBE881:
 9158              	.LBE1055:
2877:src/keys.c    **** #else
 9159              		.loc 1 2877 3 is_stmt 1 view .LVU2903
 9160              	.LBB1056:
 9161              	.LBI778:
1388:src/keys.c    **** 	const enum shifts shift = reset_shift();
 9162              		.loc 1 1388 12 view .LVU2904
 9163              	.LBB823:
1389:src/keys.c    **** 	int ch = keycode_to_alpha(c, shift);
 9164              		.loc 1 1389 2 view .LVU2905
 9165              	.LBB780:
 9166              	.LBI780:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 9167              		.loc 1 102 13 view .LVU2906
 9168              	.LBE780:
 9169              	.LBE823:
 9170              	.LBE1056:
 9171              	.LBE1207:
 9172              	.LBE1267:
 103:src/keys.c    **** }
 9173              		.loc 1 103 2 view .LVU2907
 9174              	.LBB1268:
 9175              	.LBB1208:
 9176              	.LBB1057:
 9177              	.LBB824:
 9178              	.LBB789:
 9179              	.LBB781:
 9180              	.LBI781:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 9181              		.loc 1 92 20 view .LVU2908
 9182              	.LBB782:
  93:src/keys.c    **** 	State2.shifts = shift;
 9183              		.loc 1 93 2 view .LVU2909
 9184              	.LBB783:
 9185              	.LBI783:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 9186              		.loc 1 84 13 view .LVU2910
 9187              	.LBB784:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9188              		.loc 1 85 2 view .LVU2911
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9189              		.loc 1 85 18 is_stmt 0 view .LVU2912
 9190 11d4 FFF7FEFF 		bl	shift_down
 9191              	.LVL749:
  86:src/keys.c    **** }
 9192              		.loc 1 86 2 is_stmt 1 view .LVU2913
  86:src/keys.c    **** }
 9193              		.loc 1 86 52 is_stmt 0 view .LVU2914
 9194 11d8 08B9     		cbnz	r0, .L736
 9195 11da 98F81000 		ldrb	r0, [r8, #16]	@ zero_extendqisi2
 9196              	.LVL750:
 9197              	.L736:
  86:src/keys.c    **** }
 9198              		.loc 1 86 52 view .LVU2915
ARM GAS  /tmp/cc90KtGY.s 			page 265


 9199              	.LBE784:
 9200              	.LBE783:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9201              		.loc 1 94 2 is_stmt 1 view .LVU2916
 9202              	.LBE782:
 9203              	.LBE781:
 9204              	.LBE789:
 9205              	.LBB790:
 9206              	.LBB791:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 9207              		.loc 1 434 6 is_stmt 0 view .LVU2917
 9208 11de 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 9209              	.LBE791:
 9210              	.LBE790:
 9211              	.LBB805:
 9212              	.LBB787:
 9213              	.LBB785:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9214              		.loc 1 94 16 view .LVU2918
 9215 11e2 0022     		movs	r2, #0
 9216              	.LBE785:
 9217              	.LBE787:
 9218              	.LBE805:
 9219              	.LBB806:
 9220              	.LBB802:
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 9221              		.loc 1 434 5 view .LVU2919
 9222 11e4 D906     		lsls	r1, r3, #27
 9223              	.LBE802:
 9224              	.LBE806:
 9225              	.LBB807:
 9226              	.LBB788:
 9227              	.LBB786:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9228              		.loc 1 94 16 view .LVU2920
 9229 11e6 88F81020 		strb	r2, [r8, #16]
  95:src/keys.c    **** 	return r;
 9230              		.loc 1 95 2 is_stmt 1 view .LVU2921
  95:src/keys.c    **** 	return r;
 9231              		.loc 1 95 19 is_stmt 0 view .LVU2922
 9232 11ea 88F80D20 		strb	r2, [r8, #13]
  96:src/keys.c    **** }
 9233              		.loc 1 96 2 is_stmt 1 view .LVU2923
 9234              	.LVL751:
  96:src/keys.c    **** }
 9235              		.loc 1 96 2 is_stmt 0 view .LVU2924
 9236              	.LBE786:
 9237              	.LBE788:
 9238              	.LBE807:
1390:src/keys.c    **** 	unsigned int alpha_pos = State2.alpha_pos, n;
 9239              		.loc 1 1390 2 is_stmt 1 view .LVU2925
1390:src/keys.c    **** 	unsigned int alpha_pos = State2.alpha_pos, n;
 9240              		.loc 1 1390 11 is_stmt 0 view .LVU2926
 9241 11ee 0246     		mov	r2, r0
 9242              	.LVL752:
 9243              	.LBB808:
 9244              	.LBI790:
ARM GAS  /tmp/cc90KtGY.s 			page 266


 384:src/keys.c    **** {
 9245              		.loc 1 384 12 is_stmt 1 view .LVU2927
 9246              	.LBB803:
 386:src/keys.c    **** 		/*upper f-sft g-sft h-sft lower g-lower */
 9247              		.loc 1 386 2 view .LVU2928
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 9248              		.loc 1 434 2 view .LVU2929
 434:src/keys.c    **** 		if (shift == SHIFT_N)
 9249              		.loc 1 434 5 is_stmt 0 view .LVU2930
 9250 11f0 40F1CF80 		bpl	.L737
 435:src/keys.c    **** 			shift = SHIFT_LC_N;
 9251              		.loc 1 435 3 is_stmt 1 view .LVU2931
 435:src/keys.c    **** 			shift = SHIFT_LC_N;
 9252              		.loc 1 435 6 is_stmt 0 view .LVU2932
 9253 11f4 0028     		cmp	r0, #0
 9254 11f6 00F0CB80 		beq	.L876
 437:src/keys.c    **** 			shift = SHIFT_LC_G;
 9255              		.loc 1 437 8 is_stmt 1 view .LVU2933
 9256              	.LBB792:
 9257              	.LBB793:
 131:src/keys.c    **** }
 9258              		.loc 1 131 23 is_stmt 0 view .LVU2934
 9259 11fa C949     		ldr	r1, .L1157+4
 9260              	.LBE793:
 9261              	.LBE792:
 440:src/keys.c    **** }
 9262              		.loc 1 440 49 view .LVU2935
 9263 11fc C94A     		ldr	r2, .L1157+8
 9264              	.LBB798:
 9265              	.LBB794:
 131:src/keys.c    **** }
 9266              		.loc 1 131 23 view .LVU2936
 9267 11fe 095D     		ldrb	r1, [r1, r4]	@ zero_extendqisi2
 9268              	.LBE794:
 9269              	.LBE798:
 438:src/keys.c    **** 	}
 9270              		.loc 1 438 10 view .LVU2937
 9271 1200 0228     		cmp	r0, #2
 440:src/keys.c    **** }
 9272              		.loc 1 440 49 view .LVU2938
 9273 1202 4FF0060C 		mov	ip, #6
 9274 1206 0CFB0121 		mla	r1, ip, r1, r2
 438:src/keys.c    **** 	}
 9275              		.loc 1 438 10 view .LVU2939
 9276 120a 14BF     		ite	ne
 9277 120c 0246     		movne	r2, r0
 9278 120e 0522     		moveq	r2, #5
 9279              	.LVL753:
 440:src/keys.c    **** }
 9280              		.loc 1 440 2 is_stmt 1 view .LVU2940
 9281              	.LBB799:
 9282              	.LBI792:
 119:src/keys.c    **** {
 9283              		.loc 1 119 12 view .LVU2941
 9284              	.LBB795:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 9285              		.loc 1 121 2 view .LVU2942
ARM GAS  /tmp/cc90KtGY.s 			page 267


 131:src/keys.c    **** }
 9286              		.loc 1 131 2 view .LVU2943
 131:src/keys.c    **** }
 9287              		.loc 1 131 2 is_stmt 0 view .LVU2944
 9288 1210 063C     		subs	r4, r4, #6
 9289              	.LBE795:
 9290              	.LBE799:
 440:src/keys.c    **** }
 9291              		.loc 1 440 49 view .LVU2945
 9292 1212 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 9293              	.LVL754:
 440:src/keys.c    **** }
 9294              		.loc 1 440 49 view .LVU2946
 9295              	.LBE803:
 9296              	.LBE808:
1391:src/keys.c    ****         int op = STATE_UNFINISHED;
 9297              		.loc 1 1391 2 is_stmt 1 view .LVU2947
1392:src/keys.c    **** 	State2.alpha_pos = 0;
 9298              		.loc 1 1392 9 view .LVU2948
1393:src/keys.c    **** 
 9299              		.loc 1 1393 2 view .LVU2949
1395:src/keys.c    **** 	case K10:	// STO
 9300              		.loc 1 1395 2 view .LVU2950
 9301 1214 212C     		cmp	r4, #33
 9302 1216 47D8     		bhi	.L740
 9303 1218 01A1     		adr	r1, .L841
 9304 121a 51F824F0 		ldr	pc, [r1, r4, lsl #2]
 9305 121e 00BF     		.p2align 2
 9306              	.L841:
 9307 1220 5F1A0000 		.word	.L749+1
 9308 1224 371A0000 		.word	.L748+1
 9309 1228 A9120000 		.word	.L740+1
 9310 122c A9120000 		.word	.L740+1
 9311 1230 A9120000 		.word	.L740+1
 9312 1234 A9120000 		.word	.L740+1
 9313 1238 0F1A0000 		.word	.L747+1
 9314 123c A9120000 		.word	.L740+1
 9315 1240 A9120000 		.word	.L740+1
 9316 1244 A9120000 		.word	.L740+1
 9317 1248 A71A0000 		.word	.L753+1
 9318 124c A9120000 		.word	.L740+1
 9319 1250 811A0000 		.word	.L745+1
 9320 1254 A9120000 		.word	.L740+1
 9321 1258 A9120000 		.word	.L740+1
 9322 125c A9120000 		.word	.L740+1
 9323 1260 A9120000 		.word	.L740+1
 9324 1264 A9120000 		.word	.L740+1
 9325 1268 45070000 		.word	.L744+1
 9326 126c A9120000 		.word	.L740+1
 9327 1270 A9120000 		.word	.L740+1
 9328 1274 A9120000 		.word	.L740+1
 9329 1278 A9120000 		.word	.L740+1
 9330 127c A9120000 		.word	.L740+1
 9331 1280 A9120000 		.word	.L740+1
 9332 1284 A9120000 		.word	.L740+1
 9333 1288 A9120000 		.word	.L740+1
 9334 128c A9120000 		.word	.L740+1
ARM GAS  /tmp/cc90KtGY.s 			page 268


 9335 1290 A9120000 		.word	.L740+1
 9336 1294 A9120000 		.word	.L740+1
 9337 1298 A3190000 		.word	.L743+1
 9338 129c A9120000 		.word	.L740+1
 9339 12a0 A9120000 		.word	.L740+1
 9340 12a4 89190000 		.word	.L741+1
 9341              		.p2align 1
 9342              	.L740:
1476:src/keys.c    **** 		return STATE_UNFINISHED;
 9343              		.loc 1 1476 2 view .LVU2951
1476:src/keys.c    **** 		return STATE_UNFINISHED;
 9344              		.loc 1 1476 5 is_stmt 0 view .LVU2952
 9345 12a8 002A     		cmp	r2, #0
 9346 12aa 3FF494A9 		beq	.L1061
1478:src/keys.c    **** }
 9347              		.loc 1 1478 2 is_stmt 1 view .LVU2953
1478:src/keys.c    **** }
 9348              		.loc 1 1478 9 is_stmt 0 view .LVU2954
 9349 12ae 42F4884B 		orr	fp, r2, #17408
 9350 12b2 5846     		mov	r0, fp
 9351              	.LVL755:
1478:src/keys.c    **** }
 9352              		.loc 1 1478 9 view .LVU2955
 9353 12b4 FFF7F0B8 		b	.L620
 9354              	.LVL756:
 9355              	.L1105:
1478:src/keys.c    **** }
 9356              		.loc 1 1478 9 view .LVU2956
 9357              	.LBE824:
 9358              	.LBE1057:
 9359              	.LBB1058:
 9360              	.LBB731:
2356:src/keys.c    **** 		if (opcode == STATE_UNFINISHED)
 9361              		.loc 1 2356 3 is_stmt 1 view .LVU2957
2356:src/keys.c    **** 		if (opcode == STATE_UNFINISHED)
 9362              		.loc 1 2356 12 is_stmt 0 view .LVU2958
 9363 12b8 98F80B20 		ldrb	r2, [r8, #11]	@ zero_extendqisi2
 9364 12bc 2046     		mov	r0, r4
 9365 12be 941E     		subs	r4, r2, #2
 9366 12c0 6242     		rsbs	r2, r4, #0
 9367 12c2 6241     		adcs	r2, r2, r4
 9368 12c4 FFF7FEFF 		bl	process_catalogue
 9369              	.LVL757:
2357:src/keys.c    **** 			return opcode;
 9370              		.loc 1 2357 3 is_stmt 1 view .LVU2959
2357:src/keys.c    **** 			return opcode;
 9371              		.loc 1 2357 6 is_stmt 0 view .LVU2960
 9372 12c8 3328     		cmp	r0, #51
 9373 12ca 3FF484A9 		beq	.L1061
2359:src/keys.c    **** 		goto add_char;
 9374              		.loc 1 2359 3 is_stmt 1 view .LVU2961
2359:src/keys.c    **** 		goto add_char;
 9375              		.loc 1 2359 6 is_stmt 0 view .LVU2962
 9376 12ce C3B2     		uxtb	r3, r0
 9377              	.LVL758:
2360:src/keys.c    **** 	}
 9378              		.loc 1 2360 3 is_stmt 1 view .LVU2963
ARM GAS  /tmp/cc90KtGY.s 			page 269


 9379 12d0 FFF737B9 		b	.L673
 9380              	.LVL759:
 9381              	.L1119:
2360:src/keys.c    **** 	}
 9382              		.loc 1 2360 3 is_stmt 0 view .LVU2964
 9383              	.LBE731:
 9384              	.LBE1058:
 9385              	.LBB1059:
 9386              	.LBB882:
1350:src/keys.c    **** 			goto fin2;
 9387              		.loc 1 1350 3 is_stmt 1 view .LVU2965
1350:src/keys.c    **** 			goto fin2;
 9388              		.loc 1 1350 13 is_stmt 0 view .LVU2966
 9389 12d4 98F80B30 		ldrb	r3, [r8, #11]	@ zero_extendqisi2
 9390              	.LVL760:
1350:src/keys.c    **** 			goto fin2;
 9391              		.loc 1 1350 6 view .LVU2967
 9392 12d8 002B     		cmp	r3, #0
 9393 12da 3FF4B1AB 		beq	.L610
1353:src/keys.c    **** 			State2.digval /= 10;
 9394              		.loc 1 1353 4 is_stmt 1 view .LVU2968
1353:src/keys.c    **** 			State2.digval /= 10;
 9395              		.loc 1 1353 19 is_stmt 0 view .LVU2969
 9396 12de 013B     		subs	r3, r3, #1
 9397 12e0 88F80B30 		strb	r3, [r8, #11]
1354:src/keys.c    **** 		}
 9398              		.loc 1 1354 4 is_stmt 1 view .LVU2970
1354:src/keys.c    **** 		}
 9399              		.loc 1 1354 18 is_stmt 0 view .LVU2971
 9400 12e4 0A22     		movs	r2, #10
 9401              	.LVL761:
1354:src/keys.c    **** 		}
 9402              		.loc 1 1354 18 view .LVU2972
 9403 12e6 B8F80830 		ldrh	r3, [r8, #8]
 9404 12ea B3FBF2F3 		udiv	r3, r3, r2
 9405              	.LBE882:
 9406              	.LBE1059:
2812:src/keys.c    **** 
 9407              		.loc 1 2812 10 view .LVU2973
 9408 12ee 4FF0330B 		mov	fp, #51
 9409              	.LBB1060:
 9410              	.LBB883:
1354:src/keys.c    **** 		}
 9411              		.loc 1 1354 18 view .LVU2974
 9412 12f2 A8F80830 		strh	r3, [r8, #8]	@ movhi
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 9413              		.loc 1 1375 2 is_stmt 1 view .LVU2975
 9414 12f6 FEF7D7BE 		b	.L565
 9415              	.LVL762:
 9416              	.L1123:
1375:src/keys.c    **** 		rawpc = find_user_pc(pc);
 9417              		.loc 1 1375 2 is_stmt 0 view .LVU2976
 9418              	.LBE883:
 9419              	.LBE1060:
 9420              	.LBB1061:
 9421              	.LBB902:
2466:src/keys.c    **** 		return STATE_UNFINISHED;
ARM GAS  /tmp/cc90KtGY.s 			page 270


 9422              		.loc 1 2466 3 is_stmt 1 view .LVU2977
2466:src/keys.c    **** 		return STATE_UNFINISHED;
 9423              		.loc 1 2466 17 is_stmt 0 view .LVU2978
 9424 12fa 88F80C10 		strb	r1, [r8, #12]
2467:src/keys.c    **** 	} 
 9425              		.loc 1 2467 3 is_stmt 1 view .LVU2979
 9426              	.LBE902:
 9427              	.LBE1061:
2821:src/keys.c    **** 
 9428              		.loc 1 2821 10 is_stmt 0 view .LVU2980
 9429 12fe 4FF0330B 		mov	fp, #51
 9430              	.LBB1062:
 9431              	.LBB903:
2467:src/keys.c    **** 	} 
 9432              		.loc 1 2467 10 view .LVU2981
 9433 1302 FEF7D1BE 		b	.L565
 9434              	.LVL763:
 9435              	.L1102:
2467:src/keys.c    **** 	} 
 9436              		.loc 1 2467 10 view .LVU2982
 9437              	.LBE903:
 9438              	.LBE1062:
2894:src/keys.c    **** 		// print_debug (3, c);
 9439              		.loc 1 2894 4 is_stmt 1 view .LVU2983
 9440              	.LBB1063:
 9441              	.LBI1063:
1000:src/keys.c    **** #define _RARG    0x8000	// Must not interfere with existing opcode markers
 9442              		.loc 1 1000 12 view .LVU2984
 9443              	.LBB1064:
1003:src/keys.c    **** 		// Row 1
 9444              		.loc 1 1003 2 view .LVU2985
1054:src/keys.c    **** 	int op = op_map[lc];
 9445              		.loc 1 1054 2 view .LVU2986
 9446              	.LBB1065:
 9447              	.LBI1065:
 134:src/keys.c    **** {
 9448              		.loc 1 134 12 view .LVU2987
 9449              	.LBB1066:
 136:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 9450              		.loc 1 136 2 view .LVU2988
 146:src/keys.c    **** }
 9451              		.loc 1 146 2 view .LVU2989
 146:src/keys.c    **** }
 9452              		.loc 1 146 2 is_stmt 0 view .LVU2990
 9453              	.LBE1066:
 9454              	.LBE1065:
1055:src/keys.c    **** 	reset_shift();
 9455              		.loc 1 1055 2 is_stmt 1 view .LVU2991
 9456              	.LBB1069:
 9457              	.LBB1067:
 146:src/keys.c    **** }
 9458              		.loc 1 146 23 is_stmt 0 view .LVU2992
 9459 1306 884A     		ldr	r2, .L1157+12
 9460              	.LBE1067:
 9461              	.LBE1069:
1055:src/keys.c    **** 	reset_shift();
 9462              		.loc 1 1055 17 view .LVU2993
ARM GAS  /tmp/cc90KtGY.s 			page 271


 9463 1308 884B     		ldr	r3, .L1157+16
 9464              	.LBB1070:
 9465              	.LBB1068:
 146:src/keys.c    **** }
 9466              		.loc 1 146 23 view .LVU2994
 9467 130a 125D     		ldrb	r2, [r2, r4]	@ zero_extendqisi2
 9468              	.LBE1068:
 9469              	.LBE1070:
1055:src/keys.c    **** 	reset_shift();
 9470              		.loc 1 1055 17 view .LVU2995
 9471 130c 33F812A0 		ldrh	r10, [r3, r2, lsl #1]
 9472              	.LVL764:
1056:src/keys.c    **** 
 9473              		.loc 1 1056 2 is_stmt 1 view .LVU2996
 9474              	.LBB1071:
 9475              	.LBI1071:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 9476              		.loc 1 102 13 view .LVU2997
 9477              	.LBE1071:
 9478              	.LBE1064:
 9479              	.LBE1063:
 9480              	.LBE1208:
 9481              	.LBE1268:
 103:src/keys.c    **** }
 9482              		.loc 1 103 2 view .LVU2998
 9483              	.LBB1269:
 9484              	.LBB1209:
 9485              	.LBB1087:
 9486              	.LBB1082:
 9487              	.LBB1078:
 9488              	.LBB1072:
 9489              	.LBI1072:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 9490              		.loc 1 92 20 view .LVU2999
 9491              	.LBB1073:
  93:src/keys.c    **** 	State2.shifts = shift;
 9492              		.loc 1 93 2 view .LVU3000
 9493              	.LBB1074:
 9494              	.LBI1074:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 9495              		.loc 1 84 13 view .LVU3001
 9496              	.LBB1075:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9497              		.loc 1 85 2 view .LVU3002
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9498              		.loc 1 85 18 is_stmt 0 view .LVU3003
 9499 1310 FFF7FEFF 		bl	shift_down
 9500              	.LVL765:
  86:src/keys.c    **** }
 9501              		.loc 1 86 2 is_stmt 1 view .LVU3004
 9502              	.LBE1075:
 9503              	.LBE1074:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9504              		.loc 1 94 2 view .LVU3005
 9505              	.LBE1073:
 9506              	.LBE1072:
 9507              	.LBE1078:
ARM GAS  /tmp/cc90KtGY.s 			page 272


1059:src/keys.c    **** 	case K62:
 9508              		.loc 1 1059 2 is_stmt 0 view .LVU3006
 9509 1314 262C     		cmp	r4, #38
 9510              	.LBB1079:
 9511              	.LBB1077:
 9512              	.LBB1076:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9513              		.loc 1 94 16 view .LVU3007
 9514 1316 88F810B0 		strb	fp, [r8, #16]
  95:src/keys.c    **** 	return r;
 9515              		.loc 1 95 2 is_stmt 1 view .LVU3008
  95:src/keys.c    **** 	return r;
 9516              		.loc 1 95 19 is_stmt 0 view .LVU3009
 9517 131a 88F80DB0 		strb	fp, [r8, #13]
  96:src/keys.c    **** }
 9518              		.loc 1 96 2 is_stmt 1 view .LVU3010
 9519              	.LVL766:
  96:src/keys.c    **** }
 9520              		.loc 1 96 2 is_stmt 0 view .LVU3011
 9521              	.LBE1076:
 9522              	.LBE1077:
 9523              	.LBE1079:
1059:src/keys.c    **** 	case K62:
 9524              		.loc 1 1059 2 is_stmt 1 view .LVU3012
 9525 131e 00F03D82 		beq	.L790
 9526 1322 272C     		cmp	r4, #39
 9527 1324 1FD1     		bne	.L792
1072:src/keys.c    **** 			return STATE_UNFINISHED;
 9528              		.loc 1 1072 3 view .LVU3013
1072:src/keys.c    **** 			return STATE_UNFINISHED;
 9529              		.loc 1 1072 7 is_stmt 0 view .LVU3014
 9530 1326 FFF7FEFF 		bl	is_bad_cmdline
 9531              	.LVL767:
1072:src/keys.c    **** 			return STATE_UNFINISHED;
 9532              		.loc 1 1072 6 view .LVU3015
 9533 132a 0028     		cmp	r0, #0
 9534 132c 7FF453A9 		bne	.L1061
1074:src/keys.c    **** 		process_cmdline_set_lift();
 9535              		.loc 1 1074 3 is_stmt 1 view .LVU3016
1074:src/keys.c    **** 		process_cmdline_set_lift();
 9536              		.loc 1 1074 30 is_stmt 0 view .LVU3017
 9537 1330 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 9538 1334 C3F38012 		ubfx	r2, r3, #6, #1
1074:src/keys.c    **** 		process_cmdline_set_lift();
 9539              		.loc 1 1074 22 view .LVU3018
 9540 1338 C2F10102 		rsb	r2, r2, #1
1074:src/keys.c    **** 		process_cmdline_set_lift();
 9541              		.loc 1 1074 18 view .LVU3019
 9542 133c 62F38613 		bfi	r3, r2, #6, #1
 9543 1340 88F81630 		strb	r3, [r8, #22]
1075:src/keys.c    **** 		update_program_bounds(1);
 9544              		.loc 1 1075 3 is_stmt 1 view .LVU3020
 9545 1344 FFF7FEFF 		bl	process_cmdline_set_lift
 9546              	.LVL768:
1076:src/keys.c    **** 		if (! State2.runmode && state_pc() == 1 && ProgEnd == 1)
 9547              		.loc 1 1076 3 view .LVU3021
 9548 1348 0120     		movs	r0, #1
ARM GAS  /tmp/cc90KtGY.s 			page 273


 9549 134a FFF7FEFF 		bl	update_program_bounds
 9550              	.LVL769:
1077:src/keys.c    **** 			set_pc(0);
 9551              		.loc 1 1077 3 view .LVU3022
1077:src/keys.c    **** 			set_pc(0);
 9552              		.loc 1 1077 7 is_stmt 0 view .LVU3023
 9553 134e 98F81600 		ldrb	r0, [r8, #22]	@ zero_extendqisi2
1077:src/keys.c    **** 			set_pc(0);
 9554              		.loc 1 1077 6 view .LVU3024
 9555 1352 10F04000 		ands	r0, r0, #64
 9556 1356 06D1     		bne	.L792
1077:src/keys.c    **** 			set_pc(0);
 9557              		.loc 1 1077 27 view .LVU3025
 9558 1358 704B     		ldr	r3, .L1157
 9559 135a 1B68     		ldr	r3, [r3]
1077:src/keys.c    **** 			set_pc(0);
 9560              		.loc 1 1077 24 view .LVU3026
 9561 135c B3F8E027 		ldrh	r2, [r3, #2016]
 9562 1360 012A     		cmp	r2, #1
 9563 1362 00F04284 		beq	.L1136
 9564              	.L792:
1085:src/keys.c    **** 		if (op & _RARG) {
 9565              		.loc 1 1085 5 view .LVU3027
 9566 1366 BAF1330F 		cmp	r10, #51
1055:src/keys.c    **** 	reset_shift();
 9567              		.loc 1 1055 6 view .LVU3028
 9568 136a D346     		mov	fp, r10
1085:src/keys.c    **** 		if (op & _RARG) {
 9569              		.loc 1 1085 2 is_stmt 1 view .LVU3029
1085:src/keys.c    **** 		if (op & _RARG) {
 9570              		.loc 1 1085 5 is_stmt 0 view .LVU3030
 9571 136c 0AD0     		beq	.L800
 9572              	.LVL770:
1086:src/keys.c    **** 			init_arg((enum rarg) (op & ~(_RARG | NO_INT)));
 9573              		.loc 1 1086 3 is_stmt 1 view .LVU3031
1086:src/keys.c    **** 			init_arg((enum rarg) (op & ~(_RARG | NO_INT)));
 9574              		.loc 1 1086 6 is_stmt 0 view .LVU3032
 9575 136e 1AF4004F 		tst	r10, #32768
 9576 1372 00F02483 		beq	.L1137
1087:src/keys.c    **** 			op = STATE_UNFINISHED;
 9577              		.loc 1 1087 4 is_stmt 1 view .LVU3033
 9578              	.LVL771:
 9579              	.LBB1080:
 9580              	.LBI1080:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 9581              		.loc 1 501 13 view .LVU3034
 9582              	.LBB1081:
 502:src/keys.c    **** 		return;
 9583              		.loc 1 502 2 view .LVU3035
 502:src/keys.c    **** 		return;
 9584              		.loc 1 502 6 is_stmt 0 view .LVU3036
 9585 1376 FFF7FEFF 		bl	is_bad_cmdline
 9586              	.LVL772:
 502:src/keys.c    **** 		return;
 9587              		.loc 1 502 5 view .LVU3037
 9588 137a 18B9     		cbnz	r0, .L800
 9589 137c 5FFA8AF0 		uxtb	r0, r10
ARM GAS  /tmp/cc90KtGY.s 			page 274


 9590 1380 FFF7FEFF 		bl	init_arg.part.0
 9591              	.LVL773:
 9592              	.L800:
 502:src/keys.c    **** 		return;
 9593              		.loc 1 502 5 view .LVU3038
 9594              	.LBE1081:
 9595              	.LBE1080:
1091:src/keys.c    **** #undef _RARG
 9596              		.loc 1 1091 2 is_stmt 1 view .LVU3039
1067:src/keys.c    **** #endif
 9597              		.loc 1 1067 29 is_stmt 0 view .LVU3040
 9598 1384 4FF0330B 		mov	fp, #51
 9599              	.LVL774:
 9600              	.L795:
1091:src/keys.c    **** #undef _RARG
 9601              		.loc 1 1091 57 view .LVU3041
 9602 1388 2BF4804B 		bic	fp, fp, #16384
 9603 138c FFF7FFB8 		b	.L594
 9604              	.LVL775:
 9605              	.L876:
1091:src/keys.c    **** #undef _RARG
 9606              		.loc 1 1091 57 view .LVU3042
 9607              	.LBE1082:
 9608              	.LBE1087:
 9609              	.LBB1088:
 9610              	.LBB825:
 9611              	.LBB809:
 9612              	.LBB804:
 436:src/keys.c    **** 		else if (shift == SHIFT_G)
 9613              		.loc 1 436 10 view .LVU3043
 9614 1390 0422     		movs	r2, #4
 9615              	.L737:
 9616              	.LVL776:
 440:src/keys.c    **** }
 9617              		.loc 1 440 2 is_stmt 1 view .LVU3044
 9618              	.LBB800:
 119:src/keys.c    **** {
 9619              		.loc 1 119 12 view .LVU3045
 9620              	.LBB796:
 121:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 9621              		.loc 1 121 2 view .LVU3046
 131:src/keys.c    **** }
 9622              		.loc 1 131 2 view .LVU3047
 131:src/keys.c    **** }
 9623              		.loc 1 131 23 is_stmt 0 view .LVU3048
 9624 1392 6349     		ldr	r1, .L1157+4
 9625              	.LBE796:
 9626              	.LBE800:
 440:src/keys.c    **** }
 9627              		.loc 1 440 49 view .LVU3049
 9628 1394 DFF88CC1 		ldr	ip, .L1157+8
 9629              	.LBB801:
 9630              	.LBB797:
 131:src/keys.c    **** }
 9631              		.loc 1 131 23 view .LVU3050
 9632 1398 095D     		ldrb	r1, [r1, r4]	@ zero_extendqisi2
 9633              	.LBE797:
ARM GAS  /tmp/cc90KtGY.s 			page 275


 9634              	.LBE801:
 440:src/keys.c    **** }
 9635              		.loc 1 440 49 view .LVU3051
 9636 139a 4FF0060E 		mov	lr, #6
 9637 139e 0EFB01C1 		mla	r1, lr, r1, ip
 9638 13a2 063C     		subs	r4, r4, #6
 9639 13a4 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 9640              	.LVL777:
 440:src/keys.c    **** }
 9641              		.loc 1 440 49 view .LVU3052
 9642              	.LBE804:
 9643              	.LBE809:
1391:src/keys.c    ****         int op = STATE_UNFINISHED;
 9644              		.loc 1 1391 2 is_stmt 1 view .LVU3053
1392:src/keys.c    **** 	State2.alpha_pos = 0;
 9645              		.loc 1 1392 9 view .LVU3054
1393:src/keys.c    **** 
 9646              		.loc 1 1393 2 view .LVU3055
1395:src/keys.c    **** 	case K10:	// STO
 9647              		.loc 1 1395 2 view .LVU3056
 9648 13a6 212C     		cmp	r4, #33
 9649 13a8 3FF67EAF 		bhi	.L740
 9650 13ac 01A1     		adr	r1, .L742
 9651 13ae 51F824F0 		ldr	pc, [r1, r4, lsl #2]
 9652 13b2 00BF     		.p2align 2
 9653              	.L742:
 9654 13b4 5F1A0000 		.word	.L749+1
 9655 13b8 371A0000 		.word	.L748+1
 9656 13bc A9120000 		.word	.L740+1
 9657 13c0 A9120000 		.word	.L740+1
 9658 13c4 A9120000 		.word	.L740+1
 9659 13c8 A9120000 		.word	.L740+1
 9660 13cc 0F1A0000 		.word	.L747+1
 9661 13d0 A9120000 		.word	.L740+1
 9662 13d4 A9120000 		.word	.L740+1
 9663 13d8 A9120000 		.word	.L740+1
 9664 13dc 65070000 		.word	.L746+1
 9665 13e0 A9120000 		.word	.L740+1
 9666 13e4 811A0000 		.word	.L745+1
 9667 13e8 A9120000 		.word	.L740+1
 9668 13ec A9120000 		.word	.L740+1
 9669 13f0 A9120000 		.word	.L740+1
 9670 13f4 A9120000 		.word	.L740+1
 9671 13f8 A9120000 		.word	.L740+1
 9672 13fc 45070000 		.word	.L744+1
 9673 1400 A9120000 		.word	.L740+1
 9674 1404 A9120000 		.word	.L740+1
 9675 1408 A9120000 		.word	.L740+1
 9676 140c A9120000 		.word	.L740+1
 9677 1410 A9120000 		.word	.L740+1
 9678 1414 A9120000 		.word	.L740+1
 9679 1418 A9120000 		.word	.L740+1
 9680 141c A9120000 		.word	.L740+1
 9681 1420 A9120000 		.word	.L740+1
 9682 1424 A9120000 		.word	.L740+1
 9683 1428 A9120000 		.word	.L740+1
 9684 142c A3190000 		.word	.L743+1
ARM GAS  /tmp/cc90KtGY.s 			page 276


 9685 1430 A9120000 		.word	.L740+1
 9686 1434 A9120000 		.word	.L740+1
 9687 1438 89190000 		.word	.L741+1
 9688              	.LVL778:
 9689              		.p2align 1
 9690              	.L869:
1395:src/keys.c    **** 	case K10:	// STO
 9691              		.loc 1 1395 2 is_stmt 0 view .LVU3057
 9692              	.LBE825:
 9693              	.LBE1088:
 9694              	.LBB1089:
 9695              	.LBB991:
2535:src/keys.c    **** 	const int opcode = getprog(pc);
 9696              		.loc 1 2535 27 view .LVU3058
 9697 143c 4FF0030B 		mov	fp, #3
 9698 1440 9CE4     		b	.L685
 9699              	.LVL779:
 9700              	.L1093:
2535:src/keys.c    **** 	const int opcode = getprog(pc);
 9701              		.loc 1 2535 27 view .LVU3059
 9702              	.LBE991:
 9703              	.LBE1089:
 9704              	.LBB1090:
 9705              	.LBB657:
 9706              	.LBB650:
 324:src/keys.c    **** #else
 9707              		.loc 1 324 45 view .LVU3060
 9708 1442 FFF7FEFF 		bl	shift_down
 9709              	.LVL780:
 324:src/keys.c    **** #else
 9710              		.loc 1 324 42 view .LVU3061
 9711 1446 0328     		cmp	r0, #3
 9712 1448 00F0C582 		beq	.L662
 9713 144c 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
 322:src/keys.c    **** #ifndef WINGUI
 9714              		.loc 1 322 8 view .LVU3062
 9715 1450 374B     		ldr	r3, .L1157+20
 324:src/keys.c    **** #else
 9716              		.loc 1 324 73 view .LVU3063
 9717 1452 DC46     		mov	ip, fp
 328:src/keys.c    ****   }
 9718              		.loc 1 328 9 view .LVU3064
 9719 1454 0C21     		movs	r1, #12
 9720 1456 FEF721BF 		b	.L661
 9721              	.LVL781:
 9722              	.L1100:
 328:src/keys.c    ****   }
 9723              		.loc 1 328 9 view .LVU3065
 9724              	.LBE650:
 9725              	.LBE657:
 9726              	.LBE1090:
2889:src/keys.c    **** 	} else {
 9727              		.loc 1 2889 3 is_stmt 1 view .LVU3066
 9728              	.LBB1091:
 9729              	.LBI1091:
1099:src/keys.c    **** #define _RARG   0xFF00
 9730              		.loc 1 1099 12 view .LVU3067
ARM GAS  /tmp/cc90KtGY.s 			page 277


 9731              	.LBB1092:
1104:src/keys.c    **** 		// Row 1
 9732              		.loc 1 1104 2 view .LVU3068
1155:src/keys.c    **** 	int lc = keycode_to_linear(c);
 9733              		.loc 1 1155 2 view .LVU3069
 9734              	.LBB1093:
 9735              	.LBI1093:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 9736              		.loc 1 102 13 view .LVU3070
 9737              	.LBE1093:
 9738              	.LBE1092:
 9739              	.LBE1091:
 9740              	.LBE1209:
 9741              	.LBE1269:
 103:src/keys.c    **** }
 9742              		.loc 1 103 2 view .LVU3071
 9743              	.LBB1270:
 9744              	.LBB1210:
 9745              	.LBB1122:
 9746              	.LBB1118:
 9747              	.LBB1104:
 9748              	.LBB1094:
 9749              	.LBI1094:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 9750              		.loc 1 92 20 view .LVU3072
 9751              	.LBB1095:
  93:src/keys.c    **** 	State2.shifts = shift;
 9752              		.loc 1 93 2 view .LVU3073
 9753              	.LBB1096:
 9754              	.LBI1096:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 9755              		.loc 1 84 13 view .LVU3074
 9756              	.LBB1097:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9757              		.loc 1 85 2 view .LVU3075
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 9758              		.loc 1 85 18 is_stmt 0 view .LVU3076
 9759 145a FFF7FEFF 		bl	shift_down
 9760              	.LVL782:
  86:src/keys.c    **** }
 9761              		.loc 1 86 2 is_stmt 1 view .LVU3077
  86:src/keys.c    **** }
 9762              		.loc 1 86 52 is_stmt 0 view .LVU3078
 9763 145e 0346     		mov	r3, r0
 9764 1460 08B9     		cbnz	r0, .L761
 9765 1462 98F81030 		ldrb	r3, [r8, #16]	@ zero_extendqisi2
 9766              	.L761:
 9767              	.LVL783:
  86:src/keys.c    **** }
 9768              		.loc 1 86 52 view .LVU3079
 9769              	.LBE1097:
 9770              	.LBE1096:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9771              		.loc 1 94 2 is_stmt 1 view .LVU3080
 9772              	.LBE1095:
 9773              	.LBE1094:
 9774              	.LBE1104:
ARM GAS  /tmp/cc90KtGY.s 			page 278


 9775              	.LBB1105:
 9776              	.LBB1106:
 146:src/keys.c    **** }
 9777              		.loc 1 146 23 is_stmt 0 view .LVU3081
 9778 1466 304A     		ldr	r2, .L1157+12
 9779              	.LBE1106:
 9780              	.LBE1105:
1157:src/keys.c    **** 	State2.cmplx = 0;
 9781              		.loc 1 1157 21 view .LVU3082
 9782 1468 3248     		ldr	r0, .L1157+24
 9783              	.LBB1109:
 9784              	.LBB1107:
 146:src/keys.c    **** }
 9785              		.loc 1 146 23 view .LVU3083
 9786 146a 125D     		ldrb	r2, [r2, r4]	@ zero_extendqisi2
 9787              	.LBE1107:
 9788              	.LBE1109:
1158:src/keys.c    **** 
 9789              		.loc 1 1158 15 view .LVU3084
 9790 146c 98F81510 		ldrb	r1, [r8, #21]	@ zero_extendqisi2
1157:src/keys.c    **** 	State2.cmplx = 0;
 9791              		.loc 1 1157 21 view .LVU3085
 9792 1470 03EB8202 		add	r2, r3, r2, lsl #2
 9793              	.LBB1110:
 9794              	.LBB1101:
 9795              	.LBB1098:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9796              		.loc 1 94 16 view .LVU3086
 9797 1474 4FF0000A 		mov	r10, #0
 9798              	.LVL784:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9799              		.loc 1 94 16 view .LVU3087
 9800              	.LBE1098:
 9801              	.LBE1101:
 9802              	.LBE1110:
1157:src/keys.c    **** 	State2.cmplx = 0;
 9803              		.loc 1 1157 21 view .LVU3088
 9804 1478 30F812B0 		ldrh	fp, [r0, r2, lsl #1]
 9805              	.LBB1111:
 9806              	.LBB1102:
 9807              	.LBB1099:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 9808              		.loc 1 94 16 view .LVU3089
 9809 147c 88F810A0 		strb	r10, [r8, #16]
  95:src/keys.c    **** 	return r;
 9810              		.loc 1 95 2 is_stmt 1 view .LVU3090
 9811              	.LBE1099:
 9812              	.LBE1102:
 9813              	.LBE1111:
1160:src/keys.c    **** 		init_arg((enum rarg) (op & ~_RARG));
 9814              		.loc 1 1160 5 is_stmt 0 view .LVU3091
 9815 1480 0BF47F42 		and	r2, fp, #65280
1158:src/keys.c    **** 
 9816              		.loc 1 1158 15 view .LVU3092
 9817 1484 6AF34101 		bfi	r1, r10, #1, #1
1160:src/keys.c    **** 		init_arg((enum rarg) (op & ~_RARG));
 9818              		.loc 1 1160 5 view .LVU3093
ARM GAS  /tmp/cc90KtGY.s 			page 279


 9819 1488 B2F57F4F 		cmp	r2, #65280
1158:src/keys.c    **** 
 9820              		.loc 1 1158 15 view .LVU3094
 9821 148c 88F81510 		strb	r1, [r8, #21]
 9822              	.LBB1112:
 9823              	.LBB1103:
 9824              	.LBB1100:
  95:src/keys.c    **** 	return r;
 9825              		.loc 1 95 19 view .LVU3095
 9826 1490 88F80DA0 		strb	r10, [r8, #13]
  96:src/keys.c    **** }
 9827              		.loc 1 96 2 is_stmt 1 view .LVU3096
 9828              	.LVL785:
  96:src/keys.c    **** }
 9829              		.loc 1 96 2 is_stmt 0 view .LVU3097
 9830              	.LBE1100:
 9831              	.LBE1103:
 9832              	.LBE1112:
1156:src/keys.c    **** 	int op = op_map[lc][shift];
 9833              		.loc 1 1156 2 is_stmt 1 view .LVU3098
 9834              	.LBB1113:
 9835              	.LBI1105:
 134:src/keys.c    **** {
 9836              		.loc 1 134 12 view .LVU3099
 9837              	.LBB1108:
 136:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 9838              		.loc 1 136 2 view .LVU3100
 146:src/keys.c    **** }
 9839              		.loc 1 146 2 view .LVU3101
 146:src/keys.c    **** }
 9840              		.loc 1 146 2 is_stmt 0 view .LVU3102
 9841              	.LBE1108:
 9842              	.LBE1113:
1157:src/keys.c    **** 	State2.cmplx = 0;
 9843              		.loc 1 1157 2 is_stmt 1 view .LVU3103
1158:src/keys.c    **** 
 9844              		.loc 1 1158 2 view .LVU3104
1160:src/keys.c    **** 		init_arg((enum rarg) (op & ~_RARG));
 9845              		.loc 1 1160 2 view .LVU3105
1160:src/keys.c    **** 		init_arg((enum rarg) (op & ~_RARG));
 9846              		.loc 1 1160 5 is_stmt 0 view .LVU3106
 9847 1494 00F04183 		beq	.L787
1164:src/keys.c    **** 		// HYP
 9848              		.loc 1 1164 2 is_stmt 1 view .LVU3107
1164:src/keys.c    **** 		// HYP
 9849              		.loc 1 1164 5 is_stmt 0 view .LVU3108
 9850 1498 002C     		cmp	r4, #0
 9851 149a 00F00982 		beq	.L1138
1173:src/keys.c    **** 		switch (c) {
 9852              		.loc 1 1173 2 is_stmt 1 view .LVU3109
1173:src/keys.c    **** 		switch (c) {
 9853              		.loc 1 1173 5 is_stmt 0 view .LVU3110
 9854 149e 002B     		cmp	r3, #0
 9855 14a0 3FF475A8 		beq	.L594
1174:src/keys.c    **** 		case K_CMPLX:
 9856              		.loc 1 1174 3 is_stmt 1 view .LVU3111
 9857 14a4 242C     		cmp	r4, #36
ARM GAS  /tmp/cc90KtGY.s 			page 280


 9858 14a6 00F0D183 		beq	.L764
 9859 14aa 2D2C     		cmp	r4, #45
 9860 14ac 00F0C483 		beq	.L765
 9861 14b0 1F2C     		cmp	r4, #31
 9862 14b2 7FF46CA8 		bne	.L594
1180:src/keys.c    **** 				if (is_bad_cmdline())
 9863              		.loc 1 1180 4 view .LVU3112
1180:src/keys.c    **** 				if (is_bad_cmdline())
 9864              		.loc 1 1180 7 is_stmt 0 view .LVU3113
 9865 14b6 BBF1330F 		cmp	fp, #51
 9866 14ba 3FF48CA8 		beq	.L1061
1181:src/keys.c    **** 					return STATE_UNFINISHED;
 9867              		.loc 1 1181 5 is_stmt 1 view .LVU3114
1181:src/keys.c    **** 					return STATE_UNFINISHED;
 9868              		.loc 1 1181 9 is_stmt 0 view .LVU3115
 9869 14be FFF7FEFF 		bl	is_bad_cmdline
 9870              	.LVL786:
1181:src/keys.c    **** 					return STATE_UNFINISHED;
 9871              		.loc 1 1181 8 view .LVU3116
 9872 14c2 0446     		mov	r4, r0
 9873 14c4 0028     		cmp	r0, #0
 9874 14c6 7FF486A8 		bne	.L1061
1183:src/keys.c    **** 				State2.cmplx = 1;
 9875              		.loc 1 1183 5 is_stmt 1 view .LVU3117
 9876 14ca FFF7FEFF 		bl	process_cmdline_set_lift
 9877              	.LVL787:
1184:src/keys.c    **** 				State2.test = op;
 9878              		.loc 1 1184 5 view .LVU3118
1184:src/keys.c    **** 				State2.test = op;
 9879              		.loc 1 1184 18 is_stmt 0 view .LVU3119
 9880 14ce 98F81530 		ldrb	r3, [r8, #21]	@ zero_extendqisi2
1185:src/keys.c    **** 			}
 9881              		.loc 1 1185 17 view .LVU3120
 9882 14d2 88F80FB0 		strb	fp, [r8, #15]
1184:src/keys.c    **** 				State2.test = op;
 9883              		.loc 1 1184 18 view .LVU3121
 9884 14d6 43F00203 		orr	r3, r3, #2
 9885              	.LBE1118:
 9886              	.LBE1122:
 9887              	.LBE1210:
 9888              	.LBE1270:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 9889              		.loc 1 2919 7 view .LVU3122
 9890 14da 2746     		mov	r7, r4
 9891              	.LBB1271:
 9892              	.LBB1211:
 9893              	.LBB1123:
 9894              	.LBB1119:
1184:src/keys.c    **** 				State2.test = op;
 9895              		.loc 1 1184 18 view .LVU3123
 9896 14dc 88F81530 		strb	r3, [r8, #21]
1185:src/keys.c    **** 			}
 9897              		.loc 1 1185 5 is_stmt 1 view .LVU3124
1187:src/keys.c    **** 
 9898              		.loc 1 1187 11 is_stmt 0 view .LVU3125
 9899 14e0 4FF0330B 		mov	fp, #51
 9900              	.LVL788:
ARM GAS  /tmp/cc90KtGY.s 			page 281


1187:src/keys.c    **** 
 9901              		.loc 1 1187 11 view .LVU3126
 9902 14e4 FEF7E0BD 		b	.L565
 9903              	.LVL789:
 9904              	.L1133:
1187:src/keys.c    **** 
 9905              		.loc 1 1187 11 view .LVU3127
 9906              	.LBE1119:
 9907              	.LBE1123:
 9908              	.LBB1124:
 9909              	.LBB766:
2682:src/keys.c    **** 		set_window(shift == SHIFT_F ? STATE_WINDOWLEFT : STATE_WINDOWRIGHT);
 9910              		.loc 1 2682 50 view .LVU3128
 9911 14e8 0D2C     		cmp	r4, #13
 9912 14ea 7FF4A3AD 		bne	.L719
2683:src/keys.c    **** 		set_smode(SDISP_SHOW);
 9913              		.loc 1 2683 3 is_stmt 1 view .LVU3129
 9914 14ee 012B     		cmp	r3, #1
 9915 14f0 14BF     		ite	ne
 9916 14f2 2C20     		movne	r0, #44
 9917              	.LVL790:
2683:src/keys.c    **** 		set_smode(SDISP_SHOW);
 9918              		.loc 1 2683 3 is_stmt 0 view .LVU3130
 9919 14f4 2B20     		moveq	r0, #43
 9920 14f6 FFF7FEFF 		bl	set_window
 9921              	.LVL791:
2684:src/keys.c    **** 	}
 9922              		.loc 1 2684 3 is_stmt 1 view .LVU3131
 9923              	.LBB761:
 9924              	.LBI761:
 646:src/keys.c    **** 	State2.smode = (State2.smode == d)?SDISP_NORMAL:d;
 9925              		.loc 1 646 13 view .LVU3132
 9926              	.LBB762:
 647:src/keys.c    **** }
 9927              		.loc 1 647 2 view .LVU3133
 647:src/keys.c    **** }
 9928              		.loc 1 647 15 is_stmt 0 view .LVU3134
 9929 14fa 98F81130 		ldrb	r3, [r8, #17]	@ zero_extendqisi2
 9930 14fe 013B     		subs	r3, r3, #1
 9931 1500 18BF     		it	ne
 9932 1502 0123     		movne	r3, #1
 9933 1504 88F81130 		strb	r3, [r8, #17]
 9934              	.LVL792:
 647:src/keys.c    **** }
 9935              		.loc 1 647 15 view .LVU3135
 9936              	.LBE762:
 9937              	.LBE761:
2691:src/keys.c    **** 	case K_DOWN:
 9938              		.loc 1 2691 2 is_stmt 1 view .LVU3136
2691:src/keys.c    **** 	case K_DOWN:
 9939              		.loc 1 2691 2 is_stmt 0 view .LVU3137
 9940              	.LBE766:
 9941              	.LBE1124:
 9942              	.LBE1211:
 9943              	.LBE1271:
3076:src/keys.c    ****     case STATE_SST:
 9944              		.loc 1 3076 5 is_stmt 1 view .LVU3138
ARM GAS  /tmp/cc90KtGY.s 			page 282


 9945              	.LBB1272:
 9946              	.LBB1212:
 9947              	.LBB1125:
 9948              	.LBB767:
2742:src/keys.c    **** 	}
 9949              		.loc 1 2742 10 is_stmt 0 view .LVU3139
 9950 1508 4FF0330B 		mov	fp, #51
 9951 150c FEF7CCBD 		b	.L565
 9952              	.LVL793:
 9953              	.L1130:
2742:src/keys.c    **** 	}
 9954              		.loc 1 2742 10 view .LVU3140
 9955 1510 0093     		str	r3, [sp]
2666:src/keys.c    **** 	const int g_max = global_regs();
 9956              		.loc 1 2666 33 view .LVU3141
 9957 1512 FFF7FEFF 		bl	local_regs
 9958              	.LVL794:
2666:src/keys.c    **** 	const int g_max = global_regs();
 9959              		.loc 1 2666 33 view .LVU3142
 9960 1516 009B     		ldr	r3, [sp]
 9961 1518 8146     		mov	r9, r0
 9962 151a 7AE5     		b	.L711
 9963              	.L1158:
 9964              		.align	2
 9965              	.L1157:
 9966 151c 00000000 		.word	main_ram
 9967 1520 00000000 		.word	.LANCHOR1
 9968 1524 00000000 		.word	.LANCHOR9
 9969 1528 00000000 		.word	.LANCHOR18
 9970 152c 00000000 		.word	.LANCHOR21
 9971 1530 00000000 		.word	.LANCHOR11
 9972 1534 00000000 		.word	.LANCHOR17
 9973              	.LVL795:
 9974              	.L1101:
2666:src/keys.c    **** 	const int g_max = global_regs();
 9975              		.loc 1 2666 33 view .LVU3143
 9976              	.LBE767:
 9977              	.LBE1125:
2892:src/keys.c    **** 		if (shift == SHIFT_H)
 9978              		.loc 1 2892 4 is_stmt 1 view .LVU3144
 9979              	.LBB1126:
 9980              	.LBI996:
 842:src/keys.c    **** 
 9981              		.loc 1 842 12 view .LVU3145
 9982              	.LBB1025:
 845:src/keys.c    **** 		// Row 1
 9983              		.loc 1 845 2 view .LVU3146
 896:src/keys.c    **** 		STATE_UNFINISHED,
 9984              		.loc 1 896 2 view .LVU3147
 903:src/keys.c    **** 	int lc = keycode_to_linear(c);
 9985              		.loc 1 903 2 view .LVU3148
 9986              	.LBB1001:
 9987              	.LBI1001:
 102:src/keys.c    **** 	return set_shift(SHIFT_N);
 9988              		.loc 1 102 13 view .LVU3149
 9989              	.LBE1001:
 9990              	.LBE1025:
ARM GAS  /tmp/cc90KtGY.s 			page 283


 9991              	.LBE1126:
 9992              	.LBE1212:
 9993              	.LBE1272:
 103:src/keys.c    **** }
 9994              		.loc 1 103 2 view .LVU3150
 9995              	.LBB1273:
 9996              	.LBB1213:
 9997              	.LBB1127:
 9998              	.LBB1026:
 9999              	.LBB1012:
 10000              	.LBB1002:
 10001              	.LBI1002:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 10002              		.loc 1 92 20 view .LVU3151
 10003              	.LBB1003:
  93:src/keys.c    **** 	State2.shifts = shift;
 10004              		.loc 1 93 2 view .LVU3152
 10005              	.LBB1004:
 10006              	.LBI1004:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 10007              		.loc 1 84 13 view .LVU3153
 10008              	.LBB1005:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 10009              		.loc 1 85 2 view .LVU3154
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 10010              		.loc 1 85 18 is_stmt 0 view .LVU3155
 10011 1538 FFF7FEFF 		bl	shift_down
 10012              	.LVL796:
  86:src/keys.c    **** }
 10013              		.loc 1 86 2 is_stmt 1 view .LVU3156
  86:src/keys.c    **** }
 10014              		.loc 1 86 52 is_stmt 0 view .LVU3157
 10015 153c 0346     		mov	r3, r0
 10016 153e 08B9     		cbnz	r0, .L768
 10017 1540 98F81030 		ldrb	r3, [r8, #16]	@ zero_extendqisi2
 10018              	.L768:
 10019              	.LVL797:
  86:src/keys.c    **** }
 10020              		.loc 1 86 52 view .LVU3158
 10021              	.LBE1005:
 10022              	.LBE1004:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 10023              		.loc 1 94 2 is_stmt 1 view .LVU3159
 10024              	.LBE1003:
 10025              	.LBE1002:
 10026              	.LBE1012:
 10027              	.LBB1013:
 10028              	.LBB1014:
 146:src/keys.c    **** }
 10029              		.loc 1 146 23 is_stmt 0 view .LVU3160
 10030 1544 B54A     		ldr	r2, .L1159
 10031              	.LBE1014:
 10032              	.LBE1013:
 905:src/keys.c    **** 	int no_int = ((op & NO_INT) == NO_INT);
 10033              		.loc 1 905 21 view .LVU3161
 10034 1546 DFF8E0C2 		ldr	ip, .L1159+12
 10035              	.LBB1017:
ARM GAS  /tmp/cc90KtGY.s 			page 284


 10036              	.LBB1015:
 146:src/keys.c    **** }
 10037              		.loc 1 146 23 view .LVU3162
 10038 154a 105D     		ldrb	r0, [r2, r4]	@ zero_extendqisi2
 10039              	.LBE1015:
 10040              	.LBE1017:
 905:src/keys.c    **** 	int no_int = ((op & NO_INT) == NO_INT);
 10041              		.loc 1 905 21 view .LVU3163
 10042 154c 4200     		lsls	r2, r0, #1
 10043 154e 022B     		cmp	r3, #2
 10044 1550 08BF     		it	eq
 10045 1552 0132     		addeq	r2, r2, #1
 10046              	.LBB1018:
 10047              	.LBB1009:
 10048              	.LBB1006:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 10049              		.loc 1 94 16 view .LVU3164
 10050 1554 0021     		movs	r1, #0
 10051              	.LBE1006:
 10052              	.LBE1009:
 10053              	.LBE1018:
 905:src/keys.c    **** 	int no_int = ((op & NO_INT) == NO_INT);
 10054              		.loc 1 905 21 view .LVU3165
 10055 1556 3CF812B0 		ldrh	fp, [ip, r2, lsl #1]
 10056              	.LBB1019:
 10057              	.LBB1010:
 10058              	.LBB1007:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 10059              		.loc 1 94 16 view .LVU3166
 10060 155a 88F81010 		strb	r1, [r8, #16]
  95:src/keys.c    **** 	return r;
 10061              		.loc 1 95 2 is_stmt 1 view .LVU3167
 10062 155e 0BF4704A 		and	r10, fp, #61440
 10063              	.LVL798:
  95:src/keys.c    **** 	return r;
 10064              		.loc 1 95 2 is_stmt 0 view .LVU3168
 10065              	.LBE1007:
 10066              	.LBE1010:
 10067              	.LBE1019:
 907:src/keys.c    **** 		op &= ~NO_INT;
 10068              		.loc 1 907 5 view .LVU3169
 10069 1562 BAF5704F 		cmp	r10, #61440
 10070              	.LBB1020:
 10071              	.LBB1011:
 10072              	.LBB1008:
  95:src/keys.c    **** 	return r;
 10073              		.loc 1 95 19 view .LVU3170
 10074 1566 88F80D10 		strb	r1, [r8, #13]
  96:src/keys.c    **** }
 10075              		.loc 1 96 2 is_stmt 1 view .LVU3171
 10076              	.LVL799:
  96:src/keys.c    **** }
 10077              		.loc 1 96 2 is_stmt 0 view .LVU3172
 10078              	.LBE1008:
 10079              	.LBE1011:
 10080              	.LBE1020:
 904:src/keys.c    **** 	int op = op_map[lc][shift == SHIFT_G];
ARM GAS  /tmp/cc90KtGY.s 			page 285


 10081              		.loc 1 904 2 is_stmt 1 view .LVU3173
 10082              	.LBB1021:
 10083              	.LBI1013:
 134:src/keys.c    **** {
 10084              		.loc 1 134 12 view .LVU3174
 10085              	.LBB1016:
 136:src/keys.c    **** 		 0,  1,  2,  3,  4,  5,   // K00 - K05
 10086              		.loc 1 136 2 view .LVU3175
 146:src/keys.c    **** }
 10087              		.loc 1 146 2 view .LVU3176
 146:src/keys.c    **** }
 10088              		.loc 1 146 2 is_stmt 0 view .LVU3177
 10089              	.LBE1016:
 10090              	.LBE1021:
 905:src/keys.c    **** 	int no_int = ((op & NO_INT) == NO_INT);
 10091              		.loc 1 905 2 is_stmt 1 view .LVU3178
 906:src/keys.c    **** 	if (no_int)
 10092              		.loc 1 906 2 view .LVU3179
 907:src/keys.c    **** 		op &= ~NO_INT;
 10093              		.loc 1 907 2 view .LVU3180
 907:src/keys.c    **** 		op &= ~NO_INT;
 10094              		.loc 1 907 5 is_stmt 0 view .LVU3181
 10095 156a 00F0B381 		beq	.L1139
 910:src/keys.c    **** 	case K00:
 10096              		.loc 1 910 2 is_stmt 1 view .LVU3182
 10097 156e 282C     		cmp	r4, #40
 10098 1570 27D8     		bhi	.L788
 10099 1572 DFE804F0 		tbb	[pc, r4]
 10100              	.L842:
 10101 1576 97       		.byte	(.L780-.L842)/2
 10102 1577 15       		.byte	(.L778-.L842)/2
 10103 1578 26       		.byte	(.L788-.L842)/2
 10104 1579 15       		.byte	(.L778-.L842)/2
 10105 157a 26       		.byte	(.L788-.L842)/2
 10106 157b 26       		.byte	(.L788-.L842)/2
 10107 157c 26       		.byte	(.L788-.L842)/2
 10108 157d 26       		.byte	(.L788-.L842)/2
 10109 157e 26       		.byte	(.L788-.L842)/2
 10110 157f 26       		.byte	(.L788-.L842)/2
 10111 1580 26       		.byte	(.L788-.L842)/2
 10112 1581 26       		.byte	(.L788-.L842)/2
 10113 1582 2C       		.byte	(.L777-.L842)/2
 10114 1583 26       		.byte	(.L788-.L842)/2
 10115 1584 26       		.byte	(.L788-.L842)/2
 10116 1585 26       		.byte	(.L788-.L842)/2
 10117 1586 26       		.byte	(.L788-.L842)/2
 10118 1587 26       		.byte	(.L788-.L842)/2
 10119 1588 7D       		.byte	(.L776-.L842)/2
 10120 1589 63       		.byte	(.L775-.L842)/2
 10121 158a 26       		.byte	(.L788-.L842)/2
 10122 158b 26       		.byte	(.L788-.L842)/2
 10123 158c 26       		.byte	(.L788-.L842)/2
 10124 158d 26       		.byte	(.L788-.L842)/2
 10125 158e 26       		.byte	(.L788-.L842)/2
 10126 158f 26       		.byte	(.L788-.L842)/2
 10127 1590 26       		.byte	(.L788-.L842)/2
 10128 1591 26       		.byte	(.L788-.L842)/2
ARM GAS  /tmp/cc90KtGY.s 			page 286


 10129 1592 26       		.byte	(.L788-.L842)/2
 10130 1593 26       		.byte	(.L788-.L842)/2
 10131 1594 4B       		.byte	(.L774-.L842)/2
 10132 1595 3C       		.byte	(.L773-.L842)/2
 10133 1596 52       		.byte	(.L771-.L842)/2
 10134 1597 52       		.byte	(.L771-.L842)/2
 10135 1598 26       		.byte	(.L788-.L842)/2
 10136 1599 26       		.byte	(.L788-.L842)/2
 10137 159a 26       		.byte	(.L788-.L842)/2
 10138 159b 26       		.byte	(.L788-.L842)/2
 10139 159c 26       		.byte	(.L788-.L842)/2
 10140 159d 52       		.byte	(.L771-.L842)/2
 10141 159e 52       		.byte	(.L771-.L842)/2
 10142 159f 00       		.p2align 1
 10143              	.L778:
 931:src/keys.c    **** 			return check_f_key(lc, op_map2[lc]);
 10144              		.loc 1 931 4 view .LVU3183
 931:src/keys.c    **** 			return check_f_key(lc, op_map2[lc]);
 10145              		.loc 1 931 8 is_stmt 0 view .LVU3184
 10146 15a0 9F4A     		ldr	r2, .L1159+4
 10147 15a2 1268     		ldr	r2, [r2]
 10148 15a4 92F8E827 		ldrb	r2, [r2, #2024]	@ zero_extendqisi2
 931:src/keys.c    **** 			return check_f_key(lc, op_map2[lc]);
 10149              		.loc 1 931 7 view .LVU3185
 10150 15a8 D207     		lsls	r2, r2, #31
 10151 15aa 00F18280 		bmi	.L1066
 10152              	.LVL800:
 10153              	.L782:
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10154              		.loc 1 990 2 is_stmt 1 view .LVU3186
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10155              		.loc 1 990 5 is_stmt 0 view .LVU3187
 10156 15ae BAF5704F 		cmp	r10, #61440
 10157 15b2 06D1     		bne	.L788
 10158              	.L770:
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10159              		.loc 1 990 13 view .LVU3188
 10160 15b4 9A4B     		ldr	r3, .L1159+4
 10161 15b6 1B68     		ldr	r3, [r3]
 10162 15b8 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 10163 15bc DB07     		lsls	r3, r3, #31
 10164 15be 3FF50AA8 		bmi	.L1061
 10165              	.L788:
 993:src/keys.c    **** #undef NO_INT
 10166              		.loc 1 993 2 is_stmt 1 view .LVU3189
 10167              	.LVL801:
 10168              	.LBB1022:
 10169              	.LBI998:
 619:src/keys.c    **** 	if (opKIND(op) == KIND_NIL) {
 10170              		.loc 1 619 12 view .LVU3190
 10171              	.LBB1000:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 10172              		.loc 1 620 2 view .LVU3191
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 10173              		.loc 1 620 6 is_stmt 0 view .LVU3192
 10174 15c2 4FEA2B23 		asr	r3, fp, #8
 620:src/keys.c    **** 		const int nilop = argKIND(op);
ARM GAS  /tmp/cc90KtGY.s 			page 287


 10175              		.loc 1 620 5 view .LVU3193
 10176 15c6 012B     		cmp	r3, #1
 10177 15c8 7EF4E1AF 		bne	.L594
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 10178              		.loc 1 620 5 view .LVU3194
 10179 15cc 6AE4     		b	.L850
 10180              	.LVL802:
 10181              	.L777:
 620:src/keys.c    **** 		const int nilop = argKIND(op);
 10182              		.loc 1 620 5 view .LVU3195
 10183              	.LBE1000:
 10184              	.LBE1022:
 942:src/keys.c    **** 			if (is_bad_cmdline())
 10185              		.loc 1 942 3 is_stmt 1 view .LVU3196
 942:src/keys.c    **** 			if (is_bad_cmdline())
 10186              		.loc 1 942 6 is_stmt 0 view .LVU3197
 10187 15ce 012B     		cmp	r3, #1
 10188 15d0 EDD1     		bne	.L782
 943:src/keys.c    **** 				return STATE_UNFINISHED;
 10189              		.loc 1 943 4 is_stmt 1 view .LVU3198
 943:src/keys.c    **** 				return STATE_UNFINISHED;
 10190              		.loc 1 943 8 is_stmt 0 view .LVU3199
 10191 15d2 FFF7FEFF 		bl	is_bad_cmdline
 10192              	.LVL803:
 943:src/keys.c    **** 				return STATE_UNFINISHED;
 10193              		.loc 1 943 7 view .LVU3200
 10194 15d6 0028     		cmp	r0, #0
 10195 15d8 7EF4FDAF 		bne	.L1061
 945:src/keys.c    **** 			State2.alphas = 1;
 10196              		.loc 1 945 4 is_stmt 1 view .LVU3201
 10197 15dc FFF7FEFF 		bl	process_cmdline_set_lift
 10198              	.LVL804:
 946:src/keys.c    **** 		}
 10199              		.loc 1 946 4 view .LVU3202
 946:src/keys.c    **** 		}
 10200              		.loc 1 946 18 is_stmt 0 view .LVU3203
 10201 15e0 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 10202 15e4 43F00803 		orr	r3, r3, #8
 10203 15e8 88F81630 		strb	r3, [r8, #22]
 10204 15ec DFE7     		b	.L782
 10205              	.LVL805:
 10206              	.L773:
 962:src/keys.c    **** 			return STATE_UNFINISHED;
 10207              		.loc 1 962 3 is_stmt 1 view .LVU3204
 962:src/keys.c    **** 			return STATE_UNFINISHED;
 10208              		.loc 1 962 7 is_stmt 0 view .LVU3205
 10209 15ee FFF7FEFF 		bl	is_bad_cmdline
 10210              	.LVL806:
 962:src/keys.c    **** 			return STATE_UNFINISHED;
 10211              		.loc 1 962 6 view .LVU3206
 10212 15f2 0446     		mov	r4, r0
 10213              	.LVL807:
 962:src/keys.c    **** 			return STATE_UNFINISHED;
 10214              		.loc 1 962 6 view .LVU3207
 10215 15f4 0028     		cmp	r0, #0
 10216 15f6 7EF4EEAF 		bne	.L1061
 964:src/keys.c    **** 		State2.test = op;
ARM GAS  /tmp/cc90KtGY.s 			page 288


 10217              		.loc 1 964 3 is_stmt 1 view .LVU3208
 10218 15fa FFF7FEFF 		bl	process_cmdline_set_lift
 10219              	.LVL808:
 965:src/keys.c    **** 		return STATE_UNFINISHED;
 10220              		.loc 1 965 3 view .LVU3209
 10221              	.LBE1026:
 10222              	.LBE1127:
 10223              	.LBE1213:
 10224              	.LBE1273:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 10225              		.loc 1 2919 7 is_stmt 0 view .LVU3210
 10226 15fe 2746     		mov	r7, r4
 10227              	.LBB1274:
 10228              	.LBB1214:
 10229              	.LBB1128:
 10230              	.LBB1027:
 965:src/keys.c    **** 		return STATE_UNFINISHED;
 10231              		.loc 1 965 15 view .LVU3211
 10232 1600 88F80FB0 		strb	fp, [r8, #15]
 966:src/keys.c    **** 
 10233              		.loc 1 966 3 is_stmt 1 view .LVU3212
 966:src/keys.c    **** 
 10234              		.loc 1 966 10 is_stmt 0 view .LVU3213
 10235 1604 4FF0330B 		mov	fp, #51
 10236              	.LVL809:
 966:src/keys.c    **** 
 10237              		.loc 1 966 10 view .LVU3214
 10238 1608 FEF74EBD 		b	.L565
 10239              	.LVL810:
 10240              	.L774:
 970:src/keys.c    **** 			State2.trace = (shift == SHIFT_F);
 10241              		.loc 1 970 3 is_stmt 1 view .LVU3215
 10242 160c 0093     		str	r3, [sp]
 970:src/keys.c    **** 			State2.trace = (shift == SHIFT_F);
 10243              		.loc 1 970 18 is_stmt 0 view .LVU3216
 10244 160e FFF7FEFF 		bl	shift_down
 10245              	.LVL811:
 970:src/keys.c    **** 			State2.trace = (shift == SHIFT_F);
 10246              		.loc 1 970 6 view .LVU3217
 10247 1612 009B     		ldr	r3, [sp]
 10248 1614 0028     		cmp	r0, #0
 10249 1616 40F0A282 		bne	.L1140
 10250              	.L771:
 979:src/keys.c    **** 			if (! (no_int && UState.intm)) {
 10251              		.loc 1 979 3 is_stmt 1 view .LVU3218
 979:src/keys.c    **** 			if (! (no_int && UState.intm)) {
 10252              		.loc 1 979 6 is_stmt 0 view .LVU3219
 10253 161a BBF59C7F 		cmp	fp, #312
 10254 161e 40F07282 		bne	.L1141
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10255              		.loc 1 990 2 is_stmt 1 view .LVU3220
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10256              		.loc 1 990 5 is_stmt 0 view .LVU3221
 10257 1622 BAF5704F 		cmp	r10, #61440
 10258 1626 7FF43DAC 		bne	.L850
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10259              		.loc 1 990 13 view .LVU3222
ARM GAS  /tmp/cc90KtGY.s 			page 289


 10260 162a 7D4B     		ldr	r3, .L1159+4
 10261 162c 1B68     		ldr	r3, [r3]
 10262 162e 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 10263 1632 DB07     		lsls	r3, r3, #31
 10264 1634 7FF536AC 		bpl	.L850
 10265 1638 FEF7CDBF 		b	.L1061
 10266              	.LVL812:
 10267              	.L775:
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10268              		.loc 1 951 4 is_stmt 1 view .LVU3223
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10269              		.loc 1 951 7 is_stmt 0 view .LVU3224
 10270 163c 022B     		cmp	r3, #2
 10271 163e B6D1     		bne	.L782
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10272              		.loc 1 951 27 view .LVU3225
 10273 1640 774B     		ldr	r3, .L1159+4
 10274              	.LVL813:
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10275              		.loc 1 951 27 view .LVU3226
 10276 1642 1B68     		ldr	r3, [r3]
 10277 1644 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 10278 1648 DC07     		lsls	r4, r3, #31
 10279 164a B0D5     		bpl	.L782
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10280              		.loc 1 951 45 view .LVU3227
 10281 164c 0D20     		movs	r0, #13
 10282              	.LVL814:
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10283              		.loc 1 951 45 view .LVU3228
 10284 164e FFF7FEFF 		bl	intltr
 10285              	.LVL815:
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10286              		.loc 1 951 42 view .LVU3229
 10287 1652 0028     		cmp	r0, #0
 10288 1654 ABD0     		beq	.L782
 10289              	.LVL816:
 951:src/keys.c    **** 	    return OP_SPEC | OP_D;
 10290              		.loc 1 951 42 view .LVU3230
 10291              	.LBE1027:
 10292              	.LBE1128:
 10293              	.LBE1214:
 10294              	.LBE1274:
3112:src/keys.c    **** 	NonProgrammable = 0;
 10295              		.loc 1 3112 7 is_stmt 1 view .LVU3231
3112:src/keys.c    **** 	NonProgrammable = 0;
 10296              		.loc 1 3112 11 is_stmt 0 view .LVU3232
 10297 1656 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3112:src/keys.c    **** 	NonProgrammable = 0;
 10298              		.loc 1 3112 10 view .LVU3233
 10299 165a 5906     		lsls	r1, r3, #25
 10300 165c 40F18F82 		bpl	.L880
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10301              		.loc 1 3113 2 is_stmt 1 view .LVU3234
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10302              		.loc 1 3113 18 is_stmt 0 view .LVU3235
 10303 1660 704B     		ldr	r3, .L1159+8
ARM GAS  /tmp/cc90KtGY.s 			page 290


 10304 1662 0022     		movs	r2, #0
 10305              	.LBB1275:
 10306              	.LBB1215:
 10307              	.LBB1129:
 10308              	.LBB1028:
 952:src/keys.c    **** 	  }
 10309              		.loc 1 952 13 view .LVU3236
 10310 1664 4FF0120B 		mov	fp, #18
 10311              	.LBE1028:
 10312              	.LBE1129:
 10313              	.LBE1215:
 10314              	.LBE1275:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10315              		.loc 1 3113 18 view .LVU3237
 10316 1668 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10317              		.loc 1 3114 2 is_stmt 1 view .LVU3238
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10318              		.loc 1 3114 32 is_stmt 0 view .LVU3239
 10319 166a 5846     		mov	r0, fp
 10320 166c FFF731B8 		b	.L833
 10321              	.LVL817:
 10322              	.L776:
 10323              	.LBB1276:
 10324              	.LBB1216:
 10325              	.LBB1130:
 10326              	.LBB1029:
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
 10327              		.loc 1 956 4 is_stmt 1 view .LVU3240
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
 10328              		.loc 1 956 7 is_stmt 0 view .LVU3241
 10329 1670 022B     		cmp	r3, #2
 10330 1672 9CD1     		bne	.L782
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
 10331              		.loc 1 956 27 view .LVU3242
 10332 1674 6A4B     		ldr	r3, .L1159+4
 10333              	.LVL818:
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
 10334              		.loc 1 956 27 view .LVU3243
 10335 1676 1B68     		ldr	r3, [r3]
 10336 1678 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 10337 167c D807     		lsls	r0, r3, #31
 10338              	.LVL819:
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
 10339              		.loc 1 956 27 view .LVU3244
 10340 167e 96D5     		bpl	.L782
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
 10341              		.loc 1 956 45 view .LVU3245
 10342 1680 0E20     		movs	r0, #14
 10343 1682 FFF7FEFF 		bl	intltr
 10344              	.LVL820:
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
 10345              		.loc 1 956 42 view .LVU3246
 10346 1686 0028     		cmp	r0, #0
 10347 1688 91D0     		beq	.L782
 10348              	.LVL821:
 956:src/keys.c    **** 	    return OP_SPEC | OP_E;
ARM GAS  /tmp/cc90KtGY.s 			page 291


 10349              		.loc 1 956 42 view .LVU3247
 10350              	.LBE1029:
 10351              	.LBE1130:
 10352              	.LBE1216:
 10353              	.LBE1276:
3112:src/keys.c    **** 	NonProgrammable = 0;
 10354              		.loc 1 3112 7 is_stmt 1 view .LVU3248
3112:src/keys.c    **** 	NonProgrammable = 0;
 10355              		.loc 1 3112 11 is_stmt 0 view .LVU3249
 10356 168a 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3112:src/keys.c    **** 	NonProgrammable = 0;
 10357              		.loc 1 3112 10 view .LVU3250
 10358 168e 5A06     		lsls	r2, r3, #25
 10359 1690 40F17282 		bpl	.L881
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10360              		.loc 1 3113 2 is_stmt 1 view .LVU3251
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10361              		.loc 1 3113 18 is_stmt 0 view .LVU3252
 10362 1694 634B     		ldr	r3, .L1159+8
 10363 1696 0022     		movs	r2, #0
 10364              	.LBB1277:
 10365              	.LBB1217:
 10366              	.LBB1131:
 10367              	.LBB1030:
 957:src/keys.c    **** 	  }
 10368              		.loc 1 957 13 view .LVU3253
 10369 1698 4FF0130B 		mov	fp, #19
 10370              	.LBE1030:
 10371              	.LBE1131:
 10372              	.LBE1217:
 10373              	.LBE1277:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10374              		.loc 1 3113 18 view .LVU3254
 10375 169c 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10376              		.loc 1 3114 2 is_stmt 1 view .LVU3255
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10377              		.loc 1 3114 32 is_stmt 0 view .LVU3256
 10378 169e 5846     		mov	r0, fp
 10379 16a0 FFF717B8 		b	.L833
 10380              	.LVL822:
 10381              	.L780:
 10382              	.LBB1278:
 10383              	.LBB1218:
 10384              	.LBB1132:
 10385              	.LBB1031:
 912:src/keys.c    **** 	    State2.hyp = 1;
 10386              		.loc 1 912 4 is_stmt 1 view .LVU3257
 912:src/keys.c    **** 	    State2.hyp = 1;
 10387              		.loc 1 912 8 is_stmt 0 view .LVU3258
 10388 16a4 5E4A     		ldr	r2, .L1159+4
 10389 16a6 1268     		ldr	r2, [r2]
 10390 16a8 92F8E827 		ldrb	r2, [r2, #2024]	@ zero_extendqisi2
 912:src/keys.c    **** 	    State2.hyp = 1;
 10391              		.loc 1 912 7 view .LVU3259
 10392 16ac D107     		lsls	r1, r2, #31
 10393 16ae 40F18682 		bpl	.L1142
ARM GAS  /tmp/cc90KtGY.s 			page 292


 10394              	.L1066:
 931:src/keys.c    **** 			return check_f_key(lc, op_map2[lc]);
 10395              		.loc 1 931 20 view .LVU3260
 10396 16b2 012B     		cmp	r3, #1
 10397 16b4 00F04582 		beq	.L1143
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10398              		.loc 1 990 2 is_stmt 1 view .LVU3261
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10399              		.loc 1 990 5 is_stmt 0 view .LVU3262
 10400 16b8 BAF5704F 		cmp	r10, #61440
 10401 16bc 81D1     		bne	.L788
 10402 16be FEF78ABF 		b	.L1061
 10403              	.LVL823:
 10404              	.L1128:
 990:src/keys.c    **** 		return STATE_UNFINISHED;
 10405              		.loc 1 990 5 view .LVU3263
 10406              	.LBE1031:
 10407              	.LBE1132:
 10408              	.LBB1133:
 10409              	.LBB992:
2537:src/keys.c    **** 	const int direct = State2.runmode;
 10410              		.loc 1 2537 37 view .LVU3264
 10411 16c2 5046     		mov	r0, r10
 10412 16c4 FFF7FEFF 		bl	getprog
 10413              	.LVL824:
2537:src/keys.c    **** 	const int direct = State2.runmode;
 10414              		.loc 1 2537 63 view .LVU3265
 10415 16c8 20F47063 		bic	r3, r0, #3840
 10416 16cc FFF760BB 		b	.L686
 10417              	.LVL825:
 10418              	.L1132:
2537:src/keys.c    **** 	const int direct = State2.runmode;
 10419              		.loc 1 2537 63 view .LVU3266
 10420              	.LBE992:
 10421              	.LBE1133:
 10422              	.LBB1134:
 10423              	.LBB768:
 10424              	.LBB763:
2676:src/keys.c    **** 		if (dv >= max || (! State2.local && (State2.digval >= g_max || dv >= g_max)))
 10425              		.loc 1 2676 3 is_stmt 1 view .LVU3267
2676:src/keys.c    **** 		if (dv >= max || (! State2.local && (State2.digval >= g_max || dv >= g_max)))
 10426              		.loc 1 2676 19 is_stmt 0 view .LVU3268
 10427 16d0 B8F80810 		ldrh	r1, [r8, #8]
2676:src/keys.c    **** 		if (dv >= max || (! State2.local && (State2.digval >= g_max || dv >= g_max)))
 10428              		.loc 1 2676 27 view .LVU3269
 10429 16d4 0A23     		movs	r3, #10
2676:src/keys.c    **** 		if (dv >= max || (! State2.local && (State2.digval >= g_max || dv >= g_max)))
 10430              		.loc 1 2676 32 view .LVU3270
 10431 16d6 03FB01A2 		mla	r2, r3, r1, r10
2676:src/keys.c    **** 		if (dv >= max || (! State2.local && (State2.digval >= g_max || dv >= g_max)))
 10432              		.loc 1 2676 37 view .LVU3271
 10433 16da 6424     		movs	r4, #100
 10434 16dc B2FBF4F3 		udiv	r3, r2, r4
 10435 16e0 04FB1323 		mls	r3, r4, r3, r2
 10436              	.LVL826:
2677:src/keys.c    **** 			dv = n;
 10437              		.loc 1 2677 3 is_stmt 1 view .LVU3272
ARM GAS  /tmp/cc90KtGY.s 			page 293


2677:src/keys.c    **** 			dv = n;
 10438              		.loc 1 2677 6 is_stmt 0 view .LVU3273
 10439 16e4 4B45     		cmp	r3, r9
 10440 16e6 09DA     		bge	.L717
2677:src/keys.c    **** 			dv = n;
 10441              		.loc 1 2677 21 view .LVU3274
 10442 16e8 98F81620 		ldrb	r2, [r8, #22]	@ zero_extendqisi2
2677:src/keys.c    **** 			dv = n;
 10443              		.loc 1 2677 17 view .LVU3275
 10444 16ec D407     		lsls	r4, r2, #31
 10445 16ee 3FF5E0AC 		bmi	.L1053
2677:src/keys.c    **** 			dv = n;
 10446              		.loc 1 2677 36 view .LVU3276
 10447 16f2 8842     		cmp	r0, r1
 10448 16f4 02DD     		ble	.L717
2677:src/keys.c    **** 			dv = n;
 10449              		.loc 1 2677 63 view .LVU3277
 10450 16f6 9842     		cmp	r0, r3
 10451 16f8 3FF7DBAC 		bgt	.L1053
 10452              	.L717:
2678:src/keys.c    **** 		State2.digval = dv;
 10453              		.loc 1 2678 4 is_stmt 1 view .LVU3278
2678:src/keys.c    **** 		State2.digval = dv;
 10454              		.loc 1 2678 7 is_stmt 0 view .LVU3279
 10455 16fc 5346     		mov	r3, r10
 10456              	.LVL827:
2679:src/keys.c    **** 		goto reset_window;
 10457              		.loc 1 2679 3 is_stmt 1 view .LVU3280
 10458 16fe D8E4     		b	.L1053
 10459              	.LVL828:
 10460              	.L675:
2679:src/keys.c    **** 		goto reset_window;
 10461              		.loc 1 2679 3 is_stmt 0 view .LVU3281
 10462              	.LBE763:
 10463              	.LBE768:
 10464              	.LBE1134:
 10465              	.LBB1135:
 10466              	.LBB732:
2385:src/keys.c    **** 			State2.alphashift = 1 - State2.alphashift;
 10467              		.loc 1 2385 3 is_stmt 1 view .LVU3282
2385:src/keys.c    **** 			State2.alphashift = 1 - State2.alphashift;
 10468              		.loc 1 2385 6 is_stmt 0 view .LVU3283
 10469 1700 0129     		cmp	r1, #1
 10470 1702 00F07D81 		beq	.L1063
 10471              	.L681:
2377:src/keys.c    **** 			else
 10472              		.loc 1 2377 5 is_stmt 1 view .LVU3284
 10473              	.LBB723:
 10474              	.LBI723:
2342:src/keys.c    **** 	// Reset the multi flag and clear lowercase flag if not called from alpha mode
 10475              		.loc 1 2342 13 view .LVU3285
 10476              	.LBB724:
2344:src/keys.c    **** 	if (! State2.alphas )
 10477              		.loc 1 2344 2 view .LVU3286
2344:src/keys.c    **** 	if (! State2.alphas )
 10478              		.loc 1 2344 15 is_stmt 0 view .LVU3287
 10479 1706 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
ARM GAS  /tmp/cc90KtGY.s 			page 294


2345:src/keys.c    **** 		State2.alphashift = 0;
 10480              		.loc 1 2345 6 view .LVU3288
 10481 170a 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
2344:src/keys.c    **** 	if (! State2.alphas )
 10482              		.loc 1 2344 15 view .LVU3289
 10483 170e 6FF3C302 		bfc	r2, #3, #1
 10484 1712 88F81520 		strb	r2, [r8, #21]
2345:src/keys.c    **** 		State2.alphashift = 0;
 10485              		.loc 1 2345 2 is_stmt 1 view .LVU3290
2345:src/keys.c    **** 		State2.alphashift = 0;
 10486              		.loc 1 2345 5 is_stmt 0 view .LVU3291
 10487 1716 13F00802 		ands	r2, r3, #8
 10488 171a 7EF45CAF 		bne	.L1061
 10489              	.LVL829:
 10490              	.L1059:
2345:src/keys.c    **** 		State2.alphashift = 0;
 10491              		.loc 1 2345 5 view .LVU3292
 10492              	.LBE724:
 10493              	.LBE723:
2386:src/keys.c    **** 		else
 10494              		.loc 1 2386 22 view .LVU3293
 10495 171e 62F30413 		bfi	r3, r2, #4, #1
 10496 1722 88F81630 		strb	r3, [r8, #22]
 10497 1726 FEF756BF 		b	.L1061
 10498              	.LVL830:
 10499              	.L674:
2375:src/keys.c    **** 			if (State2.numdigit == 0)
 10500              		.loc 1 2375 3 is_stmt 1 view .LVU3294
2375:src/keys.c    **** 			if (State2.numdigit == 0)
 10501              		.loc 1 2375 6 is_stmt 0 view .LVU3295
 10502 172a 0329     		cmp	r1, #3
 10503 172c 3EF400AF 		beq	.L679
2376:src/keys.c    **** 				reset_multi();
 10504              		.loc 1 2376 4 is_stmt 1 view .LVU3296
2376:src/keys.c    **** 				reset_multi();
 10505              		.loc 1 2376 14 is_stmt 0 view .LVU3297
 10506 1730 98F80B30 		ldrb	r3, [r8, #11]	@ zero_extendqisi2
2376:src/keys.c    **** 				reset_multi();
 10507              		.loc 1 2376 7 view .LVU3298
 10508 1734 002B     		cmp	r3, #0
 10509 1736 E6D0     		beq	.L681
2379:src/keys.c    **** 			return STATE_UNFINISHED;
 10510              		.loc 1 2379 5 is_stmt 1 view .LVU3299
2379:src/keys.c    **** 			return STATE_UNFINISHED;
 10511              		.loc 1 2379 20 is_stmt 0 view .LVU3300
 10512 1738 013B     		subs	r3, r3, #1
 10513 173a 88F80B30 		strb	r3, [r8, #11]
2380:src/keys.c    **** 		}
 10514              		.loc 1 2380 11 view .LVU3301
 10515 173e 4FF0330B 		mov	fp, #51
 10516 1742 FEF7B1BC 		b	.L565
 10517              	.LVL831:
 10518              	.L1134:
2380:src/keys.c    **** 		}
 10519              		.loc 1 2380 11 view .LVU3302
 10520              	.LBE732:
 10521              	.LBE1135:
ARM GAS  /tmp/cc90KtGY.s 			page 295


 10522              	.LBB1136:
 10523              	.LBB769:
2687:src/keys.c    **** 		goto reset_window;
 10524              		.loc 1 2687 3 is_stmt 1 view .LVU3303
2687:src/keys.c    **** 		goto reset_window;
 10525              		.loc 1 2687 17 is_stmt 0 view .LVU3304
 10526 1746 A8F808A0 		strh	r10, [r8, #8]	@ movhi
2688:src/keys.c    **** 	}
 10527              		.loc 1 2688 3 is_stmt 1 view .LVU3305
 10528 174a B4E4     		b	.L715
 10529              	.LVL832:
 10530              	.L1106:
2688:src/keys.c    **** 	}
 10531              		.loc 1 2688 3 is_stmt 0 view .LVU3306
 10532              	.LBE769:
 10533              	.LBE1136:
 10534              	.LBB1137:
 10535              	.LBB733:
2365:src/keys.c    **** 				break;
 10536              		.loc 1 2365 3 is_stmt 1 view .LVU3307
2365:src/keys.c    **** 				break;
 10537              		.loc 1 2365 6 is_stmt 0 view .LVU3308
 10538 174c 0029     		cmp	r1, #0
 10539 174e 7EF4E7AE 		bne	.L676
2367:src/keys.c    **** 		if (State2.numdigit == 0)
 10540              		.loc 1 2367 3 is_stmt 1 view .LVU3309
 10541              	.LBB725:
 10542              	.LBI725:
2342:src/keys.c    **** 	// Reset the multi flag and clear lowercase flag if not called from alpha mode
 10543              		.loc 1 2342 13 view .LVU3310
 10544              	.LBB726:
2344:src/keys.c    **** 	if (! State2.alphas )
 10545              		.loc 1 2344 2 view .LVU3311
2345:src/keys.c    **** 		State2.alphashift = 0;
 10546              		.loc 1 2345 6 is_stmt 0 view .LVU3312
 10547 1752 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
2344:src/keys.c    **** 	if (! State2.alphas )
 10548              		.loc 1 2344 15 view .LVU3313
 10549 1756 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
2345:src/keys.c    **** 		State2.alphashift = 0;
 10550              		.loc 1 2345 5 view .LVU3314
 10551 175a 1807     		lsls	r0, r3, #28
2346:src/keys.c    **** }
 10552              		.loc 1 2346 21 view .LVU3315
 10553 175c 5CBF     		itt	pl
 10554 175e 61F30413 		bfipl	r3, r1, #4, #1
 10555 1762 88F81630 		strbpl	r3, [r8, #22]
 10556              	.LBE726:
 10557              	.LBE725:
2368:src/keys.c    **** 			return STATE_UNFINISHED;
 10558              		.loc 1 2368 13 view .LVU3316
 10559 1766 98F80B30 		ldrb	r3, [r8, #11]	@ zero_extendqisi2
 10560              	.LBB728:
 10561              	.LBB727:
2344:src/keys.c    **** 	if (! State2.alphas )
 10562              		.loc 1 2344 15 view .LVU3317
 10563 176a 61F3C302 		bfi	r2, r1, #3, #1
ARM GAS  /tmp/cc90KtGY.s 			page 296


 10564 176e 88F81520 		strb	r2, [r8, #21]
2345:src/keys.c    **** 		State2.alphashift = 0;
 10565              		.loc 1 2345 2 is_stmt 1 view .LVU3318
2346:src/keys.c    **** }
 10566              		.loc 1 2346 3 view .LVU3319
 10567              	.LBE727:
 10568              	.LBE728:
2368:src/keys.c    **** 			return STATE_UNFINISHED;
 10569              		.loc 1 2368 3 view .LVU3320
2368:src/keys.c    **** 			return STATE_UNFINISHED;
 10570              		.loc 1 2368 6 is_stmt 0 view .LVU3321
 10571 1772 002B     		cmp	r3, #0
 10572 1774 3EF42FAF 		beq	.L1061
2370:src/keys.c    **** 			State2.digval2 = 0;
 10573              		.loc 1 2370 8 is_stmt 1 view .LVU3322
2370:src/keys.c    **** 			State2.digval2 = 0;
 10574              		.loc 1 2370 11 is_stmt 0 view .LVU3323
 10575 1778 012B     		cmp	r3, #1
2371:src/keys.c    **** 		goto fin;
 10576              		.loc 1 2371 19 view .LVU3324
 10577 177a 4FF00003 		mov	r3, #0
2370:src/keys.c    **** 			State2.digval2 = 0;
 10578              		.loc 1 2370 11 view .LVU3325
 10579 177e 7EF4F7AE 		bne	.L678
2371:src/keys.c    **** 		goto fin;
 10580              		.loc 1 2371 4 is_stmt 1 view .LVU3326
2371:src/keys.c    **** 		goto fin;
 10581              		.loc 1 2371 19 is_stmt 0 view .LVU3327
 10582 1782 88F80A30 		strb	r3, [r8, #10]
 10583 1786 FEF7F3BE 		b	.L678
 10584              	.LVL833:
 10585              	.L1108:
2401:src/keys.c    **** 		State2.numdigit = 1;
 10586              		.loc 1 2401 3 is_stmt 1 view .LVU3328
2402:src/keys.c    **** 		return STATE_UNFINISHED;
 10587              		.loc 1 2402 19 is_stmt 0 view .LVU3329
 10588 178a 0122     		movs	r2, #1
2401:src/keys.c    **** 		State2.numdigit = 1;
 10589              		.loc 1 2401 17 view .LVU3330
 10590 178c A8F80830 		strh	r3, [r8, #8]	@ movhi
2402:src/keys.c    **** 		return STATE_UNFINISHED;
 10591              		.loc 1 2402 3 is_stmt 1 view .LVU3331
2402:src/keys.c    **** 		return STATE_UNFINISHED;
 10592              		.loc 1 2402 19 is_stmt 0 view .LVU3332
 10593 1790 88F80B20 		strb	r2, [r8, #11]
2403:src/keys.c    **** 	} else if (State2.numdigit == 1) {
 10594              		.loc 1 2403 3 is_stmt 1 view .LVU3333
2403:src/keys.c    **** 	} else if (State2.numdigit == 1) {
 10595              		.loc 1 2403 10 is_stmt 0 view .LVU3334
 10596 1794 4FF0330B 		mov	fp, #51
 10597 1798 FEF786BC 		b	.L565
 10598              	.LVL834:
 10599              	.L790:
2403:src/keys.c    **** 	} else if (State2.numdigit == 1) {
 10600              		.loc 1 2403 10 view .LVU3335
 10601              	.LBE733:
 10602              	.LBE1137:
ARM GAS  /tmp/cc90KtGY.s 			page 297


 10603              	.LBB1138:
 10604              	.LBB1083:
1061:src/keys.c    **** 			op = UState.nointseparator ? (OP_NIL | OP_INTSEP_ON) : (OP_NIL | OP_INTSEP_OFF);
 10605              		.loc 1 1061 3 is_stmt 1 view .LVU3336
1061:src/keys.c    **** 			op = UState.nointseparator ? (OP_NIL | OP_INTSEP_ON) : (OP_NIL | OP_INTSEP_OFF);
 10606              		.loc 1 1061 7 is_stmt 0 view .LVU3337
 10607 179c 204B     		ldr	r3, .L1159+4
 10608 179e 1B68     		ldr	r3, [r3]
 10609 17a0 93F8E827 		ldrb	r2, [r3, #2024]	@ zero_extendqisi2
1061:src/keys.c    **** 			op = UState.nointseparator ? (OP_NIL | OP_INTSEP_ON) : (OP_NIL | OP_INTSEP_OFF);
 10610              		.loc 1 1061 6 view .LVU3338
 10611 17a4 D407     		lsls	r4, r2, #31
 10612 17a6 30D5     		bpl	.L793
1062:src/keys.c    **** 		else
 10613              		.loc 1 1062 4 is_stmt 1 view .LVU3339
1062:src/keys.c    **** 		else
 10614              		.loc 1 1062 57 is_stmt 0 view .LVU3340
 10615 17a8 93F9E737 		ldrsb	r3, [r3, #2023]
 10616 17ac 002B     		cmp	r3, #0
 10617 17ae 40F2531B 		movw	fp, #339
 10618 17b2 A8BF     		it	ge
 10619 17b4 4FF4AA7B 		movge	fp, #340
 10620 17b8 E6E5     		b	.L795
 10621              	.LVL835:
 10622              	.L1120:
1062:src/keys.c    **** 		else
 10623              		.loc 1 1062 57 view .LVU3341
 10624              	.LBE1083:
 10625              	.LBE1138:
 10626              	.LBB1139:
 10627              	.LBB884:
1359:src/keys.c    **** 		if (rawpc == 1)
 10628              		.loc 1 1359 3 is_stmt 1 view .LVU3342
1359:src/keys.c    **** 		if (rawpc == 1)
 10629              		.loc 1 1359 11 is_stmt 0 view .LVU3343
 10630 17ba DFF86490 		ldr	r9, .L1159+4
 10631 17be D9F80030 		ldr	r3, [r9]
 10632              	.LVL836:
1359:src/keys.c    **** 		if (rawpc == 1)
 10633              		.loc 1 1359 9 view .LVU3344
 10634 17c2 B3F8E007 		ldrh	r0, [r3, #2016]
 10635              	.LVL837:
1360:src/keys.c    **** 			rawpc = 0;
 10636              		.loc 1 1360 3 is_stmt 1 view .LVU3345
1361:src/keys.c    **** 		set_pc(do_dec(rawpc, 0));
 10637              		.loc 1 1361 10 is_stmt 0 view .LVU3346
 10638 17c6 0128     		cmp	r0, #1
 10639              	.LVL838:
1362:src/keys.c    **** 		update_program_bounds(1);
 10640              		.loc 1 1362 3 is_stmt 1 view .LVU3347
 10641 17c8 08BF     		it	eq
 10642 17ca 0020     		moveq	r0, #0
 10643              	.LVL839:
1362:src/keys.c    **** 		update_program_bounds(1);
 10644              		.loc 1 1362 3 is_stmt 0 view .LVU3348
 10645 17cc 0021     		movs	r1, #0
 10646 17ce FFF7FEFF 		bl	do_dec
ARM GAS  /tmp/cc90KtGY.s 			page 298


 10647              	.LVL840:
1362:src/keys.c    **** 		update_program_bounds(1);
 10648              		.loc 1 1362 3 view .LVU3349
 10649 17d2 FFF7FEFF 		bl	set_pc
 10650              	.LVL841:
1363:src/keys.c    **** 		rawpc = ProgBegin;
 10651              		.loc 1 1363 3 is_stmt 1 view .LVU3350
 10652 17d6 0120     		movs	r0, #1
 10653 17d8 FFF7FEFF 		bl	update_program_bounds
 10654              	.LVL842:
1364:src/keys.c    **** 		goto fin;
 10655              		.loc 1 1364 3 view .LVU3351
1364:src/keys.c    **** 		goto fin;
 10656              		.loc 1 1364 11 is_stmt 0 view .LVU3352
 10657 17dc D9F80030 		ldr	r3, [r9]
1364:src/keys.c    **** 		goto fin;
 10658              		.loc 1 1364 9 view .LVU3353
 10659 17e0 B3F8EC07 		ldrh	r0, [r3, #2028]
 10660              	.LVL843:
1365:src/keys.c    **** 	}
 10661              		.loc 1 1365 3 is_stmt 1 view .LVU3354
 10662 17e4 FFF72AB9 		b	.L606
 10663              	.LVL844:
 10664              	.L863:
1365:src/keys.c    **** 	}
 10665              		.loc 1 1365 3 is_stmt 0 view .LVU3355
 10666              	.LBE884:
 10667              	.LBE1139:
 10668              	.LBB1140:
 10669              	.LBB658:
 10670              	.LBB651:
 301:src/keys.c    ****     }
 10671              		.loc 1 301 14 view .LVU3356
 10672 17e8 4FF0160B 		mov	fp, #22
 10673 17ec FFF710BA 		b	.L656
 10674              	.LVL845:
 10675              	.L810:
 301:src/keys.c    ****     }
 10676              		.loc 1 301 14 view .LVU3357
 10677              	.LBE651:
 10678              	.LBE658:
 10679              	.LBE1140:
 10680              	.LBE1218:
 10681              	.LBE1278:
3112:src/keys.c    **** 	NonProgrammable = 0;
 10682              		.loc 1 3112 7 is_stmt 1 view .LVU3358
3112:src/keys.c    **** 	NonProgrammable = 0;
 10683              		.loc 1 3112 11 is_stmt 0 view .LVU3359
 10684 17f0 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3112:src/keys.c    **** 	NonProgrammable = 0;
 10685              		.loc 1 3112 10 view .LVU3360
 10686 17f4 5806     		lsls	r0, r3, #25
 10687 17f6 40F1DF81 		bpl	.L884
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10688              		.loc 1 3113 2 is_stmt 1 view .LVU3361
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10689              		.loc 1 3113 18 is_stmt 0 view .LVU3362
ARM GAS  /tmp/cc90KtGY.s 			page 299


 10690 17fa 0A4B     		ldr	r3, .L1159+8
 10691 17fc 0022     		movs	r2, #0
 10692              	.LBB1279:
 10693              	.LBB1219:
 10694              	.LBB1141:
 10695              	.LBB677:
 757:src/keys.c    **** 	    }
 10696              		.loc 1 757 15 view .LVU3363
 10697 17fe 4FF0140B 		mov	fp, #20
 10698              	.LBE677:
 10699              	.LBE1141:
 10700              	.LBE1219:
 10701              	.LBE1279:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10702              		.loc 1 3113 18 view .LVU3364
 10703 1802 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10704              		.loc 1 3114 2 is_stmt 1 view .LVU3365
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10705              		.loc 1 3114 32 is_stmt 0 view .LVU3366
 10706 1804 5846     		mov	r0, fp
 10707 1806 FEF764BF 		b	.L833
 10708              	.LVL846:
 10709              	.L793:
 10710              	.LBB1280:
 10711              	.LBB1220:
 10712              	.LBB1142:
 10713              	.LBB1084:
1067:src/keys.c    **** #endif
 10714              		.loc 1 1067 4 is_stmt 1 view .LVU3367
1067:src/keys.c    **** #endif
 10715              		.loc 1 1067 8 is_stmt 0 view .LVU3368
 10716 180a 93F8E737 		ldrb	r3, [r3, #2023]	@ zero_extendqisi2
1067:src/keys.c    **** #endif
 10717              		.loc 1 1067 7 view .LVU3369
 10718 180e 9806     		lsls	r0, r3, #26
 10719 1810 7FF5A9AD 		bpl	.L792
1067:src/keys.c    **** #endif
 10720              		.loc 1 1067 29 view .LVU3370
 10721 1814 40F24F1B 		movw	fp, #335
 10722 1818 B6E5     		b	.L795
 10723              	.L1160:
 10724 181a 00BF     		.align	2
 10725              	.L1159:
 10726 181c 00000000 		.word	.LANCHOR18
 10727 1820 00000000 		.word	main_ram
 10728 1824 00000000 		.word	NonProgrammable
 10729 1828 00000000 		.word	.LANCHOR19
 10730              	.LVL847:
 10731              	.L1131:
1067:src/keys.c    **** #endif
 10732              		.loc 1 1067 29 view .LVU3371
 10733              	.LBE1084:
 10734              	.LBE1142:
 10735              	.LBB1143:
 10736              	.LBB770:
2670:src/keys.c    **** 			State2.local = ! State2.local && ! State2.digval2;
ARM GAS  /tmp/cc90KtGY.s 			page 300


 10737              		.loc 1 2670 3 is_stmt 1 view .LVU3372
2670:src/keys.c    **** 			State2.local = ! State2.local && ! State2.digval2;
 10738              		.loc 1 2670 7 is_stmt 0 view .LVU3373
 10739 182c FFF7FEFF 		bl	local_regs
 10740              	.LVL848:
2670:src/keys.c    **** 			State2.local = ! State2.local && ! State2.digval2;
 10741              		.loc 1 2670 6 view .LVU3374
 10742 1830 68B1     		cbz	r0, .L713
2671:src/keys.c    **** 		State2.digval = State2.local ? 0 : regX_idx;
 10743              		.loc 1 2671 4 is_stmt 1 view .LVU3375
2671:src/keys.c    **** 		State2.digval = State2.local ? 0 : regX_idx;
 10744              		.loc 1 2671 19 is_stmt 0 view .LVU3376
 10745 1832 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
2671:src/keys.c    **** 		State2.digval = State2.local ? 0 : regX_idx;
 10746              		.loc 1 2671 34 view .LVU3377
 10747 1836 98F80A20 		ldrb	r2, [r8, #10]	@ zero_extendqisi2
2671:src/keys.c    **** 		State2.digval = State2.local ? 0 : regX_idx;
 10748              		.loc 1 2671 19 view .LVU3378
 10749 183a 03F00101 		and	r1, r3, #1
2671:src/keys.c    **** 		State2.digval = State2.local ? 0 : regX_idx;
 10750              		.loc 1 2671 34 view .LVU3379
 10751 183e 0A43     		orrs	r2, r1, r2
 10752 1840 0CBF     		ite	eq
 10753 1842 0122     		moveq	r2, #1
 10754 1844 0022     		movne	r2, #0
2671:src/keys.c    **** 		State2.digval = State2.local ? 0 : regX_idx;
 10755              		.loc 1 2671 17 view .LVU3380
 10756 1846 62F30003 		bfi	r3, r2, #0, #1
 10757 184a 88F81630 		strb	r3, [r8, #22]
 10758              	.L713:
2672:src/keys.c    **** 		goto reset_window;
 10759              		.loc 1 2672 3 is_stmt 1 view .LVU3381
2672:src/keys.c    **** 		goto reset_window;
 10760              		.loc 1 2672 32 is_stmt 0 view .LVU3382
 10761 184e 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
2672:src/keys.c    **** 		goto reset_window;
 10762              		.loc 1 2672 17 view .LVU3383
 10763 1852 13F0010F 		tst	r3, #1
 10764 1856 14BF     		ite	ne
 10765 1858 0023     		movne	r3, #0
 10766 185a 6423     		moveq	r3, #100
 10767 185c A8F80830 		strh	r3, [r8, #8]	@ movhi
2673:src/keys.c    **** 	}
 10768              		.loc 1 2673 3 is_stmt 1 view .LVU3384
 10769 1860 29E4     		b	.L715
 10770              	.LVL849:
 10771              	.L1109:
2673:src/keys.c    **** 	}
 10772              		.loc 1 2673 3 is_stmt 0 view .LVU3385
 10773              	.LBE770:
 10774              	.LBE1143:
 10775              	.LBB1144:
 10776              	.LBB734:
2405:src/keys.c    **** 		State2.numdigit = 2;
 10777              		.loc 1 2405 3 is_stmt 1 view .LVU3386
2406:src/keys.c    **** 		return STATE_UNFINISHED;
 10778              		.loc 1 2406 19 is_stmt 0 view .LVU3387
ARM GAS  /tmp/cc90KtGY.s 			page 301


 10779 1862 0222     		movs	r2, #2
2405:src/keys.c    **** 		State2.numdigit = 2;
 10780              		.loc 1 2405 18 view .LVU3388
 10781 1864 88F80A30 		strb	r3, [r8, #10]
2406:src/keys.c    **** 		return STATE_UNFINISHED;
 10782              		.loc 1 2406 3 is_stmt 1 view .LVU3389
2406:src/keys.c    **** 		return STATE_UNFINISHED;
 10783              		.loc 1 2406 19 is_stmt 0 view .LVU3390
 10784 1868 88F80B20 		strb	r2, [r8, #11]
2407:src/keys.c    **** 	}
 10785              		.loc 1 2407 3 is_stmt 1 view .LVU3391
2407:src/keys.c    **** 	}
 10786              		.loc 1 2407 10 is_stmt 0 view .LVU3392
 10787 186c 4FF0330B 		mov	fp, #51
 10788 1870 FEF71ABC 		b	.L565
 10789              	.LVL850:
 10790              	.L1129:
2407:src/keys.c    **** 	}
 10791              		.loc 1 2407 10 view .LVU3393
 10792              	.LBE734:
 10793              	.LBE1144:
 10794              	.LBB1145:
 10795              	.LBB993:
2544:src/keys.c    **** 		if (! is_label_or_end_at(pc, 0))
 10796              		.loc 1 2544 3 is_stmt 1 view .LVU3394
2544:src/keys.c    **** 		if (! is_label_or_end_at(pc, 0))
 10797              		.loc 1 2544 8 is_stmt 0 view .LVU3395
 10798 1874 4FEA8B34 		lsl	r4, fp, #14
2544:src/keys.c    **** 		if (! is_label_or_end_at(pc, 0))
 10799              		.loc 1 2544 6 view .LVU3396
 10800 1878 44F00104 		orr	r4, r4, #1
 10801              	.LVL851:
2545:src/keys.c    **** 			pc = advance_to_next_label(pc, 1, 0);
 10802              		.loc 1 2545 3 is_stmt 1 view .LVU3397
2545:src/keys.c    **** 			pc = advance_to_next_label(pc, 1, 0);
 10803              		.loc 1 2545 9 is_stmt 0 view .LVU3398
 10804 187c 2046     		mov	r0, r4
 10805              	.LVL852:
2545:src/keys.c    **** 			pc = advance_to_next_label(pc, 1, 0);
 10806              		.loc 1 2545 9 view .LVU3399
 10807 187e FFF7FEFF 		bl	is_label_or_end_at
 10808              	.LVL853:
2545:src/keys.c    **** 			pc = advance_to_next_label(pc, 1, 0);
 10809              		.loc 1 2545 6 view .LVU3400
 10810 1882 0246     		mov	r2, r0
 10811 1884 0028     		cmp	r0, #0
 10812 1886 00F0B981 		beq	.L1144
 10813              	.L689:
2547:src/keys.c    **** 		return STATE_UNFINISHED;
 10814              		.loc 1 2547 3 is_stmt 1 view .LVU3401
2547:src/keys.c    **** 		return STATE_UNFINISHED;
 10815              		.loc 1 2547 17 is_stmt 0 view .LVU3402
 10816 188a A8F80840 		strh	r4, [r8, #8]	@ movhi
2548:src/keys.c    **** 	}
 10817              		.loc 1 2548 3 is_stmt 1 view .LVU3403
2548:src/keys.c    **** 	}
 10818              		.loc 1 2548 10 is_stmt 0 view .LVU3404
ARM GAS  /tmp/cc90KtGY.s 			page 302


 10819 188e 4FF0330B 		mov	fp, #51
 10820              	.LVL854:
2548:src/keys.c    **** 	}
 10821              		.loc 1 2548 10 view .LVU3405
 10822 1892 FEF709BC 		b	.L565
 10823              	.LVL855:
 10824              	.L807:
2548:src/keys.c    **** 	}
 10825              		.loc 1 2548 10 view .LVU3406
 10826              	.LBE993:
 10827              	.LBE1145:
 10828              	.LBE1220:
 10829              	.LBE1280:
3112:src/keys.c    **** 	NonProgrammable = 0;
 10830              		.loc 1 3112 7 is_stmt 1 view .LVU3407
3112:src/keys.c    **** 	NonProgrammable = 0;
 10831              		.loc 1 3112 11 is_stmt 0 view .LVU3408
 10832 1896 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3112:src/keys.c    **** 	NonProgrammable = 0;
 10833              		.loc 1 3112 10 view .LVU3409
 10834 189a 5906     		lsls	r1, r3, #25
 10835 189c 40F17281 		bpl	.L885
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10836              		.loc 1 3113 2 is_stmt 1 view .LVU3410
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10837              		.loc 1 3113 18 is_stmt 0 view .LVU3411
 10838 18a0 D94B     		ldr	r3, .L1161
 10839 18a2 0022     		movs	r2, #0
 10840              	.LBB1281:
 10841              	.LBB1221:
 10842              	.LBB1146:
 10843              	.LBB678:
 733:src/keys.c    **** 	    }
 10844              		.loc 1 733 15 view .LVU3412
 10845 18a4 4FF00F0B 		mov	fp, #15
 10846              	.LBE678:
 10847              	.LBE1146:
 10848              	.LBE1221:
 10849              	.LBE1281:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10850              		.loc 1 3113 18 view .LVU3413
 10851 18a8 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10852              		.loc 1 3114 2 is_stmt 1 view .LVU3414
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10853              		.loc 1 3114 32 is_stmt 0 view .LVU3415
 10854 18aa 5846     		mov	r0, fp
 10855 18ac FEF711BF 		b	.L833
 10856              	.LVL856:
 10857              	.L1138:
 10858              	.LBB1282:
 10859              	.LBB1222:
 10860              	.LBB1147:
 10861              	.LBB1120:
1166:src/keys.c    **** 		State2.hyp = 1;
 10862              		.loc 1 1166 3 is_stmt 1 view .LVU3416
 10863 18b0 FFF7FEFF 		bl	process_cmdline_set_lift
ARM GAS  /tmp/cc90KtGY.s 			page 303


 10864              	.LVL857:
1167:src/keys.c    **** 		State2.dot = op;
 10865              		.loc 1 1167 3 view .LVU3417
1168:src/keys.c    **** 		State2.cmplx = 1;
 10866              		.loc 1 1168 3 view .LVU3418
1169:src/keys.c    **** 		return STATE_UNFINISHED;
 10867              		.loc 1 1169 3 view .LVU3419
1169:src/keys.c    **** 		return STATE_UNFINISHED;
 10868              		.loc 1 1169 16 is_stmt 0 view .LVU3420
 10869 18b4 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
 10870 18b8 0BF00103 		and	r3, fp, #1
 10871 18bc 9B01     		lsls	r3, r3, #6
 10872 18be 43F02203 		orr	r3, r3, #34
 10873 18c2 22F06202 		bic	r2, r2, #98
 10874 18c6 1343     		orrs	r3, r3, r2
 10875 18c8 88F81530 		strb	r3, [r8, #21]
1170:src/keys.c    **** 	}
 10876              		.loc 1 1170 3 is_stmt 1 view .LVU3421
1170:src/keys.c    **** 	}
 10877              		.loc 1 1170 10 is_stmt 0 view .LVU3422
 10878 18cc 4FF0330B 		mov	fp, #51
 10879              	.LVL858:
1170:src/keys.c    **** 	}
 10880              		.loc 1 1170 10 view .LVU3423
 10881 18d0 FEF7EABB 		b	.L565
 10882              	.LVL859:
 10883              	.L1139:
1170:src/keys.c    **** 	}
 10884              		.loc 1 1170 10 view .LVU3424
 10885              	.LBE1120:
 10886              	.LBE1147:
 10887              	.LBB1148:
 10888              	.LBB1032:
 908:src/keys.c    **** 
 10889              		.loc 1 908 3 is_stmt 1 view .LVU3425
 908:src/keys.c    **** 
 10890              		.loc 1 908 6 is_stmt 0 view .LVU3426
 10891 18d4 2BF4704B 		bic	fp, fp, #61440
 10892              	.LVL860:
 910:src/keys.c    **** 	case K00:
 10893              		.loc 1 910 2 is_stmt 1 view .LVU3427
 10894 18d8 282C     		cmp	r4, #40
 10895 18da 3FF66BAE 		bhi	.L770
 10896 18de 01A2     		adr	r2, .L772
 10897 18e0 52F824F0 		ldr	pc, [r2, r4, lsl #2]
 10898              		.p2align 2
 10899              	.L772:
 10900 18e4 A5160000 		.word	.L780+1
 10901 18e8 A1150000 		.word	.L778+1
 10902 18ec B5150000 		.word	.L770+1
 10903 18f0 A1150000 		.word	.L778+1
 10904 18f4 B5150000 		.word	.L770+1
 10905 18f8 B5150000 		.word	.L770+1
 10906 18fc B5150000 		.word	.L770+1
 10907 1900 B5150000 		.word	.L770+1
 10908 1904 B5150000 		.word	.L770+1
 10909 1908 B5150000 		.word	.L770+1
ARM GAS  /tmp/cc90KtGY.s 			page 304


 10910 190c B5150000 		.word	.L770+1
 10911 1910 B5150000 		.word	.L770+1
 10912 1914 CF150000 		.word	.L777+1
 10913 1918 B5150000 		.word	.L770+1
 10914 191c B5150000 		.word	.L770+1
 10915 1920 B5150000 		.word	.L770+1
 10916 1924 B5150000 		.word	.L770+1
 10917 1928 B5150000 		.word	.L770+1
 10918 192c 71160000 		.word	.L776+1
 10919 1930 3D160000 		.word	.L775+1
 10920 1934 B5150000 		.word	.L770+1
 10921 1938 B5150000 		.word	.L770+1
 10922 193c B5150000 		.word	.L770+1
 10923 1940 B5150000 		.word	.L770+1
 10924 1944 B5150000 		.word	.L770+1
 10925 1948 B5150000 		.word	.L770+1
 10926 194c B5150000 		.word	.L770+1
 10927 1950 B5150000 		.word	.L770+1
 10928 1954 B5150000 		.word	.L770+1
 10929 1958 B5150000 		.word	.L770+1
 10930 195c 0D160000 		.word	.L774+1
 10931 1960 EF150000 		.word	.L773+1
 10932 1964 1B160000 		.word	.L771+1
 10933 1968 1B160000 		.word	.L771+1
 10934 196c B5150000 		.word	.L770+1
 10935 1970 B5150000 		.word	.L770+1
 10936 1974 B5150000 		.word	.L770+1
 10937 1978 B5150000 		.word	.L770+1
 10938 197c B5150000 		.word	.L770+1
 10939 1980 1B160000 		.word	.L771+1
 10940 1984 1B160000 		.word	.L771+1
 10941              	.LVL861:
 10942              		.p2align 1
 10943              	.L741:
 910:src/keys.c    **** 	case K00:
 10944              		.loc 1 910 2 is_stmt 0 view .LVU3428
 10945              	.LBE1032:
 10946              	.LBE1148:
 10947              	.LBB1149:
 10948              	.LBB826:
1467:src/keys.c    **** 			return OP_NIL | OP_RS;		// R/S
 10949              		.loc 1 1467 3 is_stmt 1 view .LVU3429
1467:src/keys.c    **** 			return OP_NIL | OP_RS;		// R/S
 10950              		.loc 1 1467 6 is_stmt 0 view .LVU3430
 10951 1988 0128     		cmp	r0, #1
 10952 198a 7FF48DAC 		bne	.L740
 10953              	.LVL862:
1467:src/keys.c    **** 			return OP_NIL | OP_RS;		// R/S
 10954              		.loc 1 1467 6 view .LVU3431
 10955              	.LBE826:
 10956              	.LBE1149:
 10957              	.LBE1222:
 10958              	.LBE1282:
3112:src/keys.c    **** 	NonProgrammable = 0;
 10959              		.loc 1 3112 7 is_stmt 1 view .LVU3432
3112:src/keys.c    **** 	NonProgrammable = 0;
 10960              		.loc 1 3112 10 is_stmt 0 view .LVU3433
ARM GAS  /tmp/cc90KtGY.s 			page 305


 10961 198e 5806     		lsls	r0, r3, #25
 10962              	.LVL863:
3112:src/keys.c    **** 	NonProgrammable = 0;
 10963              		.loc 1 3112 10 view .LVU3434
 10964 1990 40F12881 		bpl	.L879
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10965              		.loc 1 3113 2 is_stmt 1 view .LVU3435
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10966              		.loc 1 3113 18 is_stmt 0 view .LVU3436
 10967 1994 9C4B     		ldr	r3, .L1161
 10968 1996 0022     		movs	r2, #0
 10969              	.LVL864:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 10970              		.loc 1 3113 18 view .LVU3437
 10971 1998 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10972              		.loc 1 3114 2 is_stmt 1 view .LVU3438
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 10973              		.loc 1 3114 32 is_stmt 0 view .LVU3439
 10974 199a 40F23B10 		movw	r0, #315
 10975 199e FEF782BD 		b	.L831
 10976              	.LVL865:
 10977              	.L743:
 10978              	.LBB1283:
 10979              	.LBB1223:
 10980              	.LBB1150:
 10981              	.LBB827:
1458:src/keys.c    **** 			State2.alphashift = 1 - State2.alphashift;
 10982              		.loc 1 1458 3 is_stmt 1 view .LVU3440
1458:src/keys.c    **** 			State2.alphashift = 1 - State2.alphashift;
 10983              		.loc 1 1458 6 is_stmt 0 view .LVU3441
 10984 19a2 0128     		cmp	r0, #1
 10985 19a4 2CD0     		beq	.L1063
1460:src/keys.c    **** 			return OP_NIL | OP_OFF;
 10986              		.loc 1 1460 8 is_stmt 1 view .LVU3442
1460:src/keys.c    **** 			return OP_NIL | OP_OFF;
 10987              		.loc 1 1460 11 is_stmt 0 view .LVU3443
 10988 19a6 0328     		cmp	r0, #3
 10989 19a8 00F0FD80 		beq	.L758
1462:src/keys.c    **** 			init_state();
 10990              		.loc 1 1462 8 is_stmt 1 view .LVU3444
1462:src/keys.c    **** 			init_state();
 10991              		.loc 1 1462 11 is_stmt 0 view .LVU3445
 10992 19ac 0028     		cmp	r0, #0
 10993 19ae 7EF412AE 		bne	.L1061
1463:src/keys.c    **** 		return STATE_UNFINISHED;
 10994              		.loc 1 1463 4 is_stmt 1 view .LVU3446
 10995 19b2 FFF7FEFF 		bl	init_state
 10996              	.LVL866:
1464:src/keys.c    **** 
 10997              		.loc 1 1464 10 is_stmt 0 view .LVU3447
 10998 19b6 4FF0330B 		mov	fp, #51
 10999 19ba FEF775BB 		b	.L565
 11000              	.LVL867:
 11001              	.L1137:
1464:src/keys.c    **** 
 11002              		.loc 1 1464 10 view .LVU3448
ARM GAS  /tmp/cc90KtGY.s 			page 306


 11003              	.LBE827:
 11004              	.LBE1150:
 11005              	.LBB1151:
 11006              	.LBB1085:
1091:src/keys.c    **** #undef _RARG
 11007              		.loc 1 1091 2 is_stmt 1 view .LVU3449
1091:src/keys.c    **** #undef _RARG
 11008              		.loc 1 1091 9 is_stmt 0 view .LVU3450
 11009 19be 934B     		ldr	r3, .L1161+4
 11010 19c0 1B68     		ldr	r3, [r3]
 11011 19c2 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
1091:src/keys.c    **** #undef _RARG
 11012              		.loc 1 1091 57 view .LVU3451
 11013 19c6 D907     		lsls	r1, r3, #31
 11014 19c8 7FF5DEAC 		bpl	.L795
 11015              	.LVL868:
1091:src/keys.c    **** #undef _RARG
 11016              		.loc 1 1091 21 view .LVU3452
 11017 19cc 1AF4804F 		tst	r10, #16384
 11018 19d0 7EF401AE 		bne	.L1061
 11019 19d4 D8E4     		b	.L795
 11020              	.LVL869:
 11021              	.L662:
1091:src/keys.c    **** #undef _RARG
 11022              		.loc 1 1091 21 view .LVU3453
 11023 19d6 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
 11024              	.LBE1085:
 11025              	.LBE1151:
 11026              	.LBB1152:
 11027              	.LBB659:
 11028              	.LBB652:
 322:src/keys.c    **** #ifndef WINGUI
 11029              		.loc 1 322 8 view .LVU3454
 11030 19da 8D4B     		ldr	r3, .L1161+8
 328:src/keys.c    ****   }
 11031              		.loc 1 328 9 view .LVU3455
 11032 19dc 0C21     		movs	r1, #12
 324:src/keys.c    **** #else
 11033              		.loc 1 324 73 view .LVU3456
 11034 19de 4FF0020C 		mov	ip, #2
 11035 19e2 FEF75BBC 		b	.L661
 11036              	.LVL870:
 11037              	.L808:
 324:src/keys.c    **** #else
 11038              		.loc 1 324 73 view .LVU3457
 11039              	.LBE652:
 11040              	.LBE659:
 11041              	.LBE1152:
 11042              	.LBE1223:
 11043              	.LBE1283:
3112:src/keys.c    **** 	NonProgrammable = 0;
 11044              		.loc 1 3112 7 is_stmt 1 view .LVU3458
3112:src/keys.c    **** 	NonProgrammable = 0;
 11045              		.loc 1 3112 11 is_stmt 0 view .LVU3459
 11046 19e6 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
3112:src/keys.c    **** 	NonProgrammable = 0;
 11047              		.loc 1 3112 10 view .LVU3460
ARM GAS  /tmp/cc90KtGY.s 			page 307


 11048 19ea 5B06     		lsls	r3, r3, #25
 11049 19ec 40F1B180 		bpl	.L882
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11050              		.loc 1 3113 2 is_stmt 1 view .LVU3461
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11051              		.loc 1 3113 18 is_stmt 0 view .LVU3462
 11052 19f0 854B     		ldr	r3, .L1161
 11053 19f2 0022     		movs	r2, #0
 11054              	.LBB1284:
 11055              	.LBB1224:
 11056              	.LBB1153:
 11057              	.LBB679:
 741:src/keys.c    **** 	    }
 11058              		.loc 1 741 15 view .LVU3463
 11059 19f4 4FF0100B 		mov	fp, #16
 11060              	.LBE679:
 11061              	.LBE1153:
 11062              	.LBE1224:
 11063              	.LBE1284:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11064              		.loc 1 3113 18 view .LVU3464
 11065 19f8 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11066              		.loc 1 3114 2 is_stmt 1 view .LVU3465
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11067              		.loc 1 3114 32 is_stmt 0 view .LVU3466
 11068 19fa 5846     		mov	r0, fp
 11069 19fc FEF769BE 		b	.L833
 11070              	.LVL871:
 11071              	.L1063:
 11072              	.LBB1285:
 11073              	.LBB1225:
 11074              	.LBB1154:
 11075              	.LBB735:
2386:src/keys.c    **** 		else
 11076              		.loc 1 2386 4 is_stmt 1 view .LVU3467
2386:src/keys.c    **** 		else
 11077              		.loc 1 2386 34 is_stmt 0 view .LVU3468
 11078 1a00 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 11079 1a04 C3F30012 		ubfx	r2, r3, #4, #1
2386:src/keys.c    **** 		else
 11080              		.loc 1 2386 26 view .LVU3469
 11081 1a08 C2F10102 		rsb	r2, r2, #1
 11082 1a0c 87E6     		b	.L1059
 11083              	.LVL872:
 11084              	.L747:
2386:src/keys.c    **** 		else
 11085              		.loc 1 2386 26 view .LVU3470
 11086              	.LBE735:
 11087              	.LBE1154:
 11088              	.LBB1155:
 11089              	.LBB828:
1414:src/keys.c    **** 			break;
 11090              		.loc 1 1414 3 is_stmt 1 view .LVU3471
1414:src/keys.c    **** 			break;
 11091              		.loc 1 1414 24 is_stmt 0 view .LVU3472
 11092 1a0e 811E     		subs	r1, r0, #2
ARM GAS  /tmp/cc90KtGY.s 			page 308


1414:src/keys.c    **** 			break;
 11093              		.loc 1 1414 6 view .LVU3473
 11094 1a10 C9B2     		uxtb	r1, r1
 11095 1a12 0129     		cmp	r1, #1
 11096 1a14 7FF648AC 		bls	.L740
1416:src/keys.c    **** 			State2.multi = 1;
 11097              		.loc 1 1416 3 is_stmt 1 view .LVU3474
1416:src/keys.c    **** 			State2.multi = 1;
 11098              		.loc 1 1416 6 is_stmt 0 view .LVU3475
 11099 1a18 0128     		cmp	r0, #1
 11100 1a1a 02D1     		bne	.L751
1416:src/keys.c    **** 			State2.multi = 1;
 11101              		.loc 1 1416 24 view .LVU3476
 11102 1a1c 13F04002 		ands	r2, r3, #64
 11103              	.LVL873:
1416:src/keys.c    **** 			State2.multi = 1;
 11104              		.loc 1 1416 24 view .LVU3477
 11105 1a20 4DD0     		beq	.L1145
 11106              	.L751:
1422:src/keys.c    **** 		State2.alphashift = 0;
 11107              		.loc 1 1422 3 is_stmt 1 view .LVU3478
1423:src/keys.c    **** 		return op;
 11108              		.loc 1 1423 3 view .LVU3479
1422:src/keys.c    **** 		State2.alphashift = 0;
 11109              		.loc 1 1422 17 is_stmt 0 view .LVU3480
 11110 1a22 98F81630 		ldrb	r3, [r8, #22]	@ zero_extendqisi2
 11111 1a26 23F01803 		bic	r3, r3, #24
 11112 1a2a 88F81630 		strb	r3, [r8, #22]
1424:src/keys.c    **** 
 11113              		.loc 1 1424 3 is_stmt 1 view .LVU3481
1424:src/keys.c    **** 
 11114              		.loc 1 1424 10 is_stmt 0 view .LVU3482
 11115 1a2e 4FF0330B 		mov	fp, #51
 11116 1a32 FEF739BB 		b	.L565
 11117              	.LVL874:
 11118              	.L748:
1404:src/keys.c    **** 			init_arg(RARG_ARCL);
 11119              		.loc 1 1404 3 is_stmt 1 view .LVU3483
1404:src/keys.c    **** 			init_arg(RARG_ARCL);
 11120              		.loc 1 1404 6 is_stmt 0 view .LVU3484
 11121 1a36 0128     		cmp	r0, #1
 11122 1a38 00F0A780 		beq	.L1146
1407:src/keys.c    **** 			init_arg(RARG_VIEW_REG);
 11123              		.loc 1 1407 10 is_stmt 1 view .LVU3485
1407:src/keys.c    **** 			init_arg(RARG_VIEW_REG);
 11124              		.loc 1 1407 13 is_stmt 0 view .LVU3486
 11125 1a3c 0328     		cmp	r0, #3
 11126 1a3e 7FF433AC 		bne	.L740
1408:src/keys.c    **** 			return STATE_UNFINISHED;
 11127              		.loc 1 1408 4 is_stmt 1 view .LVU3487
 11128              	.LVL875:
 11129              	.LBB810:
 11130              	.LBI810:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 11131              		.loc 1 501 13 view .LVU3488
 11132              	.LBB811:
 502:src/keys.c    **** 		return;
ARM GAS  /tmp/cc90KtGY.s 			page 309


 11133              		.loc 1 502 2 view .LVU3489
 502:src/keys.c    **** 		return;
 11134              		.loc 1 502 6 is_stmt 0 view .LVU3490
 11135 1a42 FFF7FEFF 		bl	is_bad_cmdline
 11136              	.LVL876:
 502:src/keys.c    **** 		return;
 11137              		.loc 1 502 5 view .LVU3491
 11138 1a46 0346     		mov	r3, r0
 11139 1a48 0028     		cmp	r0, #0
 11140 1a4a 7EF4C4AD 		bne	.L1061
 11141 1a4e 7320     		movs	r0, #115
 11142              	.LBE811:
 11143              	.LBE810:
 11144              	.LBE828:
 11145              	.LBE1155:
 11146              	.LBE1225:
 11147              	.LBE1285:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 11148              		.loc 1 2919 7 view .LVU3492
 11149 1a50 1F46     		mov	r7, r3
 11150              	.LBB1286:
 11151              	.LBB1226:
 11152              	.LBB1156:
 11153              	.LBB829:
1409:src/keys.c    **** 		}
 11154              		.loc 1 1409 11 view .LVU3493
 11155 1a52 4FF0330B 		mov	fp, #51
 11156              	.LBB813:
 11157              	.LBB812:
 11158 1a56 FFF7FEFF 		bl	init_arg.part.0
 11159              	.LVL877:
 11160 1a5a FEF725BB 		b	.L565
 11161              	.LVL878:
 11162              	.L749:
1409:src/keys.c    **** 		}
 11163              		.loc 1 1409 11 view .LVU3494
 11164              	.LBE812:
 11165              	.LBE813:
1397:src/keys.c    **** 			init_arg(RARG_ASTO);
 11166              		.loc 1 1397 3 is_stmt 1 view .LVU3495
1397:src/keys.c    **** 			init_arg(RARG_ASTO);
 11167              		.loc 1 1397 6 is_stmt 0 view .LVU3496
 11168 1a5e 0128     		cmp	r0, #1
 11169 1a60 7FF422AC 		bne	.L740
1398:src/keys.c    **** 			return STATE_UNFINISHED;
 11170              		.loc 1 1398 4 is_stmt 1 view .LVU3497
 11171              	.LVL879:
 11172              	.LBB814:
 11173              	.LBI814:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 11174              		.loc 1 501 13 view .LVU3498
 11175              	.LBB815:
 502:src/keys.c    **** 		return;
 11176              		.loc 1 502 2 view .LVU3499
 502:src/keys.c    **** 		return;
 11177              		.loc 1 502 6 is_stmt 0 view .LVU3500
 11178 1a64 FFF7FEFF 		bl	is_bad_cmdline
ARM GAS  /tmp/cc90KtGY.s 			page 310


 11179              	.LVL880:
 502:src/keys.c    **** 		return;
 11180              		.loc 1 502 5 view .LVU3501
 11181 1a68 0346     		mov	r3, r0
 11182 1a6a 0028     		cmp	r0, #0
 11183 1a6c 7EF4B3AD 		bne	.L1061
 11184 1a70 2620     		movs	r0, #38
 11185              	.LBE815:
 11186              	.LBE814:
 11187              	.LBE829:
 11188              	.LBE1156:
 11189              	.LBE1226:
 11190              	.LBE1286:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 11191              		.loc 1 2919 7 view .LVU3502
 11192 1a72 1F46     		mov	r7, r3
 11193              	.LBB1287:
 11194              	.LBB1227:
 11195              	.LBB1157:
 11196              	.LBB830:
1399:src/keys.c    **** 		}
 11197              		.loc 1 1399 11 view .LVU3503
 11198 1a74 4FF0330B 		mov	fp, #51
 11199              	.LBB817:
 11200              	.LBB816:
 11201 1a78 FFF7FEFF 		bl	init_arg.part.0
 11202              	.LVL881:
 11203 1a7c FEF714BB 		b	.L565
 11204              	.LVL882:
 11205              	.L745:
1399:src/keys.c    **** 		}
 11206              		.loc 1 1399 11 view .LVU3504
 11207              	.LBE816:
 11208              	.LBE817:
1434:src/keys.c    **** 			if ( State2.runmode ) {
 11209              		.loc 1 1434 3 is_stmt 1 view .LVU3505
1434:src/keys.c    **** 			if ( State2.runmode ) {
 11210              		.loc 1 1434 6 is_stmt 0 view .LVU3506
 11211 1a80 0028     		cmp	r0, #0
 11212 1a82 7FF411AC 		bne	.L740
1435:src/keys.c    **** 				// Alpha scroll left
 11213              		.loc 1 1435 4 is_stmt 1 view .LVU3507
1435:src/keys.c    **** 				// Alpha scroll left
 11214              		.loc 1 1435 7 is_stmt 0 view .LVU3508
 11215 1a86 5C06     		lsls	r4, r3, #25
 11216 1a88 7EF555AE 		bpl	.L755
1437:src/keys.c    **** 				State2.alpha_pos = ( n < ( alen() + 5 ) / 6 ) ? n : alpha_pos;
 11217              		.loc 1 1437 5 is_stmt 1 view .LVU3509
 11218              	.LVL883:
1438:src/keys.c    **** 				return STATE_UNFINISHED;
 11219              		.loc 1 1438 5 view .LVU3510
1438:src/keys.c    **** 				return STATE_UNFINISHED;
 11220              		.loc 1 1438 32 is_stmt 0 view .LVU3511
 11221 1a8c FFF7FEFF 		bl	alen
 11222              	.LVL884:
1438:src/keys.c    **** 				return STATE_UNFINISHED;
 11223              		.loc 1 1438 39 view .LVU3512
ARM GAS  /tmp/cc90KtGY.s 			page 311


 11224 1a90 0530     		adds	r0, r0, #5
1438:src/keys.c    **** 				return STATE_UNFINISHED;
 11225              		.loc 1 1438 22 view .LVU3513
 11226 1a92 0B28     		cmp	r0, #11
 11227 1a94 94BF     		ite	ls
 11228 1a96 0023     		movls	r3, #0
 11229 1a98 0123     		movhi	r3, #1
 11230 1a9a 88F80D30 		strb	r3, [r8, #13]
1439:src/keys.c    **** 			}
 11231              		.loc 1 1439 5 is_stmt 1 view .LVU3514
1439:src/keys.c    **** 			}
 11232              		.loc 1 1439 12 is_stmt 0 view .LVU3515
 11233 1a9e 4FF0330B 		mov	fp, #51
 11234 1aa2 FEF701BB 		b	.L565
 11235              	.LVL885:
 11236              	.L753:
1429:src/keys.c    **** 			return OP_NIL | OP_CLRALPHA;
 11237              		.loc 1 1429 3 is_stmt 1 view .LVU3516
1429:src/keys.c    **** 			return OP_NIL | OP_CLRALPHA;
 11238              		.loc 1 1429 6 is_stmt 0 view .LVU3517
 11239 1aa6 0328     		cmp	r0, #3
 11240 1aa8 7FF4FEAB 		bne	.L740
 11241              	.LVL886:
1429:src/keys.c    **** 			return OP_NIL | OP_CLRALPHA;
 11242              		.loc 1 1429 6 view .LVU3518
 11243              	.LBE830:
 11244              	.LBE1157:
 11245              	.LBE1227:
 11246              	.LBE1287:
3112:src/keys.c    **** 	NonProgrammable = 0;
 11247              		.loc 1 3112 7 is_stmt 1 view .LVU3519
3112:src/keys.c    **** 	NonProgrammable = 0;
 11248              		.loc 1 3112 10 is_stmt 0 view .LVU3520
 11249 1aac 5A06     		lsls	r2, r3, #25
 11250              	.LVL887:
3112:src/keys.c    **** 	NonProgrammable = 0;
 11251              		.loc 1 3112 10 view .LVU3521
 11252 1aae 15D5     		bpl	.L886
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11253              		.loc 1 3113 2 is_stmt 1 view .LVU3522
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11254              		.loc 1 3113 18 is_stmt 0 view .LVU3523
 11255 1ab0 554B     		ldr	r3, .L1161
 11256 1ab2 0022     		movs	r2, #0
 11257 1ab4 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11258              		.loc 1 3114 2 is_stmt 1 view .LVU3524
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11259              		.loc 1 3114 32 is_stmt 0 view .LVU3525
 11260 1ab6 4FF4BA70 		mov	r0, #372
 11261              	.LVL888:
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11262              		.loc 1 3114 32 view .LVU3526
 11263 1aba FEF7F4BC 		b	.L831
 11264              	.LVL889:
 11265              	.L1145:
 11266              	.LBB1288:
ARM GAS  /tmp/cc90KtGY.s 			page 312


 11267              	.LBB1228:
 11268              	.LBB1158:
 11269              	.LBB831:
1417:src/keys.c    **** 			State2.numdigit = 0;
 11270              		.loc 1 1417 4 is_stmt 1 view .LVU3527
1417:src/keys.c    **** 			State2.numdigit = 0;
 11271              		.loc 1 1417 17 is_stmt 0 view .LVU3528
 11272 1abe 98F81530 		ldrb	r3, [r8, #21]	@ zero_extendqisi2
1418:src/keys.c    **** 			CmdBase = DBL_ALPHA;
 11273              		.loc 1 1418 20 view .LVU3529
 11274 1ac2 88F80B20 		strb	r2, [r8, #11]
1417:src/keys.c    **** 			State2.numdigit = 0;
 11275              		.loc 1 1417 17 view .LVU3530
 11276 1ac6 43F00803 		orr	r3, r3, #8
1419:src/keys.c    **** 			return STATE_UNFINISHED;
 11277              		.loc 1 1419 12 view .LVU3531
 11278 1aca 0A22     		movs	r2, #10
1417:src/keys.c    **** 			State2.numdigit = 0;
 11279              		.loc 1 1417 17 view .LVU3532
 11280 1acc 88F81530 		strb	r3, [r8, #21]
1418:src/keys.c    **** 			CmdBase = DBL_ALPHA;
 11281              		.loc 1 1418 4 is_stmt 1 view .LVU3533
1419:src/keys.c    **** 			return STATE_UNFINISHED;
 11282              		.loc 1 1419 4 view .LVU3534
1419:src/keys.c    **** 			return STATE_UNFINISHED;
 11283              		.loc 1 1419 12 is_stmt 0 view .LVU3535
 11284 1ad0 88F81F20 		strb	r2, [r8, #31]
1420:src/keys.c    **** 		}
 11285              		.loc 1 1420 4 is_stmt 1 view .LVU3536
1420:src/keys.c    **** 		}
 11286              		.loc 1 1420 11 is_stmt 0 view .LVU3537
 11287 1ad4 4FF0330B 		mov	fp, #51
 11288 1ad8 FEF7E6BA 		b	.L565
 11289              	.LVL890:
 11290              	.L886:
1430:src/keys.c    **** 		break;
 11291              		.loc 1 1430 11 view .LVU3538
 11292 1adc 4FF4BA7B 		mov	fp, #372
 11293              	.LVL891:
 11294              	.L830:
1430:src/keys.c    **** 		break;
 11295              		.loc 1 1430 11 view .LVU3539
 11296              	.LBE831:
 11297              	.LBE1158:
 11298              	.LBE1228:
 11299              	.LBE1288:
3112:src/keys.c    **** 	NonProgrammable = 0;
 11300              		.loc 1 3112 26 view .LVU3540
 11301 1ae0 494B     		ldr	r3, .L1161
 11302 1ae2 1A68     		ldr	r2, [r3]
 11303 1ae4 002A     		cmp	r2, #0
 11304 1ae6 37D0     		beq	.L1055
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11305              		.loc 1 3113 2 is_stmt 1 view .LVU3541
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11306              		.loc 1 3113 18 is_stmt 0 view .LVU3542
 11307 1ae8 0022     		movs	r2, #0
ARM GAS  /tmp/cc90KtGY.s 			page 313


3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11308              		.loc 1 3114 32 view .LVU3543
 11309 1aea 5846     		mov	r0, fp
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11310              		.loc 1 3113 18 view .LVU3544
 11311 1aec 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11312              		.loc 1 3114 2 is_stmt 1 view .LVU3545
 11313 1aee FEF7DABC 		b	.L831
 11314              	.LVL892:
 11315              	.L883:
 11316              	.LBB1289:
 11317              	.LBB1229:
 11318              	.LBB1159:
 11319              	.LBB680:
 749:src/keys.c    **** 	    }
 11320              		.loc 1 749 15 is_stmt 0 view .LVU3546
 11321 1af2 4FF0110B 		mov	fp, #17
 11322              	.LVL893:
 11323              	.L832:
 749:src/keys.c    **** 	    }
 11324              		.loc 1 749 15 view .LVU3547
 11325              	.LBE680:
 11326              	.LBE1159:
 11327              	.LBE1229:
 11328              	.LBE1289:
3112:src/keys.c    **** 	NonProgrammable = 0;
 11329              		.loc 1 3112 26 view .LVU3548
 11330 1af6 444B     		ldr	r3, .L1161
 11331 1af8 1A68     		ldr	r2, [r3]
 11332 1afa 6AB3     		cbz	r2, .L1055
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11333              		.loc 1 3113 2 is_stmt 1 view .LVU3549
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11334              		.loc 1 3113 18 is_stmt 0 view .LVU3550
 11335 1afc 0022     		movs	r2, #0
 11336 1afe 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11337              		.loc 1 3114 2 is_stmt 1 view .LVU3551
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11338              		.loc 1 3114 32 is_stmt 0 view .LVU3552
 11339 1b00 5846     		mov	r0, fp
 11340 1b02 FEF7E6BD 		b	.L833
 11341              	.LVL894:
 11342              	.L1141:
 11343              	.LBB1290:
 11344              	.LBB1230:
 11345              	.LBB1160:
 11346              	.LBB1033:
 980:src/keys.c    **** 				init_arg((enum rarg) op);
 11347              		.loc 1 980 4 is_stmt 1 view .LVU3553
 980:src/keys.c    **** 				init_arg((enum rarg) op);
 11348              		.loc 1 980 7 is_stmt 0 view .LVU3554
 11349 1b06 BAF5704F 		cmp	r10, #61440
 11350 1b0a 06D1     		bne	.L787
 980:src/keys.c    **** 				init_arg((enum rarg) op);
 11351              		.loc 1 980 18 view .LVU3555
ARM GAS  /tmp/cc90KtGY.s 			page 314


 11352 1b0c 3F4B     		ldr	r3, .L1161+4
 11353 1b0e 1B68     		ldr	r3, [r3]
 11354 1b10 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 980:src/keys.c    **** 				init_arg((enum rarg) op);
 11355              		.loc 1 980 8 view .LVU3556
 11356 1b14 DA07     		lsls	r2, r3, #31
 11357 1b16 3EF55EAD 		bmi	.L1061
 11358              	.LVL895:
 11359              	.L787:
 981:src/keys.c    **** 			}
 11360              		.loc 1 981 5 is_stmt 1 view .LVU3557
 11361              	.LBB1023:
 11362              	.LBI1023:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 11363              		.loc 1 501 13 view .LVU3558
 11364              	.LBB1024:
 502:src/keys.c    **** 		return;
 11365              		.loc 1 502 2 view .LVU3559
 502:src/keys.c    **** 		return;
 11366              		.loc 1 502 6 is_stmt 0 view .LVU3560
 11367 1b1a FFF7FEFF 		bl	is_bad_cmdline
 11368              	.LVL896:
 502:src/keys.c    **** 		return;
 11369              		.loc 1 502 5 view .LVU3561
 11370 1b1e 0446     		mov	r4, r0
 11371 1b20 0028     		cmp	r0, #0
 11372 1b22 7EF458AD 		bne	.L1061
 11373 1b26 5FFA8BF0 		uxtb	r0, fp
 11374 1b2a FFF7FEFF 		bl	init_arg.part.0
 11375              	.LVL897:
 11376              	.LBE1024:
 11377              	.LBE1023:
 11378              	.LBE1033:
 11379              	.LBE1160:
 11380              	.LBE1230:
 11381              	.LBE1290:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 11382              		.loc 1 2919 7 view .LVU3562
 11383 1b2e 2746     		mov	r7, r4
 11384              	.LBB1291:
 11385              	.LBB1231:
 11386              	.LBB1161:
 11387              	.LBB1034:
 983:src/keys.c    **** 		}
 11388              		.loc 1 983 11 view .LVU3563
 11389 1b30 4FF0330B 		mov	fp, #51
 11390              	.LVL898:
 983:src/keys.c    **** 		}
 11391              		.loc 1 983 11 view .LVU3564
 11392 1b34 FEF7B8BA 		b	.L565
 11393              	.LVL899:
 11394              	.L1107:
 983:src/keys.c    **** 		}
 11395              		.loc 1 983 11 view .LVU3565
 11396              	.LBE1034:
 11397              	.LBE1161:
 11398              	.LBB1162:
ARM GAS  /tmp/cc90KtGY.s 			page 315


 11399              	.LBB736:
 11400              	.LBB729:
 11401              	.LBB720:
 437:src/keys.c    **** 			shift = SHIFT_LC_G;
 11402              		.loc 1 437 8 is_stmt 1 view .LVU3566
 438:src/keys.c    **** 	}
 11403              		.loc 1 438 10 is_stmt 0 view .LVU3567
 11404 1b38 0229     		cmp	r1, #2
 11405 1b3a 08BF     		it	eq
 11406 1b3c 0521     		moveq	r1, #5
 11407              	.LVL900:
 438:src/keys.c    **** 	}
 11408              		.loc 1 438 10 view .LVU3568
 11409 1b3e FEF7F7BC 		b	.L679
 11410              	.LVL901:
 11411              	.L1143:
 438:src/keys.c    **** 	}
 11412              		.loc 1 438 10 view .LVU3569
 11413              	.LBE720:
 11414              	.LBE729:
 11415              	.LBE736:
 11416              	.LBE1162:
 11417              	.LBB1163:
 11418              	.LBB1035:
 932:src/keys.c    **** 		}
 11419              		.loc 1 932 4 is_stmt 1 view .LVU3570
 932:src/keys.c    **** 		}
 11420              		.loc 1 932 34 is_stmt 0 view .LVU3571
 11421 1b42 344B     		ldr	r3, .L1161+12
 11422              	.LVL902:
 932:src/keys.c    **** 		}
 11423              		.loc 1 932 11 view .LVU3572
 11424 1b44 33F81010 		ldrh	r1, [r3, r0, lsl #1]
 11425 1b48 FFF7FEFF 		bl	check_f_key
 11426              	.LVL903:
 932:src/keys.c    **** 		}
 11427              		.loc 1 932 11 view .LVU3573
 11428 1b4c 8346     		mov	fp, r0
 11429              	.LVL904:
 932:src/keys.c    **** 		}
 11430              		.loc 1 932 11 view .LVU3574
 11431 1b4e FEF71EBD 		b	.L594
 11432              	.LVL905:
 11433              	.L882:
 932:src/keys.c    **** 		}
 11434              		.loc 1 932 11 view .LVU3575
 11435              	.LBE1035:
 11436              	.LBE1163:
 11437              	.LBB1164:
 11438              	.LBB681:
 741:src/keys.c    **** 	    }
 11439              		.loc 1 741 15 view .LVU3576
 11440 1b52 4FF0100B 		mov	fp, #16
 11441 1b56 CEE7     		b	.L832
 11442              	.LVL906:
 11443              	.L1055:
 741:src/keys.c    **** 	    }
ARM GAS  /tmp/cc90KtGY.s 			page 316


 11444              		.loc 1 741 15 view .LVU3577
 11445 1b58 5846     		mov	r0, fp
 11446 1b5a FEF74FBE 		b	.L836
 11447              	.LVL907:
 11448              	.L1140:
 741:src/keys.c    **** 	    }
 11449              		.loc 1 741 15 view .LVU3578
 11450              	.LBE681:
 11451              	.LBE1164:
 11452              	.LBB1165:
 11453              	.LBB1036:
 971:src/keys.c    **** 			return STATE_UNFINISHED;
 11454              		.loc 1 971 4 is_stmt 1 view .LVU3579
 971:src/keys.c    **** 			return STATE_UNFINISHED;
 11455              		.loc 1 971 26 is_stmt 0 view .LVU3580
 11456 1b5e 591E     		subs	r1, r3, #1
 971:src/keys.c    **** 			return STATE_UNFINISHED;
 11457              		.loc 1 971 17 view .LVU3581
 11458 1b60 98F81720 		ldrb	r2, [r8, #23]	@ zero_extendqisi2
 971:src/keys.c    **** 			return STATE_UNFINISHED;
 11459              		.loc 1 971 26 view .LVU3582
 11460 1b64 4B42     		rsbs	r3, r1, #0
 11461 1b66 4B41     		adcs	r3, r3, r1
 971:src/keys.c    **** 			return STATE_UNFINISHED;
 11462              		.loc 1 971 17 view .LVU3583
 11463 1b68 63F3C712 		bfi	r2, r3, #7, #1
 11464 1b6c 88F81720 		strb	r2, [r8, #23]
 972:src/keys.c    **** 		}
 11465              		.loc 1 972 4 is_stmt 1 view .LVU3584
 972:src/keys.c    **** 		}
 11466              		.loc 1 972 11 is_stmt 0 view .LVU3585
 11467 1b70 4FF0330B 		mov	fp, #51
 11468              	.LVL908:
 972:src/keys.c    **** 		}
 11469              		.loc 1 972 11 view .LVU3586
 11470 1b74 FEF798BA 		b	.L565
 11471              	.LVL909:
 11472              	.L881:
 957:src/keys.c    **** 	  }
 11473              		.loc 1 957 13 view .LVU3587
 11474 1b78 4FF0130B 		mov	fp, #19
 11475 1b7c BBE7     		b	.L832
 11476              	.LVL910:
 11477              	.L880:
 952:src/keys.c    **** 	  }
 11478              		.loc 1 952 13 view .LVU3588
 11479 1b7e 4FF0120B 		mov	fp, #18
 11480 1b82 B8E7     		b	.L832
 11481              	.LVL911:
 11482              	.L885:
 952:src/keys.c    **** 	  }
 11483              		.loc 1 952 13 view .LVU3589
 11484              	.LBE1036:
 11485              	.LBE1165:
 11486              	.LBB1166:
 11487              	.LBB682:
 733:src/keys.c    **** 	    }
ARM GAS  /tmp/cc90KtGY.s 			page 317


 11488              		.loc 1 733 15 view .LVU3590
 11489 1b84 4FF00F0B 		mov	fp, #15
 11490 1b88 B5E7     		b	.L832
 11491              	.LVL912:
 11492              	.L1146:
 733:src/keys.c    **** 	    }
 11493              		.loc 1 733 15 view .LVU3591
 11494              	.LBE682:
 11495              	.LBE1166:
 11496              	.LBB1167:
 11497              	.LBB832:
1405:src/keys.c    **** 			return STATE_UNFINISHED;
 11498              		.loc 1 1405 4 is_stmt 1 view .LVU3592
 11499              	.LBB818:
 11500              	.LBI818:
 501:src/keys.c    **** 	if (is_bad_cmdline())
 11501              		.loc 1 501 13 view .LVU3593
 11502              	.LBB819:
 502:src/keys.c    **** 		return;
 11503              		.loc 1 502 2 view .LVU3594
 502:src/keys.c    **** 		return;
 11504              		.loc 1 502 6 is_stmt 0 view .LVU3595
 11505 1b8a FFF7FEFF 		bl	is_bad_cmdline
 11506              	.LVL913:
 502:src/keys.c    **** 		return;
 11507              		.loc 1 502 5 view .LVU3596
 11508 1b8e 0346     		mov	r3, r0
 11509 1b90 0028     		cmp	r0, #0
 11510 1b92 7EF420AD 		bne	.L1061
 11511 1b96 2720     		movs	r0, #39
 11512              	.LBE819:
 11513              	.LBE818:
 11514              	.LBE832:
 11515              	.LBE1167:
 11516              	.LBE1231:
 11517              	.LBE1291:
2919:src/keys.c    ****   if (was_paused && Pause == 0) {
 11518              		.loc 1 2919 7 view .LVU3597
 11519 1b98 1F46     		mov	r7, r3
 11520              	.LBB1292:
 11521              	.LBB1232:
 11522              	.LBB1168:
 11523              	.LBB833:
1406:src/keys.c    **** 		} else if (shift == SHIFT_H) {
 11524              		.loc 1 1406 11 view .LVU3598
 11525 1b9a 4FF0330B 		mov	fp, #51
 11526              	.LBB821:
 11527              	.LBB820:
 11528 1b9e FFF7FEFF 		bl	init_arg.part.0
 11529              	.LVL914:
 11530 1ba2 FEF781BA 		b	.L565
 11531              	.LVL915:
 11532              	.L758:
1406:src/keys.c    **** 		} else if (shift == SHIFT_H) {
 11533              		.loc 1 1406 11 view .LVU3599
 11534              	.LBE820:
 11535              	.LBE821:
ARM GAS  /tmp/cc90KtGY.s 			page 318


 11536              	.LBE833:
 11537              	.LBE1168:
 11538              	.LBE1232:
 11539              	.LBE1292:
3112:src/keys.c    **** 	NonProgrammable = 0;
 11540              		.loc 1 3112 7 is_stmt 1 view .LVU3600
3112:src/keys.c    **** 	NonProgrammable = 0;
 11541              		.loc 1 3112 10 is_stmt 0 view .LVU3601
 11542 1ba6 5B06     		lsls	r3, r3, #25
 11543 1ba8 19D5     		bpl	.L887
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11544              		.loc 1 3113 2 is_stmt 1 view .LVU3602
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11545              		.loc 1 3113 18 is_stmt 0 view .LVU3603
 11546 1baa 174B     		ldr	r3, .L1161
 11547 1bac 0022     		movs	r2, #0
 11548              	.LVL916:
3113:src/keys.c    **** 	if (c >= (OP_SPEC | OP_ENTER) && c <= (OP_SPEC | OP_F)) {
 11549              		.loc 1 3113 18 view .LVU3604
 11550 1bae 1A60     		str	r2, [r3]
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11551              		.loc 1 3114 2 is_stmt 1 view .LVU3605
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11552              		.loc 1 3114 32 is_stmt 0 view .LVU3606
 11553 1bb0 4FF48170 		mov	r0, #258
 11554              	.LVL917:
3114:src/keys.c    **** 	  if (c != (OP_SPEC | OP_ENTER) || !is_bad_cmdline()) {
 11555              		.loc 1 3114 32 view .LVU3607
 11556 1bb4 FEF777BC 		b	.L831
 11557              	.LVL918:
 11558              	.L884:
 11559              	.LBB1293:
 11560              	.LBB1233:
 11561              	.LBB1169:
 11562              	.LBB683:
 757:src/keys.c    **** 	    }
 11563              		.loc 1 757 15 view .LVU3608
 11564 1bb8 4FF0140B 		mov	fp, #20
 11565 1bbc 9BE7     		b	.L832
 11566              	.LVL919:
 11567              	.L1142:
 757:src/keys.c    **** 	    }
 11568              		.loc 1 757 15 view .LVU3609
 11569              	.LBE683:
 11570              	.LBE1169:
 11571              	.LBB1170:
 11572              	.LBB1037:
 913:src/keys.c    **** 	    State2.dot = op;
 11573              		.loc 1 913 6 is_stmt 1 view .LVU3610
 914:src/keys.c    **** 	    // State2.cmplx = 0;
 11574              		.loc 1 914 6 view .LVU3611
 913:src/keys.c    **** 	    State2.dot = op;
 11575              		.loc 1 913 17 is_stmt 0 view .LVU3612
 11576 1bbe 98F81520 		ldrb	r2, [r8, #21]	@ zero_extendqisi2
 11577 1bc2 0BF00103 		and	r3, fp, #1
 11578              	.LVL920:
 913:src/keys.c    **** 	    State2.dot = op;
ARM GAS  /tmp/cc90KtGY.s 			page 319


 11579              		.loc 1 913 17 view .LVU3613
 11580 1bc6 9B01     		lsls	r3, r3, #6
 11581 1bc8 43F02003 		orr	r3, r3, #32
 11582 1bcc 22F06002 		bic	r2, r2, #96
 11583 1bd0 1343     		orrs	r3, r3, r2
 11584 1bd2 88F81530 		strb	r3, [r8, #21]
 916:src/keys.c    **** 	  }
 11585              		.loc 1 916 6 is_stmt 1 view .LVU3614
 916:src/keys.c    **** 	  }
 11586              		.loc 1 916 13 is_stmt 0 view .LVU3615
 11587 1bd6 4FF0330B 		mov	fp, #51
 11588              	.LVL921:
 916:src/keys.c    **** 	  }
 11589              		.loc 1 916 13 view .LVU3616
 11590 1bda FEF765BA 		b	.L565
 11591              	.LVL922:
 11592              	.L887:
 916:src/keys.c    **** 	  }
 11593              		.loc 1 916 13 view .LVU3617
 11594              	.LBE1037:
 11595              	.LBE1170:
 11596              	.LBB1171:
 11597              	.LBB834:
1461:src/keys.c    **** 		else if (shift == SHIFT_N)
 11598              		.loc 1 1461 11 view .LVU3618
 11599 1bde 4FF4817B 		mov	fp, #258
 11600 1be2 7DE7     		b	.L830
 11601              	.LVL923:
 11602              	.L879:
1468:src/keys.c    **** 		break;
 11603              		.loc 1 1468 11 view .LVU3619
 11604 1be4 40F23B1B 		movw	fp, #315
 11605 1be8 7AE7     		b	.L830
 11606              	.LVL924:
 11607              	.L1136:
1468:src/keys.c    **** 		break;
 11608              		.loc 1 1468 11 view .LVU3620
 11609              	.LBE834:
 11610              	.LBE1171:
 11611              	.LBB1172:
 11612              	.LBB1086:
1077:src/keys.c    **** 			set_pc(0);
 11613              		.loc 1 1077 43 view .LVU3621
 11614 1bea B3F8EE37 		ldrh	r3, [r3, #2030]
 11615 1bee 012B     		cmp	r3, #1
 11616 1bf0 7FF4B9AB 		bne	.L792
1078:src/keys.c    **** 		break;
 11617              		.loc 1 1078 4 is_stmt 1 view .LVU3622
 11618 1bf4 FFF7FEFF 		bl	set_pc
 11619              	.LVL925:
 11620 1bf8 FFF7B5BB 		b	.L792
 11621              	.LVL926:
 11622              	.L1144:
1078:src/keys.c    **** 		break;
 11623              		.loc 1 1078 4 is_stmt 0 view .LVU3623
 11624              	.LBE1086:
 11625              	.LBE1172:
ARM GAS  /tmp/cc90KtGY.s 			page 320


 11626              	.LBB1173:
 11627              	.LBB994:
2546:src/keys.c    **** 		State2.digval = pc;
 11628              		.loc 1 2546 4 is_stmt 1 view .LVU3624
2546:src/keys.c    **** 		State2.digval = pc;
 11629              		.loc 1 2546 9 is_stmt 0 view .LVU3625
 11630 1bfc 2046     		mov	r0, r4
 11631 1bfe 0121     		movs	r1, #1
 11632 1c00 FFF7FEFF 		bl	advance_to_next_label
 11633              	.LVL927:
 11634 1c04 0446     		mov	r4, r0
 11635              	.LVL928:
2546:src/keys.c    **** 		State2.digval = pc;
 11636              		.loc 1 2546 9 view .LVU3626
 11637 1c06 40E6     		b	.L689
 11638              	.L1162:
 11639              		.align	2
 11640              	.L1161:
 11641 1c08 00000000 		.word	NonProgrammable
 11642 1c0c 00000000 		.word	main_ram
 11643 1c10 00000000 		.word	.LANCHOR11
 11644 1c14 00000000 		.word	.LANCHOR20
 11645              	.LVL929:
 11646              	.L629:
2546:src/keys.c    **** 		State2.digval = pc;
 11647              		.loc 1 2546 9 view .LVU3627
 11648              	.LBE994:
 11649              	.LBE1173:
 11650              	.LBB1174:
 11651              	.LBB864:
1910:src/keys.c    **** 		// Special 1
 11652              		.loc 1 1910 7 is_stmt 1 view .LVU3628
1910:src/keys.c    **** 		// Special 1
 11653              		.loc 1 1910 10 is_stmt 0 view .LVU3629
 11654 1c18 0128     		cmp	r0, #1
 11655 1c1a 7EF4BFAF 		bne	.L631
1912:src/keys.c    **** 	}
 11656              		.loc 1 1912 3 is_stmt 1 view .LVU3630
1912:src/keys.c    **** 	}
 11657              		.loc 1 1912 18 is_stmt 0 view .LVU3631
 11658 1c1e BEF1000F 		cmp	lr, #0
 11659 1c22 14BF     		ite	ne
 11660 1c24 2723     		movne	r3, #39
 11661 1c26 1E23     		moveq	r3, #30
1912:src/keys.c    **** 	}
 11662              		.loc 1 1912 47 view .LVU3632
 11663 1c28 9B44     		add	fp, fp, r3
 11664              	.LVL930:
1912:src/keys.c    **** 	}
 11665              		.loc 1 1912 47 view .LVU3633
 11666 1c2a FEF7B0BC 		b	.L594
 11667              	.LVL931:
 11668              	.L726:
1912:src/keys.c    **** 	}
 11669              		.loc 1 1912 47 view .LVU3634
 11670              	.LBE864:
 11671              	.LBE1174:
ARM GAS  /tmp/cc90KtGY.s 			page 321


 11672              	.LBB1175:
 11673              	.LBB771:
2709:src/keys.c    **** 		goto reset_window;
 11674              		.loc 1 2709 4 is_stmt 1 view .LVU3635
2709:src/keys.c    **** 		goto reset_window;
 11675              		.loc 1 2709 18 is_stmt 0 view .LVU3636
 11676 1c2e 0023     		movs	r3, #0
 11677 1c30 A8F80830 		strh	r3, [r8, #8]	@ movhi
 11678 1c34 FFF73FBA 		b	.L715
 11679              	.LVL932:
 11680              	.L765:
2709:src/keys.c    **** 		goto reset_window;
 11681              		.loc 1 2709 18 view .LVU3637
 11682 1c38 0093     		str	r3, [sp]
 11683              	.LBE771:
 11684              	.LBE1175:
 11685              	.LBB1176:
 11686              	.LBB1121:
1176:src/keys.c    **** 			break;
 11687              		.loc 1 1176 4 is_stmt 1 view .LVU3638
 11688              	.LVL933:
 11689              	.LBB1114:
 11690              	.LBI1114:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 11691              		.loc 1 92 20 view .LVU3639
 11692              	.LBB1115:
  93:src/keys.c    **** 	State2.shifts = shift;
 11693              		.loc 1 93 2 view .LVU3640
 11694              	.LBB1116:
 11695              	.LBI1116:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 11696              		.loc 1 84 13 view .LVU3641
 11697              	.LBB1117:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 11698              		.loc 1 85 2 view .LVU3642
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 11699              		.loc 1 85 18 is_stmt 0 view .LVU3643
 11700 1c3a FFF7FEFF 		bl	shift_down
 11701              	.LVL934:
  86:src/keys.c    **** }
 11702              		.loc 1 86 2 is_stmt 1 view .LVU3644
 11703              	.LBE1117:
 11704              	.LBE1116:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 11705              		.loc 1 94 2 view .LVU3645
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 11706              		.loc 1 94 16 is_stmt 0 view .LVU3646
 11707 1c3e 009B     		ldr	r3, [sp]
 11708 1c40 88F81030 		strb	r3, [r8, #16]
  95:src/keys.c    **** 	return r;
 11709              		.loc 1 95 2 is_stmt 1 view .LVU3647
  95:src/keys.c    **** 	return r;
 11710              		.loc 1 95 19 is_stmt 0 view .LVU3648
 11711 1c44 88F80DA0 		strb	r10, [r8, #13]
  96:src/keys.c    **** }
 11712              		.loc 1 96 2 is_stmt 1 view .LVU3649
  96:src/keys.c    **** }
ARM GAS  /tmp/cc90KtGY.s 			page 322


 11713              		.loc 1 96 9 is_stmt 0 view .LVU3650
 11714 1c48 FEF7A1BC 		b	.L594
 11715              	.LVL935:
 11716              	.L764:
  96:src/keys.c    **** }
 11717              		.loc 1 96 9 view .LVU3651
 11718              	.LBE1115:
 11719              	.LBE1114:
1190:src/keys.c    **** 			break;
 11720              		.loc 1 1190 4 is_stmt 1 view .LVU3652
 11721 1c4c FFF7FEFF 		bl	init_state
 11722              	.LVL936:
1191:src/keys.c    **** 
 11723              		.loc 1 1191 4 view .LVU3653
 11724 1c50 FEF79DBC 		b	.L594
 11725              	.LVL937:
 11726              	.L723:
1191:src/keys.c    **** 
 11727              		.loc 1 1191 4 is_stmt 0 view .LVU3654
 11728              	.LBE1121:
 11729              	.LBE1176:
 11730              	.LBB1177:
 11731              	.LBB772:
2699:src/keys.c    **** 		goto reset_window;
 11732              		.loc 1 2699 4 is_stmt 1 view .LVU3655
2699:src/keys.c    **** 		goto reset_window;
 11733              		.loc 1 2699 24 is_stmt 0 view .LVU3656
 11734 1c54 09F1FF39 		add	r9, r9, #-1
 11735              	.LVL938:
2699:src/keys.c    **** 		goto reset_window;
 11736              		.loc 1 2699 18 view .LVU3657
 11737 1c58 A8F80890 		strh	r9, [r8, #8]	@ movhi
 11738 1c5c FFF72BBA 		b	.L715
 11739              	.LVL939:
 11740              	.L1135:
2695:src/keys.c    **** 			--State2.digval;
 11741              		.loc 1 2695 5 is_stmt 1 view .LVU3658
2695:src/keys.c    **** 			--State2.digval;
 11742              		.loc 1 2695 21 is_stmt 0 view .LVU3659
 11743 1c60 FFF7FEFF 		bl	global_regs
 11744              	.LVL940:
2695:src/keys.c    **** 			--State2.digval;
 11745              		.loc 1 2695 19 view .LVU3660
 11746 1c64 A8F80800 		strh	r0, [r8, #8]	@ movhi
 11747 1c68 FFF720BA 		b	.L724
 11748              	.LBE772:
 11749              	.LBE1177:
 11750              	.LBE1233:
 11751              	.LBE1293:
 11752              		.cfi_endproc
 11753              	.LFE58:
 11755              		.section	.text.process_keycode_with_shift,"ax",%progbits
 11756              		.align	1
 11757              		.p2align 2,,3
 11758              		.global	process_keycode_with_shift
 11759              		.syntax unified
 11760              		.thumb
ARM GAS  /tmp/cc90KtGY.s 			page 323


 11761              		.thumb_func
 11762              		.fpu fpv4-sp-d16
 11764              	process_keycode_with_shift:
 11765              	.LFB57:
2906:src/keys.c    ****    if (remapped.shift >= 0) set_shift ( remapped.shift );
 11766              		.loc 1 2906 61 is_stmt 1 view -0
 11767              		.cfi_startproc
 11768              		@ args = 0, pretend = 0, frame = 8
 11769              		@ frame_needed = 0, uses_anonymous_args = 0
 11770 0000 30B5     		push	{r4, r5, lr}
 11771              		.cfi_def_cfa_offset 12
 11772              		.cfi_offset 4, -12
 11773              		.cfi_offset 5, -8
 11774              		.cfi_offset 14, -4
 11775 0002 83B0     		sub	sp, sp, #12
 11776              		.cfi_def_cfa_offset 24
2906:src/keys.c    ****    if (remapped.shift >= 0) set_shift ( remapped.shift );
 11777              		.loc 1 2906 61 is_stmt 0 view .LVU3662
 11778 0004 02AB     		add	r3, sp, #8
 11779 0006 03E90300 		stmdb	r3, {r0, r1}
 11780 000a 019D     		ldr	r5, [sp, #4]
 11781 000c 9DF80040 		ldrb	r4, [sp]	@ zero_extendqisi2
 11782              	.LVL941:
2907:src/keys.c    ****    if (remapped.key_34s == K_NOP) return;
 11783              		.loc 1 2907 4 is_stmt 1 view .LVU3663
2907:src/keys.c    ****    if (remapped.key_34s == K_NOP) return;
 11784              		.loc 1 2907 7 is_stmt 0 view .LVU3664
 11785 0010 002D     		cmp	r5, #0
 11786 0012 05DB     		blt	.L1164
2907:src/keys.c    ****    if (remapped.key_34s == K_NOP) return;
 11787              		.loc 1 2907 29 is_stmt 1 discriminator 1 view .LVU3665
 11788              	.LVL942:
 11789              	.LBB1294:
 11790              	.LBI1294:
  92:src/keys.c    **** 	enum shifts r = cur_shift();
 11791              		.loc 1 92 20 discriminator 1 view .LVU3666
 11792              	.LBB1295:
  93:src/keys.c    **** 	State2.shifts = shift;
 11793              		.loc 1 93 2 discriminator 1 view .LVU3667
 11794              	.LBB1296:
 11795              	.LBI1296:
  84:src/keys.c    **** 	enum shifts s = shift_down();
 11796              		.loc 1 84 13 discriminator 1 view .LVU3668
 11797              	.LBB1297:
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 11798              		.loc 1 85 2 discriminator 1 view .LVU3669
  85:src/keys.c    **** 	return s == SHIFT_N ? (enum shifts) State2.shifts : s;
 11799              		.loc 1 85 18 is_stmt 0 discriminator 1 view .LVU3670
 11800 0014 FFF7FEFF 		bl	shift_down
 11801              	.LVL943:
  86:src/keys.c    **** }
 11802              		.loc 1 86 2 is_stmt 1 discriminator 1 view .LVU3671
 11803              	.LBE1297:
 11804              	.LBE1296:
  94:src/keys.c    **** 	State2.alpha_pos = 0;
 11805              		.loc 1 94 2 discriminator 1 view .LVU3672
  94:src/keys.c    **** 	State2.alpha_pos = 0;
ARM GAS  /tmp/cc90KtGY.s 			page 324


 11806              		.loc 1 94 16 is_stmt 0 discriminator 1 view .LVU3673
 11807 0018 064B     		ldr	r3, .L1167
  95:src/keys.c    **** 	return r;
 11808              		.loc 1 95 19 discriminator 1 view .LVU3674
 11809 001a 0022     		movs	r2, #0
 11810              	.LBE1295:
 11811              	.LBE1294:
2907:src/keys.c    ****    if (remapped.key_34s == K_NOP) return;
 11812              		.loc 1 2907 29 discriminator 1 view .LVU3675
 11813 001c 1D74     		strb	r5, [r3, #16]
 11814              	.LBB1299:
 11815              	.LBB1298:
  95:src/keys.c    **** 	return r;
 11816              		.loc 1 95 2 is_stmt 1 discriminator 1 view .LVU3676
  95:src/keys.c    **** 	return r;
 11817              		.loc 1 95 19 is_stmt 0 discriminator 1 view .LVU3677
 11818 001e 5A73     		strb	r2, [r3, #13]
  96:src/keys.c    **** }
 11819              		.loc 1 96 2 is_stmt 1 discriminator 1 view .LVU3678
 11820              	.LVL944:
 11821              	.L1164:
  96:src/keys.c    **** }
 11822              		.loc 1 96 2 is_stmt 0 discriminator 1 view .LVU3679
 11823              	.LBE1298:
 11824              	.LBE1299:
2908:src/keys.c    ****    process_keycode ( remapped.key_34s );
 11825              		.loc 1 2908 4 is_stmt 1 view .LVU3680
2908:src/keys.c    ****    process_keycode ( remapped.key_34s );
 11826              		.loc 1 2908 7 is_stmt 0 view .LVU3681
 11827 0020 2E2C     		cmp	r4, #46
 11828 0022 05D0     		beq	.L1163
2909:src/keys.c    ****  }
 11829              		.loc 1 2909 4 is_stmt 1 view .LVU3682
 11830 0024 2046     		mov	r0, r4
2910:src/keys.c    ****  
 11831              		.loc 1 2910 2 is_stmt 0 view .LVU3683
 11832 0026 03B0     		add	sp, sp, #12
 11833              		.cfi_remember_state
 11834              		.cfi_def_cfa_offset 12
 11835              		@ sp needed
 11836 0028 BDE83040 		pop	{r4, r5, lr}
 11837              		.cfi_restore 14
 11838              		.cfi_restore 5
 11839              		.cfi_restore 4
 11840              		.cfi_def_cfa_offset 0
 11841              	.LVL945:
2909:src/keys.c    ****  }
 11842              		.loc 1 2909 4 view .LVU3684
 11843 002c FFF7FEBF 		b	process_keycode
 11844              	.LVL946:
 11845              	.L1163:
 11846              		.cfi_restore_state
2910:src/keys.c    ****  
 11847              		.loc 1 2910 2 view .LVU3685
 11848 0030 03B0     		add	sp, sp, #12
 11849              		.cfi_def_cfa_offset 12
 11850              		@ sp needed
ARM GAS  /tmp/cc90KtGY.s 			page 325


 11851 0032 30BD     		pop	{r4, r5, pc}
 11852              	.LVL947:
 11853              	.L1168:
2910:src/keys.c    ****  
 11854              		.loc 1 2910 2 view .LVU3686
 11855              		.align	2
 11856              	.L1167:
 11857 0034 00000000 		.word	StateWhileOn
 11858              		.cfi_endproc
 11859              	.LFE57:
 11861              		.comm	NonProgrammable,4,4
 11862              		.comm	GoFast,4,4
 11863              		.comm	OpCodeDisplayPending,4,4
 11864              		.comm	OpCode,4,4
 11865              		.comm	WasDataEntry,4,4
 11866              		.section	.bss.was_paused.9646,"aw",%nobits
 11867              		.align	2
 11868              		.set	.LANCHOR12,. + 0
 11871              	was_paused.9646:
 11872 0000 00000000 		.space	4
 11873              		.section	.rodata.alpha_arrows,"a"
 11874              		.align	2
 11877              	alpha_arrows:
 11878 0000 0D0E100F 		.ascii	"\015\016\020\017\003\004\237^\177"
 11878      03049F5E 
 11878      7F
 11879              		.section	.rodata.alpha_catalogue,"a"
 11880              		.align	2
 11883              	alpha_catalogue:
 11884 0000 0D4AC280 		.ascii	"\015J\302\200\236\256\012\242~\265\256k\252\356\274"
 11884      9EAE0AA2 
 11884      7EB5AE6B 
 11884      AAEEBC
 11885 000f 284AB0   		.ascii	"(J\260"
 11886              		.section	.rodata.alpha_compares,"a"
 11887              		.align	2
 11890              	alpha_compares:
 11891 0000 3C093D1D 		.ascii	"<\011=\035\012>[]{}"
 11891      0A3E5B5D 
 11891      7B7D
 11892              		.section	.rodata.alpha_letters,"a"
 11893              		.align	2
 11894              		.set	.LANCHOR3,. + 0
 11897              	alpha_letters:
 11898 0000 C0C1C2C3 		.ascii	"\300\301\302\303\210\304\305\306\307\204\310\311\312"
 11898      88C4C5C6 
 11898      C784C8C9 
 11898      CA
 11899 000d CB9ECCCD 		.ascii	"\313\236\314\315\316\317\320\321\322\323\324\025\325"
 11899      CECFD0D1 
 11899      D2D3D415 
 11899      D5
 11900 001a D618D8D9 		.ascii	"\326\030\330\331\332\333\334\001\031\002\335\032\336"
 11900      DADBDC01 
 11900      1902DD1A 
 11900      DE
 11901 0027 DF       		.ascii	"\337"
ARM GAS  /tmp/cc90KtGY.s 			page 326


 11902              		.section	.rodata.alpha_letters_lower,"a"
 11903              		.align	2
 11904              		.set	.LANCHOR4,. + 0
 11907              	alpha_letters_lower:
 11908 0000 E0E1E2E3 		.ascii	"\340\341\342\343\211\344\345\346\347\205\350\351\352"
 11908      89E4E5E6 
 11908      E785E8E9 
 11908      EA
 11909 000d EB9EECED 		.ascii	"\353\236\354\355\356\357\360\361\362\363\364\026\365"
 11909      EEEFF0F1 
 11909      F2F3F416 
 11909      F5
 11910 001a F618F8F9 		.ascii	"\366\030\370\371\372\373\374\001\031\002\375\032\376"
 11910      FAFBFC01 
 11910      1902FD1A 
 11910      FE
 11911 0027 FF       		.ascii	"\377"
 11912              		.section	.rodata.alpha_subscripts,"a"
 11913              		.align	2
 11916              	alpha_subscripts:
 11917 0000 B805B9BA 		.ascii	"\270\005\271\272\232\200\327\230\273\024\206\274\367"
 11917      9A80D798 
 11917      BB1486BC 
 11917      F7
 11918 000d 1BBDBE93 		.ascii	"\033\275\276\223\277\201\213\234\214\231\235\220\233"
 11918      BF818B9C 
 11918      8C999D90 
 11918      9B
 11919              		.section	.rodata.alpha_symbols,"a"
 11920              		.align	2
 11923              	alpha_symbols:
 11924 0000 2C3A3B27 		.ascii	",:;'\"*@_~%$\014\036\037\216\256\222`#"
 11924      222A405F 
 11924      7E25240C 
 11924      1E1F8EAE 
 11924      926023
 11925              		.section	.rodata.alphamap.9178,"a"
 11926              		.align	2
 11927              		.set	.LANCHOR9,. + 0
 11930              	alphamap.9178:
 11931 0000 41004100 		.ascii	"A\000A\000a\240"
 11931      61A0
 11932 0006 42004200 		.ascii	"B\000B\000b\241"
 11932      62A1
 11933 000c 43008200 		.ascii	"C\000\202\000c\242"
 11933      63A2
 11934 0012 44008300 		.ascii	"D\000\203\000d\243"
 11934      64A3
 11935 0018 450D4500 		.ascii	"E\015E\000e\244"
 11935      65A4
 11936 001e 46009400 		.ascii	"F\000\224\000f\264"
 11936      66B4
 11937 0024 47008200 		.ascii	"G\000\202\000g\242"
 11937      67A2
 11938 002a 48005800 		.ascii	"H\000X\000h\265"
 11938      68B5
 11939 0030 49004900 		.ascii	"I\000I\000i\250"
ARM GAS  /tmp/cc90KtGY.s 			page 327


 11939      69A8
 11940 0036 4AAF0000 		.ascii	"J\257\000\000j\000"
 11940      6A00
 11941 003c 4B004B00 		.ascii	"K\000K\000k\251"
 11941      6BA9
 11942 0042 4C008A00 		.ascii	"L\000\212\000l\252"
 11942      6CAA
 11943 0048 00004800 		.ascii	"\000\000H\000\000\246"
 11943      00A6
 11944 004e 4D00AB17 		.ascii	"M\000\253\027m\253"
 11944      6DAB
 11945 0054 4E084E95 		.ascii	"N\010N\225n\254"
 11945      6EAC
 11946 005a 4F0097AF 		.ascii	"O\000\227\257o\267"
 11946      6FB7
 11947 0060 00000000 		.ascii	"\000\000\000\000\000\000"
 11947      0000
 11948 0066 00000000 		.ascii	"\000\000\000\000\000\000"
 11948      0000
 11949 006c 50378F26 		.ascii	"P7\217&p\257"
 11949      70AF
 11950 0072 5138007C 		.ascii	"Q8\000|q\000"
 11950      7100
 11951 0078 52395200 		.ascii	"R9R\000r\260"
 11951      72B0
 11952 007e 532F9100 		.ascii	"S/\221\000s\261"
 11952      73B1
 11953 0084 00002100 		.ascii	"\000\000!\000\000\000"
 11953      0000
 11954 008a 54345400 		.ascii	"T4T\000t\262"
 11954      74B2
 11955 0090 55350000 		.ascii	"U5\000\000u\000"
 11955      7500
 11956 0096 56360000 		.ascii	"V6\000\000v\000"
 11956      7600
 11957 009c 571C0000 		.ascii	"W\034\000\000w\000"
 11957      7700
 11958 00a2 00000000 		.ascii	"\000\000\000\000\000\000"
 11958      0000
 11959 00a8 58318D00 		.ascii	"X1\215\000x\255"
 11959      78AD
 11960 00ae 59325900 		.ascii	"Y2Y\000y\263"
 11960      79B3
 11961 00b4 5A335A00 		.ascii	"Z3Z\000z\245"
 11961      7AA5
 11962 00ba 2D282900 		.ascii	"-()\000\000\000"
 11962      0000
 11963 00c0 00000000 		.ascii	"\000\000\000\000\000\000"
 11963      0000
 11964 00c6 3A308700 		.ascii	":0\207\000;\247"
 11964      3BA7
 11965 00cc 2E2E9600 		.ascii	"..\226\000.\266"
 11965      2EB6
 11966 00d2 3F002100 		.ascii	"?\000!\000\000\000"
 11966      0000
 11967 00d8 202B3D00 		.ascii	" +=\000\000\000"
 11967      0000
ARM GAS  /tmp/cc90KtGY.s 			page 328


 11968 00de 00000000 		.ascii	"\000\000\000\000\000\000"
 11968      0000
 11969              		.section	.rodata.amap.9169,"a"
 11970              		.align	2
 11971              		.set	.LANCHOR10,. + 0
 11974              	amap.9169:
 11975 0000 04       		.byte	4
 11976 0001 000D00   		.ascii	"\000\015\000"
 11977 0004 05       		.byte	5
 11978 0005 000E09   		.ascii	"\000\016\011"
 11979 0008 08       		.byte	8
 11980 0009 00000F   		.ascii	"\000\000\017"
 11981 000c 1F       		.byte	31
 11982 000d 00000C   		.ascii	"\000\000\014"
 11983 0010 21       		.byte	33
 11984 0011 00000A   		.ascii	"\000\000\012"
 11985 0014 26       		.byte	38
 11986 0015 00000B   		.ascii	"\000\000\013"
 11987              		.section	.rodata.catalogue,"a"
 11988              		.align	2
 11991              	catalogue:
 11992 0000 431A4660 		.ascii	"C\032F`\301_W\343\330\242;X\026\274}Dq\001\011tK\222"
 11992      C15F57E3 
 11992      D8A23B58 
 11992      16BC7D44 
 11992      71010974 
 11993 0016 F60D0643 		.ascii	"\366\015\006COV\235!H\2216\325\266iZfK\016o\027V\241"
 11993      4F569D21 
 11993      489136D5 
 11993      B6695A66 
 11993      4B0E6F17 
 11994 002c B4415C06 		.ascii	"\264A\\\006i%`\231vY\224`\032\306\354\303k[\024K\006"
 11994      69256099 
 11994      76599460 
 11994      1AC6ECC3 
 11994      6B5B144B 
 11995 0041 3DF05C07 		.ascii	"=\360\\\007\002>\321\243\013\017(\333&\021\263\015W"
 11995      023ED1A3 
 11995      0B0F28DB 
 11995      2611B30D 
 11995      57
 11996 0052 33290841 		.ascii	"3)\010A\320\224-\256+\033u\374\240'\253\202\250\237"
 11996      D0942DAE 
 11996      2B1B75FC 
 11996      A027AB82 
 11996      A89F
 11997 0064 ADEB5AE6 		.ascii	"\255\353Z\346\272\256\353\312\330\241*\331\224\221\235"
 11997      BAAEEBCA 
 11997      D8A12AD9 
 11997      94919D
 11998 0073 6799B671 		.ascii	"g\231\266q\260_\020\007\025\242o\326\325\251\241"
 11998      B05F1007 
 11998      15A26FD6 
 11998      D5A9A1
 11999              		.section	.rodata.catalogue_sizes.9444,"a"
 12000              		.align	2
 12001              		.set	.LANCHOR2,. + 0
ARM GAS  /tmp/cc90KtGY.s 			page 329


 12004              	catalogue_sizes.9444:
 12005 0000 00681911 		.ascii	"\000h\031\0216<C~%4\016\023\012\011(\032LLX\016\023"
 12005      363C437E 
 12005      25340E13 
 12005      0A09281A 
 12005      4C4C580E 
 12006              		.section	.rodata.catalogues.9452,"a"
 12007              		.align	2
 12008              		.set	.LANCHOR6,. + 0
 12011              	catalogues.9452:
 12012 0000 00000000 		.word	0
 12013 0004 00000000 		.word	catalogue
 12014 0008 00000000 		.word	cplx_catalogue
 12015 000c 00000000 		.word	stats_catalogue
 12016 0010 00000000 		.word	prob_catalogue
 12017 0014 00000000 		.word	int_catalogue
 12018 0018 00000000 		.word	prog_catalogue
 12019 001c 00000000 		.word	program_xfcn
 12020 0020 00000000 		.word	test_catalogue
 12021 0024 00000000 		.word	mode_catalogue
 12022 0028 00000000 		.word	alpha_catalogue
 12023 002c 00000000 		.word	alpha_symbols
 12024 0030 00000000 		.word	alpha_compares
 12025 0034 00000000 		.word	alpha_arrows
 12026 0038 00000000 		.word	alpha_letters
 12027 003c 00000000 		.word	alpha_subscripts
 12028 0040 00000000 		.word	0
 12029 0044 00000000 		.word	0
 12030 0048 00000000 		.word	0
 12031 004c 00000000 		.word	sums_catalogue
 12032 0050 00000000 		.word	matrix_catalogue
 12033              		.section	.rodata.cmap.9168,"a"
 12034              		.align	2
 12035              		.set	.LANCHOR11,. + 0
 12038              	cmap.9168:
 12039 0000 04       		.byte	4
 12040 0001 120012   		.ascii	"\022\000\022"
 12041 0004 05       		.byte	5
 12042 0005 090909   		.ascii	"\011\011\011"
 12043 0008 06       		.byte	6
 12044 0009 151515   		.ascii	"\025\025\025"
 12045 000c 0C       		.byte	12
 12046 000d 100011   		.ascii	"\020\000\021"
 12047 0010 19       		.byte	25
 12048 0011 040004   		.ascii	"\004\000\004"
 12049 0014 1A       		.byte	26
 12050 0015 030003   		.ascii	"\003\000\003"
 12051 0018 1B       		.byte	27
 12052 0019 130013   		.ascii	"\023\000\023"
 12053 001c 1C       		.byte	28
 12054 001d 140014   		.ascii	"\024\000\024"
 12055 0020 1E       		.byte	30
 12056 0021 171717   		.ascii	"\027\027\027"
 12057 0024 1F       		.byte	31
 12058 0025 080808   		.ascii	"\010\010\010"
 12059 0028 20       		.byte	32
 12060 0029 060606   		.ascii	"\006\006\006"
ARM GAS  /tmp/cc90KtGY.s 			page 330


 12061 002c 21       		.byte	33
 12062 002d 010502   		.ascii	"\001\005\002"
 12063              		.section	.rodata.conv_catalogue,"a"
 12064              		.align	2
 12065              		.set	.LANCHOR5,. + 0
 12068              	conv_catalogue:
 12069 0000 DADB8C8A 		.ascii	"\332\333\214\212+-\3357'913\021\026\005\334\336\031"
 12069      2B2DDD37 
 12069      27393133 
 12069      111605DC 
 12069      DE19
 12070 0012 1D1B1315 		.ascii	"\035\033\023\025\015\017\215\010\217\012*,GCE\027?0"
 12070      0D0F8D08 
 12070      8F0A2A2C 
 12070      47434517 
 12070      3F30
 12071 0024 32340400 		.ascii	"24\004\000\002\006&\" ($5/\001#\020\014\016!\022\024"
 12071      02062622 
 12071      20282435 
 12071      2F012310 
 12071      0C0E2112 
 12072 0039 3B181A1C 		.ascii	";\030\032\034\036).\01168>:<@%\337=\213\216\003\007"
 12072      1E292E09 
 12072      36383E3A 
 12072      3C4025DF 
 12072      3D8B8E03 
 12073 004e 4B49410B 		.ascii	"KIA\013JHFBD\037"
 12073      4A484642 
 12073      441F
 12074              		.section	.rodata.conv_mapping.9491,"a"
 12075              		.align	2
 12076              		.set	.LANCHOR8,. + 0
 12079              	conv_mapping.9491:
 12080 0000 8502     		.short	645
 12081 0002 8402     		.short	644
 12082 0004 8602     		.short	646
 12083 0006 8702     		.short	647
 12084 0008 8202     		.short	642
 12085 000a 8302     		.short	643
 12086 000c 3202     		.short	562
 12087 000e 3302     		.short	563
 12088 0010 3402     		.short	564
 12089 0012 3502     		.short	565
 12090 0014 3602     		.short	566
 12091 0016 3702     		.short	567
 12092              		.section	.rodata.cplx_catalogue,"a"
 12093              		.align	2
 12096              	cplx_catalogue:
 12097 0000 78278C6A 		.ascii	"x'\214j\001;\316\341\015\332x_W\332fvf\347\345\317{"
 12097      013BCEE1 
 12097      0DDA785F 
 12097      57DA6676 
 12097      66E7E5CF 
 12098 0015 9DB775DF 		.ascii	"\235\267u\337\242\353\011\265\370u\000"
 12098      A2EB09B5 
 12098      F87500
 12099              		.section	.rodata.disp.9306,"a"
ARM GAS  /tmp/cc90KtGY.s 			page 331


 12100              		.align	2
 12101              		.set	.LANCHOR15,. + 0
 12104              	disp.9306:
 12105 0000 03       		.byte	3
 12106 0001 02       		.byte	2
 12107 0002 05       		.byte	5
 12108 0003 04       		.byte	4
 12109              		.section	.rodata.int_catalogue,"a"
 12110              		.align	2
 12113              	int_catalogue:
 12114 0000 432F3306 		.ascii	"C/3\006\365=\233\342Y\275\020\257d4\365i\331&\240\224"
 12114      F53D9BE2 
 12114      59BD10AF 
 12114      6434F569 
 12114      D926A094 
 12115 0014 BE6FA65D 		.ascii	"\276o\246]\226\\\231F\261qn\3146\264\225\273n\363\336"
 12115      965C9946 
 12115      B1716ECC 
 12115      36B495BB 
 12115      6EF3DE
 12116 0027 EEBC2F41 		.ascii	"\356\274/A\240\373\274o,=\204\015L\244-\256+\033z\340"
 12116      A0FBBC6F 
 12116      2C3D840D 
 12116      4CA42DAE 
 12116      2B1B7AE0 
 12117 003b AAADEB5A 		.ascii	"\252\255\353Z\346\272\256\353\312\330\253I\020\007\031"
 12117      E6BAAEEB 
 12117      CAD8AB49 
 12117      100719
 12118 004a C7       		.ascii	"\307"
 12119              		.section	.rodata.linear_key_map.9139,"a"
 12120              		.align	2
 12121              		.set	.LANCHOR1,. + 0
 12124              	linear_key_map.9139:
 12125 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\007\010\011\012\013\014"
 12125      04050607 
 12125      08090A0B 
 12125      0C
 12126 000d 0D0E0F10 		.ascii	"\015\016\017\020\000\021\022\023\024\025\000\026\027"
 12126      00111213 
 12126      14150016 
 12126      17
 12127 001a 18191A00 		.ascii	"\030\031\032\000\033\034\035\036\037\000 !\"#$%%%%%"
 12127      1B1C1D1E 
 12127      1F002021 
 12127      22232425 
 12127      25252525 
 12128 002e 25       		.ascii	"%"
 12129              		.section	.rodata.linear_key_map.9143,"a"
 12130              		.align	2
 12131              		.set	.LANCHOR18,. + 0
 12134              	linear_key_map.9143:
 12135 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\007\010\"\"\"\011\012\013"
 12135      04050607 
 12135      08222222 
 12135      090A0B
 12136 000f 0C0D000E 		.ascii	"\014\015\000\016\017\020\021\022\000\023\024\025\026"
ARM GAS  /tmp/cc90KtGY.s 			page 332


 12136      0F101112 
 12136      00131415 
 12136      16
 12137 001c 17001819 		.ascii	"\027\000\030\031\032\033\034\000\035\036\037 !\"\"\""
 12137      1A1B1C00 
 12137      1D1E1F20 
 12137      21222222 
 12138 002c 040522   		.ascii	"\004\005\""
 12139              		.section	.rodata.map.9155,"a"
 12140              		.align	2
 12141              		.set	.LANCHOR0,. + 0
 12144              	map.9155:
 12145 0000 E8E9EAEB 		.ascii	"\350\351\352\353\377\177\177\177mnol\377\377\377\377"
 12145      FF7F7F7F 
 12145      6D6E6F6C 
 12145      FFFFFFFF 
 12146 0010 FF7F0708 		.ascii	"\377\177\007\010\011\177\177\347\005\006\177\177\344"
 12146      097F7FE7 
 12146      05067F7F 
 12146      E4
 12147 001d E5E67FFF 		.ascii	"\345\346\177\377\000\360\177\177\177"
 12147      00F07F7F 
 12147      7F
 12148              		.section	.rodata.matrix_catalogue,"a"
 12149              		.align	2
 12152              	matrix_catalogue:
 12153 0000 62DC4364 		.ascii	"b\334Cd\3305\334#m\205nXf\341\301n\230\2461\303bX\206"
 12153      D835DC23 
 12153      6D856E58 
 12153      66E1C16E 
 12153      98A631C3 
 12154 0017 1C       		.ascii	"\034"
 12155              		.section	.rodata.mode_catalogue,"a"
 12156              		.align	2
 12159              	mode_catalogue:
 12160 0000 2948C290 		.ascii	")H\302\220\213\276\306c\250\351\037\210\001\374|\270"
 12160      8BBEC663 
 12160      A8E91F88 
 12160      01FC7CB8 
 12161 0010 09818CCF 		.ascii	"\011\201\214\317$I\302lb\031I2H\232\0310\202\020\203"
 12161      2449C26C 
 12161      62194932 
 12161      489A1930 
 12161      821083
 12162 0023 C3704220 		.ascii	"\303pB \2072\012c\020\3072Js\024\306#\214\340\3409\301"
 12162      87320A63 
 12162      10C7324A 
 12162      7314C623 
 12162      8CE0E039 
 12163 0038 C862148D 		.ascii	"\310b\024\215\273\0173\310\231"
 12163      BB0F33C8 
 12163      99
 12164              		.section	.rodata.op_map.9222,"a"
 12165              		.align	2
 12166              		.set	.LANCHOR22,. + 0
 12169              	op_map.9222:
 12170 0000 1500     		.short	21
ARM GAS  /tmp/cc90KtGY.s 			page 333


 12171 0002 0B02     		.short	523
 12172 0004 0003     		.short	768
 12173 0006 0A02     		.short	522
 12174 0008 1300     		.short	19
 12175 000a 1400     		.short	20
 12176 000c 0300     		.short	3
 12177 000e 0A00     		.short	10
 12178 0010 0701     		.short	263
 12179 0012 0000     		.short	0
 12180 0014 6531     		.short	12645
 12181 0016 0300     		.short	3
 12182 0018 0200     		.short	2
 12183 001a 0100     		.short	1
 12184 001c 4400     		.short	68
 12185 001e 0C00     		.short	12
 12186 0020 0D00     		.short	13
 12187 0022 0E00     		.short	14
 12188 0024 0403     		.short	772
 12189 0026 2F00     		.short	47
 12190 0028 0900     		.short	9
 12191 002a 0A00     		.short	10
 12192 002c 0B00     		.short	11
 12193 002e 0303     		.short	771
 12194 0030 2E00     		.short	46
 12195 0032 0600     		.short	6
 12196 0034 0700     		.short	7
 12197 0036 0800     		.short	8
 12198 0038 0203     		.short	770
 12199 003a 3300     		.short	51
 12200 003c 0500     		.short	5
 12201 003e 0400     		.short	4
 12202 0040 3B01     		.short	315
 12203 0042 0103     		.short	769
 12204 0044 0001     		.short	256
 12205              		.section	.rodata.op_map.9245,"a"
 12206              		.align	2
 12207              		.set	.LANCHOR19,. + 0
 12210              	op_map.9245:
 12211 0000 0100     		.short	1
 12212 0002 0000     		.short	0
 12213 0004 20F2     		.short	-3552
 12214 0006 23F2     		.short	-3549
 12215 0008 21F2     		.short	-3551
 12216 000a 24F2     		.short	-3548
 12217 000c 22F2     		.short	-3550
 12218 000e 25F2     		.short	-3547
 12219 0010 47F1     		.short	-3769
 12220 0012 46F1     		.short	-3770
 12221 0014 4E01     		.short	334
 12222 0016 4D01     		.short	333
 12223 0018 5C01     		.short	348
 12224 001a 35F1     		.short	-3787
 12225 001c 5B01     		.short	347
 12226 001e 36F1     		.short	-3786
 12227 0020 3301     		.short	307
 12228 0022 37F1     		.short	-3785
 12229 0024 3300     		.short	51
ARM GAS  /tmp/cc90KtGY.s 			page 334


 12230 0026 0C01     		.short	268
 12231 0028 2B00     		.short	43
 12232 002a 2C00     		.short	44
 12233 002c 028B     		.short	-29950
 12234 002e 088B     		.short	-29944
 12235 0030 0A8B     		.short	-29942
 12236 0032 108B     		.short	-29936
 12237 0034 4301     		.short	323
 12238 0036 3D01     		.short	317
 12239 0038 0902     		.short	521
 12240 003a 0802     		.short	520
 12241 003c 1002     		.short	528
 12242 003e 0D02     		.short	525
 12243 0040 0F02     		.short	527
 12244 0042 0E02     		.short	526
 12245 0044 0003     		.short	768
 12246 0046 0803     		.short	776
 12247 0048 0BF2     		.short	-3573
 12248 004a 1603     		.short	790
 12249 004c 1203     		.short	786
 12250 004e 1303     		.short	787
 12251 0050 3DF2     		.short	-3523
 12252 0052 3EF2     		.short	-3522
 12253 0054 24F1     		.short	-3804
 12254 0056 1EF1     		.short	-3810
 12255 0058 75F2     		.short	-3467
 12256 005a 27F1     		.short	-3801
 12257 005c 0A02     		.short	522
 12258 005e 1602     		.short	534
 12259 0060 5100     		.short	81
 12260 0062 5200     		.short	82
 12261 0064 0000     		.short	0
 12262 0066 0100     		.short	1
 12263 0068 48F0     		.short	-4024
 12264 006a 4BF0     		.short	-4021
 12265 006c 47F0     		.short	-4025
 12266 006e 46F0     		.short	-4026
 12267 0070 77F2     		.short	-3465
 12268 0072 78F2     		.short	-3464
 12269 0074 3300     		.short	51
 12270 0076 3300     		.short	51
 12271 0078 0502     		.short	517
 12272 007a 0602     		.short	518
 12273 007c 0402     		.short	516
 12274 007e 0002     		.short	512
 12275 0080 4200     		.short	66
 12276 0082 3801     		.short	312
 12277 0084 3A00     		.short	58
 12278 0086 3B00     		.short	59
 12279 0088 0001     		.short	256
 12280 008a 0001     		.short	256
 12281              		.section	.rodata.op_map.9268,"a"
 12282              		.align	2
 12283              		.set	.LANCHOR21,. + 0
 12286              	op_map.9268:
 12287 0000 4C80     		.short	-32692
 12288 0002 4D80     		.short	-32691
ARM GAS  /tmp/cc90KtGY.s 			page 335


 12289 0004 4E80     		.short	-32690
 12290 0006 4F80     		.short	-32689
 12291 0008 3300     		.short	51
 12292 000a 3300     		.short	51
 12293 000c 3300     		.short	51
 12294 000e 2180     		.short	-32735
 12295 0010 0801     		.short	264
 12296 0012 8780     		.short	-32633
 12297 0014 1180     		.short	-32751
 12298 0016 7C02     		.short	636
 12299 0018 5560     		.short	24661
 12300 001a 3F01     		.short	319
 12301 001c 4580     		.short	-32699
 12302 001e 1C03     		.short	796
 12303 0020 1D03     		.short	797
 12304 0022 1E03     		.short	798
 12305 0024 0603     		.short	774
 12306 0026 2F02     		.short	559
 12307 0028 3300     		.short	51
 12308 002a 3300     		.short	51
 12309 002c 3300     		.short	51
 12310 002e 3300     		.short	51
 12311 0030 3300     		.short	51
 12312 0032 3300     		.short	51
 12313 0034 3300     		.short	51
 12314 0036 3300     		.short	51
 12315 0038 1640     		.short	16406
 12316 003a 0201     		.short	258
 12317 003c 6D80     		.short	-32659
 12318 003e 5001     		.short	336
 12319 0040 3300     		.short	51
 12320 0042 1540     		.short	16405
 12321 0044 0001     		.short	256
 12322              		.section	.rodata.op_map.9278,"a"
 12323              		.align	2
 12324              		.set	.LANCHOR17,. + 0
 12327              	op_map.9278:
 12328 0000 0100     		.short	1
 12329 0002 0100     		.short	1
 12330 0004 0000     		.short	0
 12331 0006 0000     		.short	0
 12332 0008 0B05     		.short	1291
 12333 000a 2005     		.short	1312
 12334 000c 2305     		.short	1315
 12335 000e 3300     		.short	51
 12336 0010 0006     		.short	1536
 12337 0012 2105     		.short	1313
 12338 0014 2405     		.short	1316
 12339 0016 3300     		.short	51
 12340 0018 0A05     		.short	1290
 12341 001a 2205     		.short	1314
 12342 001c 2505     		.short	1317
 12343 001e 3300     		.short	51
 12344 0020 3300     		.short	51
 12345 0022 4701     		.short	327
 12346 0024 4601     		.short	326
 12347 0026 3300     		.short	51
ARM GAS  /tmp/cc90KtGY.s 			page 336


 12348 0028 3300     		.short	51
 12349 002a 3300     		.short	51
 12350 002c 3300     		.short	51
 12351 002e 3300     		.short	51
 12352 0030 15FF     		.short	-235
 12353 0032 3300     		.short	51
 12354 0034 3300     		.short	51
 12355 0036 3300     		.short	51
 12356 0038 1AFF     		.short	-230
 12357 003a 3300     		.short	51
 12358 003c 3300     		.short	51
 12359 003e 8CFF     		.short	-116
 12360 0040 0901     		.short	265
 12361 0042 3300     		.short	51
 12362 0044 3300     		.short	51
 12363 0046 0A01     		.short	266
 12364 0048 0B01     		.short	267
 12365 004a 3300     		.short	51
 12366 004c 0D01     		.short	269
 12367 004e 0D01     		.short	269
 12368 0050 663F     		.short	16230
 12369 0052 3300     		.short	51
 12370 0054 3300     		.short	51
 12371 0056 1FFF     		.short	-225
 12372 0058 3805     		.short	1336
 12373 005a 3300     		.short	51
 12374 005c 3300     		.short	51
 12375 005e 3905     		.short	1337
 12376 0060 5521     		.short	8533
 12377 0062 3300     		.short	51
 12378 0064 3300     		.short	51
 12379 0066 5521     		.short	8533
 12380 0068 3300     		.short	51
 12381 006a 3300     		.short	51
 12382 006c 3300     		.short	51
 12383 006e 3300     		.short	51
 12384 0070 3300     		.short	51
 12385 0072 0905     		.short	1289
 12386 0074 0805     		.short	1288
 12387 0076 3300     		.short	51
 12388 0078 07A8     		.short	-22521
 12389 007a 1005     		.short	1296
 12390 007c 0D05     		.short	1293
 12391 007e 3300     		.short	51
 12392 0080 08A8     		.short	-22520
 12393 0082 0F05     		.short	1295
 12394 0084 0E05     		.short	1294
 12395 0086 3300     		.short	51
 12396 0088 09A8     		.short	-22519
 12397 008a 0006     		.short	1536
 12398 008c 0806     		.short	1544
 12399 008e 3300     		.short	51
 12400 0090 0406     		.short	1540
 12401 0092 0B05     		.short	1291
 12402 0094 1606     		.short	1558
 12403 0096 3300     		.short	51
 12404 0098 3300     		.short	51
ARM GAS  /tmp/cc90KtGY.s 			page 337


 12405 009a 1206     		.short	1554
 12406 009c 1306     		.short	1555
 12407 009e 2F05     		.short	1327
 12408 00a0 04A8     		.short	-22524
 12409 00a2 3300     		.short	51
 12410 00a4 3300     		.short	51
 12411 00a6 3300     		.short	51
 12412 00a8 05A8     		.short	-22523
 12413 00aa 3300     		.short	51
 12414 00ac 3300     		.short	51
 12415 00ae 3300     		.short	51
 12416 00b0 06A8     		.short	-22522
 12417 00b2 3300     		.short	51
 12418 00b4 3300     		.short	51
 12419 00b6 3300     		.short	51
 12420 00b8 0306     		.short	1539
 12421 00ba 0A05     		.short	1290
 12422 00bc 1605     		.short	1302
 12423 00be 1605     		.short	1302
 12424 00c0 3300     		.short	51
 12425 00c2 3300     		.short	51
 12426 00c4 3300     		.short	51
 12427 00c6 3300     		.short	51
 12428 00c8 01A8     		.short	-22527
 12429 00ca 0000     		.short	0
 12430 00cc 0100     		.short	1
 12431 00ce 3300     		.short	51
 12432 00d0 02A8     		.short	-22526
 12433 00d2 3300     		.short	51
 12434 00d4 3300     		.short	51
 12435 00d6 3300     		.short	51
 12436 00d8 03A8     		.short	-22525
 12437 00da 3300     		.short	51
 12438 00dc 3300     		.short	51
 12439 00de 3300     		.short	51
 12440 00e0 0206     		.short	1538
 12441 00e2 3300     		.short	51
 12442 00e4 3300     		.short	51
 12443 00e6 3300     		.short	51
 12444 00e8 3300     		.short	51
 12445 00ea 3300     		.short	51
 12446 00ec 3300     		.short	51
 12447 00ee 0201     		.short	258
 12448 00f0 00A8     		.short	-22528
 12449 00f2 0505     		.short	1285
 12450 00f4 0605     		.short	1286
 12451 00f6 3300     		.short	51
 12452 00f8 B801     		.short	440
 12453 00fa 0405     		.short	1284
 12454 00fc 0005     		.short	1280
 12455 00fe 3300     		.short	51
 12456 0100 3300     		.short	51
 12457 0102 3300     		.short	51
 12458 0104 3300     		.short	51
 12459 0106 3300     		.short	51
 12460 0108 0106     		.short	1537
 12461 010a 3300     		.short	51
ARM GAS  /tmp/cc90KtGY.s 			page 338


 12462 010c 3300     		.short	51
 12463 010e 3300     		.short	51
 12464 0110 0001     		.short	256
 12465 0112 0001     		.short	256
 12466 0114 0001     		.short	256
 12467 0116 0001     		.short	256
 12468              		.section	.rodata.op_map.9290,"a"
 12469              		.align	2
 12470              		.set	.LANCHOR13,. + 0
 12473              	op_map.9290:
 12474 0000 2A27     		.ascii	"*'"
 12475 0002 2B28     		.ascii	"+("
 12476 0004 2C29     		.ascii	",)"
 12477              		.section	.rodata.op_map.9305,"a"
 12478              		.align	2
 12479              		.set	.LANCHOR14,. + 0
 12482              	op_map.9305:
 12483 0000 1A02     		.short	538
 12484 0002 7B02     		.short	635
 12485 0004 1B02     		.short	539
 12486 0006 7A02     		.short	634
 12487 0008 1C02     		.short	540
 12488 000a 3300     		.short	51
 12489              		.section	.rodata.op_map2.9246,"a"
 12490              		.align	2
 12491              		.set	.LANCHOR20,. + 0
 12494              	op_map2.9246:
 12495 0000 3300     		.short	51
 12496 0002 3300     		.short	51
 12497 0004 0003     		.short	768
 12498 0006 0A02     		.short	522
 12499              		.section	.rodata.opcode_breaks,"a"
 12500              		.align	2
 12501              		.set	.LANCHOR7,. + 0
 12504              	opcode_breaks:
 12505 0000 34C0992F 		.ascii	"4\300\231/\014\231/"
 12505      0C992F
 12506              		.section	.rodata.prob_catalogue,"a"
 12507              		.align	2
 12510              	prob_catalogue:
 12511 0000 50D42581 		.ascii	"P\324%\201DV\025u\235YP\023\365}ANU\324\351;S\024\265"
 12511      44561575 
 12511      9D595013 
 12511      F57D414E 
 12511      55D4E93B 
 12512 0017 8D4D5495 		.ascii	"\215MT\225\025\225SUUE\231VS\324\345\221PRT\205\211"
 12512      15955355 
 12512      55459956 
 12512      53D4E591 
 12512      50525485 
 12513 002c 4A519455 		.ascii	"JQ\224U\205GM\225\304\3358OS\305y>V\223\004\3215L\325"
 12513      85474D95 
 12513      C4DD384F 
 12513      53C5793E 
 12513      569304D1 
 12514 0043 B0       		.ascii	"\260"
 12515              		.section	.rodata.prog_catalogue,"a"
ARM GAS  /tmp/cc90KtGY.s 			page 339


 12516              		.align	2
 12519              	prog_catalogue:
 12520 0000 B1CD1C6C 		.ascii	"\261\315\034ly\035G\201\310t*1\233@B\263,\341\272\222"
 12520      791D4781 
 12520      C8742A31 
 12520      9B4042B3 
 12520      2CE1BA92 
 12521 0014 B8CE0B66 		.ascii	"\270\316\013f\3323-\0336\317\302\216#\220\3478\316\214"
 12521      DA332D1B 
 12521      36CFC28E 
 12521      2390E738 
 12521      CE8C
 12522 0026 30DE3770 		.ascii	"0\3367p\260\320\3349G\003\233\011\254\315\361\330\315"
 12522      B0D0DC39 
 12522      47039B09 
 12522      ACCDF1D8 
 12522      CD
 12523 0037 1B4B12BC 		.ascii	"\033K\022\274\262,\016\033\030\322\015\353#\002\244"
 12523      B22C0E1B 
 12523      18D20DEB 
 12523      2302A4
 12524 0046 2A7030E8 		.ascii	"*p0\350\313\250\252<\000\256+o\374X"
 12524      CBA8AA3C 
 12524      00AE2B6F 
 12524      FC58
 12525              		.section	.rodata.program_xfcn,"a"
 12526              		.align	2
 12529              	program_xfcn:
 12530 0000 431A4662 		.ascii	"C\032Fb\3630W\325\372\365=\212#\265\201k\333\342Y\275"
 12530      F33057D5 
 12530      FAF53D8A 
 12530      23B5816B 
 12530      DBE259BD 
 12531 0014 1F511C40 		.ascii	"\037Q\034@B]\022\344\275\203A\257d4\365i\322\024\211"
 12531      425D12E4 
 12531      BD8341AF 
 12531      6434F569 
 12531      D21489
 12532 0027 136D5B66 		.ascii	"\023m[f\225\246d\260\346\361uj\011F\321\005p\031\244"
 12532      95A664B0 
 12532      E6F1756A 
 12532      0946D105 
 12532      7019A4
 12533 003a 9582BE6F 		.ascii	"\225\202\276o\246]\226\\\231F\001\254\\[\263\015\255"
 12533      A65D965C 
 12533      994601AC 
 12533      5C5BB30D 
 12533      AD
 12534 004b 6C512C18 		.ascii	"lQ,\030\225\273n\363\336\356\2740[\323\001\300\206\203"
 12534      95BB6EF3 
 12534      DEEEBC30 
 12534      5BD301C0 
 12534      8683
 12535 005d ED1ABC4C 		.ascii	"\355\032\274L+\313\017(\333&\021\263\015W3)\010A\320"
 12535      2BCB0F28 
 12535      DB2611B3 
 12535      0D573329 
ARM GAS  /tmp/cc90KtGY.s 			page 340


 12535      0841D0
 12536 0070 942DAE2B 		.ascii	"\224-\256+\033u\374\240'\253\202\250\237\255\353Z\346"
 12536      1B75FCA0 
 12536      27AB82A8 
 12536      9FADEB5A 
 12536      E6
 12537 0081 BAAEEBCA 		.ascii	"\272\256\353\312\330\241*\331\224\221\235g\231\266q"
 12537      D8A12AD9 
 12537      94919D67 
 12537      99B671
 12538 0090 B05F1007 		.ascii	"\260_\020\007\031\305h\233\365\265jh\\p"
 12538      19C5689B 
 12538      F5B56A68 
 12538      5C70
 12539              		.section	.rodata.smap.9170,"a"
 12540              		.align	2
 12541              		.set	.LANCHOR16,. + 0
 12544              	smap.9170:
 12545 0000 00010002 		.ascii	"\000\001\000\002"
 12546              		.section	.rodata.stats_catalogue,"a"
 12547              		.align	2
 12550              	stats_catalogue:
 12551 0000 1805C1A0 		.ascii	"\030\005\301\240]\027\311qXa\026\205\225\240T\027\205"
 12551      5D17C971 
 12551      58611685 
 12551      95A05417 
 12551      85
 12552 0011 514C575A 		.ascii	"QLWZ\200"
 12552      80
 12553              		.section	.rodata.sums_catalogue,"a"
 12554              		.align	2
 12557              	sums_catalogue:
 12558 0000 1444B134 		.ascii	"\024D\2614J\023\204\301 E\021\004\361\034I\021\205\000"
 12558      4A1384C1 
 12558      20451104 
 12558      F11C4911 
 12558      8500
 12559              		.section	.rodata.test_catalogue,"a"
 12560              		.align	2
 12563              	test_catalogue:
 12564 0000 BE2F7C54 		.ascii	"\276/|T\353/\313\333\226\351\272\356\242\362\344\271"
 12564      EB2FCBDB 
 12564      96E9BAEE 
 12564      A2F2E4B9 
 12565 0010 AE8B9CD3 		.ascii	"\256\213\234\323.\357\353L\2356\213\202\370\2725\013"
 12565      2EEFEB4C 
 12565      9D368B82 
 12565      F8BA350B 
 12566 0020 9340F0B0 		.ascii	"\223@\360\260,\023T\326\257\354;\010\267<@"
 12566      2C1354D6 
 12566      AFEC3B08 
 12566      B73C40
 12567              		.text
 12568              	.Letext0:
 12569              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 12570              		.file 3 "dmcp/dmcp.h"
 12571              		.file 4 "src/decNumber/decContext.h"
ARM GAS  /tmp/cc90KtGY.s 			page 341


 12572              		.file 5 "src/decNumber/decNumber.h"
 12573              		.file 6 "src/decNumber/decimal64.h"
 12574              		.file 7 "src/decNumber/decimal128.h"
 12575              		.file 8 "src/xeq.h"
 12576              		.file 9 "src/data.h"
 12577              		.file 10 "src/keys.h"
 12578              		.file 11 "src/display.h"
 12579              		.file 12 "src/consts.h"
 12580              		.file 13 "src/storage.h"
 12581              		.file 14 "src/stats.h"
 12582              		.file 15 "src/catalogues.h"
 12583              		.file 16 "src/lcd.h"
 12584              		.file 17 "src/int.h"
ARM GAS  /tmp/cc90KtGY.s 			page 342


DEFINED SYMBOLS
                            *ABS*:0000000000000000 keys.c
     /tmp/cc90KtGY.s:18     .text.gtodot_digit:0000000000000000 $t
     /tmp/cc90KtGY.s:26     .text.gtodot_digit:0000000000000000 gtodot_digit
     /tmp/cc90KtGY.s:110    .text.gtodot_digit:0000000000000054 $d
     /tmp/cc90KtGY.s:117    .text.check_f_key:0000000000000000 $t
     /tmp/cc90KtGY.s:124    .text.check_f_key:0000000000000000 check_f_key
     /tmp/cc90KtGY.s:202    .text.check_f_key:0000000000000038 $d
     /tmp/cc90KtGY.s:208    .text.is_label_or_end_at:0000000000000000 $t
     /tmp/cc90KtGY.s:215    .text.is_label_or_end_at:0000000000000000 is_label_or_end_at
     /tmp/cc90KtGY.s:271    .text.advance_to_next_label:0000000000000000 $t
     /tmp/cc90KtGY.s:278    .text.advance_to_next_label:0000000000000000 advance_to_next_label
     /tmp/cc90KtGY.s:359    .text.advance_to_next_label:0000000000000048 $d
     /tmp/cc90KtGY.s:364    .text.init_cat:0000000000000000 $t
     /tmp/cc90KtGY.s:371    .text.init_cat:0000000000000000 init_cat
     /tmp/cc90KtGY.s:696    .text.init_cat:00000000000000ec $d
     /tmp/cc90KtGY.s:702    .text.advance_to_previous_label:0000000000000000 $t
     /tmp/cc90KtGY.s:709    .text.advance_to_previous_label:0000000000000000 advance_to_previous_label
     /tmp/cc90KtGY.s:794    .text.advance_to_previous_label:000000000000004c $d
     /tmp/cc90KtGY.s:799    .text.check_confirm.part.0:0000000000000000 $t
     /tmp/cc90KtGY.s:806    .text.check_confirm.part.0:0000000000000000 check_confirm.part.0
     /tmp/cc90KtGY.s:860    .text.check_confirm.part.0:0000000000000028 $d
                            *COM*:0000000000000004 NonProgrammable
     /tmp/cc90KtGY.s:867    .text.init_arg.part.0:0000000000000000 $t
     /tmp/cc90KtGY.s:874    .text.init_arg.part.0:0000000000000000 init_arg.part.0
     /tmp/cc90KtGY.s:916    .text.init_arg.part.0:0000000000000024 $d
     /tmp/cc90KtGY.s:921    .text.reset_arg:0000000000000000 $t
     /tmp/cc90KtGY.s:928    .text.reset_arg:0000000000000000 reset_arg
     /tmp/cc90KtGY.s:972    .text.reset_arg:0000000000000018 $d
     /tmp/cc90KtGY.s:977    .text.arg_eval:0000000000000000 $t
     /tmp/cc90KtGY.s:984    .text.arg_eval:0000000000000000 arg_eval
     /tmp/cc90KtGY.s:1106   .text.arg_eval:0000000000000074 $d
     /tmp/cc90KtGY.s:1113   .text.process_arg_shuffle:0000000000000000 $t
     /tmp/cc90KtGY.s:1120   .text.process_arg_shuffle:0000000000000000 process_arg_shuffle
     /tmp/cc90KtGY.s:1178   .text.process_arg_shuffle:000000000000002c $d
     /tmp/cc90KtGY.s:1183   .text.arg_digit:0000000000000000 $t
     /tmp/cc90KtGY.s:1190   .text.arg_digit:0000000000000000 arg_digit
     /tmp/cc90KtGY.s:1415   .text.arg_digit:00000000000000c8 $d
     /tmp/cc90KtGY.s:1423   .text.intltr:0000000000000000 $t
     /tmp/cc90KtGY.s:1430   .text.intltr:0000000000000000 intltr
     /tmp/cc90KtGY.s:1493   .text.intltr:0000000000000030 $d
     /tmp/cc90KtGY.s:1499   .text.set_window:0000000000000000 $t
     /tmp/cc90KtGY.s:1506   .text.set_window:0000000000000000 set_window
     /tmp/cc90KtGY.s:1653   .text.set_window:000000000000008c $d
     /tmp/cc90KtGY.s:1660   .text.arg_storcl:0000000000000000 $t
     /tmp/cc90KtGY.s:1667   .text.arg_storcl:0000000000000000 arg_storcl
     /tmp/cc90KtGY.s:1783   .text.arg_storcl:0000000000000040 $d
     /tmp/cc90KtGY.s:1788   .text.process_arg:0000000000000000 $t
     /tmp/cc90KtGY.s:1795   .text.process_arg:0000000000000000 process_arg
     /tmp/cc90KtGY.s:2016   .text.process_arg:000000000000009c $d
     /tmp/cc90KtGY.s:2063   .text.process_arg:00000000000000f8 $t
     /tmp/cc90KtGY.s:2096   .text.process_arg:000000000000011e $d
     /tmp/cc90KtGY.s:2540   .text.process_arg:00000000000002b8 $d
     /tmp/cc90KtGY.s:2552   .text.process_arg:00000000000002cc $t
     /tmp/cc90KtGY.s:2925   .text.process_arg:0000000000000474 $d
     /tmp/cc90KtGY.s:2930   .text.cur_shift:0000000000000000 $t
     /tmp/cc90KtGY.s:2938   .text.cur_shift:0000000000000000 cur_shift
ARM GAS  /tmp/cc90KtGY.s 			page 343


     /tmp/cc90KtGY.s:2966   .text.cur_shift:0000000000000010 $d
     /tmp/cc90KtGY.s:2971   .text.reset_shift:0000000000000000 $t
     /tmp/cc90KtGY.s:2979   .text.reset_shift:0000000000000000 reset_shift
     /tmp/cc90KtGY.s:3040   .text.reset_shift:0000000000000014 $d
     /tmp/cc90KtGY.s:3045   .text.keycode_to_row_column:0000000000000000 $t
     /tmp/cc90KtGY.s:3053   .text.keycode_to_row_column:0000000000000000 keycode_to_row_column
     /tmp/cc90KtGY.s:3081   .text.keycode_to_row_column:0000000000000020 $d
     /tmp/cc90KtGY.s:3086   .text.row_column_to_keycode:0000000000000000 $t
     /tmp/cc90KtGY.s:3094   .text.row_column_to_keycode:0000000000000000 row_column_to_keycode
     /tmp/cc90KtGY.s:3152   .text.row_column_to_keycode:000000000000003c $d
     /tmp/cc90KtGY.s:3157   .text.keycode_to_digit_or_register:0000000000000000 $t
     /tmp/cc90KtGY.s:3165   .text.keycode_to_digit_or_register:0000000000000000 keycode_to_digit_or_register
     /tmp/cc90KtGY.s:3201   .text.keycode_to_digit_or_register:000000000000000c $d
     /tmp/cc90KtGY.s:3207   .text.init_state:0000000000000000 $t
     /tmp/cc90KtGY.s:3215   .text.init_state:0000000000000000 init_state
     /tmp/cc90KtGY.s:3321   .text.init_state:000000000000005c $d
     /tmp/cc90KtGY.s:3327   .text.soft_init_state:0000000000000000 $t
     /tmp/cc90KtGY.s:3335   .text.soft_init_state:0000000000000000 soft_init_state
     /tmp/cc90KtGY.s:3430   .text.soft_init_state:0000000000000048 $d
     /tmp/cc90KtGY.s:3436   .text.current_catalogue_max:0000000000000000 $t
     /tmp/cc90KtGY.s:3444   .text.current_catalogue_max:0000000000000000 current_catalogue_max
     /tmp/cc90KtGY.s:3465   .text.current_catalogue_max:000000000000000c $d
     /tmp/cc90KtGY.s:3471   .text.current_catalogue:0000000000000000 $t
     /tmp/cc90KtGY.s:3479   .text.current_catalogue:0000000000000000 current_catalogue
     /tmp/cc90KtGY.s:3735   .text.current_catalogue:00000000000000c8 $d
     /tmp/cc90KtGY.s:3745   .text.process_catalogue:0000000000000000 $t
     /tmp/cc90KtGY.s:3752   .text.process_catalogue:0000000000000000 process_catalogue
     /tmp/cc90KtGY.s:4084   .text.process_catalogue:0000000000000100 $d
     /tmp/cc90KtGY.s:4116   .text.process_catalogue:0000000000000120 $t
     /tmp/cc90KtGY.s:4624   .text.process_catalogue:00000000000002dc $d
     /tmp/cc90KtGY.s:4645   .text.process_catalogue:00000000000002fc $t
     /tmp/cc90KtGY.s:4675   .text.find_pos:0000000000000000 $t
     /tmp/cc90KtGY.s:4683   .text.find_pos:0000000000000000 find_pos
     /tmp/cc90KtGY.s:4856   .text.find_pos:0000000000000080 $d
     /tmp/cc90KtGY.s:4862   .text.get_alpha_state:0000000000000000 $t
     /tmp/cc90KtGY.s:4870   .text.get_alpha_state:0000000000000000 get_alpha_state
     /tmp/cc90KtGY.s:4902   .text.get_alpha_state:0000000000000020 $d
     /tmp/cc90KtGY.s:4908   .rodata.process_keycode.str1.4:0000000000000000 $d
     /tmp/cc90KtGY.s:4918   .text.process_keycode:0000000000000000 $t
     /tmp/cc90KtGY.s:4926   .text.process_keycode:0000000000000000 process_keycode
     /tmp/cc90KtGY.s:5544   .text.process_keycode:00000000000002a8 $d
                            *COM*:0000000000000004 OpCode
                            *COM*:0000000000000004 GoFast
                            *COM*:0000000000000004 OpCodeDisplayPending
                            *COM*:0000000000000004 WasDataEntry
     /tmp/cc90KtGY.s:5563   .text.process_keycode:00000000000002e8 $t
     /tmp/cc90KtGY.s:5679   .text.process_keycode:0000000000000362 $d
     /tmp/cc90KtGY.s:5699   .text.process_keycode:0000000000000388 $t
     /tmp/cc90KtGY.s:6028   .text.process_keycode:00000000000004c0 $d
     /tmp/cc90KtGY.s:6075   .text.process_keycode:00000000000004ee $t
     /tmp/cc90KtGY.s:6283   .text.process_keycode:00000000000005a0 $d
     /tmp/cc90KtGY.s:6293   .text.process_keycode:00000000000005c4 $t
     /tmp/cc90KtGY.s:6335   .text.process_keycode:00000000000005dc $d
     /tmp/cc90KtGY.s:6361   .text.process_keycode:0000000000000620 $t
     /tmp/cc90KtGY.s:6752   .text.process_keycode:00000000000007b8 $d
     /tmp/cc90KtGY.s:6761   .text.process_keycode:00000000000007dc $t
     /tmp/cc90KtGY.s:6857   .text.process_keycode:0000000000000834 $d
ARM GAS  /tmp/cc90KtGY.s 			page 344


     /tmp/cc90KtGY.s:6883   .text.process_keycode:000000000000089c $t
     /tmp/cc90KtGY.s:6922   .text.process_keycode:00000000000008d0 $d
     /tmp/cc90KtGY.s:6926   .text.process_keycode:00000000000008e0 $t
     /tmp/cc90KtGY.s:7014   .text.process_keycode:0000000000000944 $d
     /tmp/cc90KtGY.s:7040   .text.process_keycode:0000000000000964 $t
     /tmp/cc90KtGY.s:8009   .text.process_keycode:0000000000000cc4 $d
     /tmp/cc90KtGY.s:8024   .text.process_keycode:0000000000000ce8 $t
     /tmp/cc90KtGY.s:8315   .text.process_keycode:0000000000000ddc $d
     /tmp/cc90KtGY.s:8350   .text.process_keycode:0000000000000e68 $t
     /tmp/cc90KtGY.s:8598   .text.process_keycode:0000000000000f5c $d
     /tmp/cc90KtGY.s:8618   .text.process_keycode:0000000000000fac $t
     /tmp/cc90KtGY.s:8823   .text.process_keycode:000000000000104c $d
     /tmp/cc90KtGY.s:8841   .text.process_keycode:0000000000001094 $t
     /tmp/cc90KtGY.s:8877   .text.process_keycode:00000000000010c8 $d
     /tmp/cc90KtGY.s:8885   .text.process_keycode:00000000000010d8 $t
     /tmp/cc90KtGY.s:9307   .text.process_keycode:0000000000001220 $d
     /tmp/cc90KtGY.s:9341   .text.process_keycode:00000000000012a8 $t
     /tmp/cc90KtGY.s:9654   .text.process_keycode:00000000000013b4 $d
     /tmp/cc90KtGY.s:9689   .text.process_keycode:000000000000143c $t
     /tmp/cc90KtGY.s:9966   .text.process_keycode:000000000000151c $d
     /tmp/cc90KtGY.s:10011  .text.process_keycode:0000000000001538 $t
     /tmp/cc90KtGY.s:10101  .text.process_keycode:0000000000001576 $d
     /tmp/cc90KtGY.s:10726  .text.process_keycode:000000000000181c $d
     /tmp/cc90KtGY.s:10739  .text.process_keycode:000000000000182c $t
     /tmp/cc90KtGY.s:10900  .text.process_keycode:00000000000018e4 $d
     /tmp/cc90KtGY.s:10942  .text.process_keycode:0000000000001988 $t
     /tmp/cc90KtGY.s:11641  .text.process_keycode:0000000000001c08 $d
     /tmp/cc90KtGY.s:11654  .text.process_keycode:0000000000001c18 $t
     /tmp/cc90KtGY.s:11756  .text.process_keycode_with_shift:0000000000000000 $t
     /tmp/cc90KtGY.s:11764  .text.process_keycode_with_shift:0000000000000000 process_keycode_with_shift
     /tmp/cc90KtGY.s:11857  .text.process_keycode_with_shift:0000000000000034 $d
     /tmp/cc90KtGY.s:11867  .bss.was_paused.9646:0000000000000000 $d
     /tmp/cc90KtGY.s:11871  .bss.was_paused.9646:0000000000000000 was_paused.9646
     /tmp/cc90KtGY.s:11874  .rodata.alpha_arrows:0000000000000000 $d
     /tmp/cc90KtGY.s:11877  .rodata.alpha_arrows:0000000000000000 alpha_arrows
     /tmp/cc90KtGY.s:11880  .rodata.alpha_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:11883  .rodata.alpha_catalogue:0000000000000000 alpha_catalogue
     /tmp/cc90KtGY.s:11887  .rodata.alpha_compares:0000000000000000 $d
     /tmp/cc90KtGY.s:11890  .rodata.alpha_compares:0000000000000000 alpha_compares
     /tmp/cc90KtGY.s:11893  .rodata.alpha_letters:0000000000000000 $d
     /tmp/cc90KtGY.s:11897  .rodata.alpha_letters:0000000000000000 alpha_letters
     /tmp/cc90KtGY.s:11903  .rodata.alpha_letters_lower:0000000000000000 $d
     /tmp/cc90KtGY.s:11907  .rodata.alpha_letters_lower:0000000000000000 alpha_letters_lower
     /tmp/cc90KtGY.s:11913  .rodata.alpha_subscripts:0000000000000000 $d
     /tmp/cc90KtGY.s:11916  .rodata.alpha_subscripts:0000000000000000 alpha_subscripts
     /tmp/cc90KtGY.s:11920  .rodata.alpha_symbols:0000000000000000 $d
     /tmp/cc90KtGY.s:11923  .rodata.alpha_symbols:0000000000000000 alpha_symbols
     /tmp/cc90KtGY.s:11926  .rodata.alphamap.9178:0000000000000000 $d
     /tmp/cc90KtGY.s:11930  .rodata.alphamap.9178:0000000000000000 alphamap.9178
     /tmp/cc90KtGY.s:11970  .rodata.amap.9169:0000000000000000 $d
     /tmp/cc90KtGY.s:11974  .rodata.amap.9169:0000000000000000 amap.9169
     /tmp/cc90KtGY.s:11988  .rodata.catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:11991  .rodata.catalogue:0000000000000000 catalogue
     /tmp/cc90KtGY.s:12000  .rodata.catalogue_sizes.9444:0000000000000000 $d
     /tmp/cc90KtGY.s:12004  .rodata.catalogue_sizes.9444:0000000000000000 catalogue_sizes.9444
     /tmp/cc90KtGY.s:12007  .rodata.catalogues.9452:0000000000000000 $d
     /tmp/cc90KtGY.s:12011  .rodata.catalogues.9452:0000000000000000 catalogues.9452
ARM GAS  /tmp/cc90KtGY.s 			page 345


     /tmp/cc90KtGY.s:12096  .rodata.cplx_catalogue:0000000000000000 cplx_catalogue
     /tmp/cc90KtGY.s:12550  .rodata.stats_catalogue:0000000000000000 stats_catalogue
     /tmp/cc90KtGY.s:12510  .rodata.prob_catalogue:0000000000000000 prob_catalogue
     /tmp/cc90KtGY.s:12113  .rodata.int_catalogue:0000000000000000 int_catalogue
     /tmp/cc90KtGY.s:12519  .rodata.prog_catalogue:0000000000000000 prog_catalogue
     /tmp/cc90KtGY.s:12529  .rodata.program_xfcn:0000000000000000 program_xfcn
     /tmp/cc90KtGY.s:12563  .rodata.test_catalogue:0000000000000000 test_catalogue
     /tmp/cc90KtGY.s:12159  .rodata.mode_catalogue:0000000000000000 mode_catalogue
     /tmp/cc90KtGY.s:12557  .rodata.sums_catalogue:0000000000000000 sums_catalogue
     /tmp/cc90KtGY.s:12152  .rodata.matrix_catalogue:0000000000000000 matrix_catalogue
     /tmp/cc90KtGY.s:12034  .rodata.cmap.9168:0000000000000000 $d
     /tmp/cc90KtGY.s:12038  .rodata.cmap.9168:0000000000000000 cmap.9168
     /tmp/cc90KtGY.s:12064  .rodata.conv_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12068  .rodata.conv_catalogue:0000000000000000 conv_catalogue
     /tmp/cc90KtGY.s:12075  .rodata.conv_mapping.9491:0000000000000000 $d
     /tmp/cc90KtGY.s:12079  .rodata.conv_mapping.9491:0000000000000000 conv_mapping.9491
     /tmp/cc90KtGY.s:12093  .rodata.cplx_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12100  .rodata.disp.9306:0000000000000000 $d
     /tmp/cc90KtGY.s:12104  .rodata.disp.9306:0000000000000000 disp.9306
     /tmp/cc90KtGY.s:12110  .rodata.int_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12120  .rodata.linear_key_map.9139:0000000000000000 $d
     /tmp/cc90KtGY.s:12124  .rodata.linear_key_map.9139:0000000000000000 linear_key_map.9139
     /tmp/cc90KtGY.s:12130  .rodata.linear_key_map.9143:0000000000000000 $d
     /tmp/cc90KtGY.s:12134  .rodata.linear_key_map.9143:0000000000000000 linear_key_map.9143
     /tmp/cc90KtGY.s:12140  .rodata.map.9155:0000000000000000 $d
     /tmp/cc90KtGY.s:12144  .rodata.map.9155:0000000000000000 map.9155
     /tmp/cc90KtGY.s:12149  .rodata.matrix_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12156  .rodata.mode_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12165  .rodata.op_map.9222:0000000000000000 $d
     /tmp/cc90KtGY.s:12169  .rodata.op_map.9222:0000000000000000 op_map.9222
     /tmp/cc90KtGY.s:12206  .rodata.op_map.9245:0000000000000000 $d
     /tmp/cc90KtGY.s:12210  .rodata.op_map.9245:0000000000000000 op_map.9245
     /tmp/cc90KtGY.s:12282  .rodata.op_map.9268:0000000000000000 $d
     /tmp/cc90KtGY.s:12286  .rodata.op_map.9268:0000000000000000 op_map.9268
     /tmp/cc90KtGY.s:12323  .rodata.op_map.9278:0000000000000000 $d
     /tmp/cc90KtGY.s:12327  .rodata.op_map.9278:0000000000000000 op_map.9278
     /tmp/cc90KtGY.s:12469  .rodata.op_map.9290:0000000000000000 $d
     /tmp/cc90KtGY.s:12473  .rodata.op_map.9290:0000000000000000 op_map.9290
     /tmp/cc90KtGY.s:12478  .rodata.op_map.9305:0000000000000000 $d
     /tmp/cc90KtGY.s:12482  .rodata.op_map.9305:0000000000000000 op_map.9305
     /tmp/cc90KtGY.s:12490  .rodata.op_map2.9246:0000000000000000 $d
     /tmp/cc90KtGY.s:12494  .rodata.op_map2.9246:0000000000000000 op_map2.9246
     /tmp/cc90KtGY.s:12500  .rodata.opcode_breaks:0000000000000000 $d
     /tmp/cc90KtGY.s:12504  .rodata.opcode_breaks:0000000000000000 opcode_breaks
     /tmp/cc90KtGY.s:12507  .rodata.prob_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12516  .rodata.prog_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12526  .rodata.program_xfcn:0000000000000000 $d
     /tmp/cc90KtGY.s:12540  .rodata.smap.9170:0000000000000000 $d
     /tmp/cc90KtGY.s:12544  .rodata.smap.9170:0000000000000000 smap.9170
     /tmp/cc90KtGY.s:12547  .rodata.stats_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12554  .rodata.sums_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:12560  .rodata.test_catalogue:0000000000000000 $d
     /tmp/cc90KtGY.s:2100   .text.process_arg:0000000000000121 $d
     /tmp/cc90KtGY.s:2100   .text.process_arg:0000000000000122 $t
     /tmp/cc90KtGY.s:10142  .text.process_keycode:000000000000159f $d
     /tmp/cc90KtGY.s:10142  .text.process_keycode:00000000000015a0 $t

ARM GAS  /tmp/cc90KtGY.s 			page 346


UNDEFINED SYMBOLS
sizeLIB
main_ram
StateWhileOn
find_label_from
getprog
do_inc
PcWrapped
process_cmdline
shift_down
do_dec
is_bad_cmdline
argcmds
local_regs_rarg
num_arg_digits
global_regs_rarg
int_base
process_cmdline_set_lift
display
is_dblmode
IntMaxWindow
xset
update_program_bounds
set_lift
ShowRegister
remap_chars
catcmd
keyticks
xeq_init_contexts
is_dot
xeq
xeqprog
dot
xeq_xrom
is_key_pressed
Pause
JustStopped
Running
ShowRPN
JustDisplayed
DispMsg
set_running_off
clr_dot
finish_RPN
xeq_sst_bst
message
set_menu
display_current_menu
delprog
stoprog
prt
scopy_char
clpall
clrprog
reset
clrall
set_pc
ARM GAS  /tmp/cc90KtGY.s 			page 347


find_char
TraceBuffer
set_last_menu
find_user_pc
cmdgtocommon
global_regs
local_regs
alen
