ARM GAS  /tmp/ccrwXAwg.s 			page 1


   1              		.arch armv7e-m
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"date.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.JDN,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	JDN:
  27              	.LVL0:
  28              	.LFB1:
  29              		.file 1 "src/date.c"
   1:src/date.c    **** /* This file is part of 34S.
   2:src/date.c    ****  * 
   3:src/date.c    ****  * 34S is free software: you can redistribute it and/or modify
   4:src/date.c    ****  * it under the terms of the GNU General Public License as published by
   5:src/date.c    ****  * the Free Software Foundation, either version 3 of the License, or
   6:src/date.c    ****  * (at your option) any later version.
   7:src/date.c    ****  * 
   8:src/date.c    ****  * 34S is distributed in the hope that it will be useful,
   9:src/date.c    ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  10:src/date.c    ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  11:src/date.c    ****  * GNU General Public License for more details.
  12:src/date.c    ****  * 
  13:src/date.c    ****  * You should have received a copy of the GNU General Public License
  14:src/date.c    ****  * along with 34S.  If not, see <http://www.gnu.org/licenses/>.
  15:src/date.c    ****  */
  16:src/date.c    **** 
  17:src/date.c    **** #ifdef REALBUILD
  18:src/date.c    **** #include "atmel/rtc.h"
  19:src/date.c    **** #elif defined(DM42)
  20:src/date.c    **** #include "dmcp.h"
  21:src/date.c    **** #else
  22:src/date.c    **** #include <time.h>
  23:src/date.c    **** #endif
  24:src/date.c    **** 
  25:src/date.c    **** #define DM42SAFE
  26:src/date.c    **** #include "date.h"
  27:src/date.c    **** #include "decn.h"
  28:src/date.c    **** #include "xeq.h"
  29:src/date.c    **** #include "storage.h"
ARM GAS  /tmp/ccrwXAwg.s 			page 2


  30:src/date.c    **** #include "consts.h"
  31:src/date.c    **** #include "alpha.h"
  32:src/date.c    **** #undef DM42SAFE
  33:src/date.c    **** 
  34:src/date.c    **** /* Test if a date is Gregorian or Julian
  35:src/date.c    ****  */
  36:src/date.c    **** static int isGregorian(int year, int month, int day) {
  37:src/date.c    **** 	int y, m, d;
  38:src/date.c    **** 	if (UState.jg1582) {
  39:src/date.c    **** 		y = 1582;
  40:src/date.c    **** 		m = 10;
  41:src/date.c    **** 		d = 15;
  42:src/date.c    **** 	} else {
  43:src/date.c    **** 		y = 1752;
  44:src/date.c    **** 		m = 9;
  45:src/date.c    **** 		d = 14;
  46:src/date.c    **** 	}
  47:src/date.c    **** 	if (year > y)
  48:src/date.c    **** 		return 1;
  49:src/date.c    **** 	if (year < y)
  50:src/date.c    **** 		return 0;
  51:src/date.c    **** 	if (month < m)
  52:src/date.c    **** 		return 0;
  53:src/date.c    **** 	if (month > m)
  54:src/date.c    **** 		return 1;
  55:src/date.c    **** 	if (day < d)
  56:src/date.c    **** 		return 0;
  57:src/date.c    **** 	return 1;
  58:src/date.c    **** }
  59:src/date.c    **** 
  60:src/date.c    **** 
  61:src/date.c    **** /* Convert a date to a Julian day number
  62:src/date.c    ****  */
  63:src/date.c    **** static int JDN(int year, int month, int day) {
  30              		.loc 1 63 46 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  64:src/date.c    **** 	const int a = (14 - month) / 12;
  34              		.loc 1 64 2 view .LVU1
  35              	.LBB39:
  36              	.LBB40:
  38:src/date.c    **** 		y = 1582;
  37              		.loc 1 38 6 is_stmt 0 view .LVU2
  38 0000 2B4B     		ldr	r3, .L12
  39              	.LBE40:
  40              	.LBE39:
  63:src/date.c    **** 	const int a = (14 - month) / 12;
  41              		.loc 1 63 46 view .LVU3
  42 0002 F0B5     		push	{r4, r5, r6, r7, lr}
  43              		.cfi_def_cfa_offset 20
  44              		.cfi_offset 4, -20
  45              		.cfi_offset 5, -16
  46              		.cfi_offset 6, -12
  47              		.cfi_offset 7, -8
  48              		.cfi_offset 14, -4
  49              	.LBB48:
ARM GAS  /tmp/ccrwXAwg.s 			page 3


  50              	.LBB41:
  38:src/date.c    **** 		y = 1582;
  51              		.loc 1 38 6 view .LVU4
  52 0004 1D68     		ldr	r5, [r3]
  53              	.LBE41:
  54              	.LBE48:
  55              		.loc 1 64 12 view .LVU5
  56 0006 2B4C     		ldr	r4, .L12+4
  57              	.LBB49:
  58              	.LBB42:
  38:src/date.c    **** 		y = 1582;
  59              		.loc 1 38 5 view .LVU6
  60 0008 95F9EB57 		ldrsb	r5, [r5, #2027]
  61              	.LBE42:
  62              	.LBE49:
  63              		.loc 1 64 20 view .LVU7
  64 000c C1F10E03 		rsb	r3, r1, #14
  65              		.loc 1 64 12 view .LVU8
  66 0010 84FB0364 		smull	r6, r4, r4, r3
  67 0014 DB17     		asrs	r3, r3, #31
  68 0016 C3EB6404 		rsb	r4, r3, r4, asr #1
  69              	.LVL1:
  65:src/date.c    **** 	const int y = year + 4800 - a;
  70              		.loc 1 65 2 is_stmt 1 view .LVU9
  71              	.LBB50:
  72              	.LBB43:
  38:src/date.c    **** 		y = 1582;
  73              		.loc 1 38 5 is_stmt 0 view .LVU10
  74 001a 002D     		cmp	r5, #0
  75              	.LBE43:
  76              	.LBE50:
  66:src/date.c    **** 	const int m = month + 12 * a - 3;
  77              		.loc 1 66 27 view .LVU11
  78 001c 04EB4406 		add	r6, r4, r4, lsl #1
  79              	.LBB51:
  80              	.LBB44:
  45:src/date.c    **** 	}
  81              		.loc 1 45 5 view .LVU12
  82 0020 40F22E65 		movw	r5, #1582
  83              	.LBE44:
  84              	.LBE51:
  85              		.loc 1 66 22 view .LVU13
  86 0024 01EB8603 		add	r3, r1, r6, lsl #2
  87              	.LBB52:
  88              	.LBB45:
  45:src/date.c    **** 	}
  89              		.loc 1 45 5 view .LVU14
  90 0028 B4BF     		ite	lt
  91 002a 2E46     		movlt	r6, r5
  92 002c 4FF4DB66 		movge	r6, #1752
  93              	.LBE45:
  94              	.LBE52:
  65:src/date.c    **** 	const int y = year + 4800 - a;
  95              		.loc 1 65 21 view .LVU15
  96 0030 00F59657 		add	r7, r0, #4800
  97              	.LBB53:
  98              	.LBB46:
ARM GAS  /tmp/ccrwXAwg.s 			page 4


  45:src/date.c    **** 	}
  99              		.loc 1 45 5 view .LVU16
 100 0034 B5BF     		itete	lt
 101 0036 4FF00F0E 		movlt	lr, #15
 102 003a 4FF00E0E 		movge	lr, #14
 103 003e 4FF00A0C 		movlt	ip, #10
 104 0042 4FF0090C 		movge	ip, #9
  47:src/date.c    **** 		return 1;
 105              		.loc 1 47 5 view .LVU17
 106 0046 B042     		cmp	r0, r6
 107              	.LBE46:
 108              	.LBE53:
 109              		.loc 1 66 12 view .LVU18
 110 0048 A3F10303 		sub	r3, r3, #3
  65:src/date.c    **** 	const int m = month + 12 * a - 3;
 111              		.loc 1 65 12 view .LVU19
 112 004c A7EB0405 		sub	r5, r7, r4
 113              	.LVL2:
 114              		.loc 1 66 2 is_stmt 1 view .LVU20
  67:src/date.c    **** 	int jdn;
 115              		.loc 1 67 2 view .LVU21
  68:src/date.c    **** 
  69:src/date.c    **** 	if (isGregorian(year, month, day))
 116              		.loc 1 69 2 view .LVU22
 117              	.LBB54:
 118              	.LBI39:
  36:src/date.c    **** 	int y, m, d;
 119              		.loc 1 36 12 view .LVU23
 120              	.LBB47:
  37:src/date.c    **** 	if (UState.jg1582) {
 121              		.loc 1 37 2 view .LVU24
  38:src/date.c    **** 		y = 1582;
 122              		.loc 1 38 2 view .LVU25
  47:src/date.c    **** 		return 1;
 123              		.loc 1 47 2 view .LVU26
  47:src/date.c    **** 		return 1;
 124              		.loc 1 47 5 is_stmt 0 view .LVU27
 125 0050 05DC     		bgt	.L3
  49:src/date.c    **** 		return 0;
 126              		.loc 1 49 2 is_stmt 1 view .LVU28
  49:src/date.c    **** 		return 0;
 127              		.loc 1 49 5 is_stmt 0 view .LVU29
 128 0052 2BDB     		blt	.L9
  51:src/date.c    **** 		return 0;
 129              		.loc 1 51 2 is_stmt 1 view .LVU30
  51:src/date.c    **** 		return 0;
 130              		.loc 1 51 5 is_stmt 0 view .LVU31
 131 0054 6145     		cmp	r1, ip
 132 0056 29DB     		blt	.L9
  53:src/date.c    **** 		return 1;
 133              		.loc 1 53 2 is_stmt 1 view .LVU32
  53:src/date.c    **** 		return 1;
 134              		.loc 1 53 5 is_stmt 0 view .LVU33
 135 0058 01DC     		bgt	.L3
  55:src/date.c    **** 		return 0;
 136              		.loc 1 55 2 is_stmt 1 view .LVU34
  55:src/date.c    **** 		return 0;
ARM GAS  /tmp/ccrwXAwg.s 			page 5


 137              		.loc 1 55 5 is_stmt 0 view .LVU35
 138 005a 7245     		cmp	r2, lr
 139 005c 26DB     		blt	.L9
 140              	.L3:
 141              	.LVL3:
  55:src/date.c    **** 		return 0;
 142              		.loc 1 55 5 view .LVU36
 143              	.LBE47:
 144              	.LBE54:
  70:src/date.c    **** 		jdn = -y/100 + y/400 - 32045;
 145              		.loc 1 70 3 is_stmt 1 view .LVU37
 146              		.loc 1 70 11 is_stmt 0 view .LVU38
 147 005e 164E     		ldr	r6, .L12+8
 148              		.loc 1 70 9 view .LVU39
 149 0060 E41B     		subs	r4, r4, r7
 150              	.LVL4:
 151              		.loc 1 70 11 view .LVU40
 152 0062 86FB0401 		smull	r0, r1, r6, r4
 153              	.LVL5:
 154              		.loc 1 70 19 view .LVU41
 155 0066 86FB0506 		smull	r0, r6, r6, r5
 156              		.loc 1 70 11 view .LVU42
 157 006a E417     		asrs	r4, r4, #31
 158              		.loc 1 70 19 view .LVU43
 159 006c E817     		asrs	r0, r5, #31
 160              		.loc 1 70 11 view .LVU44
 161 006e C4EB6111 		rsb	r1, r4, r1, asr #5
 162              		.loc 1 70 19 view .LVU45
 163 0072 C0EBE610 		rsb	r0, r0, r6, asr #7
 164              		.loc 1 70 16 view .LVU46
 165 0076 0144     		add	r1, r1, r0
 166              		.loc 1 70 7 view .LVU47
 167 0078 A1F5FA41 		sub	r1, r1, #32000
 168 007c 2D39     		subs	r1, r1, #45
 169              	.LVL6:
 170              	.L4:
  71:src/date.c    **** 	else
  72:src/date.c    **** 		jdn = -32083;
  73:src/date.c    **** 	jdn += day + (153 * m + 2) / 5 + 365*y + y/4;
 171              		.loc 1 73 2 is_stmt 1 view .LVU48
  74:src/date.c    **** 	return jdn;
 172              		.loc 1 74 2 view .LVU49
  73:src/date.c    **** 	return jdn;
 173              		.loc 1 73 20 is_stmt 0 view .LVU50
 174 007e 03EBC303 		add	r3, r3, r3, lsl #3
 175              	.LVL7:
  73:src/date.c    **** 	return jdn;
 176              		.loc 1 73 29 view .LVU51
 177 0082 0E48     		ldr	r0, .L12+12
  73:src/date.c    **** 	return jdn;
 178              		.loc 1 73 20 view .LVU52
 179 0084 03EB0313 		add	r3, r3, r3, lsl #4
  73:src/date.c    **** 	return jdn;
 180              		.loc 1 73 24 view .LVU53
 181 0088 0233     		adds	r3, r3, #2
  73:src/date.c    **** 	return jdn;
 182              		.loc 1 73 29 view .LVU54
ARM GAS  /tmp/ccrwXAwg.s 			page 6


 183 008a 80FB0340 		smull	r4, r0, r0, r3
 184 008e DB17     		asrs	r3, r3, #31
 185 0090 C3EB6003 		rsb	r3, r3, r0, asr #1
  73:src/date.c    **** 	return jdn;
 186              		.loc 1 73 13 view .LVU55
 187 0094 1A44     		add	r2, r2, r3
 188              	.LVL8:
  73:src/date.c    **** 	return jdn;
 189              		.loc 1 73 38 view .LVU56
 190 0096 40F26D10 		movw	r0, #365
  73:src/date.c    **** 	return jdn;
 191              		.loc 1 73 33 view .LVU57
 192 009a 00FB0522 		mla	r2, r0, r5, r2
  73:src/date.c    **** 	return jdn;
 193              		.loc 1 73 44 view .LVU58
 194 009e 002D     		cmp	r5, #0
  73:src/date.c    **** 	return jdn;
 195              		.loc 1 73 44 view .LVU59
 196 00a0 B8BF     		it	lt
 197 00a2 0335     		addlt	r5, r5, #3
 198              	.LVL9:
  73:src/date.c    **** 	return jdn;
 199              		.loc 1 73 41 view .LVU60
 200 00a4 02EBA505 		add	r5, r2, r5, asr #2
  75:src/date.c    **** }
 201              		.loc 1 75 1 view .LVU61
 202 00a8 6818     		adds	r0, r5, r1
 203 00aa F0BD     		pop	{r4, r5, r6, r7, pc}
 204              	.LVL10:
 205              	.L9:
  72:src/date.c    **** 	jdn += day + (153 * m + 2) / 5 + 365*y + y/4;
 206              		.loc 1 72 7 view .LVU62
 207 00ac 0449     		ldr	r1, .L12+16
 208              	.LVL11:
  72:src/date.c    **** 	jdn += day + (153 * m + 2) / 5 + 365*y + y/4;
 209              		.loc 1 72 7 view .LVU63
 210 00ae E6E7     		b	.L4
 211              	.L13:
 212              		.align	2
 213              	.L12:
 214 00b0 00000000 		.word	main_ram
 215 00b4 ABAAAA2A 		.word	715827883
 216 00b8 1F85EB51 		.word	1374389535
 217 00bc 67666666 		.word	1717986919
 218 00c0 AD82FFFF 		.word	-32083
 219              		.cfi_endproc
 220              	.LFE1:
 222              		.section	.text.JDN2,"ax",%progbits
 223              		.align	1
 224              		.p2align 2,,3
 225              		.syntax unified
 226              		.thumb
 227              		.thumb_func
 228              		.fpu fpv4-sp-d16
 230              	JDN2:
 231              	.LVL12:
 232              	.LFB2:
ARM GAS  /tmp/ccrwXAwg.s 			page 7


  76:src/date.c    **** 
  77:src/date.c    **** 
  78:src/date.c    **** /* Convert a julian day number to day, month and year.
  79:src/date.c    ****  */
  80:src/date.c    **** static void JDN2(int J, int *year, int *month, int *day) {
 233              		.loc 1 80 58 is_stmt 1 view -0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
  81:src/date.c    **** 	int b, c, y, d, e, m;
 237              		.loc 1 81 2 view .LVU65
  82:src/date.c    **** 	int jgthreshold = UState.jg1582 ? 2299161 : 2361222;
 238              		.loc 1 82 2 view .LVU66
  80:src/date.c    **** 	int b, c, y, d, e, m;
 239              		.loc 1 80 58 is_stmt 0 view .LVU67
 240 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 241              		.cfi_def_cfa_offset 28
 242              		.cfi_offset 4, -28
 243              		.cfi_offset 5, -24
 244              		.cfi_offset 6, -20
 245              		.cfi_offset 7, -16
 246              		.cfi_offset 8, -12
 247              		.cfi_offset 9, -8
 248              		.cfi_offset 14, -4
 249              		.loc 1 82 34 view .LVU68
 250 0004 344D     		ldr	r5, .L22
 251              		.loc 1 82 44 view .LVU69
 252 0006 354C     		ldr	r4, .L22+4
 253              		.loc 1 82 34 view .LVU70
 254 0008 2E68     		ldr	r6, [r5]
 255              		.loc 1 82 44 view .LVU71
 256 000a 354D     		ldr	r5, .L22+8
 257 000c 96F9EB67 		ldrsb	r6, [r6, #2027]
 258 0010 14EA2604 		ands	r4, r4, r6, asr #32
 259 0014 38BF     		it	cc
 260 0016 2C46     		movcc	r4, r5
 261              	.LVL13:
  83:src/date.c    **** 
  84:src/date.c    **** 	if (J >= jgthreshold) {	// Gregorian
 262              		.loc 1 84 2 is_stmt 1 view .LVU72
 263              		.loc 1 84 5 is_stmt 0 view .LVU73
 264 0018 8442     		cmp	r4, r0
 265              	.LBB55:
  85:src/date.c    **** 		const int a = J + 32044;
 266              		.loc 1 85 13 view .LVU74
 267 001a 00F5FA40 		add	r0, r0, #32000
 268              	.LVL14:
 269              		.loc 1 85 13 view .LVU75
 270              	.LBE55:
  84:src/date.c    **** 		const int a = J + 32044;
 271              		.loc 1 84 5 view .LVU76
 272 001e 56DC     		bgt	.L16
 273              	.LBB56:
 274              		.loc 1 85 3 is_stmt 1 view .LVU77
 275              		.loc 1 85 13 is_stmt 0 view .LVU78
 276 0020 2C30     		adds	r0, r0, #44
 277              	.LVL15:
ARM GAS  /tmp/ccrwXAwg.s 			page 8


  86:src/date.c    **** 		b = (4*a+3)/146097;
 278              		.loc 1 86 3 is_stmt 1 view .LVU79
 279              		.loc 1 86 5 is_stmt 0 view .LVU80
 280 0022 304D     		ldr	r5, .L22+12
  87:src/date.c    **** 		c = a - (b*146097)/4;
 281              		.loc 1 87 13 view .LVU81
 282 0024 304C     		ldr	r4, .L22+16
 283              	.LVL16:
  86:src/date.c    **** 		b = (4*a+3)/146097;
 284              		.loc 1 86 9 view .LVU82
 285 0026 4FEA800C 		lsl	ip, r0, #2
  86:src/date.c    **** 		b = (4*a+3)/146097;
 286              		.loc 1 86 11 view .LVU83
 287 002a 0CF1030C 		add	ip, ip, #3
  86:src/date.c    **** 		b = (4*a+3)/146097;
 288              		.loc 1 86 5 view .LVU84
 289 002e A5FB0C5C 		umull	r5, ip, r5, ip
 290 0032 4FEADC35 		lsr	r5, ip, #15
 291              	.LVL17:
 292              		.loc 1 87 3 is_stmt 1 view .LVU85
 293              		.loc 1 87 13 is_stmt 0 view .LVU86
 294 0036 04FB05F4 		mul	r4, r4, r5
 295              		.loc 1 87 21 view .LVU87
 296 003a 002C     		cmp	r4, #0
 297 003c B8BF     		it	lt
 298 003e 0334     		addlt	r4, r4, #3
  88:src/date.c    **** 		b *= 100;
 299              		.loc 1 88 5 view .LVU88
 300 0040 4FF0640C 		mov	ip, #100
  87:src/date.c    **** 		c = a - (b*146097)/4;
 301              		.loc 1 87 5 view .LVU89
 302 0044 A0EBA400 		sub	r0, r0, r4, asr #2
 303              	.LVL18:
 304              		.loc 1 88 3 is_stmt 1 view .LVU90
 305              		.loc 1 88 5 is_stmt 0 view .LVU91
 306 0048 0CFB05FC 		mul	ip, ip, r5
 307              	.LVL19:
 308              	.L18:
 309              		.loc 1 88 5 view .LVU92
 310              	.LBE56:
  89:src/date.c    **** 	} else {		// Julian
  90:src/date.c    **** 		b = 0;
  91:src/date.c    **** 		c = J + 32082;
  92:src/date.c    **** 	}
  93:src/date.c    **** 
  94:src/date.c    **** 	d = (4*c+3)/1461;
 311              		.loc 1 94 2 is_stmt 1 view .LVU93
 312              		.loc 1 94 8 is_stmt 0 view .LVU94
 313 004c 8400     		lsls	r4, r0, #2
 314              		.loc 1 94 4 view .LVU95
 315 004e 274D     		ldr	r5, .L22+20
  95:src/date.c    **** 	e = c - (1461*d)/4;
  96:src/date.c    **** 	m = (5*e+2)/153;
  97:src/date.c    **** 
  98:src/date.c    **** 	*day   = e - (153*m+2)/5 + 1;
  99:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 316              		.loc 1 99 24 view .LVU96
ARM GAS  /tmp/ccrwXAwg.s 			page 9


 317 0050 DFF8A080 		ldr	r8, .L22+28
  94:src/date.c    **** 	e = c - (1461*d)/4;
 318              		.loc 1 94 10 view .LVU97
 319 0054 0334     		adds	r4, r4, #3
  94:src/date.c    **** 	e = c - (1461*d)/4;
 320              		.loc 1 94 4 view .LVU98
 321 0056 85FB0465 		smull	r6, r5, r5, r4
 322              	.LVL20:
  94:src/date.c    **** 	e = c - (1461*d)/4;
 323              		.loc 1 94 4 view .LVU99
 324 005a E417     		asrs	r4, r4, #31
 325 005c C4EBE515 		rsb	r5, r4, r5, asr #7
 326              	.LVL21:
  95:src/date.c    **** 	e = c - (1461*d)/4;
 327              		.loc 1 95 2 is_stmt 1 view .LVU100
  95:src/date.c    **** 	e = c - (1461*d)/4;
 328              		.loc 1 95 15 is_stmt 0 view .LVU101
 329 0060 40F2B554 		movw	r4, #1461
 330 0064 04FB05F4 		mul	r4, r4, r5
  95:src/date.c    **** 	e = c - (1461*d)/4;
 331              		.loc 1 95 18 view .LVU102
 332 0068 002C     		cmp	r4, #0
 333 006a B8BF     		it	lt
 334 006c 0334     		addlt	r4, r4, #3
  95:src/date.c    **** 	e = c - (1461*d)/4;
 335              		.loc 1 95 4 view .LVU103
 336 006e A0EBA404 		sub	r4, r0, r4, asr #2
 337              	.LVL22:
  96:src/date.c    **** 
 338              		.loc 1 96 2 is_stmt 1 view .LVU104
  96:src/date.c    **** 
 339              		.loc 1 96 4 is_stmt 0 view .LVU105
 340 0072 1F4E     		ldr	r6, .L22+24
  96:src/date.c    **** 
 341              		.loc 1 96 8 view .LVU106
 342 0074 04EB840E 		add	lr, r4, r4, lsl #2
  96:src/date.c    **** 
 343              		.loc 1 96 10 view .LVU107
 344 0078 0EF1020E 		add	lr, lr, #2
  96:src/date.c    **** 
 345              		.loc 1 96 4 view .LVU108
 346 007c 86FB0E06 		smull	r0, r6, r6, lr
 347              	.LVL23:
  96:src/date.c    **** 
 348              		.loc 1 96 4 view .LVU109
 349 0080 4FEAEE77 		asr	r7, lr, #31
 350 0084 7644     		add	r6, r6, lr
 351 0086 C7EBE616 		rsb	r6, r7, r6, asr #7
 352              	.LVL24:
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 353              		.loc 1 98 2 is_stmt 1 view .LVU110
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 354              		.loc 1 98 19 is_stmt 0 view .LVU111
 355 008a 06EBC600 		add	r0, r6, r6, lsl #3
 356              		.loc 1 99 24 view .LVU112
 357 008e 88FB0E8E 		smull	r8, lr, r8, lr
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
ARM GAS  /tmp/ccrwXAwg.s 			page 10


 358              		.loc 1 98 19 view .LVU113
 359 0092 00EB0010 		add	r0, r0, r0, lsl #4
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 360              		.loc 1 98 24 view .LVU114
 361 0096 DFF86080 		ldr	r8, .L22+32
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 362              		.loc 1 98 21 view .LVU115
 363 009a 0230     		adds	r0, r0, #2
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 364              		.loc 1 98 24 view .LVU116
 365 009c 88FB0098 		smull	r9, r8, r8, r0
 366 00a0 C017     		asrs	r0, r0, #31
 100:src/date.c    **** 
 101:src/date.c    **** 	y = b + d - 4800 + m/10;
 367              		.loc 1 101 8 view .LVU117
 368 00a2 6544     		add	r5, r5, ip
 369              	.LVL25:
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 370              		.loc 1 98 24 view .LVU118
 371 00a4 A0EB6800 		sub	r0, r0, r8, asr #1
 372              		.loc 1 101 22 view .LVU119
 373 00a8 C7EB2E2C 		rsb	ip, r7, lr, asr #8
 374              	.LVL26:
  99:src/date.c    **** 
 375              		.loc 1 99 24 view .LVU120
 376 00ac A7EB2E27 		sub	r7, r7, lr, asr #8
 377              		.loc 1 101 12 view .LVU121
 378 00b0 A5F59655 		sub	r5, r5, #4800
  99:src/date.c    **** 
 379              		.loc 1 99 21 view .LVU122
 380 00b4 07EB4707 		add	r7, r7, r7, lsl #1
  99:src/date.c    **** 
 381              		.loc 1 99 13 view .LVU123
 382 00b8 0336     		adds	r6, r6, #3
 383              	.LVL27:
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 384              		.loc 1 98 13 view .LVU124
 385 00ba 2044     		add	r0, r0, r4
 386              		.loc 1 101 4 view .LVU125
 387 00bc 6544     		add	r5, r5, ip
  99:src/date.c    **** 
 388              		.loc 1 99 17 view .LVU126
 389 00be 06EB8707 		add	r7, r6, r7, lsl #2
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 390              		.loc 1 98 27 view .LVU127
 391 00c2 0130     		adds	r0, r0, #1
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 392              		.loc 1 98 9 view .LVU128
 393 00c4 1860     		str	r0, [r3]
  99:src/date.c    **** 
 394              		.loc 1 99 2 is_stmt 1 view .LVU129
  99:src/date.c    **** 
 395              		.loc 1 99 9 is_stmt 0 view .LVU130
 396 00c6 1760     		str	r7, [r2]
 397              		.loc 1 101 2 is_stmt 1 view .LVU131
 398              	.LVL28:
 102:src/date.c    **** //	if (y <= 0)	y--;
ARM GAS  /tmp/ccrwXAwg.s 			page 11


 103:src/date.c    **** 	*year = y;
 399              		.loc 1 103 2 view .LVU132
 400              		.loc 1 103 8 is_stmt 0 view .LVU133
 401 00c8 0D60     		str	r5, [r1]
 104:src/date.c    **** }
 402              		.loc 1 104 1 view .LVU134
 403 00ca BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 404              	.LVL29:
 405              	.L16:
  90:src/date.c    **** 		c = J + 32082;
 406              		.loc 1 90 3 is_stmt 1 view .LVU135
  91:src/date.c    **** 	}
 407              		.loc 1 91 3 view .LVU136
  91:src/date.c    **** 	}
 408              		.loc 1 91 5 is_stmt 0 view .LVU137
 409 00ce 5230     		adds	r0, r0, #82
 410              	.LVL30:
  90:src/date.c    **** 		c = J + 32082;
 411              		.loc 1 90 5 view .LVU138
 412 00d0 4FF0000C 		mov	ip, #0
 413 00d4 BAE7     		b	.L18
 414              	.L23:
 415 00d6 00BF     		.align	2
 416              	.L22:
 417 00d8 00000000 		.word	main_ram
 418 00dc 19152300 		.word	2299161
 419 00e0 86072400 		.word	2361222
 420 00e4 BD066B39 		.word	963315389
 421 00e8 B13A0200 		.word	146097
 422 00ec 73B06D16 		.word	376287347
 423 00f0 D7802BD6 		.word	-701792041
 424 00f4 2B80D52A 		.word	718635051
 425 00f8 67666666 		.word	1717986919
 426              		.cfi_endproc
 427              	.LFE2:
 429              		.section	.text.check_date,"ax",%progbits
 430              		.align	1
 431              		.p2align 2,,3
 432              		.syntax unified
 433              		.thumb
 434              		.thumb_func
 435              		.fpu fpv4-sp-d16
 437              	check_date:
 438              	.LVL31:
 439              	.LFB4:
 105:src/date.c    **** 
 106:src/date.c    **** 
 107:src/date.c    **** static int isleap(int year) {
 108:src/date.c    **** 	if ((year & 3) == 0) {		// leap year candidate
 109:src/date.c    **** 		if (isGregorian(year, 1, 1)) {
 110:src/date.c    **** 			// Gregorian is leap if not divisible by 100 or if devisible by 400
 111:src/date.c    **** 			if (year % 100 == 0) {
 112:src/date.c    **** 				if (year % 400 == 0)
 113:src/date.c    **** 					return 1;
 114:src/date.c    **** 				return 0;
 115:src/date.c    **** 			}
 116:src/date.c    **** 		}
ARM GAS  /tmp/ccrwXAwg.s 			page 12


 117:src/date.c    **** 		return 1;
 118:src/date.c    **** 	}
 119:src/date.c    **** 	return 0;
 120:src/date.c    **** }
 121:src/date.c    **** 
 122:src/date.c    **** 
 123:src/date.c    **** /* Validate that a date is in fact within our calculation range.
 124:src/date.c    ****  */
 125:src/date.c    **** static int check_date(int year, int month, int day) {
 440              		.loc 1 125 53 is_stmt 1 view -0
 441              		.cfi_startproc
 442              		@ args = 0, pretend = 0, frame = 16
 443              		@ frame_needed = 0, uses_anonymous_args = 0
 126:src/date.c    **** 	int y, m, d;
 444              		.loc 1 126 2 view .LVU140
 127:src/date.c    **** 
 128:src/date.c    **** 	if (year < -4712 || year > 9999)
 445              		.loc 1 128 2 view .LVU141
 125:src/date.c    **** 	int y, m, d;
 446              		.loc 1 125 53 is_stmt 0 view .LVU142
 447 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 448              		.cfi_def_cfa_offset 20
 449              		.cfi_offset 4, -20
 450              		.cfi_offset 5, -16
 451              		.cfi_offset 6, -12
 452              		.cfi_offset 7, -8
 453              		.cfi_offset 14, -4
 454              		.loc 1 128 19 view .LVU143
 455 0002 00F59353 		add	r3, r0, #4704
 456 0006 0833     		adds	r3, r3, #8
 457              		.loc 1 128 5 view .LVU144
 458 0008 43F67717 		movw	r7, #14711
 459 000c BB42     		cmp	r3, r7
 125:src/date.c    **** 	int y, m, d;
 460              		.loc 1 125 53 view .LVU145
 461 000e 85B0     		sub	sp, sp, #20
 462              		.cfi_def_cfa_offset 40
 463              		.loc 1 128 5 view .LVU146
 464 0010 16D8     		bhi	.L27
 129:src/date.c    **** 		return -1;
 130:src/date.c    **** 	JDN2(JDN(year, month, day), &y, &m, &d);
 465              		.loc 1 130 2 is_stmt 1 view .LVU147
 466 0012 0446     		mov	r4, r0
 467 0014 0D46     		mov	r5, r1
 468 0016 1646     		mov	r6, r2
 469 0018 FFF7FEFF 		bl	JDN
 470              	.LVL32:
 471              		.loc 1 130 2 is_stmt 0 view .LVU148
 472 001c 03AB     		add	r3, sp, #12
 473 001e 02AA     		add	r2, sp, #8
 474 0020 01A9     		add	r1, sp, #4
 475 0022 FFF7FEFF 		bl	JDN2
 476              	.LVL33:
 131:src/date.c    **** 	if (year == y && month == m && day == d)
 477              		.loc 1 131 2 is_stmt 1 view .LVU149
 478              		.loc 1 131 5 is_stmt 0 view .LVU150
 479 0026 019B     		ldr	r3, [sp, #4]
ARM GAS  /tmp/ccrwXAwg.s 			page 13


 480 0028 A342     		cmp	r3, r4
 481 002a 09D1     		bne	.L27
 482              		.loc 1 131 16 discriminator 1 view .LVU151
 483 002c 029B     		ldr	r3, [sp, #8]
 484 002e AB42     		cmp	r3, r5
 485 0030 06D1     		bne	.L27
 486              		.loc 1 131 30 discriminator 2 view .LVU152
 487 0032 0398     		ldr	r0, [sp, #12]
 488 0034 801B     		subs	r0, r0, r6
 489 0036 18BF     		it	ne
 490 0038 4FF0FF30 		movne	r0, #-1
 491              	.LVL34:
 492              	.L24:
 132:src/date.c    **** 		return 0;
 133:src/date.c    **** 	return -1;
 134:src/date.c    **** }
 493              		.loc 1 134 1 view .LVU153
 494 003c 05B0     		add	sp, sp, #20
 495              		.cfi_remember_state
 496              		.cfi_def_cfa_offset 20
 497              		@ sp needed
 498 003e F0BD     		pop	{r4, r5, r6, r7, pc}
 499              	.L27:
 500              		.cfi_restore_state
 129:src/date.c    **** 	JDN2(JDN(year, month, day), &y, &m, &d);
 501              		.loc 1 129 10 view .LVU154
 502 0040 4FF0FF30 		mov	r0, #-1
 503 0044 FAE7     		b	.L24
 504              		.cfi_endproc
 505              	.LFE4:
 507 0046 00BF     		.section	.text.extract_time,"ax",%progbits
 508              		.align	1
 509              		.p2align 2,,3
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 513              		.fpu fpv4-sp-d16
 515              	extract_time:
 516              	.LVL35:
 517              	.LFB20:
 135:src/date.c    **** 
 136:src/date.c    **** 
 137:src/date.c    **** /* Day of week.
 138:src/date.c    ****  * Display the day name and return the day as an integer (1 .. 7).
 139:src/date.c    ****  */
 140:src/date.c    **** static int day_of_week(int year, int month, int day, const char **msg) {
 141:src/date.c    **** 	int h;
 142:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 143:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 144:src/date.c    **** 				"Thursday\0Friday\0Saturday";
 145:src/date.c    **** 	h = (JDN(year, month, day)+1) % 7;
 146:src/date.c    **** 	if (msg != NULL && ! Running)
 147:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 148:src/date.c    **** 	return h != 0 ? h : 7;
 149:src/date.c    **** }
 150:src/date.c    **** 
 151:src/date.c    **** 
ARM GAS  /tmp/ccrwXAwg.s 			page 14


 152:src/date.c    **** /* Convert a (y, m, d) triple into a decimal number that represents the date.
 153:src/date.c    ****  * Some care is required for overflow and the like.
 154:src/date.c    ****  */
 155:src/date.c    **** static decNumber *build_date(decNumber *res, int year, int month, int day) {
 156:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 157:src/date.c    **** 
 158:src/date.c    **** 	if (check_date(year, month, day)) {
 159:src/date.c    **** 		set_NaN(res);
 160:src/date.c    **** 		return res;
 161:src/date.c    **** 	}
 162:src/date.c    **** 	if (year < 0) {
 163:src/date.c    **** 		year = -year;
 164:src/date.c    **** 		sign = -1;
 165:src/date.c    **** 	}
 166:src/date.c    **** 
 167:src/date.c    **** 	switch (UState.date_mode) {
 168:src/date.c    **** 	case DATE_YMD:
 169:src/date.c    **** 		r = ((year * 100) + month) * 100 + day;
 170:src/date.c    **** 		shift = -4;
 171:src/date.c    **** 		break;
 172:src/date.c    **** 
 173:src/date.c    **** 	case DATE_DMY:
 174:src/date.c    **** 		r = ((day * 100) + month)* 10000 + year;
 175:src/date.c    **** 		break;
 176:src/date.c    **** 
 177:src/date.c    **** 	case DATE_MDY:
 178:src/date.c    **** 		r = ((month * 100) + day)* 10000 + year;
 179:src/date.c    **** 		break;
 180:src/date.c    **** 	}
 181:src/date.c    **** 	int_to_dn(res, r * sign);
 182:src/date.c    **** 	dn_mulpow10(res, res, shift);
 183:src/date.c    **** 	day_of_week(sign * year, month, day, &DispMsg);
 184:src/date.c    **** 	return res;
 185:src/date.c    **** }
 186:src/date.c    **** 
 187:src/date.c    **** /*
 188:src/date.c    ****  *  Convert Z = year, y = month, x = day to a valid date in X
 189:src/date.c    ****  */
 190:src/date.c    **** decNumber *dateFromYMD(decNumber *res, const decNumber *z, const decNumber *y, const decNumber *x) 
 191:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 192:src/date.c    **** 		return set_NaN(res);
 193:src/date.c    **** 	else {
 194:src/date.c    **** 		return build_date(res, dn_to_int(z), dn_to_int(y), dn_to_int(x));
 195:src/date.c    **** 	}
 196:src/date.c    **** }
 197:src/date.c    **** 
 198:src/date.c    **** /* Convert a decimal real to a date.
 199:src/date.c    ****  * We have to honour the current date mode and make sure that things
 200:src/date.c    ****  * don't go out of range.
 201:src/date.c    ****  */
 202:src/date.c    **** static int extract_date(const decNumber *x, int *year, int *month, int *day) {
 203:src/date.c    **** 	int ip, fp, y, m, d;
 204:src/date.c    **** 	decNumber z, a;
 205:src/date.c    ****     int neg = 1;
 206:src/date.c    **** 
 207:src/date.c    **** 	if (is_intmode())
 208:src/date.c    **** 		return 1;
ARM GAS  /tmp/ccrwXAwg.s 			page 15


 209:src/date.c    **** 
 210:src/date.c    **** 	if (decNumberIsNegative(x)) {
 211:src/date.c    **** 		dn_minus(&z, x);
 212:src/date.c    ****         neg = -1;
 213:src/date.c    **** 	} else {
 214:src/date.c    **** 		decNumberCopy(&z, x);
 215:src/date.c    **** 	}
 216:src/date.c    **** 	decNumberTrunc(&a, &z);			// a = iii	z = iii.ffrrrr
 217:src/date.c    **** 	ip = dn_to_int(&a);
 218:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 219:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 220:src/date.c    **** 	decNumberTrunc(&a, &z);			// a = ff
 221:src/date.c    **** 	fp = dn_to_int(&a);
 222:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 223:src/date.c    **** 	switch (UState.date_mode) {
 224:src/date.c    **** 	default:
 225:src/date.c    **** 	case DATE_YMD:
 226:src/date.c    **** 		y = ip;
 227:src/date.c    **** 		m = fp;
 228:src/date.c    **** 		dn_mul100(&a, &z);
 229:src/date.c    **** 		decNumberTrunc(&z, &a);
 230:src/date.c    **** 		d = dn_to_int(&z);
 231:src/date.c    **** 		break;
 232:src/date.c    **** 
 233:src/date.c    **** 	case DATE_DMY:
 234:src/date.c    **** 		d = ip;
 235:src/date.c    **** 		m = fp;
 236:src/date.c    **** 		goto year;
 237:src/date.c    **** 
 238:src/date.c    **** 	case DATE_MDY:
 239:src/date.c    **** 		m = ip;
 240:src/date.c    **** 		d = fp;
 241:src/date.c    **** year:		dn_mulpow10(&a, &z, 4);
 242:src/date.c    **** 		decNumberTrunc(&z, &a);
 243:src/date.c    **** 		y = dn_to_int(&z);
 244:src/date.c    **** 		break;
 245:src/date.c    **** 	}
 246:src/date.c    **** 	/* Make sense of things
 247:src/date.c    **** 	 */
 248:src/date.c    ****     y *= neg;
 249:src/date.c    **** 	if (year != NULL)
 250:src/date.c    **** 		*year = y;
 251:src/date.c    **** 	if (month != NULL)
 252:src/date.c    **** 		*month = m;
 253:src/date.c    **** 	if (day != NULL)
 254:src/date.c    **** 		*day = d;
 255:src/date.c    **** 	return check_date(y, m, d);
 256:src/date.c    **** }
 257:src/date.c    **** 
 258:src/date.c    **** 
 259:src/date.c    **** /* Given an argument on the stack, attempt to determine the year.
 260:src/date.c    ****  * If the argument is a plain integer, it is the year.
 261:src/date.c    ****  * Otherwise, decode it according to the current date mode and
 262:src/date.c    ****  * return the year.
 263:src/date.c    ****  */
 264:src/date.c    **** static int find_year(const decNumber *x, int *year) {
 265:src/date.c    **** 	int y;
ARM GAS  /tmp/ccrwXAwg.s 			page 16


 266:src/date.c    **** 
 267:src/date.c    **** 	if (decNumberIsSpecial(x))
 268:src/date.c    **** 		return -1;
 269:src/date.c    **** 	if (is_int(x)) {
 270:src/date.c    **** 		y = dn_to_int(x);
 271:src/date.c    **** 		if (check_date(y, 1, 1))
 272:src/date.c    **** 			return -1;
 273:src/date.c    **** 	} else if (extract_date(x, &y, NULL, NULL))
 274:src/date.c    **** 		return -1;
 275:src/date.c    **** 	*year = y;
 276:src/date.c    **** 	return 0;
 277:src/date.c    **** }
 278:src/date.c    **** 
 279:src/date.c    **** 
 280:src/date.c    **** #ifdef INCLUDE_EASTER
 281:src/date.c    **** /* Return Easter dates from the year.
 282:src/date.c    ****  * We assume the calendar reformation took place in 1752 which means for this
 283:src/date.c    ****  * year and before, we return the Julian date of Easter Sunday and afterwards
 284:src/date.c    ****  * the Gregorian version.
 285:src/date.c    ****  */
 286:src/date.c    **** static void easter(int year, int *month, int *day) {
 287:src/date.c    **** 	if (year > (UState.jg1582 ? 1582 : 1752)) {	// Gregorian
 288:src/date.c    **** 		const int a = year % 19;
 289:src/date.c    **** 		const int b = year / 100;
 290:src/date.c    **** 		const int c = year % 100;
 291:src/date.c    **** 		const int d = b / 4;
 292:src/date.c    **** 		const int e = b % 4;
 293:src/date.c    **** 		const int f = (b + 8) / 25;
 294:src/date.c    **** 		const int g = (b - f + 1) / 3;
 295:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 296:src/date.c    **** 		const int i = c / 4;
 297:src/date.c    **** 		const int k = c % 4;
 298:src/date.c    **** 		const int L = (32 + 2 * e + 2 * i - h - k) % 7;
 299:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 300:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 301:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 302:src/date.c    **** 	} else {
 303:src/date.c    **** 		const int a = year % 4;
 304:src/date.c    **** 		const int b = year % 7;
 305:src/date.c    **** 		const int c = year % 19;
 306:src/date.c    **** 		const int d = (19 * c + 15) % 30;
 307:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 308:src/date.c    **** 		*month = (d + e + 114) / 31;			// Jan = 1
 309:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
 310:src/date.c    **** 	}
 311:src/date.c    **** }
 312:src/date.c    **** 
 313:src/date.c    **** 
 314:src/date.c    **** /* Date of Easter.  Input is the year and output is a date.
 315:src/date.c    ****  * The input can either be specified as an integer year or as a
 316:src/date.c    ****  * valid date in the current format.
 317:src/date.c    ****  */
 318:src/date.c    **** decNumber *dateEaster(decNumber *res, const decNumber *x) {
 319:src/date.c    **** 	int y;
 320:src/date.c    **** 
 321:src/date.c    **** 	if (find_year(x, &y)) {
 322:src/date.c    **** 		set_NaN(res);
ARM GAS  /tmp/ccrwXAwg.s 			page 17


 323:src/date.c    **** 		return res;
 324:src/date.c    **** 	} else {
 325:src/date.c    **** 		int m, d;
 326:src/date.c    **** 
 327:src/date.c    **** 		easter(y, &m, &d);
 328:src/date.c    **** 		build_date(res, y, m, d);
 329:src/date.c    **** 	}
 330:src/date.c    **** 	return res;
 331:src/date.c    **** }
 332:src/date.c    **** #endif
 333:src/date.c    **** 
 334:src/date.c    **** 
 335:src/date.c    **** /* Test if a year is a leap year
 336:src/date.c    ****  */
 337:src/date.c    **** void date_isleap(enum nilop op) {
 338:src/date.c    **** 	int y, t = 0;
 339:src/date.c    **** 	decNumber x;
 340:src/date.c    **** 
 341:src/date.c    **** 	getX(&x);
 342:src/date.c    **** 	if (! find_year(&x, &y))
 343:src/date.c    **** 		t = isleap(y);
 344:src/date.c    **** 	fin_tst(t);
 345:src/date.c    **** }
 346:src/date.c    **** 
 347:src/date.c    **** 
 348:src/date.c    **** /* Return the day of the week
 349:src/date.c    ****  */
 350:src/date.c    **** static int dateExtract(decNumber *res, const decNumber *x, int *y, int *m, int *d) {
 351:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 352:src/date.c    **** 		set_NaN(res);
 353:src/date.c    **** 		return 0;
 354:src/date.c    **** 	}
 355:src/date.c    **** 	return 1;
 356:src/date.c    **** }
 357:src/date.c    **** 
 358:src/date.c    **** decNumber *dateDayOfWeek(decNumber *res, const decNumber *x) {
 359:src/date.c    **** 	int y, m, d;
 360:src/date.c    **** 
 361:src/date.c    **** 	if (dateExtract(res, x, &y, &m, &d))
 362:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 363:src/date.c    **** 	return res;
 364:src/date.c    **** }
 365:src/date.c    **** 
 366:src/date.c    **** 
 367:src/date.c    **** /* Decompose dates into numerics
 368:src/date.c    ****  */
 369:src/date.c    **** decNumber *dateExtraction(decNumber *res, const decNumber *x) {
 370:src/date.c    **** 	int z[3];
 371:src/date.c    **** 
 372:src/date.c    **** 	if (dateExtract(res, x, z, z+1, z+2))
 373:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 374:src/date.c    **** 	return res;
 375:src/date.c    **** }
 376:src/date.c    **** 
 377:src/date.c    **** 
 378:src/date.c    **** static void copy3(const char *p) {
 379:src/date.c    **** 	char buf[4];
ARM GAS  /tmp/ccrwXAwg.s 			page 18


 380:src/date.c    **** 	int i;
 381:src/date.c    **** 
 382:src/date.c    **** 	for (i=0; i<3; i++)
 383:src/date.c    **** 		buf[i] = p[i];
 384:src/date.c    **** 	buf[3] = '\0';
 385:src/date.c    **** 	add_string(buf);
 386:src/date.c    **** }
 387:src/date.c    **** 
 388:src/date.c    **** void date_alphaday(enum nilop op) {
 389:src/date.c    **** 	decNumber x;
 390:src/date.c    **** 	int y, m, d, dow;
 391:src/date.c    **** 
 392:src/date.c    **** 	getX(&x);
 393:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 394:src/date.c    **** 		report_err(ERR_BAD_DATE);
 395:src/date.c    **** 	else {
 396:src/date.c    **** 		dow = day_of_week(y, m, d, NULL);
 397:src/date.c    **** 		copy3(&("MONTUEWEDTHUFRISATSUN"[3*(dow-1)]));
 398:src/date.c    **** 	}
 399:src/date.c    **** }
 400:src/date.c    **** 
 401:src/date.c    **** void date_alphamonth(enum nilop op) {
 402:src/date.c    **** 	decNumber x;
 403:src/date.c    **** 	int y, m, d;
 404:src/date.c    **** 	static const char mons[12*3] = "JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC";
 405:src/date.c    **** 
 406:src/date.c    **** 	getX(&x);
 407:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 408:src/date.c    **** 		report_err(ERR_BAD_DATE);
 409:src/date.c    **** 	else {
 410:src/date.c    **** 		copy3(&(mons[3*m - 3]));
 411:src/date.c    **** 	}
 412:src/date.c    **** }
 413:src/date.c    **** 
 414:src/date.c    **** /* Conversion routines from Julian days to and from dates
 415:src/date.c    ****  */
 416:src/date.c    **** decNumber *dateToJ(decNumber *res, const decNumber *x) {
 417:src/date.c    **** 	if (decNumberIsSpecial(x))
 418:src/date.c    **** err:		set_NaN(res);
 419:src/date.c    **** 	else {
 420:src/date.c    **** 		int y, m, d;
 421:src/date.c    **** 
 422:src/date.c    **** 		if (extract_date(x, &y, &m, &d))
 423:src/date.c    **** 			goto err;
 424:src/date.c    **** 		int_to_dn(res, JDN(y, m, d));
 425:src/date.c    **** 	}
 426:src/date.c    **** 	return res;
 427:src/date.c    **** }
 428:src/date.c    **** 
 429:src/date.c    **** decNumber *dateFromJ(decNumber *res, const decNumber *x) {
 430:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 431:src/date.c    **** 		set_NaN(res);
 432:src/date.c    **** 	else {
 433:src/date.c    **** 		const int j = dn_to_int(x);
 434:src/date.c    **** 		int y, m, d;
 435:src/date.c    **** 
 436:src/date.c    **** 		JDN2(j, &y, &m, &d);
ARM GAS  /tmp/ccrwXAwg.s 			page 19


 437:src/date.c    **** 		return build_date(res, y, m, d);
 438:src/date.c    **** 	}
 439:src/date.c    **** 	return res;
 440:src/date.c    **** }
 441:src/date.c    **** 
 442:src/date.c    **** 
 443:src/date.c    **** /* Date and times to the Alpha register */
 444:src/date.c    **** void date_alphadate(enum nilop op) {
 445:src/date.c    **** 	decNumber x;
 446:src/date.c    **** 	int d, m, y;
 447:src/date.c    **** 	char buf[16];
 448:src/date.c    **** 	char *p;
 449:src/date.c    **** 
 450:src/date.c    **** 	getX(&x);
 451:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 452:src/date.c    **** 	if (extract_date(&x, &y, &m, &d)) {
 453:src/date.c    **** 		report_err(ERR_BAD_DATE);
 454:src/date.c    **** 		return;
 455:src/date.c    **** 	}
 456:src/date.c    **** 	switch (UState.date_mode) {
 457:src/date.c    **** 	default:
 458:src/date.c    **** 		p = num_arg(buf, y);
 459:src/date.c    **** 		*p++ = '-';
 460:src/date.c    **** 		p = num_arg_0(p, m, 2);
 461:src/date.c    **** 		*p++ = '-';
 462:src/date.c    **** 		num_arg_0(p, d, 2);
 463:src/date.c    **** 		break;
 464:src/date.c    **** 
 465:src/date.c    **** 	case DATE_DMY:
 466:src/date.c    **** 		p = num_arg(buf, d);
 467:src/date.c    **** 		*p++ = '.';
 468:src/date.c    **** 		p = num_arg_0(p, m, 2);
 469:src/date.c    **** 		*p++ = '.';
 470:src/date.c    **** 		num_arg_0(p, y, 4);
 471:src/date.c    **** 		break;
 472:src/date.c    **** 
 473:src/date.c    **** 	case DATE_MDY:
 474:src/date.c    **** 		p = num_arg(buf, m);
 475:src/date.c    **** 		*p++ = '/';
 476:src/date.c    **** 		p = num_arg_0(p, d, 2);
 477:src/date.c    **** 		*p++ ='/';
 478:src/date.c    **** 		num_arg_0(p, y, 4);
 479:src/date.c    **** 		break;
 480:src/date.c    **** 	}
 481:src/date.c    **** 	add_string(buf);
 482:src/date.c    **** }
 483:src/date.c    **** 
 484:src/date.c    **** /*
 485:src/date.c    ****  *  Time functions
 486:src/date.c    ****  */
 487:src/date.c    **** static int extract_time(int *h, int *m, int *s, int hour_threshold) {
 518              		.loc 1 487 69 is_stmt 1 view -0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 72
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 488:src/date.c    **** 	int hms;
 522              		.loc 1 488 2 view .LVU156
ARM GAS  /tmp/ccrwXAwg.s 			page 20


 489:src/date.c    **** 	decNumber a, b;
 523              		.loc 1 489 2 view .LVU157
 490:src/date.c    **** 
 491:src/date.c    **** 	getX(&a);
 524              		.loc 1 491 2 view .LVU158
 487:src/date.c    **** 	int hms;
 525              		.loc 1 487 69 is_stmt 0 view .LVU159
 526 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 527              		.cfi_def_cfa_offset 28
 528              		.cfi_offset 4, -28
 529              		.cfi_offset 5, -24
 530              		.cfi_offset 6, -20
 531              		.cfi_offset 7, -16
 532              		.cfi_offset 8, -12
 533              		.cfi_offset 9, -8
 534              		.cfi_offset 14, -4
 535 0004 93B0     		sub	sp, sp, #76
 536              		.cfi_def_cfa_offset 104
 487:src/date.c    **** 	int hms;
 537              		.loc 1 487 69 view .LVU160
 538 0006 8146     		mov	r9, r0
 539              		.loc 1 491 2 view .LVU161
 540 0008 6846     		mov	r0, sp
 541              	.LVL36:
 487:src/date.c    **** 	int hms;
 542              		.loc 1 487 69 view .LVU162
 543 000a 9846     		mov	r8, r3
 544 000c 0E46     		mov	r6, r1
 545 000e 1746     		mov	r7, r2
 546              		.loc 1 491 2 view .LVU163
 547 0010 FFF7FEFF 		bl	getX
 548              	.LVL37:
 492:src/date.c    **** 	dn_mulpow10(&b, &a, 4);
 549              		.loc 1 492 2 is_stmt 1 view .LVU164
 550 0014 0422     		movs	r2, #4
 551 0016 6946     		mov	r1, sp
 552 0018 09A8     		add	r0, sp, #36
 553 001a FFF7FEFF 		bl	dn_mulpow10
 554              	.LVL38:
 493:src/date.c    **** 	hms = dn_to_int(decNumberRound(&a, &b));
 555              		.loc 1 493 2 view .LVU165
 556              		.loc 1 493 18 is_stmt 0 view .LVU166
 557 001e 09A9     		add	r1, sp, #36
 558 0020 6846     		mov	r0, sp
 559 0022 FFF7FEFF 		bl	decNumberRound
 560              	.LVL39:
 561              		.loc 1 493 8 view .LVU167
 562 0026 FFF7FEFF 		bl	dn_to_int
 563              	.LVL40:
 494:src/date.c    **** 	*s = (hms % 100);
 564              		.loc 1 494 12 view .LVU168
 565 002a 144A     		ldr	r2, .L34
 566              	.LVL41:
 567              		.loc 1 494 2 is_stmt 1 view .LVU169
 568              		.loc 1 494 12 is_stmt 0 view .LVU170
 569 002c C417     		asrs	r4, r0, #31
 570 002e 82FB0013 		smull	r1, r3, r2, r0
ARM GAS  /tmp/ccrwXAwg.s 			page 21


 571 0032 C4EB6314 		rsb	r4, r4, r3, asr #5
 495:src/date.c    **** 	hms /= 100;
 496:src/date.c    **** 	*m = (hms % 100);
 572              		.loc 1 496 12 view .LVU171
 573 0036 82FB0432 		smull	r3, r2, r2, r4
 574 003a E517     		asrs	r5, r4, #31
 575 003c C5EB6215 		rsb	r5, r5, r2, asr #5
 494:src/date.c    **** 	*s = (hms % 100);
 576              		.loc 1 494 12 view .LVU172
 577 0040 6423     		movs	r3, #100
 578 0042 03FB1402 		mls	r2, r3, r4, r0
 579              		.loc 1 496 12 view .LVU173
 580 0046 03FB1544 		mls	r4, r3, r5, r4
 497:src/date.c    **** 	*h = hms / 100;
 498:src/date.c    **** 	if (hms < 0 || *h >= hour_threshold || *m >= 60 || *s >= 60) {
 581              		.loc 1 498 5 view .LVU174
 582 004a 6330     		adds	r0, r0, #99
 583              	.LVL42:
 494:src/date.c    **** 	hms /= 100;
 584              		.loc 1 494 5 view .LVU175
 585 004c 3A60     		str	r2, [r7]
 495:src/date.c    **** 	hms /= 100;
 586              		.loc 1 495 2 is_stmt 1 view .LVU176
 587              	.LVL43:
 496:src/date.c    **** 	*h = hms / 100;
 588              		.loc 1 496 2 view .LVU177
 496:src/date.c    **** 	*h = hms / 100;
 589              		.loc 1 496 5 is_stmt 0 view .LVU178
 590 004e 3460     		str	r4, [r6]
 497:src/date.c    **** 	*h = hms / 100;
 591              		.loc 1 497 2 is_stmt 1 view .LVU179
 497:src/date.c    **** 	*h = hms / 100;
 592              		.loc 1 497 5 is_stmt 0 view .LVU180
 593 0050 C9F80050 		str	r5, [r9]
 594              		.loc 1 498 2 is_stmt 1 view .LVU181
 595              		.loc 1 498 5 is_stmt 0 view .LVU182
 596 0054 0BDB     		blt	.L30
 597              		.loc 1 498 14 discriminator 1 view .LVU183
 598 0056 4545     		cmp	r5, r8
 599 0058 09DA     		bge	.L30
 600              		.loc 1 498 38 discriminator 2 view .LVU184
 601 005a 3368     		ldr	r3, [r6]
 602 005c 3B2B     		cmp	r3, #59
 603 005e 06DC     		bgt	.L30
 604              		.loc 1 498 50 discriminator 3 view .LVU185
 605 0060 3B68     		ldr	r3, [r7]
 606 0062 3B2B     		cmp	r3, #59
 607 0064 03DC     		bgt	.L30
 499:src/date.c    **** 		report_err(ERR_BAD_DATE);
 500:src/date.c    **** 		return 1;
 501:src/date.c    **** 	}
 502:src/date.c    **** 	return 0;
 608              		.loc 1 502 9 view .LVU186
 609 0066 0020     		movs	r0, #0
 610              	.LVL44:
 503:src/date.c    **** }
 611              		.loc 1 503 1 view .LVU187
ARM GAS  /tmp/ccrwXAwg.s 			page 22


 612 0068 13B0     		add	sp, sp, #76
 613              		.cfi_remember_state
 614              		.cfi_def_cfa_offset 28
 615              		@ sp needed
 616 006a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 617              	.LVL45:
 618              	.L30:
 619              		.cfi_restore_state
 499:src/date.c    **** 		report_err(ERR_BAD_DATE);
 620              		.loc 1 499 3 is_stmt 1 view .LVU188
 621 006e 0220     		movs	r0, #2
 622              	.LVL46:
 499:src/date.c    **** 		report_err(ERR_BAD_DATE);
 623              		.loc 1 499 3 is_stmt 0 view .LVU189
 624 0070 FFF7FEFF 		bl	report_err
 625              	.LVL47:
 500:src/date.c    **** 	}
 626              		.loc 1 500 3 is_stmt 1 view .LVU190
 500:src/date.c    **** 	}
 627              		.loc 1 500 10 is_stmt 0 view .LVU191
 628 0074 0120     		movs	r0, #1
 629              		.loc 1 503 1 view .LVU192
 630 0076 13B0     		add	sp, sp, #76
 631              		.cfi_def_cfa_offset 28
 632              		@ sp needed
 633 0078 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 634              	.LVL48:
 635              	.L35:
 636              		.loc 1 503 1 view .LVU193
 637              		.align	2
 638              	.L34:
 639 007c 1F85EB51 		.word	1374389535
 640              		.cfi_endproc
 641              	.LFE20:
 643              		.section	.text.extract_date.part.0,"ax",%progbits
 644              		.align	1
 645              		.p2align 2,,3
 646              		.syntax unified
 647              		.thumb
 648              		.thumb_func
 649              		.fpu fpv4-sp-d16
 651              	extract_date.part.0:
 652              	.LVL49:
 653              	.LFB30:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 654              		.loc 1 202 12 is_stmt 1 view -0
 655              		.cfi_startproc
 656              		@ args = 0, pretend = 0, frame = 72
 657              		@ frame_needed = 0, uses_anonymous_args = 0
 210:src/date.c    **** 		dn_minus(&z, x);
 658              		.loc 1 210 2 view .LVU195
 202:src/date.c    **** 	int ip, fp, y, m, d;
 659              		.loc 1 202 12 is_stmt 0 view .LVU196
 660 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 661              		.cfi_def_cfa_offset 32
 662              		.cfi_offset 4, -32
 663              		.cfi_offset 5, -28
ARM GAS  /tmp/ccrwXAwg.s 			page 23


 664              		.cfi_offset 6, -24
 665              		.cfi_offset 7, -20
 666              		.cfi_offset 8, -16
 667              		.cfi_offset 9, -12
 668              		.cfi_offset 10, -8
 669              		.cfi_offset 14, -4
 210:src/date.c    **** 		dn_minus(&z, x);
 670              		.loc 1 210 5 view .LVU197
 671 0004 90F90840 		ldrsb	r4, [r0, #8]
 202:src/date.c    **** 	int ip, fp, y, m, d;
 672              		.loc 1 202 12 view .LVU198
 673 0008 92B0     		sub	sp, sp, #72
 674              		.cfi_def_cfa_offset 104
 210:src/date.c    **** 		dn_minus(&z, x);
 675              		.loc 1 210 5 view .LVU199
 676 000a 002C     		cmp	r4, #0
 211:src/date.c    ****         neg = -1;
 677              		.loc 1 211 3 view .LVU200
 678 000c 6C46     		mov	r4, sp
 202:src/date.c    **** 	int ip, fp, y, m, d;
 679              		.loc 1 202 12 view .LVU201
 680 000e 8946     		mov	r9, r1
 681 0010 9046     		mov	r8, r2
 211:src/date.c    ****         neg = -1;
 682              		.loc 1 211 3 view .LVU202
 683 0012 0146     		mov	r1, r0
 684              	.LVL50:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 685              		.loc 1 202 12 view .LVU203
 686 0014 1F46     		mov	r7, r3
 211:src/date.c    ****         neg = -1;
 687              		.loc 1 211 3 view .LVU204
 688 0016 2046     		mov	r0, r4
 689              	.LVL51:
 210:src/date.c    **** 		dn_minus(&z, x);
 690              		.loc 1 210 5 view .LVU205
 691 0018 5DDB     		blt	.L53
 214:src/date.c    **** 	}
 692              		.loc 1 214 3 is_stmt 1 view .LVU206
 693 001a FFF7FEFF 		bl	decNumberCopy
 694              	.LVL52:
 205:src/date.c    **** 
 695              		.loc 1 205 9 is_stmt 0 view .LVU207
 696 001e 4FF0010A 		mov	r10, #1
 697              	.L38:
 698              	.LVL53:
 216:src/date.c    **** 	ip = dn_to_int(&a);
 699              		.loc 1 216 2 is_stmt 1 view .LVU208
 700 0022 2146     		mov	r1, r4
 701 0024 09A8     		add	r0, sp, #36
 702 0026 FFF7FEFF 		bl	decNumberTrunc
 703              	.LVL54:
 217:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 704              		.loc 1 217 2 view .LVU209
 217:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 705              		.loc 1 217 7 is_stmt 0 view .LVU210
 706 002a 09A8     		add	r0, sp, #36
ARM GAS  /tmp/ccrwXAwg.s 			page 24


 707 002c FFF7FEFF 		bl	dn_to_int
 708              	.LVL55:
 218:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 709              		.loc 1 218 2 view .LVU211
 710 0030 09AA     		add	r2, sp, #36
 711 0032 2146     		mov	r1, r4
 217:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 712              		.loc 1 217 7 view .LVU212
 713 0034 0546     		mov	r5, r0
 714              	.LVL56:
 218:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 715              		.loc 1 218 2 is_stmt 1 view .LVU213
 716 0036 1046     		mov	r0, r2
 717              	.LVL57:
 218:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 718              		.loc 1 218 2 is_stmt 0 view .LVU214
 719 0038 FFF7FEFF 		bl	dn_subtract
 720              	.LVL58:
 219:src/date.c    **** 	decNumberTrunc(&a, &z);			// a = ff
 721              		.loc 1 219 2 is_stmt 1 view .LVU215
 722 003c 09A9     		add	r1, sp, #36
 723 003e 2046     		mov	r0, r4
 724 0040 FFF7FEFF 		bl	dn_mul100
 725              	.LVL59:
 220:src/date.c    **** 	fp = dn_to_int(&a);
 726              		.loc 1 220 2 view .LVU216
 727 0044 2146     		mov	r1, r4
 728 0046 09A8     		add	r0, sp, #36
 729 0048 FFF7FEFF 		bl	decNumberTrunc
 730              	.LVL60:
 221:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 731              		.loc 1 221 2 view .LVU217
 221:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 732              		.loc 1 221 7 is_stmt 0 view .LVU218
 733 004c 09A8     		add	r0, sp, #36
 734 004e FFF7FEFF 		bl	dn_to_int
 735              	.LVL61:
 222:src/date.c    **** 	switch (UState.date_mode) {
 736              		.loc 1 222 2 view .LVU219
 737 0052 09AA     		add	r2, sp, #36
 221:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 738              		.loc 1 221 7 view .LVU220
 739 0054 0646     		mov	r6, r0
 222:src/date.c    **** 	switch (UState.date_mode) {
 740              		.loc 1 222 2 view .LVU221
 741 0056 2146     		mov	r1, r4
 742 0058 2046     		mov	r0, r4
 743              	.LVL62:
 222:src/date.c    **** 	switch (UState.date_mode) {
 744              		.loc 1 222 2 is_stmt 1 view .LVU222
 745 005a FFF7FEFF 		bl	dn_subtract
 746              	.LVL63:
 223:src/date.c    **** 	default:
 747              		.loc 1 223 2 view .LVU223
 223:src/date.c    **** 	default:
 748              		.loc 1 223 16 is_stmt 0 view .LVU224
 749 005e 204B     		ldr	r3, .L54
ARM GAS  /tmp/ccrwXAwg.s 			page 25


 750 0060 1B68     		ldr	r3, [r3]
 751 0062 93F8EA37 		ldrb	r3, [r3, #2026]	@ zero_extendqisi2
 223:src/date.c    **** 	default:
 752              		.loc 1 223 2 view .LVU225
 753 0066 13F0300F 		tst	r3, #48
 223:src/date.c    **** 	default:
 754              		.loc 1 223 16 view .LVU226
 755 006a C3F30112 		ubfx	r2, r3, #4, #2
 223:src/date.c    **** 	default:
 756              		.loc 1 223 2 view .LVU227
 757 006e 21D0     		beq	.L44
 758 0070 022A     		cmp	r2, #2
 759 0072 22D0     		beq	.L39
 226:src/date.c    **** 		m = fp;
 760              		.loc 1 226 3 is_stmt 1 view .LVU228
 761              	.LVL64:
 227:src/date.c    **** 		dn_mul100(&a, &z);
 762              		.loc 1 227 3 view .LVU229
 228:src/date.c    **** 		decNumberTrunc(&z, &a);
 763              		.loc 1 228 3 view .LVU230
 764 0074 2146     		mov	r1, r4
 765 0076 09A8     		add	r0, sp, #36
 766 0078 FFF7FEFF 		bl	dn_mul100
 767              	.LVL65:
 229:src/date.c    **** 		d = dn_to_int(&z);
 768              		.loc 1 229 3 view .LVU231
 769 007c 09A9     		add	r1, sp, #36
 770 007e 2046     		mov	r0, r4
 771 0080 FFF7FEFF 		bl	decNumberTrunc
 772              	.LVL66:
 230:src/date.c    **** 		break;
 773              		.loc 1 230 3 view .LVU232
 230:src/date.c    **** 		break;
 774              		.loc 1 230 7 is_stmt 0 view .LVU233
 775 0084 2046     		mov	r0, r4
 776 0086 FFF7FEFF 		bl	dn_to_int
 777              	.LVL67:
 231:src/date.c    **** 
 778              		.loc 1 231 3 is_stmt 1 view .LVU234
 226:src/date.c    **** 		m = fp;
 779              		.loc 1 226 5 is_stmt 0 view .LVU235
 780 008a 2C46     		mov	r4, r5
 227:src/date.c    **** 		dn_mul100(&a, &z);
 781              		.loc 1 227 5 view .LVU236
 782 008c 3546     		mov	r5, r6
 783              	.LVL68:
 230:src/date.c    **** 		break;
 784              		.loc 1 230 7 view .LVU237
 785 008e 0646     		mov	r6, r0
 786              	.LVL69:
 787              	.L40:
 248:src/date.c    **** 	if (year != NULL)
 788              		.loc 1 248 5 is_stmt 1 view .LVU238
 248:src/date.c    **** 	if (year != NULL)
 789              		.loc 1 248 7 is_stmt 0 view .LVU239
 790 0090 04FB0AF0 		mul	r0, r4, r10
 791              	.LVL70:
ARM GAS  /tmp/ccrwXAwg.s 			page 26


 249:src/date.c    **** 		*year = y;
 792              		.loc 1 249 2 is_stmt 1 view .LVU240
 250:src/date.c    **** 	if (month != NULL)
 793              		.loc 1 250 3 view .LVU241
 250:src/date.c    **** 	if (month != NULL)
 794              		.loc 1 250 9 is_stmt 0 view .LVU242
 795 0094 C9F80000 		str	r0, [r9]
 251:src/date.c    **** 		*month = m;
 796              		.loc 1 251 2 is_stmt 1 view .LVU243
 251:src/date.c    **** 		*month = m;
 797              		.loc 1 251 5 is_stmt 0 view .LVU244
 798 0098 B8F1000F 		cmp	r8, #0
 799 009c 01D0     		beq	.L43
 252:src/date.c    **** 	if (day != NULL)
 800              		.loc 1 252 3 is_stmt 1 view .LVU245
 252:src/date.c    **** 	if (day != NULL)
 801              		.loc 1 252 10 is_stmt 0 view .LVU246
 802 009e C8F80050 		str	r5, [r8]
 803              	.L43:
 253:src/date.c    **** 		*day = d;
 804              		.loc 1 253 2 is_stmt 1 view .LVU247
 253:src/date.c    **** 		*day = d;
 805              		.loc 1 253 5 is_stmt 0 view .LVU248
 806 00a2 07B1     		cbz	r7, .L41
 254:src/date.c    **** 	return check_date(y, m, d);
 807              		.loc 1 254 3 is_stmt 1 view .LVU249
 254:src/date.c    **** 	return check_date(y, m, d);
 808              		.loc 1 254 8 is_stmt 0 view .LVU250
 809 00a4 3E60     		str	r6, [r7]
 810              	.L41:
 255:src/date.c    **** }
 811              		.loc 1 255 2 is_stmt 1 view .LVU251
 255:src/date.c    **** }
 812              		.loc 1 255 9 is_stmt 0 view .LVU252
 813 00a6 3246     		mov	r2, r6
 814 00a8 2946     		mov	r1, r5
 815 00aa FFF7FEFF 		bl	check_date
 816              	.LVL71:
 256:src/date.c    **** 
 817              		.loc 1 256 1 view .LVU253
 818 00ae 12B0     		add	sp, sp, #72
 819              		.cfi_remember_state
 820              		.cfi_def_cfa_offset 32
 821              		@ sp needed
 822 00b0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 823              	.LVL72:
 824              	.L44:
 825              		.cfi_restore_state
 223:src/date.c    **** 	default:
 826              		.loc 1 223 2 view .LVU254
 827 00b4 2B46     		mov	r3, r5
 828 00b6 3546     		mov	r5, r6
 829              	.LVL73:
 223:src/date.c    **** 	default:
 830              		.loc 1 223 2 view .LVU255
 831 00b8 1E46     		mov	r6, r3
 832              	.LVL74:
ARM GAS  /tmp/ccrwXAwg.s 			page 27


 833              	.L39:
 241:src/date.c    **** 		decNumberTrunc(&z, &a);
 834              		.loc 1 241 8 is_stmt 1 view .LVU256
 835 00ba 0422     		movs	r2, #4
 836 00bc 2146     		mov	r1, r4
 837 00be 09A8     		add	r0, sp, #36
 838 00c0 FFF7FEFF 		bl	dn_mulpow10
 839              	.LVL75:
 242:src/date.c    **** 		y = dn_to_int(&z);
 840              		.loc 1 242 3 view .LVU257
 841 00c4 09A9     		add	r1, sp, #36
 842 00c6 2046     		mov	r0, r4
 843 00c8 FFF7FEFF 		bl	decNumberTrunc
 844              	.LVL76:
 243:src/date.c    **** 		break;
 845              		.loc 1 243 3 view .LVU258
 243:src/date.c    **** 		break;
 846              		.loc 1 243 7 is_stmt 0 view .LVU259
 847 00cc 2046     		mov	r0, r4
 848 00ce FFF7FEFF 		bl	dn_to_int
 849              	.LVL77:
 850 00d2 0446     		mov	r4, r0
 851              	.LVL78:
 244:src/date.c    **** 	}
 852              		.loc 1 244 3 is_stmt 1 view .LVU260
 853 00d4 DCE7     		b	.L40
 854              	.LVL79:
 855              	.L53:
 211:src/date.c    ****         neg = -1;
 856              		.loc 1 211 3 view .LVU261
 857 00d6 FFF7FEFF 		bl	dn_minus
 858              	.LVL80:
 212:src/date.c    **** 	} else {
 859              		.loc 1 212 9 view .LVU262
 212:src/date.c    **** 	} else {
 860              		.loc 1 212 13 is_stmt 0 view .LVU263
 861 00da 4FF0FF3A 		mov	r10, #-1
 862 00de A0E7     		b	.L38
 863              	.L55:
 864              		.align	2
 865              	.L54:
 866 00e0 00000000 		.word	main_ram
 867              		.cfi_endproc
 868              	.LFE30:
 870              		.section	.text.dateExtract,"ax",%progbits
 871              		.align	1
 872              		.p2align 2,,3
 873              		.syntax unified
 874              		.thumb
 875              		.thumb_func
 876              		.fpu fpv4-sp-d16
 878              	dateExtract:
 879              	.LVL81:
 880              	.LFB11:
 350:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 881              		.loc 1 350 84 is_stmt 1 view -0
 882              		.cfi_startproc
ARM GAS  /tmp/ccrwXAwg.s 			page 28


 883              		@ args = 4, pretend = 0, frame = 0
 884              		@ frame_needed = 0, uses_anonymous_args = 0
 351:src/date.c    **** 		set_NaN(res);
 885              		.loc 1 351 2 view .LVU265
 350:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 886              		.loc 1 350 84 is_stmt 0 view .LVU266
 887 0000 70B5     		push	{r4, r5, r6, lr}
 888              		.cfi_def_cfa_offset 16
 889              		.cfi_offset 4, -16
 890              		.cfi_offset 5, -12
 891              		.cfi_offset 6, -8
 892              		.cfi_offset 14, -4
 351:src/date.c    **** 		set_NaN(res);
 893              		.loc 1 351 5 view .LVU267
 894 0002 0D7A     		ldrb	r5, [r1, #8]	@ zero_extendqisi2
 895 0004 15F0700F 		tst	r5, #112
 350:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 896              		.loc 1 350 84 view .LVU268
 897 0008 0646     		mov	r6, r0
 351:src/date.c    **** 		set_NaN(res);
 898              		.loc 1 351 5 view .LVU269
 899 000a 0FD1     		bne	.L59
 900 000c 0C46     		mov	r4, r1
 901              	.LVL82:
 351:src/date.c    **** 		set_NaN(res);
 902              		.loc 1 351 5 view .LVU270
 903 000e 1146     		mov	r1, r2
 904              	.LVL83:
 351:src/date.c    **** 		set_NaN(res);
 905              		.loc 1 351 5 view .LVU271
 906 0010 1A46     		mov	r2, r3
 907              	.LVL84:
 908              	.LBB57:
 909              	.LBI57:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 910              		.loc 1 202 12 is_stmt 1 view .LVU272
 911              	.LBB58:
 203:src/date.c    **** 	decNumber z, a;
 912              		.loc 1 203 2 view .LVU273
 204:src/date.c    ****     int neg = 1;
 913              		.loc 1 204 2 view .LVU274
 205:src/date.c    **** 
 914              		.loc 1 205 5 view .LVU275
 207:src/date.c    **** 		return 1;
 915              		.loc 1 207 2 view .LVU276
 207:src/date.c    **** 		return 1;
 916              		.loc 1 207 6 is_stmt 0 view .LVU277
 917 0012 094B     		ldr	r3, .L61
 918              	.LVL85:
 207:src/date.c    **** 		return 1;
 919              		.loc 1 207 6 view .LVU278
 920 0014 1B68     		ldr	r3, [r3]
 921 0016 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 922              		.loc 1 207 5 view .LVU279
 923 001a DB07     		lsls	r3, r3, #31
 924 001c 06D4     		bmi	.L59
ARM GAS  /tmp/ccrwXAwg.s 			page 29


 925 001e 049B     		ldr	r3, [sp, #16]
 926 0020 2046     		mov	r0, r4
 927              	.LVL86:
 207:src/date.c    **** 		return 1;
 928              		.loc 1 207 5 view .LVU280
 929 0022 FFF7FEFF 		bl	extract_date.part.0
 930              	.LVL87:
 207:src/date.c    **** 		return 1;
 931              		.loc 1 207 5 view .LVU281
 932              	.LBE58:
 933              	.LBE57:
 351:src/date.c    **** 		set_NaN(res);
 934              		.loc 1 351 28 view .LVU282
 935 0026 08B9     		cbnz	r0, .L59
 355:src/date.c    **** }
 936              		.loc 1 355 9 view .LVU283
 937 0028 0120     		movs	r0, #1
 356:src/date.c    **** 
 938              		.loc 1 356 1 view .LVU284
 939 002a 70BD     		pop	{r4, r5, r6, pc}
 940              	.LVL88:
 941              	.L59:
 352:src/date.c    **** 		return 0;
 942              		.loc 1 352 3 is_stmt 1 view .LVU285
 943 002c 3046     		mov	r0, r6
 944 002e FFF7FEFF 		bl	set_NaN
 945              	.LVL89:
 353:src/date.c    **** 	}
 946              		.loc 1 353 3 view .LVU286
 353:src/date.c    **** 	}
 947              		.loc 1 353 10 is_stmt 0 view .LVU287
 948 0032 0020     		movs	r0, #0
 356:src/date.c    **** 
 949              		.loc 1 356 1 view .LVU288
 950 0034 70BD     		pop	{r4, r5, r6, pc}
 951              	.LVL90:
 952              	.L62:
 356:src/date.c    **** 
 953              		.loc 1 356 1 view .LVU289
 954 0036 00BF     		.align	2
 955              	.L61:
 956 0038 00000000 		.word	main_ram
 957              		.cfi_endproc
 958              	.LFE11:
 960              		.section	.text.day_of_week.constprop.0,"ax",%progbits
 961              		.align	1
 962              		.p2align 2,,3
 963              		.syntax unified
 964              		.thumb
 965              		.thumb_func
 966              		.fpu fpv4-sp-d16
 968              	day_of_week.constprop.0:
 969              	.LVL91:
 970              	.LFB31:
 140:src/date.c    **** 	int h;
 971              		.loc 1 140 12 is_stmt 1 view -0
 972              		.cfi_startproc
ARM GAS  /tmp/ccrwXAwg.s 			page 30


 973              		@ args = 0, pretend = 0, frame = 0
 974              		@ frame_needed = 0, uses_anonymous_args = 0
 141:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 975              		.loc 1 141 2 view .LVU291
 142:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 976              		.loc 1 142 2 view .LVU292
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 977              		.loc 1 145 2 view .LVU293
 140:src/date.c    **** 	int h;
 978              		.loc 1 140 12 is_stmt 0 view .LVU294
 979 0000 08B5     		push	{r3, lr}
 980              		.cfi_def_cfa_offset 8
 981              		.cfi_offset 3, -8
 982              		.cfi_offset 14, -4
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 983              		.loc 1 145 7 view .LVU295
 984 0002 FFF7FEFF 		bl	JDN
 985              	.LVL92:
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 986              		.loc 1 145 4 view .LVU296
 987 0006 0C4B     		ldr	r3, .L67
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 988              		.loc 1 146 21 view .LVU297
 989 0008 0C49     		ldr	r1, .L67+4
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 990              		.loc 1 145 28 view .LVU298
 991 000a 0130     		adds	r0, r0, #1
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 992              		.loc 1 145 4 view .LVU299
 993 000c 83FB0023 		smull	r2, r3, r3, r0
 994 0010 1A18     		adds	r2, r3, r0
 995 0012 C317     		asrs	r3, r0, #31
 996 0014 C3EBA203 		rsb	r3, r3, r2, asr #2
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 997              		.loc 1 146 18 view .LVU300
 998 0018 0A68     		ldr	r2, [r1]
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 999              		.loc 1 145 4 view .LVU301
 1000 001a C3EBC303 		rsb	r3, r3, r3, lsl #3
 1001 001e C31A     		subs	r3, r0, r3
 1002              	.LVL93:
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 1003              		.loc 1 146 2 is_stmt 1 view .LVU302
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 1004              		.loc 1 146 18 is_stmt 0 view .LVU303
 1005 0020 22B9     		cbnz	r2, .L64
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1006              		.loc 1 147 3 is_stmt 1 view .LVU304
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1007              		.loc 1 147 15 is_stmt 0 view .LVU305
 1008 0022 074A     		ldr	r2, .L67+8
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1009              		.loc 1 147 8 view .LVU306
 1010 0024 0749     		ldr	r1, .L67+12
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1011              		.loc 1 147 40 view .LVU307
 1012 0026 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccrwXAwg.s 			page 31


 147:src/date.c    **** 	return h != 0 ? h : 7;
 1013              		.loc 1 147 15 view .LVU308
 1014 0028 0244     		add	r2, r2, r0
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1015              		.loc 1 147 8 view .LVU309
 1016 002a 0A60     		str	r2, [r1]
 1017              	.L64:
 148:src/date.c    **** }
 1018              		.loc 1 148 2 is_stmt 1 view .LVU310
 148:src/date.c    **** }
 1019              		.loc 1 148 20 is_stmt 0 view .LVU311
 1020 002c 002B     		cmp	r3, #0
 149:src/date.c    **** 
 1021              		.loc 1 149 1 view .LVU312
 1022 002e 14BF     		ite	ne
 1023 0030 1846     		movne	r0, r3
 1024 0032 0720     		moveq	r0, #7
 1025 0034 08BD     		pop	{r3, pc}
 1026              	.LVL94:
 1027              	.L68:
 149:src/date.c    **** 
 1028              		.loc 1 149 1 view .LVU313
 1029 0036 00BF     		.align	2
 1030              	.L67:
 1031 0038 93244992 		.word	-1840700269
 1032 003c 00000000 		.word	Running
 1033 0040 00000000 		.word	.LANCHOR0
 1034 0044 00000000 		.word	DispMsg
 1035              		.cfi_endproc
 1036              	.LFE31:
 1038              		.section	.text.build_date,"ax",%progbits
 1039              		.align	1
 1040              		.p2align 2,,3
 1041              		.syntax unified
 1042              		.thumb
 1043              		.thumb_func
 1044              		.fpu fpv4-sp-d16
 1046              	build_date:
 1047              	.LVL95:
 1048              	.LFB6:
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1049              		.loc 1 155 76 is_stmt 1 view -0
 1050              		.cfi_startproc
 1051              		@ args = 0, pretend = 0, frame = 0
 1052              		@ frame_needed = 0, uses_anonymous_args = 0
 156:src/date.c    **** 
 1053              		.loc 1 156 2 view .LVU315
 158:src/date.c    **** 		set_NaN(res);
 1054              		.loc 1 158 2 view .LVU316
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1055              		.loc 1 155 76 is_stmt 0 view .LVU317
 1056 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1057              		.cfi_def_cfa_offset 24
 1058              		.cfi_offset 4, -24
 1059              		.cfi_offset 5, -20
 1060              		.cfi_offset 6, -16
 1061              		.cfi_offset 7, -12
ARM GAS  /tmp/ccrwXAwg.s 			page 32


 1062              		.cfi_offset 8, -8
 1063              		.cfi_offset 14, -4
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1064              		.loc 1 155 76 view .LVU318
 1065 0004 0E46     		mov	r6, r1
 1066 0006 1746     		mov	r7, r2
 1067 0008 0546     		mov	r5, r0
 158:src/date.c    **** 		set_NaN(res);
 1068              		.loc 1 158 6 view .LVU319
 1069 000a 1A46     		mov	r2, r3
 1070              	.LVL96:
 158:src/date.c    **** 		set_NaN(res);
 1071              		.loc 1 158 6 view .LVU320
 1072 000c 3946     		mov	r1, r7
 1073              	.LVL97:
 158:src/date.c    **** 		set_NaN(res);
 1074              		.loc 1 158 6 view .LVU321
 1075 000e 3046     		mov	r0, r6
 1076              	.LVL98:
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1077              		.loc 1 155 76 view .LVU322
 1078 0010 9846     		mov	r8, r3
 158:src/date.c    **** 		set_NaN(res);
 1079              		.loc 1 158 6 view .LVU323
 1080 0012 FFF7FEFF 		bl	check_date
 1081              	.LVL99:
 158:src/date.c    **** 		set_NaN(res);
 1082              		.loc 1 158 5 view .LVU324
 1083 0016 20BB     		cbnz	r0, .L80
 162:src/date.c    **** 		year = -year;
 1084              		.loc 1 162 2 is_stmt 1 view .LVU325
 167:src/date.c    **** 	case DATE_YMD:
 1085              		.loc 1 167 16 is_stmt 0 view .LVU326
 1086 0018 254A     		ldr	r2, .L81
 1087 001a 1268     		ldr	r2, [r2]
 1088 001c 92F8EA27 		ldrb	r2, [r2, #2026]	@ zero_extendqisi2
 162:src/date.c    **** 		year = -year;
 1089              		.loc 1 162 5 view .LVU327
 1090 0020 002E     		cmp	r6, #0
 163:src/date.c    **** 		sign = -1;
 1091              		.loc 1 163 3 is_stmt 1 view .LVU328
 167:src/date.c    **** 	case DATE_YMD:
 1092              		.loc 1 167 16 is_stmt 0 view .LVU329
 1093 0022 C2F30112 		ubfx	r2, r2, #4, #2
 163:src/date.c    **** 		sign = -1;
 1094              		.loc 1 163 8 view .LVU330
 1095 0026 B9BF     		ittee	lt
 1096 0028 7142     		rsblt	r1, r6, #0
 1097              	.LVL100:
 164:src/date.c    **** 	}
 1098              		.loc 1 164 3 is_stmt 1 view .LVU331
 164:src/date.c    **** 	}
 1099              		.loc 1 164 8 is_stmt 0 view .LVU332
 1100 002a 4FF0FF33 		movlt	r3, #-1
 1101 002e 3146     		movge	r1, r6
 1102              	.LVL101:
 156:src/date.c    **** 
ARM GAS  /tmp/ccrwXAwg.s 			page 33


 1103              		.loc 1 156 6 view .LVU333
 1104 0030 0123     		movge	r3, #1
 1105              	.LVL102:
 167:src/date.c    **** 	case DATE_YMD:
 1106              		.loc 1 167 2 is_stmt 1 view .LVU334
 1107 0032 012A     		cmp	r2, #1
 1108 0034 27D0     		beq	.L73
 1109 0036 022A     		cmp	r2, #2
 1110 0038 2FD0     		beq	.L74
 1111 003a C2B1     		cbz	r2, .L75
 1112              	.LVL103:
 1113              	.L79:
 156:src/date.c    **** 
 1114              		.loc 1 156 16 is_stmt 0 view .LVU335
 1115 003c 6FF00504 		mvn	r4, #5
 1116              	.LVL104:
 1117              	.L76:
 181:src/date.c    **** 	dn_mulpow10(res, res, shift);
 1118              		.loc 1 181 2 is_stmt 1 view .LVU336
 1119 0040 0146     		mov	r1, r0
 1120              	.LVL105:
 181:src/date.c    **** 	dn_mulpow10(res, res, shift);
 1121              		.loc 1 181 2 is_stmt 0 view .LVU337
 1122 0042 2846     		mov	r0, r5
 1123 0044 FFF7FEFF 		bl	int_to_dn
 1124              	.LVL106:
 182:src/date.c    **** 	day_of_week(sign * year, month, day, &DispMsg);
 1125              		.loc 1 182 2 is_stmt 1 view .LVU338
 1126 0048 2246     		mov	r2, r4
 1127 004a 2946     		mov	r1, r5
 1128 004c 2846     		mov	r0, r5
 1129 004e FFF7FEFF 		bl	dn_mulpow10
 1130              	.LVL107:
 183:src/date.c    **** 	return res;
 1131              		.loc 1 183 2 view .LVU339
 1132 0052 4246     		mov	r2, r8
 1133 0054 3946     		mov	r1, r7
 1134 0056 3046     		mov	r0, r6
 1135 0058 FFF7FEFF 		bl	day_of_week.constprop.0
 1136              	.LVL108:
 184:src/date.c    **** }
 1137              		.loc 1 184 2 view .LVU340
 185:src/date.c    **** 
 1138              		.loc 1 185 1 is_stmt 0 view .LVU341
 1139 005c 2846     		mov	r0, r5
 1140 005e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1141              	.LVL109:
 1142              	.L80:
 159:src/date.c    **** 		return res;
 1143              		.loc 1 159 3 is_stmt 1 view .LVU342
 1144 0062 2846     		mov	r0, r5
 1145 0064 FFF7FEFF 		bl	set_NaN
 1146              	.LVL110:
 160:src/date.c    **** 	}
 1147              		.loc 1 160 3 view .LVU343
 185:src/date.c    **** 
 1148              		.loc 1 185 1 is_stmt 0 view .LVU344
ARM GAS  /tmp/ccrwXAwg.s 			page 34


 1149 0068 2846     		mov	r0, r5
 1150 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1151              	.LVL111:
 1152              	.L75:
 174:src/date.c    **** 		break;
 1153              		.loc 1 174 3 is_stmt 1 view .LVU345
 175:src/date.c    **** 
 1154              		.loc 1 175 3 view .LVU346
 174:src/date.c    **** 		break;
 1155              		.loc 1 174 13 is_stmt 0 view .LVU347
 1156 006e 6420     		movs	r0, #100
 174:src/date.c    **** 		break;
 1157              		.loc 1 174 28 view .LVU348
 1158 0070 42F21074 		movw	r4, #10000
 174:src/date.c    **** 		break;
 1159              		.loc 1 174 20 view .LVU349
 1160 0074 00FB0870 		mla	r0, r0, r8, r7
 174:src/date.c    **** 		break;
 1161              		.loc 1 174 5 view .LVU350
 1162 0078 04FB0010 		mla	r0, r4, r0, r1
 1163              	.LVL112:
 174:src/date.c    **** 		break;
 1164              		.loc 1 174 5 view .LVU351
 1165 007c 03FB00F0 		mul	r0, r3, r0
 1166              	.LVL113:
 156:src/date.c    **** 
 1167              		.loc 1 156 16 view .LVU352
 1168 0080 6FF00504 		mvn	r4, #5
 175:src/date.c    **** 
 1169              		.loc 1 175 3 view .LVU353
 1170 0084 DCE7     		b	.L76
 1171              	.LVL114:
 1172              	.L73:
 169:src/date.c    **** 		shift = -4;
 1173              		.loc 1 169 3 is_stmt 1 view .LVU354
 170:src/date.c    **** 		break;
 1174              		.loc 1 170 3 view .LVU355
 171:src/date.c    **** 
 1175              		.loc 1 171 3 view .LVU356
 169:src/date.c    **** 		shift = -4;
 1176              		.loc 1 169 14 is_stmt 0 view .LVU357
 1177 0086 6424     		movs	r4, #100
 169:src/date.c    **** 		shift = -4;
 1178              		.loc 1 169 21 view .LVU358
 1179 0088 04FB0170 		mla	r0, r4, r1, r7
 169:src/date.c    **** 		shift = -4;
 1180              		.loc 1 169 5 view .LVU359
 1181 008c 04FB0080 		mla	r0, r4, r0, r8
 1182              	.LVL115:
 169:src/date.c    **** 		shift = -4;
 1183              		.loc 1 169 5 view .LVU360
 1184 0090 03FB00F0 		mul	r0, r3, r0
 1185              	.LVL116:
 170:src/date.c    **** 		break;
 1186              		.loc 1 170 9 view .LVU361
 1187 0094 6FF00304 		mvn	r4, #3
 171:src/date.c    **** 
ARM GAS  /tmp/ccrwXAwg.s 			page 35


 1188              		.loc 1 171 3 view .LVU362
 1189 0098 D2E7     		b	.L76
 1190              	.LVL117:
 1191              	.L74:
 178:src/date.c    **** 		break;
 1192              		.loc 1 178 3 is_stmt 1 view .LVU363
 179:src/date.c    **** 	}
 1193              		.loc 1 179 3 view .LVU364
 178:src/date.c    **** 		break;
 1194              		.loc 1 178 15 is_stmt 0 view .LVU365
 1195 009a 6424     		movs	r4, #100
 178:src/date.c    **** 		break;
 1196              		.loc 1 178 28 view .LVU366
 1197 009c 42F21070 		movw	r0, #10000
 178:src/date.c    **** 		break;
 1198              		.loc 1 178 22 view .LVU367
 1199 00a0 04FB0784 		mla	r4, r4, r7, r8
 178:src/date.c    **** 		break;
 1200              		.loc 1 178 5 view .LVU368
 1201 00a4 00FB0414 		mla	r4, r0, r4, r1
 1202              	.LVL118:
 178:src/date.c    **** 		break;
 1203              		.loc 1 178 5 view .LVU369
 1204 00a8 03FB04F0 		mul	r0, r3, r4
 1205 00ac C6E7     		b	.L79
 1206              	.L82:
 1207 00ae 00BF     		.align	2
 1208              	.L81:
 1209 00b0 00000000 		.word	main_ram
 1210              		.cfi_endproc
 1211              	.LFE6:
 1213              		.section	.text.dateFromYMD,"ax",%progbits
 1214              		.align	1
 1215              		.p2align 2,,3
 1216              		.global	dateFromYMD
 1217              		.syntax unified
 1218              		.thumb
 1219              		.thumb_func
 1220              		.fpu fpv4-sp-d16
 1222              	dateFromYMD:
 1223              	.LVL119:
 1224              	.LFB7:
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1225              		.loc 1 190 100 is_stmt 1 view -0
 1226              		.cfi_startproc
 1227              		@ args = 0, pretend = 0, frame = 8
 1228              		@ frame_needed = 0, uses_anonymous_args = 0
 191:src/date.c    **** 		return set_NaN(res);
 1229              		.loc 1 191 2 view .LVU371
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1230              		.loc 1 190 100 is_stmt 0 view .LVU372
 1231 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1232              		.cfi_def_cfa_offset 20
 1233              		.cfi_offset 4, -20
 1234              		.cfi_offset 5, -16
 1235              		.cfi_offset 6, -12
 1236              		.cfi_offset 7, -8
ARM GAS  /tmp/ccrwXAwg.s 			page 36


 1237              		.cfi_offset 14, -4
 191:src/date.c    **** 		return set_NaN(res);
 1238              		.loc 1 191 5 view .LVU373
 1239 0002 1D7A     		ldrb	r5, [r3, #8]	@ zero_extendqisi2
 1240 0004 15F0700F 		tst	r5, #112
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1241              		.loc 1 190 100 view .LVU374
 1242 0008 83B0     		sub	sp, sp, #12
 1243              		.cfi_def_cfa_offset 32
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1244              		.loc 1 190 100 view .LVU375
 1245 000a 0646     		mov	r6, r0
 191:src/date.c    **** 		return set_NaN(res);
 1246              		.loc 1 191 5 view .LVU376
 1247 000c 08D1     		bne	.L84
 1248 000e 1446     		mov	r4, r2
 191:src/date.c    **** 		return set_NaN(res);
 1249              		.loc 1 191 28 discriminator 1 view .LVU377
 1250 0010 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 1251              	.LVL120:
 191:src/date.c    **** 		return set_NaN(res);
 1252              		.loc 1 191 28 discriminator 1 view .LVU378
 1253 0012 12F0700F 		tst	r2, #112
 1254 0016 03D1     		bne	.L84
 191:src/date.c    **** 		return set_NaN(res);
 1255              		.loc 1 191 53 discriminator 2 view .LVU379
 1256 0018 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 1257 001a 12F0700F 		tst	r2, #112
 1258 001e 05D0     		beq	.L85
 1259              	.LVL121:
 1260              	.L84:
 192:src/date.c    **** 	else {
 1261              		.loc 1 192 3 is_stmt 1 view .LVU380
 192:src/date.c    **** 	else {
 1262              		.loc 1 192 10 is_stmt 0 view .LVU381
 1263 0020 3046     		mov	r0, r6
 1264              	.LVL122:
 196:src/date.c    **** 
 1265              		.loc 1 196 1 view .LVU382
 1266 0022 03B0     		add	sp, sp, #12
 1267              		.cfi_remember_state
 1268              		.cfi_def_cfa_offset 20
 1269              		@ sp needed
 1270 0024 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 1271              		.cfi_restore 14
 1272              		.cfi_restore 7
 1273              		.cfi_restore 6
 1274              		.cfi_restore 5
 1275              		.cfi_restore 4
 1276              		.cfi_def_cfa_offset 0
 1277              	.LVL123:
 192:src/date.c    **** 	else {
 1278              		.loc 1 192 10 view .LVU383
 1279 0028 FFF7FEBF 		b	set_NaN
 1280              	.LVL124:
 1281              	.L85:
 1282              		.cfi_restore_state
ARM GAS  /tmp/ccrwXAwg.s 			page 37


 194:src/date.c    **** 	}
 1283              		.loc 1 194 3 is_stmt 1 view .LVU384
 194:src/date.c    **** 	}
 1284              		.loc 1 194 10 is_stmt 0 view .LVU385
 1285 002c 0846     		mov	r0, r1
 1286              	.LVL125:
 194:src/date.c    **** 	}
 1287              		.loc 1 194 10 view .LVU386
 1288 002e 1F46     		mov	r7, r3
 1289 0030 FFF7FEFF 		bl	dn_to_int
 1290              	.LVL126:
 194:src/date.c    **** 	}
 1291              		.loc 1 194 10 view .LVU387
 1292 0034 0146     		mov	r1, r0
 1293 0036 2046     		mov	r0, r4
 1294 0038 0191     		str	r1, [sp, #4]
 1295 003a FFF7FEFF 		bl	dn_to_int
 1296              	.LVL127:
 1297 003e 0090     		str	r0, [sp]
 1298 0040 3846     		mov	r0, r7
 1299 0042 FFF7FEFF 		bl	dn_to_int
 1300              	.LVL128:
 1301 0046 DDE90021 		ldrd	r2, r1, [sp]
 1302 004a 0346     		mov	r3, r0
 1303 004c 3046     		mov	r0, r6
 196:src/date.c    **** 
 1304              		.loc 1 196 1 view .LVU388
 1305 004e 03B0     		add	sp, sp, #12
 1306              		.cfi_def_cfa_offset 20
 1307              		@ sp needed
 1308 0050 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 1309              		.cfi_restore 14
 1310              		.cfi_restore 7
 1311              		.cfi_restore 6
 1312              		.cfi_restore 5
 1313              		.cfi_restore 4
 1314              		.cfi_def_cfa_offset 0
 1315              	.LVL129:
 194:src/date.c    **** 	}
 1316              		.loc 1 194 10 view .LVU389
 1317 0054 FFF7FEBF 		b	build_date
 1318              	.LVL130:
 194:src/date.c    **** 	}
 1319              		.loc 1 194 10 view .LVU390
 1320              		.cfi_endproc
 1321              	.LFE7:
 1323              		.section	.text.date_isleap,"ax",%progbits
 1324              		.align	1
 1325              		.p2align 2,,3
 1326              		.global	date_isleap
 1327              		.syntax unified
 1328              		.thumb
 1329              		.thumb_func
 1330              		.fpu fpv4-sp-d16
 1332              	date_isleap:
 1333              	.LVL131:
 1334              	.LFB10:
ARM GAS  /tmp/ccrwXAwg.s 			page 38


 337:src/date.c    **** 	int y, t = 0;
 1335              		.loc 1 337 33 is_stmt 1 view -0
 1336              		.cfi_startproc
 1337              		@ args = 0, pretend = 0, frame = 40
 1338              		@ frame_needed = 0, uses_anonymous_args = 0
 338:src/date.c    **** 	decNumber x;
 1339              		.loc 1 338 2 view .LVU392
 339:src/date.c    **** 
 1340              		.loc 1 339 2 view .LVU393
 341:src/date.c    **** 	if (! find_year(&x, &y))
 1341              		.loc 1 341 2 view .LVU394
 337:src/date.c    **** 	int y, t = 0;
 1342              		.loc 1 337 33 is_stmt 0 view .LVU395
 1343 0000 00B5     		push	{lr}
 1344              		.cfi_def_cfa_offset 4
 1345              		.cfi_offset 14, -4
 1346 0002 8BB0     		sub	sp, sp, #44
 1347              		.cfi_def_cfa_offset 48
 341:src/date.c    **** 	if (! find_year(&x, &y))
 1348              		.loc 1 341 2 view .LVU396
 1349 0004 01A8     		add	r0, sp, #4
 1350              	.LVL132:
 341:src/date.c    **** 	if (! find_year(&x, &y))
 1351              		.loc 1 341 2 view .LVU397
 1352 0006 FFF7FEFF 		bl	getX
 1353              	.LVL133:
 342:src/date.c    **** 		t = isleap(y);
 1354              		.loc 1 342 2 is_stmt 1 view .LVU398
 1355              	.LBB67:
 1356              	.LBI67:
 264:src/date.c    **** 	int y;
 1357              		.loc 1 264 12 view .LVU399
 1358              	.LBB68:
 265:src/date.c    **** 
 1359              		.loc 1 265 2 view .LVU400
 267:src/date.c    **** 		return -1;
 1360              		.loc 1 267 2 view .LVU401
 267:src/date.c    **** 		return -1;
 1361              		.loc 1 267 5 is_stmt 0 view .LVU402
 1362 000a 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 1363 000e 13F0700F 		tst	r3, #112
 1364 0012 2FD1     		bne	.L99
 269:src/date.c    **** 		y = dn_to_int(x);
 1365              		.loc 1 269 2 is_stmt 1 view .LVU403
 269:src/date.c    **** 		y = dn_to_int(x);
 1366              		.loc 1 269 6 is_stmt 0 view .LVU404
 1367 0014 01A8     		add	r0, sp, #4
 1368              	.LVL134:
 269:src/date.c    **** 		y = dn_to_int(x);
 1369              		.loc 1 269 6 view .LVU405
 1370 0016 FFF7FEFF 		bl	is_int
 1371              	.LVL135:
 269:src/date.c    **** 		y = dn_to_int(x);
 1372              		.loc 1 269 5 view .LVU406
 1373 001a 08BB     		cbnz	r0, .L100
 273:src/date.c    **** 		return -1;
 1374              		.loc 1 273 9 is_stmt 1 view .LVU407
ARM GAS  /tmp/ccrwXAwg.s 			page 39


 1375              	.LVL136:
 1376              	.LBB69:
 1377              	.LBI69:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 1378              		.loc 1 202 12 view .LVU408
 1379              	.LBB70:
 203:src/date.c    **** 	decNumber z, a;
 1380              		.loc 1 203 2 view .LVU409
 204:src/date.c    ****     int neg = 1;
 1381              		.loc 1 204 2 view .LVU410
 205:src/date.c    **** 
 1382              		.loc 1 205 5 view .LVU411
 207:src/date.c    **** 		return 1;
 1383              		.loc 1 207 2 view .LVU412
 207:src/date.c    **** 		return 1;
 1384              		.loc 1 207 6 is_stmt 0 view .LVU413
 1385 001c 204B     		ldr	r3, .L102
 1386 001e 1B68     		ldr	r3, [r3]
 1387 0020 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 1388              		.loc 1 207 5 view .LVU414
 1389 0024 13F00103 		ands	r3, r3, #1
 1390 0028 24D1     		bne	.L99
 1391 002a 01A8     		add	r0, sp, #4
 1392              	.LVL137:
 207:src/date.c    **** 		return 1;
 1393              		.loc 1 207 5 view .LVU415
 1394 002c 1A46     		mov	r2, r3
 1395 002e 6946     		mov	r1, sp
 1396 0030 FFF7FEFF 		bl	extract_date.part.0
 1397              	.LVL138:
 207:src/date.c    **** 		return 1;
 1398              		.loc 1 207 5 view .LVU416
 1399              	.LBE70:
 1400              	.LBE69:
 273:src/date.c    **** 		return -1;
 1401              		.loc 1 273 12 view .LVU417
 1402 0034 F0B9     		cbnz	r0, .L99
 1403              	.LVL139:
 1404              	.L93:
 275:src/date.c    **** 	return 0;
 1405              		.loc 1 275 2 is_stmt 1 view .LVU418
 275:src/date.c    **** 	return 0;
 1406              		.loc 1 275 8 is_stmt 0 view .LVU419
 1407 0036 009B     		ldr	r3, [sp]
 1408              	.LVL140:
 276:src/date.c    **** }
 1409              		.loc 1 276 2 is_stmt 1 view .LVU420
 276:src/date.c    **** }
 1410              		.loc 1 276 2 is_stmt 0 view .LVU421
 1411              	.LBE68:
 1412              	.LBE67:
 343:src/date.c    **** 	fin_tst(t);
 1413              		.loc 1 343 3 is_stmt 1 view .LVU422
 1414              	.LBB72:
 1415              	.LBI72:
 107:src/date.c    **** 	if ((year & 3) == 0) {		// leap year candidate
ARM GAS  /tmp/ccrwXAwg.s 			page 40


 1416              		.loc 1 107 12 view .LVU423
 1417              	.LBB73:
 108:src/date.c    **** 		if (isGregorian(year, 1, 1)) {
 1418              		.loc 1 108 2 view .LVU424
 108:src/date.c    **** 		if (isGregorian(year, 1, 1)) {
 1419              		.loc 1 108 5 is_stmt 0 view .LVU425
 1420 0038 9A07     		lsls	r2, r3, #30
 1421 003a 1BD1     		bne	.L99
 109:src/date.c    **** 			// Gregorian is leap if not divisible by 100 or if devisible by 400
 1422              		.loc 1 109 3 is_stmt 1 view .LVU426
 1423              	.LVL141:
 1424              	.LBB74:
 1425              	.LBI74:
  36:src/date.c    **** 	int y, m, d;
 1426              		.loc 1 36 12 view .LVU427
 1427              	.LBB75:
  37:src/date.c    **** 	if (UState.jg1582) {
 1428              		.loc 1 37 2 view .LVU428
  38:src/date.c    **** 		y = 1582;
 1429              		.loc 1 38 2 view .LVU429
  38:src/date.c    **** 		y = 1582;
 1430              		.loc 1 38 6 is_stmt 0 view .LVU430
 1431 003c 184A     		ldr	r2, .L102
 1432 003e 1268     		ldr	r2, [r2]
  38:src/date.c    **** 		y = 1582;
 1433              		.loc 1 38 5 view .LVU431
 1434 0040 92F9EB17 		ldrsb	r1, [r2, #2027]
  43:src/date.c    **** 		m = 9;
 1435              		.loc 1 43 5 view .LVU432
 1436 0044 0029     		cmp	r1, #0
 1437 0046 40F22E62 		movw	r2, #1582
 1438 004a A8BF     		it	ge
 1439 004c 4FF4DB62 		movge	r2, #1752
 1440              	.LVL142:
  47:src/date.c    **** 		return 1;
 1441              		.loc 1 47 2 is_stmt 1 view .LVU433
  47:src/date.c    **** 		return 1;
 1442              		.loc 1 47 5 is_stmt 0 view .LVU434
 1443 0050 9A42     		cmp	r2, r3
 1444 0052 15DB     		blt	.L101
 1445              	.LVL143:
 1446              	.L97:
  47:src/date.c    **** 		return 1;
 1447              		.loc 1 47 5 view .LVU435
 1448              	.LBE75:
 1449              	.LBE74:
 117:src/date.c    **** 	}
 1450              		.loc 1 117 10 view .LVU436
 1451 0054 0120     		movs	r0, #1
 1452              	.LVL144:
 117:src/date.c    **** 	}
 1453              		.loc 1 117 10 view .LVU437
 1454              	.LBE73:
 1455              	.LBE72:
 344:src/date.c    **** }
 1456              		.loc 1 344 2 is_stmt 1 view .LVU438
 1457 0056 FFF7FEFF 		bl	fin_tst
ARM GAS  /tmp/ccrwXAwg.s 			page 41


 1458              	.LVL145:
 345:src/date.c    **** 
 1459              		.loc 1 345 1 is_stmt 0 view .LVU439
 1460 005a 0BB0     		add	sp, sp, #44
 1461              		.cfi_remember_state
 1462              		.cfi_def_cfa_offset 4
 1463              		@ sp needed
 1464 005c 5DF804FB 		ldr	pc, [sp], #4
 1465              	.LVL146:
 1466              	.L100:
 1467              		.cfi_restore_state
 1468              	.LBB82:
 1469              	.LBB71:
 270:src/date.c    **** 		if (check_date(y, 1, 1))
 1470              		.loc 1 270 3 is_stmt 1 view .LVU440
 270:src/date.c    **** 		if (check_date(y, 1, 1))
 1471              		.loc 1 270 7 is_stmt 0 view .LVU441
 1472 0060 01A8     		add	r0, sp, #4
 1473              	.LVL147:
 270:src/date.c    **** 		if (check_date(y, 1, 1))
 1474              		.loc 1 270 7 view .LVU442
 1475 0062 FFF7FEFF 		bl	dn_to_int
 1476              	.LVL148:
 271:src/date.c    **** 			return -1;
 1477              		.loc 1 271 7 view .LVU443
 1478 0066 0122     		movs	r2, #1
 1479 0068 1146     		mov	r1, r2
 270:src/date.c    **** 		if (check_date(y, 1, 1))
 1480              		.loc 1 270 5 view .LVU444
 1481 006a 0090     		str	r0, [sp]
 271:src/date.c    **** 			return -1;
 1482              		.loc 1 271 3 is_stmt 1 view .LVU445
 271:src/date.c    **** 			return -1;
 1483              		.loc 1 271 7 is_stmt 0 view .LVU446
 1484 006c FFF7FEFF 		bl	check_date
 1485              	.LVL149:
 271:src/date.c    **** 			return -1;
 1486              		.loc 1 271 6 view .LVU447
 1487 0070 0028     		cmp	r0, #0
 1488 0072 E0D0     		beq	.L93
 1489              	.LVL150:
 1490              	.L99:
 271:src/date.c    **** 			return -1;
 1491              		.loc 1 271 6 view .LVU448
 1492              	.LBE71:
 1493              	.LBE82:
 1494              	.LBB83:
 1495              	.LBB80:
 119:src/date.c    **** }
 1496              		.loc 1 119 9 view .LVU449
 1497 0074 0020     		movs	r0, #0
 1498              	.L89:
 1499              	.LVL151:
 119:src/date.c    **** }
 1500              		.loc 1 119 9 view .LVU450
 1501              	.LBE80:
 1502              	.LBE83:
ARM GAS  /tmp/ccrwXAwg.s 			page 42


 344:src/date.c    **** }
 1503              		.loc 1 344 2 is_stmt 1 view .LVU451
 1504 0076 FFF7FEFF 		bl	fin_tst
 1505              	.LVL152:
 345:src/date.c    **** 
 1506              		.loc 1 345 1 is_stmt 0 view .LVU452
 1507 007a 0BB0     		add	sp, sp, #44
 1508              		.cfi_remember_state
 1509              		.cfi_def_cfa_offset 4
 1510              		@ sp needed
 1511 007c 5DF804FB 		ldr	pc, [sp], #4
 1512              	.LVL153:
 1513              	.L101:
 1514              		.cfi_restore_state
 1515              	.LBB84:
 1516              	.LBB81:
 111:src/date.c    **** 				if (year % 400 == 0)
 1517              		.loc 1 111 4 is_stmt 1 view .LVU453
 1518              	.LBB78:
 1519              	.LBB76:
 1520 0080 0848     		ldr	r0, .L102+4
 1521 0082 0949     		ldr	r1, .L102+8
 1522              	.LBE76:
 1523              	.LBE78:
 111:src/date.c    **** 				if (year % 400 == 0)
 1524              		.loc 1 111 7 is_stmt 0 view .LVU454
 1525 0084 094A     		ldr	r2, .L102+12
 1526              	.LBB79:
 1527              	.LBB77:
 1528 0086 00FB0313 		mla	r3, r0, r3, r1
 1529              	.LVL154:
 111:src/date.c    **** 				if (year % 400 == 0)
 1530              		.loc 1 111 7 view .LVU455
 1531              	.LBE77:
 1532              	.LBE79:
 1533 008a B2EBB30F 		cmp	r2, r3, ror #2
 1534 008e E1D3     		bcc	.L97
 112:src/date.c    **** 					return 1;
 1535              		.loc 1 112 5 is_stmt 1 view .LVU456
 112:src/date.c    **** 					return 1;
 1536              		.loc 1 112 8 is_stmt 0 view .LVU457
 1537 0090 074A     		ldr	r2, .L102+16
 1538 0092 B2EB331F 		cmp	r2, r3, ror #4
 1539 0096 2CBF     		ite	cs
 1540 0098 0120     		movcs	r0, #1
 1541 009a 0020     		movcc	r0, #0
 1542 009c EBE7     		b	.L89
 1543              	.L103:
 1544 009e 00BF     		.align	2
 1545              	.L102:
 1546 00a0 00000000 		.word	main_ram
 1547 00a4 295C8FC2 		.word	-1030792151
 1548 00a8 50B81E05 		.word	85899344
 1549 00ac 285C8F02 		.word	42949672
 1550 00b0 0AD7A300 		.word	10737418
 1551              	.LBE81:
 1552              	.LBE84:
ARM GAS  /tmp/ccrwXAwg.s 			page 43


 1553              		.cfi_endproc
 1554              	.LFE10:
 1556              		.section	.text.dateDayOfWeek,"ax",%progbits
 1557              		.align	1
 1558              		.p2align 2,,3
 1559              		.global	dateDayOfWeek
 1560              		.syntax unified
 1561              		.thumb
 1562              		.thumb_func
 1563              		.fpu fpv4-sp-d16
 1565              	dateDayOfWeek:
 1566              	.LVL155:
 1567              	.LFB12:
 358:src/date.c    **** 	int y, m, d;
 1568              		.loc 1 358 62 is_stmt 1 view -0
 1569              		.cfi_startproc
 1570              		@ args = 0, pretend = 0, frame = 16
 1571              		@ frame_needed = 0, uses_anonymous_args = 0
 359:src/date.c    **** 
 1572              		.loc 1 359 2 view .LVU459
 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1573              		.loc 1 361 2 view .LVU460
 358:src/date.c    **** 	int y, m, d;
 1574              		.loc 1 358 62 is_stmt 0 view .LVU461
 1575 0000 10B5     		push	{r4, lr}
 1576              		.cfi_def_cfa_offset 8
 1577              		.cfi_offset 4, -8
 1578              		.cfi_offset 14, -4
 1579 0002 86B0     		sub	sp, sp, #24
 1580              		.cfi_def_cfa_offset 32
 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1581              		.loc 1 361 6 view .LVU462
 1582 0004 05AB     		add	r3, sp, #20
 1583 0006 0093     		str	r3, [sp]
 1584 0008 03AA     		add	r2, sp, #12
 1585 000a 04AB     		add	r3, sp, #16
 358:src/date.c    **** 	int y, m, d;
 1586              		.loc 1 358 62 view .LVU463
 1587 000c 0446     		mov	r4, r0
 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1588              		.loc 1 361 6 view .LVU464
 1589 000e FFF7FEFF 		bl	dateExtract
 1590              	.LVL156:
 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1591              		.loc 1 361 5 view .LVU465
 1592 0012 10B9     		cbnz	r0, .L110
 363:src/date.c    **** }
 1593              		.loc 1 363 2 is_stmt 1 view .LVU466
 364:src/date.c    **** 
 1594              		.loc 1 364 1 is_stmt 0 view .LVU467
 1595 0014 2046     		mov	r0, r4
 1596 0016 06B0     		add	sp, sp, #24
 1597              		.cfi_remember_state
 1598              		.cfi_def_cfa_offset 8
 1599              		@ sp needed
 1600 0018 10BD     		pop	{r4, pc}
 1601              	.LVL157:
ARM GAS  /tmp/ccrwXAwg.s 			page 44


 1602              	.L110:
 1603              		.cfi_restore_state
 362:src/date.c    **** 	return res;
 1604              		.loc 1 362 3 is_stmt 1 view .LVU468
 1605 001a DDE90412 		ldrd	r1, r2, [sp, #16]
 1606 001e 0398     		ldr	r0, [sp, #12]
 1607 0020 FFF7FEFF 		bl	day_of_week.constprop.0
 1608              	.LVL158:
 1609 0024 0146     		mov	r1, r0
 1610 0026 2046     		mov	r0, r4
 1611 0028 FFF7FEFF 		bl	int_to_dn
 1612              	.LVL159:
 363:src/date.c    **** }
 1613              		.loc 1 363 2 view .LVU469
 364:src/date.c    **** 
 1614              		.loc 1 364 1 is_stmt 0 view .LVU470
 1615 002c 2046     		mov	r0, r4
 1616 002e 06B0     		add	sp, sp, #24
 1617              		.cfi_def_cfa_offset 8
 1618              		@ sp needed
 1619 0030 10BD     		pop	{r4, pc}
 364:src/date.c    **** 
 1620              		.loc 1 364 1 view .LVU471
 1621              		.cfi_endproc
 1622              	.LFE12:
 1624 0032 00BF     		.section	.text.dateExtraction,"ax",%progbits
 1625              		.align	1
 1626              		.p2align 2,,3
 1627              		.global	dateExtraction
 1628              		.syntax unified
 1629              		.thumb
 1630              		.thumb_func
 1631              		.fpu fpv4-sp-d16
 1633              	dateExtraction:
 1634              	.LVL160:
 1635              	.LFB13:
 369:src/date.c    **** 	int z[3];
 1636              		.loc 1 369 63 is_stmt 1 view -0
 1637              		.cfi_startproc
 1638              		@ args = 0, pretend = 0, frame = 16
 1639              		@ frame_needed = 0, uses_anonymous_args = 0
 370:src/date.c    **** 
 1640              		.loc 1 370 2 view .LVU473
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 1641              		.loc 1 372 2 view .LVU474
 369:src/date.c    **** 	int z[3];
 1642              		.loc 1 369 63 is_stmt 0 view .LVU475
 1643 0000 10B5     		push	{r4, lr}
 1644              		.cfi_def_cfa_offset 8
 1645              		.cfi_offset 4, -8
 1646              		.cfi_offset 14, -4
 1647 0002 86B0     		sub	sp, sp, #24
 1648              		.cfi_def_cfa_offset 32
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 1649              		.loc 1 372 6 view .LVU476
 1650 0004 05AB     		add	r3, sp, #20
 1651 0006 0093     		str	r3, [sp]
ARM GAS  /tmp/ccrwXAwg.s 			page 45


 1652 0008 03AA     		add	r2, sp, #12
 1653 000a 04AB     		add	r3, sp, #16
 369:src/date.c    **** 	int z[3];
 1654              		.loc 1 369 63 view .LVU477
 1655 000c 0446     		mov	r4, r0
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 1656              		.loc 1 372 6 view .LVU478
 1657 000e FFF7FEFF 		bl	dateExtract
 1658              	.LVL161:
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 1659              		.loc 1 372 5 view .LVU479
 1660 0012 10B9     		cbnz	r0, .L117
 374:src/date.c    **** }
 1661              		.loc 1 374 2 is_stmt 1 view .LVU480
 375:src/date.c    **** 
 1662              		.loc 1 375 1 is_stmt 0 view .LVU481
 1663 0014 2046     		mov	r0, r4
 1664 0016 06B0     		add	sp, sp, #24
 1665              		.cfi_remember_state
 1666              		.cfi_def_cfa_offset 8
 1667              		@ sp needed
 1668 0018 10BD     		pop	{r4, pc}
 1669              	.LVL162:
 1670              	.L117:
 1671              		.cfi_restore_state
 373:src/date.c    **** 	return res;
 1672              		.loc 1 373 3 is_stmt 1 view .LVU482
 373:src/date.c    **** 	return res;
 1673              		.loc 1 373 20 is_stmt 0 view .LVU483
 1674 001a 074B     		ldr	r3, .L118
 1675 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 373:src/date.c    **** 	return res;
 1676              		.loc 1 373 3 view .LVU484
 1677 001e 06AA     		add	r2, sp, #24
 1678 0020 8B3B     		subs	r3, r3, #139
 1679 0022 02EB8303 		add	r3, r2, r3, lsl #2
 1680 0026 2046     		mov	r0, r4
 1681 0028 53F80C1C 		ldr	r1, [r3, #-12]
 1682 002c FFF7FEFF 		bl	int_to_dn
 1683              	.LVL163:
 374:src/date.c    **** }
 1684              		.loc 1 374 2 is_stmt 1 view .LVU485
 375:src/date.c    **** 
 1685              		.loc 1 375 1 is_stmt 0 view .LVU486
 1686 0030 2046     		mov	r0, r4
 1687 0032 06B0     		add	sp, sp, #24
 1688              		.cfi_def_cfa_offset 8
 1689              		@ sp needed
 1690 0034 10BD     		pop	{r4, pc}
 1691              	.LVL164:
 1692              	.L119:
 375:src/date.c    **** 
 1693              		.loc 1 375 1 view .LVU487
 1694 0036 00BF     		.align	2
 1695              	.L118:
 1696 0038 00000000 		.word	XeqOpCode
 1697              		.cfi_endproc
ARM GAS  /tmp/ccrwXAwg.s 			page 46


 1698              	.LFE13:
 1700              		.section	.rodata.date_alphaday.str1.4,"aMS",%progbits,1
 1701              		.align	2
 1702              	.LC1:
 1703 0000 4D4F4E54 		.ascii	"MONTUEWEDTHUFRISATSUN\000"
 1703      55455745 
 1703      44544855 
 1703      46524953 
 1703      41545355 
 1704              		.section	.text.date_alphaday,"ax",%progbits
 1705              		.align	1
 1706              		.p2align 2,,3
 1707              		.global	date_alphaday
 1708              		.syntax unified
 1709              		.thumb
 1710              		.thumb_func
 1711              		.fpu fpv4-sp-d16
 1713              	date_alphaday:
 1714              	.LVL165:
 1715              	.LFB15:
 388:src/date.c    **** 	decNumber x;
 1716              		.loc 1 388 35 is_stmt 1 view -0
 1717              		.cfi_startproc
 1718              		@ args = 0, pretend = 0, frame = 56
 1719              		@ frame_needed = 0, uses_anonymous_args = 0
 389:src/date.c    **** 	int y, m, d, dow;
 1720              		.loc 1 389 2 view .LVU489
 390:src/date.c    **** 
 1721              		.loc 1 390 2 view .LVU490
 392:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 1722              		.loc 1 392 2 view .LVU491
 388:src/date.c    **** 	decNumber x;
 1723              		.loc 1 388 35 is_stmt 0 view .LVU492
 1724 0000 00B5     		push	{lr}
 1725              		.cfi_def_cfa_offset 4
 1726              		.cfi_offset 14, -4
 1727 0002 8FB0     		sub	sp, sp, #60
 1728              		.cfi_def_cfa_offset 64
 392:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 1729              		.loc 1 392 2 view .LVU493
 1730 0004 05A8     		add	r0, sp, #20
 1731              	.LVL166:
 392:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 1732              		.loc 1 392 2 view .LVU494
 1733 0006 FFF7FEFF 		bl	getX
 1734              	.LVL167:
 393:src/date.c    **** 		report_err(ERR_BAD_DATE);
 1735              		.loc 1 393 2 is_stmt 1 view .LVU495
 393:src/date.c    **** 		report_err(ERR_BAD_DATE);
 1736              		.loc 1 393 5 is_stmt 0 view .LVU496
 1737 000a 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 1738 000e 13F0700F 		tst	r3, #112
 1739 0012 35D1     		bne	.L123
 1740              	.LVL168:
 1741              	.LBB85:
 1742              	.LBI85:
 202:src/date.c    **** 	int ip, fp, y, m, d;
ARM GAS  /tmp/ccrwXAwg.s 			page 47


 1743              		.loc 1 202 12 is_stmt 1 view .LVU497
 1744              	.LBB86:
 203:src/date.c    **** 	decNumber z, a;
 1745              		.loc 1 203 2 view .LVU498
 204:src/date.c    ****     int neg = 1;
 1746              		.loc 1 204 2 view .LVU499
 205:src/date.c    **** 
 1747              		.loc 1 205 5 view .LVU500
 207:src/date.c    **** 		return 1;
 1748              		.loc 1 207 2 view .LVU501
 207:src/date.c    **** 		return 1;
 1749              		.loc 1 207 6 is_stmt 0 view .LVU502
 1750 0014 1F4B     		ldr	r3, .L127
 1751 0016 1B68     		ldr	r3, [r3]
 1752 0018 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 1753              		.loc 1 207 5 view .LVU503
 1754 001c DB07     		lsls	r3, r3, #31
 1755 001e 2FD4     		bmi	.L123
 1756 0020 05A8     		add	r0, sp, #20
 1757              	.LVL169:
 207:src/date.c    **** 		return 1;
 1758              		.loc 1 207 5 view .LVU504
 1759 0022 03AB     		add	r3, sp, #12
 1760              	.LVL170:
 207:src/date.c    **** 		return 1;
 1761              		.loc 1 207 5 view .LVU505
 1762 0024 02AA     		add	r2, sp, #8
 1763              	.LVL171:
 207:src/date.c    **** 		return 1;
 1764              		.loc 1 207 5 view .LVU506
 1765 0026 01A9     		add	r1, sp, #4
 1766              	.LVL172:
 207:src/date.c    **** 		return 1;
 1767              		.loc 1 207 5 view .LVU507
 1768 0028 FFF7FEFF 		bl	extract_date.part.0
 1769              	.LVL173:
 207:src/date.c    **** 		return 1;
 1770              		.loc 1 207 5 view .LVU508
 1771              	.LBE86:
 1772              	.LBE85:
 393:src/date.c    **** 		report_err(ERR_BAD_DATE);
 1773              		.loc 1 393 29 view .LVU509
 1774 002c 40BB     		cbnz	r0, .L123
 396:src/date.c    **** 		copy3(&("MONTUEWEDTHUFRISATSUN"[3*(dow-1)]));
 1775              		.loc 1 396 3 is_stmt 1 view .LVU510
 1776              	.LVL174:
 1777              	.LBB87:
 1778              	.LBI87:
 140:src/date.c    **** 	int h;
 1779              		.loc 1 140 12 view .LVU511
 1780              	.LBB88:
 141:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 1781              		.loc 1 141 2 view .LVU512
 142:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 1782              		.loc 1 142 2 view .LVU513
 145:src/date.c    **** 	if (msg != NULL && ! Running)
ARM GAS  /tmp/ccrwXAwg.s 			page 48


 1783              		.loc 1 145 2 view .LVU514
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1784              		.loc 1 145 7 is_stmt 0 view .LVU515
 1785 002e DDE90212 		ldrd	r1, r2, [sp, #8]
 1786 0032 0198     		ldr	r0, [sp, #4]
 1787 0034 FFF7FEFF 		bl	JDN
 1788              	.LVL175:
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1789              		.loc 1 145 4 view .LVU516
 1790 0038 174B     		ldr	r3, .L127+4
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1791              		.loc 1 145 28 view .LVU517
 1792 003a 0130     		adds	r0, r0, #1
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1793              		.loc 1 145 4 view .LVU518
 1794 003c 83FB0023 		smull	r2, r3, r3, r0
 1795 0040 1A18     		adds	r2, r3, r0
 1796 0042 C317     		asrs	r3, r0, #31
 1797 0044 C3EBA203 		rsb	r3, r3, r2, asr #2
 1798 0048 C3EBC303 		rsb	r3, r3, r3, lsl #3
 1799              	.LVL176:
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 1800              		.loc 1 146 2 is_stmt 1 view .LVU519
 148:src/date.c    **** }
 1801              		.loc 1 148 2 view .LVU520
 148:src/date.c    **** }
 1802              		.loc 1 148 20 is_stmt 0 view .LVU521
 1803 004c C31A     		subs	r3, r0, r3
 1804              	.LVL177:
 148:src/date.c    **** }
 1805              		.loc 1 148 20 view .LVU522
 1806 004e 1DD0     		beq	.L125
 1807 0050 013B     		subs	r3, r3, #1
 1808              	.LVL178:
 148:src/date.c    **** }
 1809              		.loc 1 148 20 view .LVU523
 1810 0052 03EB4303 		add	r3, r3, r3, lsl #1
 1811              	.LVL179:
 148:src/date.c    **** }
 1812              		.loc 1 148 20 view .LVU524
 1813 0056 1A46     		mov	r2, r3
 1814              	.LVL180:
 1815              	.L124:
 148:src/date.c    **** }
 1816              		.loc 1 148 20 view .LVU525
 1817              	.LBE88:
 1818              	.LBE87:
 397:src/date.c    **** 	}
 1819              		.loc 1 397 3 is_stmt 1 view .LVU526
 397:src/date.c    **** 	}
 1820              		.loc 1 397 9 is_stmt 0 view .LVU527
 1821 0058 1049     		ldr	r1, .L127+8
 1822 005a 0A44     		add	r2, r2, r1
 1823              	.LVL181:
 1824              	.LBB90:
 1825              	.LBI90:
 378:src/date.c    **** 	char buf[4];
ARM GAS  /tmp/ccrwXAwg.s 			page 49


 1826              		.loc 1 378 13 is_stmt 1 view .LVU528
 1827              	.LBB91:
 382:src/date.c    **** 		buf[i] = p[i];
 1828              		.loc 1 382 12 view .LVU529
 383:src/date.c    **** 	buf[3] = '\0';
 1829              		.loc 1 383 3 view .LVU530
 383:src/date.c    **** 	buf[3] = '\0';
 1830              		.loc 1 383 10 is_stmt 0 view .LVU531
 1831 005c CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 1832 005e 8DF81030 		strb	r3, [sp, #16]
 382:src/date.c    **** 		buf[i] = p[i];
 1833              		.loc 1 382 17 is_stmt 1 view .LVU532
 1834              	.LVL182:
 382:src/date.c    **** 		buf[i] = p[i];
 1835              		.loc 1 382 12 view .LVU533
 383:src/date.c    **** 	buf[3] = '\0';
 1836              		.loc 1 383 3 view .LVU534
 383:src/date.c    **** 	buf[3] = '\0';
 1837              		.loc 1 383 10 is_stmt 0 view .LVU535
 1838 0062 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 1839 0064 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 1840              	.LVL183:
 383:src/date.c    **** 	buf[3] = '\0';
 1841              		.loc 1 383 10 view .LVU536
 1842 0066 8DF81110 		strb	r1, [sp, #17]
 382:src/date.c    **** 		buf[i] = p[i];
 1843              		.loc 1 382 17 is_stmt 1 view .LVU537
 1844              	.LVL184:
 382:src/date.c    **** 		buf[i] = p[i];
 1845              		.loc 1 382 12 view .LVU538
 383:src/date.c    **** 	buf[3] = '\0';
 1846              		.loc 1 383 3 view .LVU539
 384:src/date.c    **** 	add_string(buf);
 1847              		.loc 1 384 9 is_stmt 0 view .LVU540
 1848 006a 0023     		movs	r3, #0
 385:src/date.c    **** }
 1849              		.loc 1 385 2 view .LVU541
 1850 006c 04A8     		add	r0, sp, #16
 383:src/date.c    **** 	buf[3] = '\0';
 1851              		.loc 1 383 10 view .LVU542
 1852 006e 8DF81220 		strb	r2, [sp, #18]
 382:src/date.c    **** 		buf[i] = p[i];
 1853              		.loc 1 382 17 is_stmt 1 view .LVU543
 1854              	.LVL185:
 382:src/date.c    **** 		buf[i] = p[i];
 1855              		.loc 1 382 12 view .LVU544
 384:src/date.c    **** 	add_string(buf);
 1856              		.loc 1 384 2 view .LVU545
 384:src/date.c    **** 	add_string(buf);
 1857              		.loc 1 384 9 is_stmt 0 view .LVU546
 1858 0072 8DF81330 		strb	r3, [sp, #19]
 385:src/date.c    **** }
 1859              		.loc 1 385 2 is_stmt 1 view .LVU547
 1860 0076 FFF7FEFF 		bl	add_string
 1861              	.LVL186:
 385:src/date.c    **** }
 1862              		.loc 1 385 2 is_stmt 0 view .LVU548
ARM GAS  /tmp/ccrwXAwg.s 			page 50


 1863              	.LBE91:
 1864              	.LBE90:
 399:src/date.c    **** 
 1865              		.loc 1 399 1 view .LVU549
 1866 007a 0FB0     		add	sp, sp, #60
 1867              		.cfi_remember_state
 1868              		.cfi_def_cfa_offset 4
 1869              		@ sp needed
 1870 007c 5DF804FB 		ldr	pc, [sp], #4
 1871              	.LVL187:
 1872              	.L123:
 1873              		.cfi_restore_state
 394:src/date.c    **** 	else {
 1874              		.loc 1 394 3 is_stmt 1 view .LVU550
 1875 0080 0220     		movs	r0, #2
 1876 0082 FFF7FEFF 		bl	report_err
 1877              	.LVL188:
 399:src/date.c    **** 
 1878              		.loc 1 399 1 is_stmt 0 view .LVU551
 1879 0086 0FB0     		add	sp, sp, #60
 1880              		.cfi_remember_state
 1881              		.cfi_def_cfa_offset 4
 1882              		@ sp needed
 1883 0088 5DF804FB 		ldr	pc, [sp], #4
 1884              	.LVL189:
 1885              	.L125:
 1886              		.cfi_restore_state
 1887              	.LBB92:
 1888              	.LBB89:
 399:src/date.c    **** 
 1889              		.loc 1 399 1 view .LVU552
 1890 008c 1222     		movs	r2, #18
 1891 008e 1346     		mov	r3, r2
 1892              	.LVL190:
 399:src/date.c    **** 
 1893              		.loc 1 399 1 view .LVU553
 1894 0090 E2E7     		b	.L124
 1895              	.L128:
 1896 0092 00BF     		.align	2
 1897              	.L127:
 1898 0094 00000000 		.word	main_ram
 1899 0098 93244992 		.word	-1840700269
 1900 009c 00000000 		.word	.LC1
 1901              	.LBE89:
 1902              	.LBE92:
 1903              		.cfi_endproc
 1904              	.LFE15:
 1906              		.section	.text.date_alphamonth,"ax",%progbits
 1907              		.align	1
 1908              		.p2align 2,,3
 1909              		.global	date_alphamonth
 1910              		.syntax unified
 1911              		.thumb
 1912              		.thumb_func
 1913              		.fpu fpv4-sp-d16
 1915              	date_alphamonth:
 1916              	.LVL191:
ARM GAS  /tmp/ccrwXAwg.s 			page 51


 1917              	.LFB16:
 401:src/date.c    **** 	decNumber x;
 1918              		.loc 1 401 37 is_stmt 1 view -0
 1919              		.cfi_startproc
 1920              		@ args = 0, pretend = 0, frame = 56
 1921              		@ frame_needed = 0, uses_anonymous_args = 0
 402:src/date.c    **** 	int y, m, d;
 1922              		.loc 1 402 2 view .LVU555
 403:src/date.c    **** 	static const char mons[12*3] = "JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC";
 1923              		.loc 1 403 2 view .LVU556
 404:src/date.c    **** 
 1924              		.loc 1 404 2 view .LVU557
 406:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 1925              		.loc 1 406 2 view .LVU558
 401:src/date.c    **** 	decNumber x;
 1926              		.loc 1 401 37 is_stmt 0 view .LVU559
 1927 0000 00B5     		push	{lr}
 1928              		.cfi_def_cfa_offset 4
 1929              		.cfi_offset 14, -4
 1930 0002 8FB0     		sub	sp, sp, #60
 1931              		.cfi_def_cfa_offset 64
 406:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 1932              		.loc 1 406 2 view .LVU560
 1933 0004 05A8     		add	r0, sp, #20
 1934              	.LVL192:
 406:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 1935              		.loc 1 406 2 view .LVU561
 1936 0006 FFF7FEFF 		bl	getX
 1937              	.LVL193:
 407:src/date.c    **** 		report_err(ERR_BAD_DATE);
 1938              		.loc 1 407 2 is_stmt 1 view .LVU562
 407:src/date.c    **** 		report_err(ERR_BAD_DATE);
 1939              		.loc 1 407 5 is_stmt 0 view .LVU563
 1940 000a 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 1941 000e 13F0700F 		tst	r3, #112
 1942 0012 23D1     		bne	.L132
 1943              	.LVL194:
 1944              	.LBB93:
 1945              	.LBI93:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 1946              		.loc 1 202 12 is_stmt 1 view .LVU564
 1947              	.LBB94:
 203:src/date.c    **** 	decNumber z, a;
 1948              		.loc 1 203 2 view .LVU565
 204:src/date.c    ****     int neg = 1;
 1949              		.loc 1 204 2 view .LVU566
 205:src/date.c    **** 
 1950              		.loc 1 205 5 view .LVU567
 207:src/date.c    **** 		return 1;
 1951              		.loc 1 207 2 view .LVU568
 207:src/date.c    **** 		return 1;
 1952              		.loc 1 207 6 is_stmt 0 view .LVU569
 1953 0014 144B     		ldr	r3, .L134
 1954 0016 1B68     		ldr	r3, [r3]
 1955 0018 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 1956              		.loc 1 207 5 view .LVU570
ARM GAS  /tmp/ccrwXAwg.s 			page 52


 1957 001c DB07     		lsls	r3, r3, #31
 1958 001e 1DD4     		bmi	.L132
 1959 0020 05A8     		add	r0, sp, #20
 1960              	.LVL195:
 207:src/date.c    **** 		return 1;
 1961              		.loc 1 207 5 view .LVU571
 1962 0022 03AB     		add	r3, sp, #12
 1963              	.LVL196:
 207:src/date.c    **** 		return 1;
 1964              		.loc 1 207 5 view .LVU572
 1965 0024 02AA     		add	r2, sp, #8
 1966              	.LVL197:
 207:src/date.c    **** 		return 1;
 1967              		.loc 1 207 5 view .LVU573
 1968 0026 01A9     		add	r1, sp, #4
 1969              	.LVL198:
 207:src/date.c    **** 		return 1;
 1970              		.loc 1 207 5 view .LVU574
 1971 0028 FFF7FEFF 		bl	extract_date.part.0
 1972              	.LVL199:
 207:src/date.c    **** 		return 1;
 1973              		.loc 1 207 5 view .LVU575
 1974              	.LBE94:
 1975              	.LBE93:
 407:src/date.c    **** 		report_err(ERR_BAD_DATE);
 1976              		.loc 1 407 29 view .LVU576
 1977 002c B0B9     		cbnz	r0, .L132
 410:src/date.c    **** 	}
 1978              		.loc 1 410 3 is_stmt 1 view .LVU577
 410:src/date.c    **** 	}
 1979              		.loc 1 410 20 is_stmt 0 view .LVU578
 1980 002e 029B     		ldr	r3, [sp, #8]
 410:src/date.c    **** 	}
 1981              		.loc 1 410 3 view .LVU579
 1982 0030 0E49     		ldr	r1, .L134+4
 1983              	.LBB95:
 1984              	.LBB96:
 384:src/date.c    **** 	add_string(buf);
 1985              		.loc 1 384 9 view .LVU580
 1986 0032 8DF81300 		strb	r0, [sp, #19]
 1987              	.LBE96:
 1988              	.LBE95:
 410:src/date.c    **** 	}
 1989              		.loc 1 410 20 view .LVU581
 1990 0036 013B     		subs	r3, r3, #1
 1991 0038 03EB4303 		add	r3, r3, r3, lsl #1
 410:src/date.c    **** 	}
 1992              		.loc 1 410 3 view .LVU582
 1993 003c CA18     		adds	r2, r1, r3
 1994              	.LVL200:
 1995              	.LBB98:
 1996              	.LBI95:
 378:src/date.c    **** 	char buf[4];
 1997              		.loc 1 378 13 is_stmt 1 view .LVU583
 1998              	.LBB97:
 379:src/date.c    **** 	int i;
 1999              		.loc 1 379 2 view .LVU584
ARM GAS  /tmp/ccrwXAwg.s 			page 53


 380:src/date.c    **** 
 2000              		.loc 1 380 2 view .LVU585
 382:src/date.c    **** 		buf[i] = p[i];
 2001              		.loc 1 382 2 view .LVU586
 382:src/date.c    **** 		buf[i] = p[i];
 2002              		.loc 1 382 12 view .LVU587
 383:src/date.c    **** 	buf[3] = '\0';
 2003              		.loc 1 383 3 view .LVU588
 383:src/date.c    **** 	buf[3] = '\0';
 2004              		.loc 1 383 10 is_stmt 0 view .LVU589
 2005 003e C85C     		ldrb	r0, [r1, r3]	@ zero_extendqisi2
 2006 0040 8DF81000 		strb	r0, [sp, #16]
 382:src/date.c    **** 		buf[i] = p[i];
 2007              		.loc 1 382 17 is_stmt 1 view .LVU590
 2008              	.LVL201:
 382:src/date.c    **** 		buf[i] = p[i];
 2009              		.loc 1 382 12 view .LVU591
 383:src/date.c    **** 	buf[3] = '\0';
 2010              		.loc 1 383 3 view .LVU592
 383:src/date.c    **** 	buf[3] = '\0';
 2011              		.loc 1 383 10 is_stmt 0 view .LVU593
 2012 0044 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 2013 0046 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 2014 0048 8DF81110 		strb	r1, [sp, #17]
 382:src/date.c    **** 		buf[i] = p[i];
 2015              		.loc 1 382 17 is_stmt 1 view .LVU594
 2016              	.LVL202:
 382:src/date.c    **** 		buf[i] = p[i];
 2017              		.loc 1 382 12 view .LVU595
 383:src/date.c    **** 	buf[3] = '\0';
 2018              		.loc 1 383 3 view .LVU596
 385:src/date.c    **** }
 2019              		.loc 1 385 2 is_stmt 0 view .LVU597
 2020 004c 04A8     		add	r0, sp, #16
 383:src/date.c    **** 	buf[3] = '\0';
 2021              		.loc 1 383 10 view .LVU598
 2022 004e 8DF81230 		strb	r3, [sp, #18]
 382:src/date.c    **** 		buf[i] = p[i];
 2023              		.loc 1 382 17 is_stmt 1 view .LVU599
 2024              	.LVL203:
 382:src/date.c    **** 		buf[i] = p[i];
 2025              		.loc 1 382 12 view .LVU600
 384:src/date.c    **** 	add_string(buf);
 2026              		.loc 1 384 2 view .LVU601
 385:src/date.c    **** }
 2027              		.loc 1 385 2 view .LVU602
 2028 0052 FFF7FEFF 		bl	add_string
 2029              	.LVL204:
 385:src/date.c    **** }
 2030              		.loc 1 385 2 is_stmt 0 view .LVU603
 2031              	.LBE97:
 2032              	.LBE98:
 412:src/date.c    **** 
 2033              		.loc 1 412 1 view .LVU604
 2034 0056 0FB0     		add	sp, sp, #60
 2035              		.cfi_remember_state
 2036              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccrwXAwg.s 			page 54


 2037              		@ sp needed
 2038 0058 5DF804FB 		ldr	pc, [sp], #4
 2039              	.LVL205:
 2040              	.L132:
 2041              		.cfi_restore_state
 408:src/date.c    **** 	else {
 2042              		.loc 1 408 3 is_stmt 1 view .LVU605
 2043 005c 0220     		movs	r0, #2
 2044 005e FFF7FEFF 		bl	report_err
 2045              	.LVL206:
 412:src/date.c    **** 
 2046              		.loc 1 412 1 is_stmt 0 view .LVU606
 2047 0062 0FB0     		add	sp, sp, #60
 2048              		.cfi_def_cfa_offset 4
 2049              		@ sp needed
 2050 0064 5DF804FB 		ldr	pc, [sp], #4
 2051              	.L135:
 2052              		.align	2
 2053              	.L134:
 2054 0068 00000000 		.word	main_ram
 2055 006c 00000000 		.word	.LANCHOR1
 2056              		.cfi_endproc
 2057              	.LFE16:
 2059              		.section	.text.dateToJ,"ax",%progbits
 2060              		.align	1
 2061              		.p2align 2,,3
 2062              		.global	dateToJ
 2063              		.syntax unified
 2064              		.thumb
 2065              		.thumb_func
 2066              		.fpu fpv4-sp-d16
 2068              	dateToJ:
 2069              	.LVL207:
 2070              	.LFB17:
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2071              		.loc 1 416 56 is_stmt 1 view -0
 2072              		.cfi_startproc
 2073              		@ args = 0, pretend = 0, frame = 16
 2074              		@ frame_needed = 0, uses_anonymous_args = 0
 417:src/date.c    **** err:		set_NaN(res);
 2075              		.loc 1 417 2 view .LVU608
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2076              		.loc 1 416 56 is_stmt 0 view .LVU609
 2077 0000 10B5     		push	{r4, lr}
 2078              		.cfi_def_cfa_offset 8
 2079              		.cfi_offset 4, -8
 2080              		.cfi_offset 14, -4
 417:src/date.c    **** err:		set_NaN(res);
 2081              		.loc 1 417 5 view .LVU610
 2082 0002 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 2083 0004 13F0700F 		tst	r3, #112
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2084              		.loc 1 416 56 view .LVU611
 2085 0008 84B0     		sub	sp, sp, #16
 2086              		.cfi_def_cfa_offset 24
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2087              		.loc 1 416 56 view .LVU612
ARM GAS  /tmp/ccrwXAwg.s 			page 55


 2088 000a 0446     		mov	r4, r0
 417:src/date.c    **** err:		set_NaN(res);
 2089              		.loc 1 417 5 view .LVU613
 2090 000c 18D1     		bne	.L138
 2091              	.LBB99:
 420:src/date.c    **** 
 2092              		.loc 1 420 3 is_stmt 1 view .LVU614
 422:src/date.c    **** 			goto err;
 2093              		.loc 1 422 3 view .LVU615
 2094              	.LVL208:
 2095              	.LBB100:
 2096              	.LBI100:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 2097              		.loc 1 202 12 view .LVU616
 2098              	.LBB101:
 203:src/date.c    **** 	decNumber z, a;
 2099              		.loc 1 203 2 view .LVU617
 204:src/date.c    ****     int neg = 1;
 2100              		.loc 1 204 2 view .LVU618
 205:src/date.c    **** 
 2101              		.loc 1 205 5 view .LVU619
 207:src/date.c    **** 		return 1;
 2102              		.loc 1 207 2 view .LVU620
 207:src/date.c    **** 		return 1;
 2103              		.loc 1 207 6 is_stmt 0 view .LVU621
 2104 000e 0F4B     		ldr	r3, .L143
 2105 0010 1B68     		ldr	r3, [r3]
 2106 0012 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 2107              		.loc 1 207 5 view .LVU622
 2108 0016 DB07     		lsls	r3, r3, #31
 2109 0018 12D4     		bmi	.L138
 2110 001a 0846     		mov	r0, r1
 2111              	.LVL209:
 207:src/date.c    **** 		return 1;
 2112              		.loc 1 207 5 view .LVU623
 2113 001c 03AB     		add	r3, sp, #12
 2114              	.LVL210:
 207:src/date.c    **** 		return 1;
 2115              		.loc 1 207 5 view .LVU624
 2116 001e 02AA     		add	r2, sp, #8
 2117              	.LVL211:
 207:src/date.c    **** 		return 1;
 2118              		.loc 1 207 5 view .LVU625
 2119 0020 01A9     		add	r1, sp, #4
 2120              	.LVL212:
 207:src/date.c    **** 		return 1;
 2121              		.loc 1 207 5 view .LVU626
 2122 0022 FFF7FEFF 		bl	extract_date.part.0
 2123              	.LVL213:
 207:src/date.c    **** 		return 1;
 2124              		.loc 1 207 5 view .LVU627
 2125              	.LBE101:
 2126              	.LBE100:
 422:src/date.c    **** 			goto err;
 2127              		.loc 1 422 6 view .LVU628
 2128 0026 58B9     		cbnz	r0, .L138
ARM GAS  /tmp/ccrwXAwg.s 			page 56


 424:src/date.c    **** 	}
 2129              		.loc 1 424 3 is_stmt 1 view .LVU629
 2130 0028 DDE90212 		ldrd	r1, r2, [sp, #8]
 2131 002c 0198     		ldr	r0, [sp, #4]
 2132 002e FFF7FEFF 		bl	JDN
 2133              	.LVL214:
 2134 0032 0146     		mov	r1, r0
 2135 0034 2046     		mov	r0, r4
 2136 0036 FFF7FEFF 		bl	int_to_dn
 2137              	.LVL215:
 2138              	.LBE99:
 426:src/date.c    **** }
 2139              		.loc 1 426 2 view .LVU630
 427:src/date.c    **** 
 2140              		.loc 1 427 1 is_stmt 0 view .LVU631
 2141 003a 2046     		mov	r0, r4
 2142 003c 04B0     		add	sp, sp, #16
 2143              		.cfi_remember_state
 2144              		.cfi_def_cfa_offset 8
 2145              		@ sp needed
 2146 003e 10BD     		pop	{r4, pc}
 2147              	.LVL216:
 2148              	.L138:
 2149              		.cfi_restore_state
 418:src/date.c    **** 	else {
 2150              		.loc 1 418 7 is_stmt 1 view .LVU632
 2151 0040 2046     		mov	r0, r4
 2152 0042 FFF7FEFF 		bl	set_NaN
 2153              	.LVL217:
 426:src/date.c    **** }
 2154              		.loc 1 426 2 view .LVU633
 427:src/date.c    **** 
 2155              		.loc 1 427 1 is_stmt 0 view .LVU634
 2156 0046 2046     		mov	r0, r4
 2157 0048 04B0     		add	sp, sp, #16
 2158              		.cfi_def_cfa_offset 8
 2159              		@ sp needed
 2160 004a 10BD     		pop	{r4, pc}
 2161              	.LVL218:
 2162              	.L144:
 427:src/date.c    **** 
 2163              		.loc 1 427 1 view .LVU635
 2164              		.align	2
 2165              	.L143:
 2166 004c 00000000 		.word	main_ram
 2167              		.cfi_endproc
 2168              	.LFE17:
 2170              		.section	.text.dateFromJ,"ax",%progbits
 2171              		.align	1
 2172              		.p2align 2,,3
 2173              		.global	dateFromJ
 2174              		.syntax unified
 2175              		.thumb
 2176              		.thumb_func
 2177              		.fpu fpv4-sp-d16
 2179              	dateFromJ:
 2180              	.LVL219:
ARM GAS  /tmp/ccrwXAwg.s 			page 57


 2181              	.LFB18:
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2182              		.loc 1 429 58 is_stmt 1 view -0
 2183              		.cfi_startproc
 2184              		@ args = 0, pretend = 0, frame = 16
 2185              		@ frame_needed = 0, uses_anonymous_args = 0
 430:src/date.c    **** 		set_NaN(res);
 2186              		.loc 1 430 2 view .LVU637
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2187              		.loc 1 429 58 is_stmt 0 view .LVU638
 2188 0000 30B5     		push	{r4, r5, lr}
 2189              		.cfi_def_cfa_offset 12
 2190              		.cfi_offset 4, -12
 2191              		.cfi_offset 5, -8
 2192              		.cfi_offset 14, -4
 430:src/date.c    **** 		set_NaN(res);
 2193              		.loc 1 430 5 view .LVU639
 2194 0002 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 2195 0004 13F0700F 		tst	r3, #112
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2196              		.loc 1 429 58 view .LVU640
 2197 0008 85B0     		sub	sp, sp, #20
 2198              		.cfi_def_cfa_offset 32
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2199              		.loc 1 429 58 view .LVU641
 2200 000a 0446     		mov	r4, r0
 430:src/date.c    **** 		set_NaN(res);
 2201              		.loc 1 430 5 view .LVU642
 2202 000c 04D1     		bne	.L148
 430:src/date.c    **** 		set_NaN(res);
 2203              		.loc 1 430 31 discriminator 1 view .LVU643
 2204 000e 0846     		mov	r0, r1
 2205              	.LVL220:
 430:src/date.c    **** 		set_NaN(res);
 2206              		.loc 1 430 31 discriminator 1 view .LVU644
 2207 0010 0D46     		mov	r5, r1
 2208 0012 FFF7FEFF 		bl	dn_lt0
 2209              	.LVL221:
 430:src/date.c    **** 		set_NaN(res);
 2210              		.loc 1 430 28 discriminator 1 view .LVU645
 2211 0016 28B1     		cbz	r0, .L150
 2212              	.LVL222:
 2213              	.L148:
 431:src/date.c    **** 	else {
 2214              		.loc 1 431 3 is_stmt 1 view .LVU646
 2215 0018 2046     		mov	r0, r4
 2216 001a FFF7FEFF 		bl	set_NaN
 2217              	.LVL223:
 439:src/date.c    **** }
 2218              		.loc 1 439 2 view .LVU647
 439:src/date.c    **** }
 2219              		.loc 1 439 9 is_stmt 0 view .LVU648
 2220 001e 2046     		mov	r0, r4
 440:src/date.c    **** 
 2221              		.loc 1 440 1 view .LVU649
 2222 0020 05B0     		add	sp, sp, #20
 2223              		.cfi_remember_state
ARM GAS  /tmp/ccrwXAwg.s 			page 58


 2224              		.cfi_def_cfa_offset 12
 2225              		@ sp needed
 2226 0022 30BD     		pop	{r4, r5, pc}
 2227              	.LVL224:
 2228              	.L150:
 2229              		.cfi_restore_state
 2230              	.LBB102:
 433:src/date.c    **** 		int y, m, d;
 2231              		.loc 1 433 3 is_stmt 1 view .LVU650
 433:src/date.c    **** 		int y, m, d;
 2232              		.loc 1 433 17 is_stmt 0 view .LVU651
 2233 0024 2846     		mov	r0, r5
 2234 0026 FFF7FEFF 		bl	dn_to_int
 2235              	.LVL225:
 434:src/date.c    **** 
 2236              		.loc 1 434 3 is_stmt 1 view .LVU652
 436:src/date.c    **** 		return build_date(res, y, m, d);
 2237              		.loc 1 436 3 view .LVU653
 2238 002a 03AB     		add	r3, sp, #12
 2239 002c 02AA     		add	r2, sp, #8
 2240 002e 01A9     		add	r1, sp, #4
 2241 0030 FFF7FEFF 		bl	JDN2
 2242              	.LVL226:
 437:src/date.c    **** 	}
 2243              		.loc 1 437 3 view .LVU654
 437:src/date.c    **** 	}
 2244              		.loc 1 437 10 is_stmt 0 view .LVU655
 2245 0034 DDE90223 		ldrd	r2, r3, [sp, #8]
 2246 0038 0199     		ldr	r1, [sp, #4]
 2247 003a 2046     		mov	r0, r4
 2248 003c FFF7FEFF 		bl	build_date
 2249              	.LVL227:
 2250              	.LBE102:
 440:src/date.c    **** 
 2251              		.loc 1 440 1 view .LVU656
 2252 0040 05B0     		add	sp, sp, #20
 2253              		.cfi_def_cfa_offset 12
 2254              		@ sp needed
 2255 0042 30BD     		pop	{r4, r5, pc}
 440:src/date.c    **** 
 2256              		.loc 1 440 1 view .LVU657
 2257              		.cfi_endproc
 2258              	.LFE18:
 2260              		.section	.text.date_alphadate,"ax",%progbits
 2261              		.align	1
 2262              		.p2align 2,,3
 2263              		.global	date_alphadate
 2264              		.syntax unified
 2265              		.thumb
 2266              		.thumb_func
 2267              		.fpu fpv4-sp-d16
 2269              	date_alphadate:
 2270              	.LVL228:
 2271              	.LFB19:
 444:src/date.c    **** 	decNumber x;
 2272              		.loc 1 444 36 is_stmt 1 view -0
 2273              		.cfi_startproc
ARM GAS  /tmp/ccrwXAwg.s 			page 59


 2274              		@ args = 0, pretend = 0, frame = 64
 2275              		@ frame_needed = 0, uses_anonymous_args = 0
 445:src/date.c    **** 	int d, m, y;
 2276              		.loc 1 445 2 view .LVU659
 446:src/date.c    **** 	char buf[16];
 2277              		.loc 1 446 2 view .LVU660
 447:src/date.c    **** 	char *p;
 2278              		.loc 1 447 2 view .LVU661
 448:src/date.c    **** 
 2279              		.loc 1 448 2 view .LVU662
 450:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 2280              		.loc 1 450 2 view .LVU663
 444:src/date.c    **** 	decNumber x;
 2281              		.loc 1 444 36 is_stmt 0 view .LVU664
 2282 0000 30B5     		push	{r4, r5, lr}
 2283              		.cfi_def_cfa_offset 12
 2284              		.cfi_offset 4, -12
 2285              		.cfi_offset 5, -8
 2286              		.cfi_offset 14, -4
 2287 0002 91B0     		sub	sp, sp, #68
 2288              		.cfi_def_cfa_offset 80
 2289              	.LBB103:
 2290              	.LBB104:
 207:src/date.c    **** 		return 1;
 2291              		.loc 1 207 6 view .LVU665
 2292 0004 2E4C     		ldr	r4, .L159
 2293              	.LBE104:
 2294              	.LBE103:
 450:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 2295              		.loc 1 450 2 view .LVU666
 2296 0006 07A8     		add	r0, sp, #28
 2297              	.LVL229:
 450:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 2298              		.loc 1 450 2 view .LVU667
 2299 0008 FFF7FEFF 		bl	getX
 2300              	.LVL230:
 451:src/date.c    **** 	if (extract_date(&x, &y, &m, &d)) {
 2301              		.loc 1 451 2 is_stmt 1 view .LVU668
 2302 000c 03A8     		add	r0, sp, #12
 2303 000e 1022     		movs	r2, #16
 2304 0010 0021     		movs	r1, #0
 2305 0012 FFF7FEFF 		bl	xset
 2306              	.LVL231:
 452:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2307              		.loc 1 452 2 view .LVU669
 2308              	.LBB106:
 2309              	.LBI103:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 2310              		.loc 1 202 12 view .LVU670
 2311              	.LBB105:
 203:src/date.c    **** 	decNumber z, a;
 2312              		.loc 1 203 2 view .LVU671
 204:src/date.c    ****     int neg = 1;
 2313              		.loc 1 204 2 view .LVU672
 205:src/date.c    **** 
 2314              		.loc 1 205 5 view .LVU673
 207:src/date.c    **** 		return 1;
ARM GAS  /tmp/ccrwXAwg.s 			page 60


 2315              		.loc 1 207 2 view .LVU674
 207:src/date.c    **** 		return 1;
 2316              		.loc 1 207 6 is_stmt 0 view .LVU675
 2317 0016 2368     		ldr	r3, [r4]
 2318 0018 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 2319              		.loc 1 207 5 view .LVU676
 2320 001c DB07     		lsls	r3, r3, #31
 2321 001e 26D4     		bmi	.L154
 2322 0020 07A8     		add	r0, sp, #28
 2323              	.LVL232:
 207:src/date.c    **** 		return 1;
 2324              		.loc 1 207 5 view .LVU677
 2325 0022 6B46     		mov	r3, sp
 2326 0024 01AA     		add	r2, sp, #4
 2327              	.LVL233:
 207:src/date.c    **** 		return 1;
 2328              		.loc 1 207 5 view .LVU678
 2329 0026 02A9     		add	r1, sp, #8
 2330              	.LVL234:
 207:src/date.c    **** 		return 1;
 2331              		.loc 1 207 5 view .LVU679
 2332 0028 FFF7FEFF 		bl	extract_date.part.0
 2333              	.LVL235:
 207:src/date.c    **** 		return 1;
 2334              		.loc 1 207 5 view .LVU680
 2335              	.LBE105:
 2336              	.LBE106:
 452:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2337              		.loc 1 452 5 view .LVU681
 2338 002c F8B9     		cbnz	r0, .L154
 456:src/date.c    **** 	default:
 2339              		.loc 1 456 2 is_stmt 1 view .LVU682
 456:src/date.c    **** 	default:
 2340              		.loc 1 456 16 is_stmt 0 view .LVU683
 2341 002e 2368     		ldr	r3, [r4]
 2342 0030 93F8EA37 		ldrb	r3, [r3, #2026]	@ zero_extendqisi2
 456:src/date.c    **** 	default:
 2343              		.loc 1 456 2 view .LVU684
 2344 0034 13F0300F 		tst	r3, #48
 456:src/date.c    **** 	default:
 2345              		.loc 1 456 16 view .LVU685
 2346 0038 C3F30114 		ubfx	r4, r3, #4, #2
 456:src/date.c    **** 	default:
 2347              		.loc 1 456 2 view .LVU686
 2348 003c 1CD0     		beq	.L155
 2349 003e 022C     		cmp	r4, #2
 2350 0040 2CD0     		beq	.L156
 458:src/date.c    **** 		*p++ = '-';
 2351              		.loc 1 458 3 is_stmt 1 view .LVU687
 458:src/date.c    **** 		*p++ = '-';
 2352              		.loc 1 458 7 is_stmt 0 view .LVU688
 2353 0042 0299     		ldr	r1, [sp, #8]
 2354 0044 03A8     		add	r0, sp, #12
 2355 0046 FFF7FEFF 		bl	num_arg
 2356              	.LVL236:
 459:src/date.c    **** 		p = num_arg_0(p, m, 2);
ARM GAS  /tmp/ccrwXAwg.s 			page 61


 2357              		.loc 1 459 3 is_stmt 1 view .LVU689
 459:src/date.c    **** 		p = num_arg_0(p, m, 2);
 2358              		.loc 1 459 8 is_stmt 0 view .LVU690
 2359 004a 2D24     		movs	r4, #45
 2360 004c 00F8014B 		strb	r4, [r0], #1
 2361              	.LVL237:
 460:src/date.c    **** 		*p++ = '-';
 2362              		.loc 1 460 3 is_stmt 1 view .LVU691
 460:src/date.c    **** 		*p++ = '-';
 2363              		.loc 1 460 7 is_stmt 0 view .LVU692
 2364 0050 0199     		ldr	r1, [sp, #4]
 2365 0052 0222     		movs	r2, #2
 2366 0054 FFF7FEFF 		bl	num_arg_0
 2367              	.LVL238:
 461:src/date.c    **** 		num_arg_0(p, d, 2);
 2368              		.loc 1 461 3 is_stmt 1 view .LVU693
 461:src/date.c    **** 		num_arg_0(p, d, 2);
 2369              		.loc 1 461 8 is_stmt 0 view .LVU694
 2370 0058 00F8014B 		strb	r4, [r0], #1
 2371              	.LVL239:
 462:src/date.c    **** 		break;
 2372              		.loc 1 462 3 is_stmt 1 view .LVU695
 2373 005c 0099     		ldr	r1, [sp]
 2374 005e 0222     		movs	r2, #2
 2375 0060 FFF7FEFF 		bl	num_arg_0
 2376              	.LVL240:
 463:src/date.c    **** 
 2377              		.loc 1 463 3 view .LVU696
 2378              	.L157:
 481:src/date.c    **** }
 2379              		.loc 1 481 2 view .LVU697
 2380 0064 03A8     		add	r0, sp, #12
 2381 0066 FFF7FEFF 		bl	add_string
 2382              	.LVL241:
 482:src/date.c    **** 
 2383              		.loc 1 482 1 is_stmt 0 view .LVU698
 2384 006a 11B0     		add	sp, sp, #68
 2385              		.cfi_remember_state
 2386              		.cfi_def_cfa_offset 12
 2387              		@ sp needed
 2388 006c 30BD     		pop	{r4, r5, pc}
 2389              	.L154:
 2390              		.cfi_restore_state
 453:src/date.c    **** 		return;
 2391              		.loc 1 453 3 is_stmt 1 view .LVU699
 2392 006e 0220     		movs	r0, #2
 2393 0070 FFF7FEFF 		bl	report_err
 2394              	.LVL242:
 454:src/date.c    **** 	}
 2395              		.loc 1 454 3 view .LVU700
 482:src/date.c    **** 
 2396              		.loc 1 482 1 is_stmt 0 view .LVU701
 2397 0074 11B0     		add	sp, sp, #68
 2398              		.cfi_remember_state
 2399              		.cfi_def_cfa_offset 12
 2400              		@ sp needed
 2401 0076 30BD     		pop	{r4, r5, pc}
ARM GAS  /tmp/ccrwXAwg.s 			page 62


 2402              	.L155:
 2403              		.cfi_restore_state
 466:src/date.c    **** 		*p++ = '.';
 2404              		.loc 1 466 3 is_stmt 1 view .LVU702
 466:src/date.c    **** 		*p++ = '.';
 2405              		.loc 1 466 7 is_stmt 0 view .LVU703
 2406 0078 0099     		ldr	r1, [sp]
 2407 007a 03A8     		add	r0, sp, #12
 2408 007c FFF7FEFF 		bl	num_arg
 2409              	.LVL243:
 467:src/date.c    **** 		p = num_arg_0(p, m, 2);
 2410              		.loc 1 467 3 is_stmt 1 view .LVU704
 467:src/date.c    **** 		p = num_arg_0(p, m, 2);
 2411              		.loc 1 467 8 is_stmt 0 view .LVU705
 2412 0080 2E24     		movs	r4, #46
 2413 0082 00F8014B 		strb	r4, [r0], #1
 2414              	.LVL244:
 468:src/date.c    **** 		*p++ = '.';
 2415              		.loc 1 468 3 is_stmt 1 view .LVU706
 468:src/date.c    **** 		*p++ = '.';
 2416              		.loc 1 468 7 is_stmt 0 view .LVU707
 2417 0086 0199     		ldr	r1, [sp, #4]
 2418 0088 0222     		movs	r2, #2
 2419 008a FFF7FEFF 		bl	num_arg_0
 2420              	.LVL245:
 469:src/date.c    **** 		num_arg_0(p, y, 4);
 2421              		.loc 1 469 3 is_stmt 1 view .LVU708
 469:src/date.c    **** 		num_arg_0(p, y, 4);
 2422              		.loc 1 469 8 is_stmt 0 view .LVU709
 2423 008e 00F8014B 		strb	r4, [r0], #1
 2424              	.LVL246:
 470:src/date.c    **** 		break;
 2425              		.loc 1 470 3 is_stmt 1 view .LVU710
 2426 0092 0299     		ldr	r1, [sp, #8]
 2427 0094 0422     		movs	r2, #4
 2428 0096 FFF7FEFF 		bl	num_arg_0
 2429              	.LVL247:
 471:src/date.c    **** 
 2430              		.loc 1 471 3 view .LVU711
 2431 009a E3E7     		b	.L157
 2432              	.L156:
 474:src/date.c    **** 		*p++ = '/';
 2433              		.loc 1 474 3 view .LVU712
 474:src/date.c    **** 		*p++ = '/';
 2434              		.loc 1 474 7 is_stmt 0 view .LVU713
 2435 009c 0199     		ldr	r1, [sp, #4]
 2436 009e 03A8     		add	r0, sp, #12
 2437 00a0 FFF7FEFF 		bl	num_arg
 2438              	.LVL248:
 475:src/date.c    **** 		p = num_arg_0(p, d, 2);
 2439              		.loc 1 475 3 is_stmt 1 view .LVU714
 475:src/date.c    **** 		p = num_arg_0(p, d, 2);
 2440              		.loc 1 475 8 is_stmt 0 view .LVU715
 2441 00a4 2F25     		movs	r5, #47
 2442 00a6 00F8015B 		strb	r5, [r0], #1
 2443              	.LVL249:
 476:src/date.c    **** 		*p++ ='/';
ARM GAS  /tmp/ccrwXAwg.s 			page 63


 2444              		.loc 1 476 3 is_stmt 1 view .LVU716
 476:src/date.c    **** 		*p++ ='/';
 2445              		.loc 1 476 7 is_stmt 0 view .LVU717
 2446 00aa 0099     		ldr	r1, [sp]
 2447 00ac 2246     		mov	r2, r4
 2448 00ae FFF7FEFF 		bl	num_arg_0
 2449              	.LVL250:
 477:src/date.c    **** 		num_arg_0(p, y, 4);
 2450              		.loc 1 477 3 is_stmt 1 view .LVU718
 477:src/date.c    **** 		num_arg_0(p, y, 4);
 2451              		.loc 1 477 8 is_stmt 0 view .LVU719
 2452 00b2 00F8015B 		strb	r5, [r0], #1
 2453              	.LVL251:
 478:src/date.c    **** 		break;
 2454              		.loc 1 478 3 is_stmt 1 view .LVU720
 2455 00b6 0299     		ldr	r1, [sp, #8]
 2456 00b8 0422     		movs	r2, #4
 2457 00ba FFF7FEFF 		bl	num_arg_0
 2458              	.LVL252:
 479:src/date.c    **** 	}
 2459              		.loc 1 479 3 view .LVU721
 2460 00be D1E7     		b	.L157
 2461              	.L160:
 2462              		.align	2
 2463              	.L159:
 2464 00c0 00000000 		.word	main_ram
 2465              		.cfi_endproc
 2466              	.LFE19:
 2468              		.section	.rodata.date_alphatime.str1.4,"aMS",%progbits,1
 2469              		.align	2
 2470              	.LC2:
 2471 0000 20504D00 		.ascii	" PM\000"
 2472              		.align	2
 2473              	.LC3:
 2474 0004 20414D00 		.ascii	" AM\000"
 2475              		.align	2
 2476              	.LC4:
 2477 0008 00       		.ascii	"\000"
 2478              		.section	.text.date_alphatime,"ax",%progbits
 2479              		.align	1
 2480              		.p2align 2,,3
 2481              		.global	date_alphatime
 2482              		.syntax unified
 2483              		.thumb
 2484              		.thumb_func
 2485              		.fpu fpv4-sp-d16
 2487              	date_alphatime:
 2488              	.LVL253:
 2489              	.LFB21:
 504:src/date.c    **** 
 505:src/date.c    **** void date_alphatime(enum nilop op) {
 2490              		.loc 1 505 36 view -0
 2491              		.cfi_startproc
 2492              		@ args = 0, pretend = 0, frame = 32
 2493              		@ frame_needed = 0, uses_anonymous_args = 0
 506:src/date.c    **** 	char buf[16], *p;
 2494              		.loc 1 506 2 view .LVU723
ARM GAS  /tmp/ccrwXAwg.s 			page 64


 507:src/date.c    **** 	int h, m, s;
 2495              		.loc 1 507 2 view .LVU724
 508:src/date.c    **** 	const char *suffix;
 2496              		.loc 1 508 2 view .LVU725
 509:src/date.c    **** 
 510:src/date.c    **** 	if (extract_time(&h, &m, &s, 100))
 2497              		.loc 1 510 2 view .LVU726
 505:src/date.c    **** 	char buf[16], *p;
 2498              		.loc 1 505 36 is_stmt 0 view .LVU727
 2499 0000 30B5     		push	{r4, r5, lr}
 2500              		.cfi_def_cfa_offset 12
 2501              		.cfi_offset 4, -12
 2502              		.cfi_offset 5, -8
 2503              		.cfi_offset 14, -4
 2504 0002 89B0     		sub	sp, sp, #36
 2505              		.cfi_def_cfa_offset 48
 2506              		.loc 1 510 6 view .LVU728
 2507 0004 6423     		movs	r3, #100
 2508 0006 03AA     		add	r2, sp, #12
 2509 0008 02A9     		add	r1, sp, #8
 2510 000a 01A8     		add	r0, sp, #4
 2511              	.LVL254:
 2512              		.loc 1 510 6 view .LVU729
 2513 000c FFF7FEFF 		bl	extract_time
 2514              	.LVL255:
 2515              		.loc 1 510 5 view .LVU730
 2516 0010 08B1     		cbz	r0, .L170
 511:src/date.c    **** 		return;
 512:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 513:src/date.c    **** 	if (UState.t12) {
 514:src/date.c    **** 		if (h >= 12) {
 515:src/date.c    **** 			h -= 12;
 516:src/date.c    **** 			suffix = " PM";
 517:src/date.c    **** 		} else
 518:src/date.c    **** 			suffix = " AM";
 519:src/date.c    **** 		if (h == 0)
 520:src/date.c    **** 			h = 12;
 521:src/date.c    **** 	} else
 522:src/date.c    **** 		suffix = "";
 523:src/date.c    **** 	p = num_arg(buf, h);
 524:src/date.c    **** 	*p++ = ':';
 525:src/date.c    **** 	p = num_arg_0(p, m, 2);
 526:src/date.c    **** 	*p++ = ':';
 527:src/date.c    **** 	p = num_arg_0(p, s, 2);
 528:src/date.c    **** 	scopy(p, suffix);
 529:src/date.c    **** 	add_string(buf);
 530:src/date.c    **** }
 2517              		.loc 1 530 1 view .LVU731
 2518 0012 09B0     		add	sp, sp, #36
 2519              		.cfi_remember_state
 2520              		.cfi_def_cfa_offset 12
 2521              		@ sp needed
 2522 0014 30BD     		pop	{r4, r5, pc}
 2523              	.L170:
 2524              		.cfi_restore_state
 512:src/date.c    **** 	if (UState.t12) {
 2525              		.loc 1 512 2 is_stmt 1 view .LVU732
ARM GAS  /tmp/ccrwXAwg.s 			page 65


 2526 0016 0146     		mov	r1, r0
 2527 0018 1022     		movs	r2, #16
 2528 001a 04A8     		add	r0, sp, #16
 2529 001c FFF7FEFF 		bl	xset
 2530              	.LVL256:
 513:src/date.c    **** 		if (h >= 12) {
 2531              		.loc 1 513 2 view .LVU733
 513:src/date.c    **** 		if (h >= 12) {
 2532              		.loc 1 513 6 is_stmt 0 view .LVU734
 2533 0020 154B     		ldr	r3, .L171
 514:src/date.c    **** 			h -= 12;
 2534              		.loc 1 514 9 view .LVU735
 2535 0022 0199     		ldr	r1, [sp, #4]
 513:src/date.c    **** 		if (h >= 12) {
 2536              		.loc 1 513 6 view .LVU736
 2537 0024 1B68     		ldr	r3, [r3]
 513:src/date.c    **** 		if (h >= 12) {
 2538              		.loc 1 513 5 view .LVU737
 2539 0026 93F9E937 		ldrsb	r3, [r3, #2025]
 2540 002a 002B     		cmp	r3, #0
 2541 002c 18DB     		blt	.L164
 522:src/date.c    **** 	p = num_arg(buf, h);
 2542              		.loc 1 522 10 view .LVU738
 2543 002e 134D     		ldr	r5, .L171+4
 2544              	.L165:
 2545              	.LVL257:
 523:src/date.c    **** 	*p++ = ':';
 2546              		.loc 1 523 2 is_stmt 1 discriminator 1 view .LVU739
 523:src/date.c    **** 	*p++ = ':';
 2547              		.loc 1 523 6 is_stmt 0 discriminator 1 view .LVU740
 2548 0030 04A8     		add	r0, sp, #16
 2549 0032 FFF7FEFF 		bl	num_arg
 2550              	.LVL258:
 524:src/date.c    **** 	p = num_arg_0(p, m, 2);
 2551              		.loc 1 524 2 is_stmt 1 discriminator 1 view .LVU741
 524:src/date.c    **** 	p = num_arg_0(p, m, 2);
 2552              		.loc 1 524 7 is_stmt 0 discriminator 1 view .LVU742
 2553 0036 3A24     		movs	r4, #58
 2554 0038 00F8014B 		strb	r4, [r0], #1
 2555              	.LVL259:
 525:src/date.c    **** 	*p++ = ':';
 2556              		.loc 1 525 2 is_stmt 1 discriminator 1 view .LVU743
 525:src/date.c    **** 	*p++ = ':';
 2557              		.loc 1 525 6 is_stmt 0 discriminator 1 view .LVU744
 2558 003c 0299     		ldr	r1, [sp, #8]
 2559 003e 0222     		movs	r2, #2
 2560 0040 FFF7FEFF 		bl	num_arg_0
 2561              	.LVL260:
 526:src/date.c    **** 	p = num_arg_0(p, s, 2);
 2562              		.loc 1 526 2 is_stmt 1 discriminator 1 view .LVU745
 526:src/date.c    **** 	p = num_arg_0(p, s, 2);
 2563              		.loc 1 526 7 is_stmt 0 discriminator 1 view .LVU746
 2564 0044 00F8014B 		strb	r4, [r0], #1
 2565              	.LVL261:
 527:src/date.c    **** 	scopy(p, suffix);
 2566              		.loc 1 527 2 is_stmt 1 discriminator 1 view .LVU747
 527:src/date.c    **** 	scopy(p, suffix);
ARM GAS  /tmp/ccrwXAwg.s 			page 66


 2567              		.loc 1 527 6 is_stmt 0 discriminator 1 view .LVU748
 2568 0048 0222     		movs	r2, #2
 2569 004a 0399     		ldr	r1, [sp, #12]
 2570 004c FFF7FEFF 		bl	num_arg_0
 2571              	.LVL262:
 528:src/date.c    **** 	add_string(buf);
 2572              		.loc 1 528 2 is_stmt 1 discriminator 1 view .LVU749
 2573 0050 2946     		mov	r1, r5
 2574 0052 FFF7FEFF 		bl	scopy
 2575              	.LVL263:
 529:src/date.c    **** }
 2576              		.loc 1 529 2 discriminator 1 view .LVU750
 2577 0056 04A8     		add	r0, sp, #16
 2578 0058 FFF7FEFF 		bl	add_string
 2579              	.LVL264:
 2580              		.loc 1 530 1 is_stmt 0 discriminator 1 view .LVU751
 2581 005c 09B0     		add	sp, sp, #36
 2582              		.cfi_remember_state
 2583              		.cfi_def_cfa_offset 12
 2584              		@ sp needed
 2585 005e 30BD     		pop	{r4, r5, pc}
 2586              	.LVL265:
 2587              	.L164:
 2588              		.cfi_restore_state
 514:src/date.c    **** 			h -= 12;
 2589              		.loc 1 514 3 is_stmt 1 view .LVU752
 514:src/date.c    **** 			h -= 12;
 2590              		.loc 1 514 6 is_stmt 0 view .LVU753
 2591 0060 0B29     		cmp	r1, #11
 515:src/date.c    **** 			suffix = " PM";
 2592              		.loc 1 515 4 is_stmt 1 view .LVU754
 515:src/date.c    **** 			suffix = " PM";
 2593              		.loc 1 515 6 is_stmt 0 view .LVU755
 2594 0062 C5BF     		ittet	gt
 2595 0064 0C39     		subgt	r1, r1, #12
 516:src/date.c    **** 		} else
 2596              		.loc 1 516 11 view .LVU756
 2597 0066 064D     		ldrgt	r5, .L171+8
 518:src/date.c    **** 		if (h == 0)
 2598              		.loc 1 518 11 view .LVU757
 2599 0068 064D     		ldrle	r5, .L171+12
 515:src/date.c    **** 			suffix = " PM";
 2600              		.loc 1 515 6 view .LVU758
 2601 006a 0191     		strgt	r1, [sp, #4]
 516:src/date.c    **** 		} else
 2602              		.loc 1 516 4 is_stmt 1 view .LVU759
 2603              	.LVL266:
 519:src/date.c    **** 			h = 12;
 2604              		.loc 1 519 3 view .LVU760
 519:src/date.c    **** 			h = 12;
 2605              		.loc 1 519 6 is_stmt 0 view .LVU761
 2606 006c 0029     		cmp	r1, #0
 2607 006e DFD1     		bne	.L165
 520:src/date.c    **** 	} else
 2608              		.loc 1 520 4 is_stmt 1 view .LVU762
 520:src/date.c    **** 	} else
 2609              		.loc 1 520 6 is_stmt 0 view .LVU763
ARM GAS  /tmp/ccrwXAwg.s 			page 67


 2610 0070 0C21     		movs	r1, #12
 2611 0072 0191     		str	r1, [sp, #4]
 2612 0074 DCE7     		b	.L165
 2613              	.L172:
 2614 0076 00BF     		.align	2
 2615              	.L171:
 2616 0078 00000000 		.word	main_ram
 2617 007c 08000000 		.word	.LC4
 2618 0080 00000000 		.word	.LC2
 2619 0084 04000000 		.word	.LC3
 2620              		.cfi_endproc
 2621              	.LFE21:
 2623              		.section	.text.date_date,"ax",%progbits
 2624              		.align	1
 2625              		.p2align 2,,3
 2626              		.global	date_date
 2627              		.syntax unified
 2628              		.thumb
 2629              		.thumb_func
 2630              		.fpu fpv4-sp-d16
 2632              	date_date:
 2633              	.LVL267:
 2634              	.LFB24:
 531:src/date.c    **** 
 532:src/date.c    **** 
 533:src/date.c    **** /* These routines get the real time and day from the RTC */
 534:src/date.c    **** 
 535:src/date.c    **** static void query_time(unsigned int *s, unsigned int *m, unsigned int *h) {
 536:src/date.c    **** #ifdef REALBUILD
 537:src/date.c    **** 	unsigned char hour, minute, second;
 538:src/date.c    **** 	
 539:src/date.c    **** 	RTC_GetTime(&hour, &minute, &second);
 540:src/date.c    **** 	*s = second;
 541:src/date.c    **** 	*m = minute;
 542:src/date.c    **** 	*h = hour;
 543:src/date.c    **** #else
 544:src/date.c    **** 	//	time_t now = time(NULL);
 545:src/date.c    **** 	//struct tm *dt = localtime(&now);
 546:src/date.c    **** 
 547:src/date.c    **** 	//*h = dt->tm_hour;
 548:src/date.c    **** 	//*m = dt->tm_min;
 549:src/date.c    **** 	//*s = dt->tm_sec;
 550:src/date.c    **** #endif
 551:src/date.c    **** }
 552:src/date.c    **** 
 553:src/date.c    **** static void query_date(unsigned int *d, unsigned int *m, unsigned int *y) {
 554:src/date.c    **** #ifdef REALBUILD
 555:src/date.c    **** 	unsigned char day, month, dow;
 556:src/date.c    **** 	unsigned short year;
 557:src/date.c    **** 	
 558:src/date.c    **** 	RTC_GetDate( &year, &month, &day, &dow );
 559:src/date.c    **** 
 560:src/date.c    **** 	*y = year;
 561:src/date.c    **** 	*m = month;
 562:src/date.c    **** 	*d = day;
 563:src/date.c    **** #else
 564:src/date.c    **** 	//	time_t now = time(NULL);
ARM GAS  /tmp/ccrwXAwg.s 			page 68


 565:src/date.c    **** 	//struct tm *dt = localtime(&now);
 566:src/date.c    **** 
 567:src/date.c    **** 	//*y = dt->tm_year + 1900;
 568:src/date.c    **** 	//*m = dt->tm_mon + 1;
 569:src/date.c    **** 	//*d = dt->tm_mday;
 570:src/date.c    **** #endif
 571:src/date.c    **** }
 572:src/date.c    **** 
 573:src/date.c    **** 
 574:src/date.c    **** void date_date(enum nilop op) {
 2635              		.loc 1 574 31 is_stmt 1 view -0
 2636              		.cfi_startproc
 2637              		@ args = 0, pretend = 0, frame = 40
 2638              		@ frame_needed = 0, uses_anonymous_args = 0
 575:src/date.c    **** 	if (Xtal) {
 2639              		.loc 1 575 2 view .LVU765
 2640              	.LBB107:
 576:src/date.c    **** 		unsigned int d, m, y;
 2641              		.loc 1 576 3 view .LVU766
 577:src/date.c    **** 		decNumber z;
 2642              		.loc 1 577 3 view .LVU767
 578:src/date.c    **** 
 579:src/date.c    **** 		query_date(&d, &m, &y);
 2643              		.loc 1 579 3 view .LVU768
 2644              		.loc 1 579 3 is_stmt 0 view .LVU769
 2645              	.LBE107:
 571:src/date.c    **** 
 2646              		.loc 1 571 1 is_stmt 1 view .LVU770
 2647              	.LBB108:
 580:src/date.c    **** 		build_date(&z, y, m, d);
 2648              		.loc 1 580 3 view .LVU771
 2649              	.LBE108:
 574:src/date.c    **** 	if (Xtal) {
 2650              		.loc 1 574 31 is_stmt 0 view .LVU772
 2651 0000 00B5     		push	{lr}
 2652              		.cfi_def_cfa_offset 4
 2653              		.cfi_offset 14, -4
 2654              	.LBB109:
 2655              		.loc 1 580 3 view .LVU773
 2656 0002 0023     		movs	r3, #0
 2657              	.LBE109:
 574:src/date.c    **** 	if (Xtal) {
 2658              		.loc 1 574 31 view .LVU774
 2659 0004 8BB0     		sub	sp, sp, #44
 2660              		.cfi_def_cfa_offset 48
 2661              	.LBB110:
 2662              		.loc 1 580 3 view .LVU775
 2663 0006 1A46     		mov	r2, r3
 2664 0008 1946     		mov	r1, r3
 2665 000a 01A8     		add	r0, sp, #4
 2666              	.LVL268:
 2667              		.loc 1 580 3 view .LVU776
 2668 000c FFF7FEFF 		bl	build_date
 2669              	.LVL269:
 581:src/date.c    **** 		setX(&z);
 2670              		.loc 1 581 3 is_stmt 1 view .LVU777
 2671 0010 01A8     		add	r0, sp, #4
ARM GAS  /tmp/ccrwXAwg.s 			page 69


 2672 0012 FFF7FEFF 		bl	setX
 2673              	.LVL270:
 2674              		.loc 1 581 3 is_stmt 0 view .LVU778
 2675              	.LBE110:
 582:src/date.c    **** 	} else
 583:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 584:src/date.c    **** }
 2676              		.loc 1 584 1 view .LVU779
 2677 0016 0BB0     		add	sp, sp, #44
 2678              		.cfi_def_cfa_offset 4
 2679              		@ sp needed
 2680 0018 5DF804FB 		ldr	pc, [sp], #4
 2681              		.cfi_endproc
 2682              	.LFE24:
 2684              		.section	.text.date_time,"ax",%progbits
 2685              		.align	1
 2686              		.p2align 2,,3
 2687              		.global	date_time
 2688              		.syntax unified
 2689              		.thumb
 2690              		.thumb_func
 2691              		.fpu fpv4-sp-d16
 2693              	date_time:
 2694              	.LVL271:
 2695              	.LFB25:
 585:src/date.c    **** 
 586:src/date.c    **** void date_time(enum nilop op) {
 2696              		.loc 1 586 31 is_stmt 1 view -0
 2697              		.cfi_startproc
 2698              		@ args = 0, pretend = 0, frame = 72
 2699              		@ frame_needed = 0, uses_anonymous_args = 0
 587:src/date.c    **** 	if (Xtal) {
 2700              		.loc 1 587 2 view .LVU781
 2701              	.LBB111:
 588:src/date.c    **** 		unsigned int h, m, s;
 2702              		.loc 1 588 3 view .LVU782
 589:src/date.c    **** 		decNumber a, b;
 2703              		.loc 1 589 3 view .LVU783
 590:src/date.c    **** 
 591:src/date.c    **** 		query_time(&s, &m, &h);
 2704              		.loc 1 591 3 view .LVU784
 2705              		.loc 1 591 3 is_stmt 0 view .LVU785
 2706              	.LBE111:
 551:src/date.c    **** 
 2707              		.loc 1 551 1 is_stmt 1 view .LVU786
 2708              	.LBB112:
 592:src/date.c    **** 		h = (h * 100 + m) * 100 + s;
 2709              		.loc 1 592 3 view .LVU787
 593:src/date.c    **** 		int_to_dn(&a, h);
 2710              		.loc 1 593 3 view .LVU788
 2711              	.LBE112:
 586:src/date.c    **** 	if (Xtal) {
 2712              		.loc 1 586 31 is_stmt 0 view .LVU789
 2713 0000 00B5     		push	{lr}
 2714              		.cfi_def_cfa_offset 4
 2715              		.cfi_offset 14, -4
 2716 0002 93B0     		sub	sp, sp, #76
ARM GAS  /tmp/ccrwXAwg.s 			page 70


 2717              		.cfi_def_cfa_offset 80
 2718              	.LBB113:
 2719              		.loc 1 593 3 view .LVU790
 2720 0004 6846     		mov	r0, sp
 2721              	.LVL272:
 2722              		.loc 1 593 3 view .LVU791
 2723 0006 0021     		movs	r1, #0
 2724 0008 FFF7FEFF 		bl	int_to_dn
 2725              	.LVL273:
 594:src/date.c    **** 		dn_mulpow10(&b, &a, -4);
 2726              		.loc 1 594 3 is_stmt 1 view .LVU792
 2727 000c 6946     		mov	r1, sp
 2728 000e 6FF00302 		mvn	r2, #3
 2729 0012 09A8     		add	r0, sp, #36
 2730 0014 FFF7FEFF 		bl	dn_mulpow10
 2731              	.LVL274:
 595:src/date.c    **** 		setX(&b);
 2732              		.loc 1 595 3 view .LVU793
 2733 0018 09A8     		add	r0, sp, #36
 2734 001a FFF7FEFF 		bl	setX
 2735              	.LVL275:
 2736              		.loc 1 595 3 is_stmt 0 view .LVU794
 2737              	.LBE113:
 596:src/date.c    **** 	} else
 597:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 598:src/date.c    **** }
 2738              		.loc 1 598 1 view .LVU795
 2739 001e 13B0     		add	sp, sp, #76
 2740              		.cfi_def_cfa_offset 4
 2741              		@ sp needed
 2742 0020 5DF804FB 		ldr	pc, [sp], #4
 2743              		.cfi_endproc
 2744              	.LFE25:
 2746              		.section	.text.date_setdate,"ax",%progbits
 2747              		.align	1
 2748              		.p2align 2,,3
 2749              		.global	date_setdate
 2750              		.syntax unified
 2751              		.thumb
 2752              		.thumb_func
 2753              		.fpu fpv4-sp-d16
 2755              	date_setdate:
 2756              	.LVL276:
 2757              	.LFB26:
 599:src/date.c    **** 
 600:src/date.c    **** void date_setdate(enum nilop op) {
 2758              		.loc 1 600 34 is_stmt 1 view -0
 2759              		.cfi_startproc
 2760              		@ args = 0, pretend = 0, frame = 48
 2761              		@ frame_needed = 0, uses_anonymous_args = 0
 601:src/date.c    **** 	int d, m, y, dow;
 2762              		.loc 1 601 2 view .LVU797
 602:src/date.c    **** 	decNumber x;
 2763              		.loc 1 602 2 view .LVU798
 603:src/date.c    **** 
 604:src/date.c    **** 	getX(&x);
 2764              		.loc 1 604 2 view .LVU799
ARM GAS  /tmp/ccrwXAwg.s 			page 71


 600:src/date.c    **** 	int d, m, y, dow;
 2765              		.loc 1 600 34 is_stmt 0 view .LVU800
 2766 0000 00B5     		push	{lr}
 2767              		.cfi_def_cfa_offset 4
 2768              		.cfi_offset 14, -4
 2769 0002 8DB0     		sub	sp, sp, #52
 2770              		.cfi_def_cfa_offset 56
 2771              		.loc 1 604 2 view .LVU801
 2772 0004 03A8     		add	r0, sp, #12
 2773              	.LVL277:
 2774              		.loc 1 604 2 view .LVU802
 2775 0006 FFF7FEFF 		bl	getX
 2776              	.LVL278:
 605:src/date.c    **** 	if (extract_date(&x, &y, &m, &d)) {
 2777              		.loc 1 605 2 is_stmt 1 view .LVU803
 2778              	.LBB114:
 2779              	.LBI114:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 2780              		.loc 1 202 12 view .LVU804
 2781              	.LBB115:
 203:src/date.c    **** 	decNumber z, a;
 2782              		.loc 1 203 2 view .LVU805
 204:src/date.c    ****     int neg = 1;
 2783              		.loc 1 204 2 view .LVU806
 205:src/date.c    **** 
 2784              		.loc 1 205 5 view .LVU807
 207:src/date.c    **** 		return 1;
 2785              		.loc 1 207 2 view .LVU808
 207:src/date.c    **** 		return 1;
 2786              		.loc 1 207 6 is_stmt 0 view .LVU809
 2787 000a 0C4B     		ldr	r3, .L183
 2788 000c 1B68     		ldr	r3, [r3]
 2789 000e 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 2790              		.loc 1 207 5 view .LVU810
 2791 0012 DB07     		lsls	r3, r3, #31
 2792 0014 06D4     		bmi	.L180
 2793 0016 03A8     		add	r0, sp, #12
 2794              	.LVL279:
 207:src/date.c    **** 		return 1;
 2795              		.loc 1 207 5 view .LVU811
 2796 0018 6B46     		mov	r3, sp
 2797 001a 01AA     		add	r2, sp, #4
 2798              	.LVL280:
 207:src/date.c    **** 		return 1;
 2799              		.loc 1 207 5 view .LVU812
 2800 001c 02A9     		add	r1, sp, #8
 2801              	.LVL281:
 207:src/date.c    **** 		return 1;
 2802              		.loc 1 207 5 view .LVU813
 2803 001e FFF7FEFF 		bl	extract_date.part.0
 2804              	.LVL282:
 207:src/date.c    **** 		return 1;
 2805              		.loc 1 207 5 view .LVU814
 2806              	.LBE115:
 2807              	.LBE114:
 2808              		.loc 1 605 5 view .LVU815
ARM GAS  /tmp/ccrwXAwg.s 			page 72


 2809 0022 28B1     		cbz	r0, .L182
 2810              	.L180:
 606:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2811              		.loc 1 606 3 is_stmt 1 view .LVU816
 2812 0024 0220     		movs	r0, #2
 2813 0026 FFF7FEFF 		bl	report_err
 2814              	.LVL283:
 607:src/date.c    **** 		return;
 2815              		.loc 1 607 3 view .LVU817
 608:src/date.c    **** 	}
 609:src/date.c    **** 	dow = day_of_week(y, m, d, NULL);
 610:src/date.c    **** #ifdef REALBUILD
 611:src/date.c    **** 	if (Xtal) {
 612:src/date.c    **** 		busy();
 613:src/date.c    **** 		RTC_SetDate((unsigned short) y, (unsigned char) m,
 614:src/date.c    **** 			    (unsigned char) d, (unsigned char) dow);
 615:src/date.c    **** 	} else
 616:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 617:src/date.c    **** #else
 618:src/date.c    **** 	// So that very strict compilers (i.e. gcc4.6 do not complain that dow is unused with -Wall)
 619:src/date.c    **** 	(void) dow;
 620:src/date.c    **** 	report_err(ERR_ILLEGAL);
 621:src/date.c    **** #endif
 622:src/date.c    **** }
 2816              		.loc 1 622 1 is_stmt 0 view .LVU818
 2817 002a 0DB0     		add	sp, sp, #52
 2818              		.cfi_remember_state
 2819              		.cfi_def_cfa_offset 4
 2820              		@ sp needed
 2821 002c 5DF804FB 		ldr	pc, [sp], #4
 2822              	.L182:
 2823              		.cfi_restore_state
 609:src/date.c    **** #ifdef REALBUILD
 2824              		.loc 1 609 2 is_stmt 1 view .LVU819
 2825              	.LVL284:
 141:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 2826              		.loc 1 141 2 view .LVU820
 142:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 2827              		.loc 1 142 2 view .LVU821
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 2828              		.loc 1 145 2 view .LVU822
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 2829              		.loc 1 146 2 view .LVU823
 148:src/date.c    **** }
 2830              		.loc 1 148 2 view .LVU824
 619:src/date.c    **** 	report_err(ERR_ILLEGAL);
 2831              		.loc 1 619 2 view .LVU825
 620:src/date.c    **** #endif
 2832              		.loc 1 620 2 view .LVU826
 2833 0030 0720     		movs	r0, #7
 2834 0032 FFF7FEFF 		bl	report_err
 2835              	.LVL285:
 2836              		.loc 1 622 1 is_stmt 0 view .LVU827
 2837 0036 0DB0     		add	sp, sp, #52
 2838              		.cfi_def_cfa_offset 4
 2839              		@ sp needed
 2840 0038 5DF804FB 		ldr	pc, [sp], #4
ARM GAS  /tmp/ccrwXAwg.s 			page 73


 2841              	.L184:
 2842              		.align	2
 2843              	.L183:
 2844 003c 00000000 		.word	main_ram
 2845              		.cfi_endproc
 2846              	.LFE26:
 2848              		.section	.text.date_settime,"ax",%progbits
 2849              		.align	1
 2850              		.p2align 2,,3
 2851              		.global	date_settime
 2852              		.syntax unified
 2853              		.thumb
 2854              		.thumb_func
 2855              		.fpu fpv4-sp-d16
 2857              	date_settime:
 2858              	.LVL286:
 2859              	.LFB27:
 623:src/date.c    **** 
 624:src/date.c    **** void date_settime(enum nilop op) {
 2860              		.loc 1 624 34 is_stmt 1 view -0
 2861              		.cfi_startproc
 2862              		@ args = 0, pretend = 0, frame = 16
 2863              		@ frame_needed = 0, uses_anonymous_args = 0
 625:src/date.c    **** 	int h, m, s;
 2864              		.loc 1 625 2 view .LVU829
 626:src/date.c    **** 	if (extract_time(&h, &m, &s, 24))
 2865              		.loc 1 626 2 view .LVU830
 624:src/date.c    **** 	int h, m, s;
 2866              		.loc 1 624 34 is_stmt 0 view .LVU831
 2867 0000 00B5     		push	{lr}
 2868              		.cfi_def_cfa_offset 4
 2869              		.cfi_offset 14, -4
 2870 0002 85B0     		sub	sp, sp, #20
 2871              		.cfi_def_cfa_offset 24
 2872              		.loc 1 626 6 view .LVU832
 2873 0004 1823     		movs	r3, #24
 2874 0006 03AA     		add	r2, sp, #12
 2875 0008 02A9     		add	r1, sp, #8
 2876 000a 01A8     		add	r0, sp, #4
 2877              	.LVL287:
 2878              		.loc 1 626 6 view .LVU833
 2879 000c FFF7FEFF 		bl	extract_time
 2880              	.LVL288:
 2881              		.loc 1 626 5 view .LVU834
 2882 0010 10B9     		cbnz	r0, .L185
 627:src/date.c    **** 		return;
 628:src/date.c    **** #ifdef REALBUILD
 629:src/date.c    **** 	if (Xtal) {
 630:src/date.c    **** 		busy();
 631:src/date.c    **** 		RTC_SetTime((unsigned char) h, (unsigned char) m, (unsigned char) s);
 632:src/date.c    **** 	} else
 633:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 634:src/date.c    **** #else
 635:src/date.c    **** 	report_err(ERR_ILLEGAL);
 2883              		.loc 1 635 2 is_stmt 1 view .LVU835
 2884 0012 0720     		movs	r0, #7
 2885 0014 FFF7FEFF 		bl	report_err
ARM GAS  /tmp/ccrwXAwg.s 			page 74


 2886              	.LVL289:
 2887              	.L185:
 636:src/date.c    **** #endif
 637:src/date.c    **** }
 2888              		.loc 1 637 1 is_stmt 0 view .LVU836
 2889 0018 05B0     		add	sp, sp, #20
 2890              		.cfi_def_cfa_offset 4
 2891              		@ sp needed
 2892 001a 5DF804FB 		ldr	pc, [sp], #4
 2893              		.cfi_endproc
 2894              	.LFE27:
 2896 001e 00BF     		.section	.rodata
 2897              		.align	2
 2898              		.set	.LANCHOR0,. + 0
 2899              	.LC0:
 2900 0000 070E151D 		.ascii	"\007\016\025\035'07Sunday\000Monday\000Tuesday\000W"
 2900      27303753 
 2900      756E6461 
 2900      79004D6F 
 2900      6E646179 
 2901 001e 65646E65 		.ascii	"ednesday\000Thursday\000Friday\000Saturday\000"
 2901      73646179 
 2901      00546875 
 2901      72736461 
 2901      79004672 
 2902              		.section	.rodata.mons.9011,"a"
 2903              		.align	2
 2904              		.set	.LANCHOR1,. + 0
 2907              	mons.9011:
 2908 0000 4A414E46 		.ascii	"JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC"
 2908      45424D41 
 2908      52415052 
 2908      4D41594A 
 2908      554E4A55 
 2909              		.text
 2910              	.Letext0:
 2911              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 2912              		.file 3 "dmcp/dmcp.h"
 2913              		.file 4 "src/decNumber/decContext.h"
 2914              		.file 5 "src/decNumber/decNumber.h"
 2915              		.file 6 "src/decNumber/decimal64.h"
 2916              		.file 7 "src/decNumber/decimal128.h"
 2917              		.file 8 "src/xeq.h"
 2918              		.file 9 "src/data.h"
 2919              		.file 10 "src/storage.h"
 2920              		.file 11 "src/consts.h"
 2921              		.file 12 "src/decn.h"
 2922              		.file 13 "src/alpha.h"
ARM GAS  /tmp/ccrwXAwg.s 			page 75


DEFINED SYMBOLS
                            *ABS*:0000000000000000 date.c
     /tmp/ccrwXAwg.s:18     .text.JDN:0000000000000000 $t
     /tmp/ccrwXAwg.s:26     .text.JDN:0000000000000000 JDN
     /tmp/ccrwXAwg.s:214    .text.JDN:00000000000000b0 $d
     /tmp/ccrwXAwg.s:223    .text.JDN2:0000000000000000 $t
     /tmp/ccrwXAwg.s:230    .text.JDN2:0000000000000000 JDN2
     /tmp/ccrwXAwg.s:417    .text.JDN2:00000000000000d8 $d
     /tmp/ccrwXAwg.s:430    .text.check_date:0000000000000000 $t
     /tmp/ccrwXAwg.s:437    .text.check_date:0000000000000000 check_date
     /tmp/ccrwXAwg.s:508    .text.extract_time:0000000000000000 $t
     /tmp/ccrwXAwg.s:515    .text.extract_time:0000000000000000 extract_time
     /tmp/ccrwXAwg.s:639    .text.extract_time:000000000000007c $d
     /tmp/ccrwXAwg.s:644    .text.extract_date.part.0:0000000000000000 $t
     /tmp/ccrwXAwg.s:651    .text.extract_date.part.0:0000000000000000 extract_date.part.0
     /tmp/ccrwXAwg.s:866    .text.extract_date.part.0:00000000000000e0 $d
     /tmp/ccrwXAwg.s:871    .text.dateExtract:0000000000000000 $t
     /tmp/ccrwXAwg.s:878    .text.dateExtract:0000000000000000 dateExtract
     /tmp/ccrwXAwg.s:956    .text.dateExtract:0000000000000038 $d
     /tmp/ccrwXAwg.s:961    .text.day_of_week.constprop.0:0000000000000000 $t
     /tmp/ccrwXAwg.s:968    .text.day_of_week.constprop.0:0000000000000000 day_of_week.constprop.0
     /tmp/ccrwXAwg.s:1031   .text.day_of_week.constprop.0:0000000000000038 $d
     /tmp/ccrwXAwg.s:1039   .text.build_date:0000000000000000 $t
     /tmp/ccrwXAwg.s:1046   .text.build_date:0000000000000000 build_date
     /tmp/ccrwXAwg.s:1209   .text.build_date:00000000000000b0 $d
     /tmp/ccrwXAwg.s:1214   .text.dateFromYMD:0000000000000000 $t
     /tmp/ccrwXAwg.s:1222   .text.dateFromYMD:0000000000000000 dateFromYMD
     /tmp/ccrwXAwg.s:1324   .text.date_isleap:0000000000000000 $t
     /tmp/ccrwXAwg.s:1332   .text.date_isleap:0000000000000000 date_isleap
     /tmp/ccrwXAwg.s:1546   .text.date_isleap:00000000000000a0 $d
     /tmp/ccrwXAwg.s:1557   .text.dateDayOfWeek:0000000000000000 $t
     /tmp/ccrwXAwg.s:1565   .text.dateDayOfWeek:0000000000000000 dateDayOfWeek
     /tmp/ccrwXAwg.s:1625   .text.dateExtraction:0000000000000000 $t
     /tmp/ccrwXAwg.s:1633   .text.dateExtraction:0000000000000000 dateExtraction
     /tmp/ccrwXAwg.s:1696   .text.dateExtraction:0000000000000038 $d
     /tmp/ccrwXAwg.s:1701   .rodata.date_alphaday.str1.4:0000000000000000 $d
     /tmp/ccrwXAwg.s:1705   .text.date_alphaday:0000000000000000 $t
     /tmp/ccrwXAwg.s:1713   .text.date_alphaday:0000000000000000 date_alphaday
     /tmp/ccrwXAwg.s:1898   .text.date_alphaday:0000000000000094 $d
     /tmp/ccrwXAwg.s:1907   .text.date_alphamonth:0000000000000000 $t
     /tmp/ccrwXAwg.s:1915   .text.date_alphamonth:0000000000000000 date_alphamonth
     /tmp/ccrwXAwg.s:2054   .text.date_alphamonth:0000000000000068 $d
     /tmp/ccrwXAwg.s:2060   .text.dateToJ:0000000000000000 $t
     /tmp/ccrwXAwg.s:2068   .text.dateToJ:0000000000000000 dateToJ
     /tmp/ccrwXAwg.s:2166   .text.dateToJ:000000000000004c $d
     /tmp/ccrwXAwg.s:2171   .text.dateFromJ:0000000000000000 $t
     /tmp/ccrwXAwg.s:2179   .text.dateFromJ:0000000000000000 dateFromJ
     /tmp/ccrwXAwg.s:2261   .text.date_alphadate:0000000000000000 $t
     /tmp/ccrwXAwg.s:2269   .text.date_alphadate:0000000000000000 date_alphadate
     /tmp/ccrwXAwg.s:2464   .text.date_alphadate:00000000000000c0 $d
     /tmp/ccrwXAwg.s:2469   .rodata.date_alphatime.str1.4:0000000000000000 $d
     /tmp/ccrwXAwg.s:2479   .text.date_alphatime:0000000000000000 $t
     /tmp/ccrwXAwg.s:2487   .text.date_alphatime:0000000000000000 date_alphatime
     /tmp/ccrwXAwg.s:2616   .text.date_alphatime:0000000000000078 $d
     /tmp/ccrwXAwg.s:2624   .text.date_date:0000000000000000 $t
     /tmp/ccrwXAwg.s:2632   .text.date_date:0000000000000000 date_date
     /tmp/ccrwXAwg.s:2685   .text.date_time:0000000000000000 $t
ARM GAS  /tmp/ccrwXAwg.s 			page 76


     /tmp/ccrwXAwg.s:2693   .text.date_time:0000000000000000 date_time
     /tmp/ccrwXAwg.s:2747   .text.date_setdate:0000000000000000 $t
     /tmp/ccrwXAwg.s:2755   .text.date_setdate:0000000000000000 date_setdate
     /tmp/ccrwXAwg.s:2844   .text.date_setdate:000000000000003c $d
     /tmp/ccrwXAwg.s:2849   .text.date_settime:0000000000000000 $t
     /tmp/ccrwXAwg.s:2857   .text.date_settime:0000000000000000 date_settime
     /tmp/ccrwXAwg.s:2897   .rodata:0000000000000000 $d
     /tmp/ccrwXAwg.s:2903   .rodata.mons.9011:0000000000000000 $d
     /tmp/ccrwXAwg.s:2907   .rodata.mons.9011:0000000000000000 mons.9011

UNDEFINED SYMBOLS
main_ram
getX
dn_mulpow10
decNumberRound
dn_to_int
report_err
decNumberCopy
decNumberTrunc
dn_subtract
dn_mul100
dn_minus
set_NaN
Running
DispMsg
int_to_dn
is_int
fin_tst
XeqOpCode
add_string
dn_lt0
xset
num_arg
num_arg_0
scopy
setX
