ARM GAS  /tmp/cceVkiTV.s 			page 1


   1              		.arch armv7e-m
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"date.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.JDN,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	JDN:
  27              	.LVL0:
  28              	.LFB1:
  29              		.file 1 "src/date.c"
   1:src/date.c    **** /* This file is part of 34S.
   2:src/date.c    ****  * 
   3:src/date.c    ****  * 34S is free software: you can redistribute it and/or modify
   4:src/date.c    ****  * it under the terms of the GNU General Public License as published by
   5:src/date.c    ****  * the Free Software Foundation, either version 3 of the License, or
   6:src/date.c    ****  * (at your option) any later version.
   7:src/date.c    ****  * 
   8:src/date.c    ****  * 34S is distributed in the hope that it will be useful,
   9:src/date.c    ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  10:src/date.c    ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  11:src/date.c    ****  * GNU General Public License for more details.
  12:src/date.c    ****  * 
  13:src/date.c    ****  * You should have received a copy of the GNU General Public License
  14:src/date.c    ****  * along with 34S.  If not, see <http://www.gnu.org/licenses/>.
  15:src/date.c    ****  */
  16:src/date.c    **** 
  17:src/date.c    **** #ifdef REALBUILD
  18:src/date.c    **** #include "atmel/rtc.h"
  19:src/date.c    **** #elif defined(DM42)
  20:src/date.c    **** #include "dmcp.h"
  21:src/date.c    **** #else
  22:src/date.c    **** #include <time.h>
  23:src/date.c    **** #endif
  24:src/date.c    **** 
  25:src/date.c    **** #define DM42SAFE
  26:src/date.c    **** #include "date.h"
  27:src/date.c    **** #include "decn.h"
  28:src/date.c    **** #include "xeq.h"
  29:src/date.c    **** #include "storage.h"
ARM GAS  /tmp/cceVkiTV.s 			page 2


  30:src/date.c    **** #include "consts.h"
  31:src/date.c    **** #include "alpha.h"
  32:src/date.c    **** #undef DM42SAFE
  33:src/date.c    **** 
  34:src/date.c    **** /* Test if a date is Gregorian or Julian
  35:src/date.c    ****  */
  36:src/date.c    **** static int isGregorian(int year, int month, int day) {
  37:src/date.c    **** 	int y, m, d;
  38:src/date.c    **** 	if (UState.jg1582) {
  39:src/date.c    **** 		y = 1582;
  40:src/date.c    **** 		m = 10;
  41:src/date.c    **** 		d = 15;
  42:src/date.c    **** 	} else {
  43:src/date.c    **** 		y = 1752;
  44:src/date.c    **** 		m = 9;
  45:src/date.c    **** 		d = 14;
  46:src/date.c    **** 	}
  47:src/date.c    **** 	if (year > y)
  48:src/date.c    **** 		return 1;
  49:src/date.c    **** 	if (year < y)
  50:src/date.c    **** 		return 0;
  51:src/date.c    **** 	if (month < m)
  52:src/date.c    **** 		return 0;
  53:src/date.c    **** 	if (month > m)
  54:src/date.c    **** 		return 1;
  55:src/date.c    **** 	if (day < d)
  56:src/date.c    **** 		return 0;
  57:src/date.c    **** 	return 1;
  58:src/date.c    **** }
  59:src/date.c    **** 
  60:src/date.c    **** 
  61:src/date.c    **** /* Convert a date to a Julian day number
  62:src/date.c    ****  */
  63:src/date.c    **** static int JDN(int year, int month, int day) {
  30              		.loc 1 63 46 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  64:src/date.c    **** 	const int a = (14 - month) / 12;
  34              		.loc 1 64 2 view .LVU1
  35              	.LBB39:
  36              	.LBB40:
  38:src/date.c    **** 		y = 1582;
  37              		.loc 1 38 6 is_stmt 0 view .LVU2
  38 0000 2B4B     		ldr	r3, .L12
  39              	.LBE40:
  40              	.LBE39:
  63:src/date.c    **** 	const int a = (14 - month) / 12;
  41              		.loc 1 63 46 view .LVU3
  42 0002 F0B5     		push	{r4, r5, r6, r7, lr}
  43              		.cfi_def_cfa_offset 20
  44              		.cfi_offset 4, -20
  45              		.cfi_offset 5, -16
  46              		.cfi_offset 6, -12
  47              		.cfi_offset 7, -8
  48              		.cfi_offset 14, -4
  49              	.LBB48:
ARM GAS  /tmp/cceVkiTV.s 			page 3


  50              	.LBB41:
  38:src/date.c    **** 		y = 1582;
  51              		.loc 1 38 6 view .LVU4
  52 0004 1D68     		ldr	r5, [r3]
  53              	.LBE41:
  54              	.LBE48:
  55              		.loc 1 64 12 view .LVU5
  56 0006 2B4C     		ldr	r4, .L12+4
  57              	.LBB49:
  58              	.LBB42:
  38:src/date.c    **** 		y = 1582;
  59              		.loc 1 38 5 view .LVU6
  60 0008 95F9EB57 		ldrsb	r5, [r5, #2027]
  61              	.LBE42:
  62              	.LBE49:
  63              		.loc 1 64 20 view .LVU7
  64 000c C1F10E03 		rsb	r3, r1, #14
  65              		.loc 1 64 12 view .LVU8
  66 0010 84FB0364 		smull	r6, r4, r4, r3
  67 0014 DB17     		asrs	r3, r3, #31
  68 0016 C3EB6404 		rsb	r4, r3, r4, asr #1
  69              	.LVL1:
  65:src/date.c    **** 	const int y = year + 4800 - a;
  70              		.loc 1 65 2 is_stmt 1 view .LVU9
  71              	.LBB50:
  72              	.LBB43:
  38:src/date.c    **** 		y = 1582;
  73              		.loc 1 38 5 is_stmt 0 view .LVU10
  74 001a 002D     		cmp	r5, #0
  75              	.LBE43:
  76              	.LBE50:
  66:src/date.c    **** 	const int m = month + 12 * a - 3;
  77              		.loc 1 66 27 view .LVU11
  78 001c 04EB4406 		add	r6, r4, r4, lsl #1
  79              	.LBB51:
  80              	.LBB44:
  45:src/date.c    **** 	}
  81              		.loc 1 45 5 view .LVU12
  82 0020 40F22E65 		movw	r5, #1582
  83              	.LBE44:
  84              	.LBE51:
  85              		.loc 1 66 22 view .LVU13
  86 0024 01EB8603 		add	r3, r1, r6, lsl #2
  87              	.LBB52:
  88              	.LBB45:
  45:src/date.c    **** 	}
  89              		.loc 1 45 5 view .LVU14
  90 0028 B4BF     		ite	lt
  91 002a 2E46     		movlt	r6, r5
  92 002c 4FF4DB66 		movge	r6, #1752
  93              	.LBE45:
  94              	.LBE52:
  65:src/date.c    **** 	const int y = year + 4800 - a;
  95              		.loc 1 65 21 view .LVU15
  96 0030 00F59657 		add	r7, r0, #4800
  97              	.LBB53:
  98              	.LBB46:
ARM GAS  /tmp/cceVkiTV.s 			page 4


  45:src/date.c    **** 	}
  99              		.loc 1 45 5 view .LVU16
 100 0034 B5BF     		itete	lt
 101 0036 4FF00F0E 		movlt	lr, #15
 102 003a 4FF00E0E 		movge	lr, #14
 103 003e 4FF00A0C 		movlt	ip, #10
 104 0042 4FF0090C 		movge	ip, #9
  47:src/date.c    **** 		return 1;
 105              		.loc 1 47 5 view .LVU17
 106 0046 B042     		cmp	r0, r6
 107              	.LBE46:
 108              	.LBE53:
 109              		.loc 1 66 12 view .LVU18
 110 0048 A3F10303 		sub	r3, r3, #3
  65:src/date.c    **** 	const int m = month + 12 * a - 3;
 111              		.loc 1 65 12 view .LVU19
 112 004c A7EB0405 		sub	r5, r7, r4
 113              	.LVL2:
 114              		.loc 1 66 2 is_stmt 1 view .LVU20
  67:src/date.c    **** 	int jdn;
 115              		.loc 1 67 2 view .LVU21
  68:src/date.c    **** 
  69:src/date.c    **** 	if (isGregorian(year, month, day))
 116              		.loc 1 69 2 view .LVU22
 117              	.LBB54:
 118              	.LBI39:
  36:src/date.c    **** 	int y, m, d;
 119              		.loc 1 36 12 view .LVU23
 120              	.LBB47:
  37:src/date.c    **** 	if (UState.jg1582) {
 121              		.loc 1 37 2 view .LVU24
  38:src/date.c    **** 		y = 1582;
 122              		.loc 1 38 2 view .LVU25
  47:src/date.c    **** 		return 1;
 123              		.loc 1 47 2 view .LVU26
  47:src/date.c    **** 		return 1;
 124              		.loc 1 47 5 is_stmt 0 view .LVU27
 125 0050 05DC     		bgt	.L3
  49:src/date.c    **** 		return 0;
 126              		.loc 1 49 2 is_stmt 1 view .LVU28
  49:src/date.c    **** 		return 0;
 127              		.loc 1 49 5 is_stmt 0 view .LVU29
 128 0052 2BDB     		blt	.L9
  51:src/date.c    **** 		return 0;
 129              		.loc 1 51 2 is_stmt 1 view .LVU30
  51:src/date.c    **** 		return 0;
 130              		.loc 1 51 5 is_stmt 0 view .LVU31
 131 0054 6145     		cmp	r1, ip
 132 0056 29DB     		blt	.L9
  53:src/date.c    **** 		return 1;
 133              		.loc 1 53 2 is_stmt 1 view .LVU32
  53:src/date.c    **** 		return 1;
 134              		.loc 1 53 5 is_stmt 0 view .LVU33
 135 0058 01DC     		bgt	.L3
  55:src/date.c    **** 		return 0;
 136              		.loc 1 55 2 is_stmt 1 view .LVU34
  55:src/date.c    **** 		return 0;
ARM GAS  /tmp/cceVkiTV.s 			page 5


 137              		.loc 1 55 5 is_stmt 0 view .LVU35
 138 005a 7245     		cmp	r2, lr
 139 005c 26DB     		blt	.L9
 140              	.L3:
 141              	.LVL3:
  55:src/date.c    **** 		return 0;
 142              		.loc 1 55 5 view .LVU36
 143              	.LBE47:
 144              	.LBE54:
  70:src/date.c    **** 		jdn = -y/100 + y/400 - 32045;
 145              		.loc 1 70 3 is_stmt 1 view .LVU37
 146              		.loc 1 70 11 is_stmt 0 view .LVU38
 147 005e 164E     		ldr	r6, .L12+8
 148              		.loc 1 70 9 view .LVU39
 149 0060 E41B     		subs	r4, r4, r7
 150              	.LVL4:
 151              		.loc 1 70 11 view .LVU40
 152 0062 86FB0401 		smull	r0, r1, r6, r4
 153              	.LVL5:
 154              		.loc 1 70 19 view .LVU41
 155 0066 86FB0506 		smull	r0, r6, r6, r5
 156              		.loc 1 70 11 view .LVU42
 157 006a E417     		asrs	r4, r4, #31
 158              		.loc 1 70 19 view .LVU43
 159 006c E817     		asrs	r0, r5, #31
 160              		.loc 1 70 11 view .LVU44
 161 006e C4EB6111 		rsb	r1, r4, r1, asr #5
 162              		.loc 1 70 19 view .LVU45
 163 0072 C0EBE610 		rsb	r0, r0, r6, asr #7
 164              		.loc 1 70 16 view .LVU46
 165 0076 0144     		add	r1, r1, r0
 166              		.loc 1 70 7 view .LVU47
 167 0078 A1F5FA41 		sub	r1, r1, #32000
 168 007c 2D39     		subs	r1, r1, #45
 169              	.LVL6:
 170              	.L4:
  71:src/date.c    **** 	else
  72:src/date.c    **** 		jdn = -32083;
  73:src/date.c    **** 	jdn += day + (153 * m + 2) / 5 + 365*y + y/4;
 171              		.loc 1 73 2 is_stmt 1 view .LVU48
  74:src/date.c    **** 	return jdn;
 172              		.loc 1 74 2 view .LVU49
  73:src/date.c    **** 	return jdn;
 173              		.loc 1 73 20 is_stmt 0 view .LVU50
 174 007e 03EBC303 		add	r3, r3, r3, lsl #3
 175              	.LVL7:
  73:src/date.c    **** 	return jdn;
 176              		.loc 1 73 29 view .LVU51
 177 0082 0E48     		ldr	r0, .L12+12
  73:src/date.c    **** 	return jdn;
 178              		.loc 1 73 20 view .LVU52
 179 0084 03EB0313 		add	r3, r3, r3, lsl #4
  73:src/date.c    **** 	return jdn;
 180              		.loc 1 73 24 view .LVU53
 181 0088 0233     		adds	r3, r3, #2
  73:src/date.c    **** 	return jdn;
 182              		.loc 1 73 29 view .LVU54
ARM GAS  /tmp/cceVkiTV.s 			page 6


 183 008a 80FB0340 		smull	r4, r0, r0, r3
 184 008e DB17     		asrs	r3, r3, #31
 185 0090 C3EB6003 		rsb	r3, r3, r0, asr #1
  73:src/date.c    **** 	return jdn;
 186              		.loc 1 73 13 view .LVU55
 187 0094 1A44     		add	r2, r2, r3
 188              	.LVL8:
  73:src/date.c    **** 	return jdn;
 189              		.loc 1 73 38 view .LVU56
 190 0096 40F26D10 		movw	r0, #365
  73:src/date.c    **** 	return jdn;
 191              		.loc 1 73 33 view .LVU57
 192 009a 00FB0522 		mla	r2, r0, r5, r2
  73:src/date.c    **** 	return jdn;
 193              		.loc 1 73 44 view .LVU58
 194 009e 002D     		cmp	r5, #0
  73:src/date.c    **** 	return jdn;
 195              		.loc 1 73 44 view .LVU59
 196 00a0 B8BF     		it	lt
 197 00a2 0335     		addlt	r5, r5, #3
 198              	.LVL9:
  73:src/date.c    **** 	return jdn;
 199              		.loc 1 73 41 view .LVU60
 200 00a4 02EBA505 		add	r5, r2, r5, asr #2
  75:src/date.c    **** }
 201              		.loc 1 75 1 view .LVU61
 202 00a8 6818     		adds	r0, r5, r1
 203 00aa F0BD     		pop	{r4, r5, r6, r7, pc}
 204              	.LVL10:
 205              	.L9:
  72:src/date.c    **** 	jdn += day + (153 * m + 2) / 5 + 365*y + y/4;
 206              		.loc 1 72 7 view .LVU62
 207 00ac 0449     		ldr	r1, .L12+16
 208              	.LVL11:
  72:src/date.c    **** 	jdn += day + (153 * m + 2) / 5 + 365*y + y/4;
 209              		.loc 1 72 7 view .LVU63
 210 00ae E6E7     		b	.L4
 211              	.L13:
 212              		.align	2
 213              	.L12:
 214 00b0 00000000 		.word	main_ram
 215 00b4 ABAAAA2A 		.word	715827883
 216 00b8 1F85EB51 		.word	1374389535
 217 00bc 67666666 		.word	1717986919
 218 00c0 AD82FFFF 		.word	-32083
 219              		.cfi_endproc
 220              	.LFE1:
 222              		.section	.text.JDN2,"ax",%progbits
 223              		.align	1
 224              		.p2align 2,,3
 225              		.syntax unified
 226              		.thumb
 227              		.thumb_func
 228              		.fpu fpv4-sp-d16
 230              	JDN2:
 231              	.LVL12:
 232              	.LFB2:
ARM GAS  /tmp/cceVkiTV.s 			page 7


  76:src/date.c    **** 
  77:src/date.c    **** 
  78:src/date.c    **** /* Convert a julian day number to day, month and year.
  79:src/date.c    ****  */
  80:src/date.c    **** static void JDN2(int J, int *year, int *month, int *day) {
 233              		.loc 1 80 58 is_stmt 1 view -0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
  81:src/date.c    **** 	int b, c, y, d, e, m;
 237              		.loc 1 81 2 view .LVU65
  82:src/date.c    **** 	int jgthreshold = UState.jg1582 ? 2299161 : 2361222;
 238              		.loc 1 82 2 view .LVU66
  80:src/date.c    **** 	int b, c, y, d, e, m;
 239              		.loc 1 80 58 is_stmt 0 view .LVU67
 240 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 241              		.cfi_def_cfa_offset 28
 242              		.cfi_offset 4, -28
 243              		.cfi_offset 5, -24
 244              		.cfi_offset 6, -20
 245              		.cfi_offset 7, -16
 246              		.cfi_offset 8, -12
 247              		.cfi_offset 9, -8
 248              		.cfi_offset 14, -4
 249              		.loc 1 82 34 view .LVU68
 250 0004 344D     		ldr	r5, .L22
 251              		.loc 1 82 44 view .LVU69
 252 0006 354C     		ldr	r4, .L22+4
 253              		.loc 1 82 34 view .LVU70
 254 0008 2E68     		ldr	r6, [r5]
 255              		.loc 1 82 44 view .LVU71
 256 000a 354D     		ldr	r5, .L22+8
 257 000c 96F9EB67 		ldrsb	r6, [r6, #2027]
 258 0010 14EA2604 		ands	r4, r4, r6, asr #32
 259 0014 38BF     		it	cc
 260 0016 2C46     		movcc	r4, r5
 261              	.LVL13:
  83:src/date.c    **** 
  84:src/date.c    **** 	if (J >= jgthreshold) {	// Gregorian
 262              		.loc 1 84 2 is_stmt 1 view .LVU72
 263              		.loc 1 84 5 is_stmt 0 view .LVU73
 264 0018 8442     		cmp	r4, r0
 265              	.LBB55:
  85:src/date.c    **** 		const int a = J + 32044;
 266              		.loc 1 85 13 view .LVU74
 267 001a 00F5FA40 		add	r0, r0, #32000
 268              	.LVL14:
 269              		.loc 1 85 13 view .LVU75
 270              	.LBE55:
  84:src/date.c    **** 		const int a = J + 32044;
 271              		.loc 1 84 5 view .LVU76
 272 001e 56DC     		bgt	.L16
 273              	.LBB56:
 274              		.loc 1 85 3 is_stmt 1 view .LVU77
 275              		.loc 1 85 13 is_stmt 0 view .LVU78
 276 0020 2C30     		adds	r0, r0, #44
 277              	.LVL15:
ARM GAS  /tmp/cceVkiTV.s 			page 8


  86:src/date.c    **** 		b = (4*a+3)/146097;
 278              		.loc 1 86 3 is_stmt 1 view .LVU79
 279              		.loc 1 86 5 is_stmt 0 view .LVU80
 280 0022 304D     		ldr	r5, .L22+12
  87:src/date.c    **** 		c = a - (b*146097)/4;
 281              		.loc 1 87 13 view .LVU81
 282 0024 304C     		ldr	r4, .L22+16
 283              	.LVL16:
  86:src/date.c    **** 		b = (4*a+3)/146097;
 284              		.loc 1 86 9 view .LVU82
 285 0026 4FEA800C 		lsl	ip, r0, #2
  86:src/date.c    **** 		b = (4*a+3)/146097;
 286              		.loc 1 86 11 view .LVU83
 287 002a 0CF1030C 		add	ip, ip, #3
  86:src/date.c    **** 		b = (4*a+3)/146097;
 288              		.loc 1 86 5 view .LVU84
 289 002e A5FB0C5C 		umull	r5, ip, r5, ip
 290 0032 4FEADC35 		lsr	r5, ip, #15
 291              	.LVL17:
 292              		.loc 1 87 3 is_stmt 1 view .LVU85
 293              		.loc 1 87 13 is_stmt 0 view .LVU86
 294 0036 04FB05F4 		mul	r4, r4, r5
 295              		.loc 1 87 21 view .LVU87
 296 003a 002C     		cmp	r4, #0
 297 003c B8BF     		it	lt
 298 003e 0334     		addlt	r4, r4, #3
  88:src/date.c    **** 		b *= 100;
 299              		.loc 1 88 5 view .LVU88
 300 0040 4FF0640C 		mov	ip, #100
  87:src/date.c    **** 		c = a - (b*146097)/4;
 301              		.loc 1 87 5 view .LVU89
 302 0044 A0EBA400 		sub	r0, r0, r4, asr #2
 303              	.LVL18:
 304              		.loc 1 88 3 is_stmt 1 view .LVU90
 305              		.loc 1 88 5 is_stmt 0 view .LVU91
 306 0048 0CFB05FC 		mul	ip, ip, r5
 307              	.LVL19:
 308              	.L18:
 309              		.loc 1 88 5 view .LVU92
 310              	.LBE56:
  89:src/date.c    **** 	} else {		// Julian
  90:src/date.c    **** 		b = 0;
  91:src/date.c    **** 		c = J + 32082;
  92:src/date.c    **** 	}
  93:src/date.c    **** 
  94:src/date.c    **** 	d = (4*c+3)/1461;
 311              		.loc 1 94 2 is_stmt 1 view .LVU93
 312              		.loc 1 94 8 is_stmt 0 view .LVU94
 313 004c 8400     		lsls	r4, r0, #2
 314              		.loc 1 94 4 view .LVU95
 315 004e 274D     		ldr	r5, .L22+20
  95:src/date.c    **** 	e = c - (1461*d)/4;
  96:src/date.c    **** 	m = (5*e+2)/153;
  97:src/date.c    **** 
  98:src/date.c    **** 	*day   = e - (153*m+2)/5 + 1;
  99:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 316              		.loc 1 99 24 view .LVU96
ARM GAS  /tmp/cceVkiTV.s 			page 9


 317 0050 DFF8A080 		ldr	r8, .L22+28
  94:src/date.c    **** 	e = c - (1461*d)/4;
 318              		.loc 1 94 10 view .LVU97
 319 0054 0334     		adds	r4, r4, #3
  94:src/date.c    **** 	e = c - (1461*d)/4;
 320              		.loc 1 94 4 view .LVU98
 321 0056 85FB0465 		smull	r6, r5, r5, r4
 322              	.LVL20:
  94:src/date.c    **** 	e = c - (1461*d)/4;
 323              		.loc 1 94 4 view .LVU99
 324 005a E417     		asrs	r4, r4, #31
 325 005c C4EBE515 		rsb	r5, r4, r5, asr #7
 326              	.LVL21:
  95:src/date.c    **** 	e = c - (1461*d)/4;
 327              		.loc 1 95 2 is_stmt 1 view .LVU100
  95:src/date.c    **** 	e = c - (1461*d)/4;
 328              		.loc 1 95 15 is_stmt 0 view .LVU101
 329 0060 40F2B554 		movw	r4, #1461
 330 0064 04FB05F4 		mul	r4, r4, r5
  95:src/date.c    **** 	e = c - (1461*d)/4;
 331              		.loc 1 95 18 view .LVU102
 332 0068 002C     		cmp	r4, #0
 333 006a B8BF     		it	lt
 334 006c 0334     		addlt	r4, r4, #3
  95:src/date.c    **** 	e = c - (1461*d)/4;
 335              		.loc 1 95 4 view .LVU103
 336 006e A0EBA404 		sub	r4, r0, r4, asr #2
 337              	.LVL22:
  96:src/date.c    **** 
 338              		.loc 1 96 2 is_stmt 1 view .LVU104
  96:src/date.c    **** 
 339              		.loc 1 96 4 is_stmt 0 view .LVU105
 340 0072 1F4E     		ldr	r6, .L22+24
  96:src/date.c    **** 
 341              		.loc 1 96 8 view .LVU106
 342 0074 04EB840E 		add	lr, r4, r4, lsl #2
  96:src/date.c    **** 
 343              		.loc 1 96 10 view .LVU107
 344 0078 0EF1020E 		add	lr, lr, #2
  96:src/date.c    **** 
 345              		.loc 1 96 4 view .LVU108
 346 007c 86FB0E06 		smull	r0, r6, r6, lr
 347              	.LVL23:
  96:src/date.c    **** 
 348              		.loc 1 96 4 view .LVU109
 349 0080 4FEAEE77 		asr	r7, lr, #31
 350 0084 7644     		add	r6, r6, lr
 351 0086 C7EBE616 		rsb	r6, r7, r6, asr #7
 352              	.LVL24:
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 353              		.loc 1 98 2 is_stmt 1 view .LVU110
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 354              		.loc 1 98 19 is_stmt 0 view .LVU111
 355 008a 06EBC600 		add	r0, r6, r6, lsl #3
 356              		.loc 1 99 24 view .LVU112
 357 008e 88FB0E8E 		smull	r8, lr, r8, lr
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
ARM GAS  /tmp/cceVkiTV.s 			page 10


 358              		.loc 1 98 19 view .LVU113
 359 0092 00EB0010 		add	r0, r0, r0, lsl #4
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 360              		.loc 1 98 24 view .LVU114
 361 0096 DFF86080 		ldr	r8, .L22+32
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 362              		.loc 1 98 21 view .LVU115
 363 009a 0230     		adds	r0, r0, #2
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 364              		.loc 1 98 24 view .LVU116
 365 009c 88FB0098 		smull	r9, r8, r8, r0
 366 00a0 C017     		asrs	r0, r0, #31
 100:src/date.c    **** 
 101:src/date.c    **** 	y = b + d - 4800 + m/10;
 367              		.loc 1 101 8 view .LVU117
 368 00a2 6544     		add	r5, r5, ip
 369              	.LVL25:
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 370              		.loc 1 98 24 view .LVU118
 371 00a4 A0EB6800 		sub	r0, r0, r8, asr #1
 372              		.loc 1 101 22 view .LVU119
 373 00a8 C7EB2E2C 		rsb	ip, r7, lr, asr #8
 374              	.LVL26:
  99:src/date.c    **** 
 375              		.loc 1 99 24 view .LVU120
 376 00ac A7EB2E27 		sub	r7, r7, lr, asr #8
 377              		.loc 1 101 12 view .LVU121
 378 00b0 A5F59655 		sub	r5, r5, #4800
  99:src/date.c    **** 
 379              		.loc 1 99 21 view .LVU122
 380 00b4 07EB4707 		add	r7, r7, r7, lsl #1
  99:src/date.c    **** 
 381              		.loc 1 99 13 view .LVU123
 382 00b8 0336     		adds	r6, r6, #3
 383              	.LVL27:
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 384              		.loc 1 98 13 view .LVU124
 385 00ba 2044     		add	r0, r0, r4
 386              		.loc 1 101 4 view .LVU125
 387 00bc 6544     		add	r5, r5, ip
  99:src/date.c    **** 
 388              		.loc 1 99 17 view .LVU126
 389 00be 06EB8707 		add	r7, r6, r7, lsl #2
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 390              		.loc 1 98 27 view .LVU127
 391 00c2 0130     		adds	r0, r0, #1
  98:src/date.c    **** 	*month = m + 3 - 12*(m/10);
 392              		.loc 1 98 9 view .LVU128
 393 00c4 1860     		str	r0, [r3]
  99:src/date.c    **** 
 394              		.loc 1 99 2 is_stmt 1 view .LVU129
  99:src/date.c    **** 
 395              		.loc 1 99 9 is_stmt 0 view .LVU130
 396 00c6 1760     		str	r7, [r2]
 397              		.loc 1 101 2 is_stmt 1 view .LVU131
 398              	.LVL28:
 102:src/date.c    **** //	if (y <= 0)	y--;
ARM GAS  /tmp/cceVkiTV.s 			page 11


 103:src/date.c    **** 	*year = y;
 399              		.loc 1 103 2 view .LVU132
 400              		.loc 1 103 8 is_stmt 0 view .LVU133
 401 00c8 0D60     		str	r5, [r1]
 104:src/date.c    **** }
 402              		.loc 1 104 1 view .LVU134
 403 00ca BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 404              	.LVL29:
 405              	.L16:
  90:src/date.c    **** 		c = J + 32082;
 406              		.loc 1 90 3 is_stmt 1 view .LVU135
  91:src/date.c    **** 	}
 407              		.loc 1 91 3 view .LVU136
  91:src/date.c    **** 	}
 408              		.loc 1 91 5 is_stmt 0 view .LVU137
 409 00ce 5230     		adds	r0, r0, #82
 410              	.LVL30:
  90:src/date.c    **** 		c = J + 32082;
 411              		.loc 1 90 5 view .LVU138
 412 00d0 4FF0000C 		mov	ip, #0
 413 00d4 BAE7     		b	.L18
 414              	.L23:
 415 00d6 00BF     		.align	2
 416              	.L22:
 417 00d8 00000000 		.word	main_ram
 418 00dc 19152300 		.word	2299161
 419 00e0 86072400 		.word	2361222
 420 00e4 BD066B39 		.word	963315389
 421 00e8 B13A0200 		.word	146097
 422 00ec 73B06D16 		.word	376287347
 423 00f0 D7802BD6 		.word	-701792041
 424 00f4 2B80D52A 		.word	718635051
 425 00f8 67666666 		.word	1717986919
 426              		.cfi_endproc
 427              	.LFE2:
 429              		.section	.text.check_date,"ax",%progbits
 430              		.align	1
 431              		.p2align 2,,3
 432              		.syntax unified
 433              		.thumb
 434              		.thumb_func
 435              		.fpu fpv4-sp-d16
 437              	check_date:
 438              	.LVL31:
 439              	.LFB4:
 105:src/date.c    **** 
 106:src/date.c    **** 
 107:src/date.c    **** static int isleap(int year) {
 108:src/date.c    **** 	if ((year & 3) == 0) {		// leap year candidate
 109:src/date.c    **** 		if (isGregorian(year, 1, 1)) {
 110:src/date.c    **** 			// Gregorian is leap if not divisible by 100 or if devisible by 400
 111:src/date.c    **** 			if (year % 100 == 0) {
 112:src/date.c    **** 				if (year % 400 == 0)
 113:src/date.c    **** 					return 1;
 114:src/date.c    **** 				return 0;
 115:src/date.c    **** 			}
 116:src/date.c    **** 		}
ARM GAS  /tmp/cceVkiTV.s 			page 12


 117:src/date.c    **** 		return 1;
 118:src/date.c    **** 	}
 119:src/date.c    **** 	return 0;
 120:src/date.c    **** }
 121:src/date.c    **** 
 122:src/date.c    **** 
 123:src/date.c    **** /* Validate that a date is in fact within our calculation range.
 124:src/date.c    ****  */
 125:src/date.c    **** static int check_date(int year, int month, int day) {
 440              		.loc 1 125 53 is_stmt 1 view -0
 441              		.cfi_startproc
 442              		@ args = 0, pretend = 0, frame = 16
 443              		@ frame_needed = 0, uses_anonymous_args = 0
 126:src/date.c    **** 	int y, m, d;
 444              		.loc 1 126 2 view .LVU140
 127:src/date.c    **** 
 128:src/date.c    **** 	if (year < -4712 || year > 9999)
 445              		.loc 1 128 2 view .LVU141
 125:src/date.c    **** 	int y, m, d;
 446              		.loc 1 125 53 is_stmt 0 view .LVU142
 447 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 448              		.cfi_def_cfa_offset 20
 449              		.cfi_offset 4, -20
 450              		.cfi_offset 5, -16
 451              		.cfi_offset 6, -12
 452              		.cfi_offset 7, -8
 453              		.cfi_offset 14, -4
 454              		.loc 1 128 19 view .LVU143
 455 0002 00F59353 		add	r3, r0, #4704
 456 0006 0833     		adds	r3, r3, #8
 457              		.loc 1 128 5 view .LVU144
 458 0008 43F67717 		movw	r7, #14711
 459 000c BB42     		cmp	r3, r7
 125:src/date.c    **** 	int y, m, d;
 460              		.loc 1 125 53 view .LVU145
 461 000e 85B0     		sub	sp, sp, #20
 462              		.cfi_def_cfa_offset 40
 463              		.loc 1 128 5 view .LVU146
 464 0010 16D8     		bhi	.L27
 129:src/date.c    **** 		return -1;
 130:src/date.c    **** 	JDN2(JDN(year, month, day), &y, &m, &d);
 465              		.loc 1 130 2 is_stmt 1 view .LVU147
 466 0012 0446     		mov	r4, r0
 467 0014 0D46     		mov	r5, r1
 468 0016 1646     		mov	r6, r2
 469 0018 FFF7FEFF 		bl	JDN
 470              	.LVL32:
 471              		.loc 1 130 2 is_stmt 0 view .LVU148
 472 001c 03AB     		add	r3, sp, #12
 473 001e 02AA     		add	r2, sp, #8
 474 0020 01A9     		add	r1, sp, #4
 475 0022 FFF7FEFF 		bl	JDN2
 476              	.LVL33:
 131:src/date.c    **** 	if (year == y && month == m && day == d)
 477              		.loc 1 131 2 is_stmt 1 view .LVU149
 478              		.loc 1 131 5 is_stmt 0 view .LVU150
 479 0026 019B     		ldr	r3, [sp, #4]
ARM GAS  /tmp/cceVkiTV.s 			page 13


 480 0028 A342     		cmp	r3, r4
 481 002a 09D1     		bne	.L27
 482              		.loc 1 131 16 discriminator 1 view .LVU151
 483 002c 029B     		ldr	r3, [sp, #8]
 484 002e AB42     		cmp	r3, r5
 485 0030 06D1     		bne	.L27
 486              		.loc 1 131 30 discriminator 2 view .LVU152
 487 0032 0398     		ldr	r0, [sp, #12]
 488 0034 801B     		subs	r0, r0, r6
 489 0036 18BF     		it	ne
 490 0038 4FF0FF30 		movne	r0, #-1
 491              	.LVL34:
 492              	.L24:
 132:src/date.c    **** 		return 0;
 133:src/date.c    **** 	return -1;
 134:src/date.c    **** }
 493              		.loc 1 134 1 view .LVU153
 494 003c 05B0     		add	sp, sp, #20
 495              		.cfi_remember_state
 496              		.cfi_def_cfa_offset 20
 497              		@ sp needed
 498 003e F0BD     		pop	{r4, r5, r6, r7, pc}
 499              	.L27:
 500              		.cfi_restore_state
 129:src/date.c    **** 	JDN2(JDN(year, month, day), &y, &m, &d);
 501              		.loc 1 129 10 view .LVU154
 502 0040 4FF0FF30 		mov	r0, #-1
 503 0044 FAE7     		b	.L24
 504              		.cfi_endproc
 505              	.LFE4:
 507 0046 00BF     		.section	.text.extract_time,"ax",%progbits
 508              		.align	1
 509              		.p2align 2,,3
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 513              		.fpu fpv4-sp-d16
 515              	extract_time:
 516              	.LVL35:
 517              	.LFB22:
 135:src/date.c    **** 
 136:src/date.c    **** 
 137:src/date.c    **** /* Day of week.
 138:src/date.c    ****  * Display the day name and return the day as an integer (1 .. 7).
 139:src/date.c    ****  */
 140:src/date.c    **** static int day_of_week(int year, int month, int day, const char **msg) {
 141:src/date.c    **** 	int h;
 142:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 143:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 144:src/date.c    **** 				"Thursday\0Friday\0Saturday";
 145:src/date.c    **** 	h = (JDN(year, month, day)+1) % 7;
 146:src/date.c    **** 	if (msg != NULL && ! Running)
 147:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 148:src/date.c    **** 	return h != 0 ? h : 7;
 149:src/date.c    **** }
 150:src/date.c    **** 
 151:src/date.c    **** 
ARM GAS  /tmp/cceVkiTV.s 			page 14


 152:src/date.c    **** /* Convert a (y, m, d) triple into a decimal number that represents the date.
 153:src/date.c    ****  * Some care is required for overflow and the like.
 154:src/date.c    ****  */
 155:src/date.c    **** static decNumber *build_date(decNumber *res, int year, int month, int day) {
 156:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 157:src/date.c    **** 
 158:src/date.c    **** 	if (check_date(year, month, day)) {
 159:src/date.c    **** 		set_NaN(res);
 160:src/date.c    **** 		return res;
 161:src/date.c    **** 	}
 162:src/date.c    **** 	if (year < 0) {
 163:src/date.c    **** 		year = -year;
 164:src/date.c    **** 		sign = -1;
 165:src/date.c    **** 	}
 166:src/date.c    **** 
 167:src/date.c    **** 	switch (UState.date_mode) {
 168:src/date.c    **** 	case DATE_YMD:
 169:src/date.c    **** 		r = ((year * 100) + month) * 100 + day;
 170:src/date.c    **** 		shift = -4;
 171:src/date.c    **** 		break;
 172:src/date.c    **** 
 173:src/date.c    **** 	case DATE_DMY:
 174:src/date.c    **** 		r = ((day * 100) + month)* 10000 + year;
 175:src/date.c    **** 		break;
 176:src/date.c    **** 
 177:src/date.c    **** 	case DATE_MDY:
 178:src/date.c    **** 		r = ((month * 100) + day)* 10000 + year;
 179:src/date.c    **** 		break;
 180:src/date.c    **** 	}
 181:src/date.c    **** 	int_to_dn(res, r * sign);
 182:src/date.c    **** 	dn_mulpow10(res, res, shift);
 183:src/date.c    **** 	day_of_week(sign * year, month, day, &DispMsg);
 184:src/date.c    **** 	return res;
 185:src/date.c    **** }
 186:src/date.c    **** 
 187:src/date.c    **** /*
 188:src/date.c    ****  *  Convert Z = year, y = month, x = day to a valid date in X
 189:src/date.c    ****  */
 190:src/date.c    **** decNumber *dateFromYMD(decNumber *res, const decNumber *z, const decNumber *y, const decNumber *x) 
 191:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 192:src/date.c    **** 		return set_NaN(res);
 193:src/date.c    **** 	else {
 194:src/date.c    **** 		return build_date(res, dn_to_int(z), dn_to_int(y), dn_to_int(x));
 195:src/date.c    **** 	}
 196:src/date.c    **** }
 197:src/date.c    **** 
 198:src/date.c    **** /* Convert a decimal real to a date.
 199:src/date.c    ****  * We have to honour the current date mode and make sure that things
 200:src/date.c    ****  * don't go out of range.
 201:src/date.c    ****  */
 202:src/date.c    **** static int extract_date(const decNumber *x, int *year, int *month, int *day) {
 203:src/date.c    **** 	int ip, fp, y, m, d;
 204:src/date.c    **** 	decNumber z, a;
 205:src/date.c    ****     int neg = 1;
 206:src/date.c    **** 
 207:src/date.c    **** 	if (is_intmode())
 208:src/date.c    **** 		return 1;
ARM GAS  /tmp/cceVkiTV.s 			page 15


 209:src/date.c    **** 
 210:src/date.c    **** 	if (decNumberIsNegative(x)) {
 211:src/date.c    **** 		dn_minus(&z, x);
 212:src/date.c    ****         neg = -1;
 213:src/date.c    **** 	} else {
 214:src/date.c    **** 		decNumberCopy(&z, x);
 215:src/date.c    **** 	}
 216:src/date.c    **** 	decNumberTrunc(&a, &z);			// a = iii	z = iii.ffrrrr
 217:src/date.c    **** 	ip = dn_to_int(&a);
 218:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 219:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 220:src/date.c    **** 	decNumberTrunc(&a, &z);			// a = ff
 221:src/date.c    **** 	fp = dn_to_int(&a);
 222:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 223:src/date.c    **** 	switch (UState.date_mode) {
 224:src/date.c    **** 	default:
 225:src/date.c    **** 	case DATE_YMD:
 226:src/date.c    **** 		y = ip;
 227:src/date.c    **** 		m = fp;
 228:src/date.c    **** 		dn_mul100(&a, &z);
 229:src/date.c    **** 		decNumberTrunc(&z, &a);
 230:src/date.c    **** 		d = dn_to_int(&z);
 231:src/date.c    **** 		break;
 232:src/date.c    **** 
 233:src/date.c    **** 	case DATE_DMY:
 234:src/date.c    **** 		d = ip;
 235:src/date.c    **** 		m = fp;
 236:src/date.c    **** 		goto year;
 237:src/date.c    **** 
 238:src/date.c    **** 	case DATE_MDY:
 239:src/date.c    **** 		m = ip;
 240:src/date.c    **** 		d = fp;
 241:src/date.c    **** year:		dn_mulpow10(&a, &z, 4);
 242:src/date.c    **** 		decNumberTrunc(&z, &a);
 243:src/date.c    **** 		y = dn_to_int(&z);
 244:src/date.c    **** 		break;
 245:src/date.c    **** 	}
 246:src/date.c    **** 	/* Make sense of things
 247:src/date.c    **** 	 */
 248:src/date.c    ****     y *= neg;
 249:src/date.c    **** 	if (year != NULL)
 250:src/date.c    **** 		*year = y;
 251:src/date.c    **** 	if (month != NULL)
 252:src/date.c    **** 		*month = m;
 253:src/date.c    **** 	if (day != NULL)
 254:src/date.c    **** 		*day = d;
 255:src/date.c    **** 	return check_date(y, m, d);
 256:src/date.c    **** }
 257:src/date.c    **** 
 258:src/date.c    **** 
 259:src/date.c    **** /* Given an argument on the stack, attempt to determine the year.
 260:src/date.c    ****  * If the argument is a plain integer, it is the year.
 261:src/date.c    ****  * Otherwise, decode it according to the current date mode and
 262:src/date.c    ****  * return the year.
 263:src/date.c    ****  */
 264:src/date.c    **** static int find_year(const decNumber *x, int *year) {
 265:src/date.c    **** 	int y;
ARM GAS  /tmp/cceVkiTV.s 			page 16


 266:src/date.c    **** 
 267:src/date.c    **** 	if (decNumberIsSpecial(x))
 268:src/date.c    **** 		return -1;
 269:src/date.c    **** 	if (is_int(x)) {
 270:src/date.c    **** 		y = dn_to_int(x);
 271:src/date.c    **** 		if (check_date(y, 1, 1))
 272:src/date.c    **** 			return -1;
 273:src/date.c    **** 	} else if (extract_date(x, &y, NULL, NULL))
 274:src/date.c    **** 		return -1;
 275:src/date.c    **** 	*year = y;
 276:src/date.c    **** 	return 0;
 277:src/date.c    **** }
 278:src/date.c    **** 
 279:src/date.c    **** 
 280:src/date.c    **** #ifdef INCLUDE_EASTER
 281:src/date.c    **** /* Return Easter dates from the year.
 282:src/date.c    ****  * We assume the calendar reformation took place in 1752 which means for this
 283:src/date.c    ****  * year and before, we return the Julian date of Easter Sunday and afterwards
 284:src/date.c    ****  * the Gregorian version.
 285:src/date.c    ****  */
 286:src/date.c    **** static void easter(int year, int *month, int *day) {
 287:src/date.c    **** 	if (year > (UState.jg1582 ? 1582 : 1752)) {	// Gregorian
 288:src/date.c    **** 		const int a = year % 19;
 289:src/date.c    **** 		const int b = year / 100;
 290:src/date.c    **** 		const int c = year % 100;
 291:src/date.c    **** 		const int d = b / 4;
 292:src/date.c    **** 		const int e = b % 4;
 293:src/date.c    **** 		const int f = (b + 8) / 25;
 294:src/date.c    **** 		const int g = (b - f + 1) / 3;
 295:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 296:src/date.c    **** 		const int i = c / 4;
 297:src/date.c    **** 		const int k = c % 4;
 298:src/date.c    **** 		const int L = (32 + 2 * e + 2 * i - h - k) % 7;
 299:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 300:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 301:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 302:src/date.c    **** 	} else {
 303:src/date.c    **** 		const int a = year % 4;
 304:src/date.c    **** 		const int b = year % 7;
 305:src/date.c    **** 		const int c = year % 19;
 306:src/date.c    **** 		const int d = (19 * c + 15) % 30;
 307:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 308:src/date.c    **** 		*month = (d + e + 114) / 31;			// Jan = 1
 309:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
 310:src/date.c    **** 	}
 311:src/date.c    **** }
 312:src/date.c    **** 
 313:src/date.c    **** 
 314:src/date.c    **** /* Date of Easter.  Input is the year and output is a date.
 315:src/date.c    ****  * The input can either be specified as an integer year or as a
 316:src/date.c    ****  * valid date in the current format.
 317:src/date.c    ****  */
 318:src/date.c    **** decNumber *dateEaster(decNumber *res, const decNumber *x) {
 319:src/date.c    **** 	int y;
 320:src/date.c    **** 
 321:src/date.c    **** 	if (find_year(x, &y)) {
 322:src/date.c    **** 		set_NaN(res);
ARM GAS  /tmp/cceVkiTV.s 			page 17


 323:src/date.c    **** 		return res;
 324:src/date.c    **** 	} else {
 325:src/date.c    **** 		int m, d;
 326:src/date.c    **** 
 327:src/date.c    **** 		easter(y, &m, &d);
 328:src/date.c    **** 		build_date(res, y, m, d);
 329:src/date.c    **** 	}
 330:src/date.c    **** 	return res;
 331:src/date.c    **** }
 332:src/date.c    **** #endif
 333:src/date.c    **** 
 334:src/date.c    **** 
 335:src/date.c    **** /* Test if a year is a leap year
 336:src/date.c    ****  */
 337:src/date.c    **** void date_isleap(enum nilop op) {
 338:src/date.c    **** 	int y, t = 0;
 339:src/date.c    **** 	decNumber x;
 340:src/date.c    **** 
 341:src/date.c    **** 	getX(&x);
 342:src/date.c    **** 	if (! find_year(&x, &y))
 343:src/date.c    **** 		t = isleap(y);
 344:src/date.c    **** 	fin_tst(t);
 345:src/date.c    **** }
 346:src/date.c    **** 
 347:src/date.c    **** 
 348:src/date.c    **** /* Return the day of the week
 349:src/date.c    ****  */
 350:src/date.c    **** static int dateExtract(decNumber *res, const decNumber *x, int *y, int *m, int *d) {
 351:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 352:src/date.c    **** 		set_NaN(res);
 353:src/date.c    **** 		return 0;
 354:src/date.c    **** 	}
 355:src/date.c    **** 	return 1;
 356:src/date.c    **** }
 357:src/date.c    **** 
 358:src/date.c    **** decNumber *dateDayOfWeek(decNumber *res, const decNumber *x) {
 359:src/date.c    **** 	int y, m, d;
 360:src/date.c    **** 
 361:src/date.c    **** 	if (dateExtract(res, x, &y, &m, &d))
 362:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 363:src/date.c    **** 	return res;
 364:src/date.c    **** }
 365:src/date.c    **** 
 366:src/date.c    **** 
 367:src/date.c    **** /* Decompose dates into numerics
 368:src/date.c    ****  */
 369:src/date.c    **** decNumber *dateExtraction(decNumber *res, const decNumber *x) {
 370:src/date.c    **** 	int z[3];
 371:src/date.c    **** 
 372:src/date.c    **** 	if (dateExtract(res, x, z, z+1, z+2))
 373:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 374:src/date.c    **** 	return res;
 375:src/date.c    **** }
 376:src/date.c    **** 
 377:src/date.c    **** 
 378:src/date.c    **** static void copy3(const char *p) {
 379:src/date.c    **** 	char buf[4];
ARM GAS  /tmp/cceVkiTV.s 			page 18


 380:src/date.c    **** 	int i;
 381:src/date.c    **** 
 382:src/date.c    **** 	for (i=0; i<3; i++)
 383:src/date.c    **** 		buf[i] = p[i];
 384:src/date.c    **** 	buf[3] = '\0';
 385:src/date.c    **** 	add_string(buf);
 386:src/date.c    **** }
 387:src/date.c    **** 
 388:src/date.c    **** void date_alphaday(enum nilop op) {
 389:src/date.c    **** 	decNumber x;
 390:src/date.c    **** 	int y, m, d, dow;
 391:src/date.c    **** 
 392:src/date.c    **** 	getX(&x);
 393:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 394:src/date.c    **** 		report_err(ERR_BAD_DATE);
 395:src/date.c    **** 	else {
 396:src/date.c    **** 		dow = day_of_week(y, m, d, NULL);
 397:src/date.c    **** 		copy3(&("MONTUEWEDTHUFRISATSUN"[3*(dow-1)]));
 398:src/date.c    **** 	}
 399:src/date.c    **** }
 400:src/date.c    **** 
 401:src/date.c    **** void date_alphamonth(enum nilop op) {
 402:src/date.c    **** 	decNumber x;
 403:src/date.c    **** 	int y, m, d;
 404:src/date.c    **** 	static const char mons[12*3] = "JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC";
 405:src/date.c    **** 
 406:src/date.c    **** 	getX(&x);
 407:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 408:src/date.c    **** 		report_err(ERR_BAD_DATE);
 409:src/date.c    **** 	else {
 410:src/date.c    **** 		copy3(&(mons[3*m - 3]));
 411:src/date.c    **** 	}
 412:src/date.c    **** }
 413:src/date.c    **** 
 414:src/date.c    **** /* Conversion routines from Julian days to and from dates
 415:src/date.c    ****  */
 416:src/date.c    **** decNumber *dateToJ(decNumber *res, const decNumber *x) {
 417:src/date.c    **** 	if (decNumberIsSpecial(x))
 418:src/date.c    **** err:		set_NaN(res);
 419:src/date.c    **** 	else {
 420:src/date.c    **** 		int y, m, d;
 421:src/date.c    **** 
 422:src/date.c    **** 		if (extract_date(x, &y, &m, &d))
 423:src/date.c    **** 			goto err;
 424:src/date.c    **** 		int_to_dn(res, JDN(y, m, d));
 425:src/date.c    **** 	}
 426:src/date.c    **** 	return res;
 427:src/date.c    **** }
 428:src/date.c    **** 
 429:src/date.c    **** decNumber *dateFromJ(decNumber *res, const decNumber *x) {
 430:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 431:src/date.c    **** 		set_NaN(res);
 432:src/date.c    **** 	else {
 433:src/date.c    **** 		const int j = dn_to_int(x);
 434:src/date.c    **** 		int y, m, d;
 435:src/date.c    **** 
 436:src/date.c    **** 		JDN2(j, &y, &m, &d);
ARM GAS  /tmp/cceVkiTV.s 			page 19


 437:src/date.c    **** 		return build_date(res, y, m, d);
 438:src/date.c    **** 	}
 439:src/date.c    **** 	return res;
 440:src/date.c    **** }
 441:src/date.c    **** 
 442:src/date.c    **** 
 443:src/date.c    **** /* Date and times to the Alpha register */
 444:src/date.c    **** void date_alphadate(enum nilop op) {
 445:src/date.c    **** 	decNumber x;
 446:src/date.c    **** 	int d, m, y;
 447:src/date.c    **** 	char buf[16];
 448:src/date.c    **** 	char *p;
 449:src/date.c    **** 
 450:src/date.c    **** 	getX(&x);
 451:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 452:src/date.c    **** 	if (extract_date(&x, &y, &m, &d)) {
 453:src/date.c    **** 		report_err(ERR_BAD_DATE);
 454:src/date.c    **** 		return;
 455:src/date.c    **** 	}
 456:src/date.c    **** 	switch (UState.date_mode) {
 457:src/date.c    **** 	default:
 458:src/date.c    **** 		p = num_arg(buf, y);
 459:src/date.c    **** 		*p++ = '-';
 460:src/date.c    **** 		p = num_arg_0(p, m, 2);
 461:src/date.c    **** 		*p++ = '-';
 462:src/date.c    **** 		num_arg_0(p, d, 2);
 463:src/date.c    **** 		break;
 464:src/date.c    **** 
 465:src/date.c    **** 	case DATE_DMY:
 466:src/date.c    **** 		p = num_arg(buf, d);
 467:src/date.c    **** 		*p++ = '.';
 468:src/date.c    **** 		p = num_arg_0(p, m, 2);
 469:src/date.c    **** 		*p++ = '.';
 470:src/date.c    **** 		num_arg_0(p, y, 4);
 471:src/date.c    **** 		break;
 472:src/date.c    **** 
 473:src/date.c    **** 	case DATE_MDY:
 474:src/date.c    **** 		p = num_arg(buf, m);
 475:src/date.c    **** 		*p++ = '/';
 476:src/date.c    **** 		p = num_arg_0(p, d, 2);
 477:src/date.c    **** 		*p++ ='/';
 478:src/date.c    **** 		num_arg_0(p, y, 4);
 479:src/date.c    **** 		break;
 480:src/date.c    **** 	}
 481:src/date.c    **** 	add_string(buf);
 482:src/date.c    **** }
 483:src/date.c    **** 
 484:src/date.c    **** /*
 485:src/date.c    ****  *  Time functions
 486:src/date.c    ****  */
 487:src/date.c    **** static int extract_time(int *h, int *m, int *s, int hour_threshold) {
 518              		.loc 1 487 69 is_stmt 1 view -0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 72
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 488:src/date.c    **** 	int hms;
 522              		.loc 1 488 2 view .LVU156
ARM GAS  /tmp/cceVkiTV.s 			page 20


 489:src/date.c    **** 	decNumber a, b;
 523              		.loc 1 489 2 view .LVU157
 490:src/date.c    **** 
 491:src/date.c    **** 	getX(&a);
 524              		.loc 1 491 2 view .LVU158
 487:src/date.c    **** 	int hms;
 525              		.loc 1 487 69 is_stmt 0 view .LVU159
 526 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 527              		.cfi_def_cfa_offset 28
 528              		.cfi_offset 4, -28
 529              		.cfi_offset 5, -24
 530              		.cfi_offset 6, -20
 531              		.cfi_offset 7, -16
 532              		.cfi_offset 8, -12
 533              		.cfi_offset 9, -8
 534              		.cfi_offset 14, -4
 535 0004 93B0     		sub	sp, sp, #76
 536              		.cfi_def_cfa_offset 104
 487:src/date.c    **** 	int hms;
 537              		.loc 1 487 69 view .LVU160
 538 0006 8146     		mov	r9, r0
 539              		.loc 1 491 2 view .LVU161
 540 0008 6846     		mov	r0, sp
 541              	.LVL36:
 487:src/date.c    **** 	int hms;
 542              		.loc 1 487 69 view .LVU162
 543 000a 9846     		mov	r8, r3
 544 000c 0E46     		mov	r6, r1
 545 000e 1746     		mov	r7, r2
 546              		.loc 1 491 2 view .LVU163
 547 0010 FFF7FEFF 		bl	getX
 548              	.LVL37:
 492:src/date.c    **** 	dn_mulpow10(&b, &a, 4);
 549              		.loc 1 492 2 is_stmt 1 view .LVU164
 550 0014 0422     		movs	r2, #4
 551 0016 6946     		mov	r1, sp
 552 0018 09A8     		add	r0, sp, #36
 553 001a FFF7FEFF 		bl	dn_mulpow10
 554              	.LVL38:
 493:src/date.c    **** 	hms = dn_to_int(decNumberRound(&a, &b));
 555              		.loc 1 493 2 view .LVU165
 556              		.loc 1 493 18 is_stmt 0 view .LVU166
 557 001e 09A9     		add	r1, sp, #36
 558 0020 6846     		mov	r0, sp
 559 0022 FFF7FEFF 		bl	decNumberRound
 560              	.LVL39:
 561              		.loc 1 493 8 view .LVU167
 562 0026 FFF7FEFF 		bl	dn_to_int
 563              	.LVL40:
 494:src/date.c    **** 	*s = (hms % 100);
 564              		.loc 1 494 12 view .LVU168
 565 002a 144A     		ldr	r2, .L34
 566              	.LVL41:
 567              		.loc 1 494 2 is_stmt 1 view .LVU169
 568              		.loc 1 494 12 is_stmt 0 view .LVU170
 569 002c C417     		asrs	r4, r0, #31
 570 002e 82FB0013 		smull	r1, r3, r2, r0
ARM GAS  /tmp/cceVkiTV.s 			page 21


 571 0032 C4EB6314 		rsb	r4, r4, r3, asr #5
 495:src/date.c    **** 	hms /= 100;
 496:src/date.c    **** 	*m = (hms % 100);
 572              		.loc 1 496 12 view .LVU171
 573 0036 82FB0432 		smull	r3, r2, r2, r4
 574 003a E517     		asrs	r5, r4, #31
 575 003c C5EB6215 		rsb	r5, r5, r2, asr #5
 494:src/date.c    **** 	*s = (hms % 100);
 576              		.loc 1 494 12 view .LVU172
 577 0040 6423     		movs	r3, #100
 578 0042 03FB1402 		mls	r2, r3, r4, r0
 579              		.loc 1 496 12 view .LVU173
 580 0046 03FB1544 		mls	r4, r3, r5, r4
 497:src/date.c    **** 	*h = hms / 100;
 498:src/date.c    **** 	if (hms < 0 || *h >= hour_threshold || *m >= 60 || *s >= 60) {
 581              		.loc 1 498 5 view .LVU174
 582 004a 6330     		adds	r0, r0, #99
 583              	.LVL42:
 494:src/date.c    **** 	hms /= 100;
 584              		.loc 1 494 5 view .LVU175
 585 004c 3A60     		str	r2, [r7]
 495:src/date.c    **** 	hms /= 100;
 586              		.loc 1 495 2 is_stmt 1 view .LVU176
 587              	.LVL43:
 496:src/date.c    **** 	*h = hms / 100;
 588              		.loc 1 496 2 view .LVU177
 496:src/date.c    **** 	*h = hms / 100;
 589              		.loc 1 496 5 is_stmt 0 view .LVU178
 590 004e 3460     		str	r4, [r6]
 497:src/date.c    **** 	*h = hms / 100;
 591              		.loc 1 497 2 is_stmt 1 view .LVU179
 497:src/date.c    **** 	*h = hms / 100;
 592              		.loc 1 497 5 is_stmt 0 view .LVU180
 593 0050 C9F80050 		str	r5, [r9]
 594              		.loc 1 498 2 is_stmt 1 view .LVU181
 595              		.loc 1 498 5 is_stmt 0 view .LVU182
 596 0054 0BDB     		blt	.L30
 597              		.loc 1 498 14 discriminator 1 view .LVU183
 598 0056 4545     		cmp	r5, r8
 599 0058 09DA     		bge	.L30
 600              		.loc 1 498 38 discriminator 2 view .LVU184
 601 005a 3368     		ldr	r3, [r6]
 602 005c 3B2B     		cmp	r3, #59
 603 005e 06DC     		bgt	.L30
 604              		.loc 1 498 50 discriminator 3 view .LVU185
 605 0060 3B68     		ldr	r3, [r7]
 606 0062 3B2B     		cmp	r3, #59
 607 0064 03DC     		bgt	.L30
 499:src/date.c    **** 		report_err(ERR_BAD_DATE);
 500:src/date.c    **** 		return 1;
 501:src/date.c    **** 	}
 502:src/date.c    **** 	return 0;
 608              		.loc 1 502 9 view .LVU186
 609 0066 0020     		movs	r0, #0
 610              	.LVL44:
 503:src/date.c    **** }
 611              		.loc 1 503 1 view .LVU187
ARM GAS  /tmp/cceVkiTV.s 			page 22


 612 0068 13B0     		add	sp, sp, #76
 613              		.cfi_remember_state
 614              		.cfi_def_cfa_offset 28
 615              		@ sp needed
 616 006a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 617              	.LVL45:
 618              	.L30:
 619              		.cfi_restore_state
 499:src/date.c    **** 		report_err(ERR_BAD_DATE);
 620              		.loc 1 499 3 is_stmt 1 view .LVU188
 621 006e 0220     		movs	r0, #2
 622              	.LVL46:
 499:src/date.c    **** 		report_err(ERR_BAD_DATE);
 623              		.loc 1 499 3 is_stmt 0 view .LVU189
 624 0070 FFF7FEFF 		bl	report_err
 625              	.LVL47:
 500:src/date.c    **** 	}
 626              		.loc 1 500 3 is_stmt 1 view .LVU190
 500:src/date.c    **** 	}
 627              		.loc 1 500 10 is_stmt 0 view .LVU191
 628 0074 0120     		movs	r0, #1
 629              		.loc 1 503 1 view .LVU192
 630 0076 13B0     		add	sp, sp, #76
 631              		.cfi_def_cfa_offset 28
 632              		@ sp needed
 633 0078 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 634              	.LVL48:
 635              	.L35:
 636              		.loc 1 503 1 view .LVU193
 637              		.align	2
 638              	.L34:
 639 007c 1F85EB51 		.word	1374389535
 640              		.cfi_endproc
 641              	.LFE22:
 643              		.section	.text.extract_date.part.0,"ax",%progbits
 644              		.align	1
 645              		.p2align 2,,3
 646              		.syntax unified
 647              		.thumb
 648              		.thumb_func
 649              		.fpu fpv4-sp-d16
 651              	extract_date.part.0:
 652              	.LVL49:
 653              	.LFB30:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 654              		.loc 1 202 12 is_stmt 1 view -0
 655              		.cfi_startproc
 656              		@ args = 0, pretend = 0, frame = 72
 657              		@ frame_needed = 0, uses_anonymous_args = 0
 210:src/date.c    **** 		dn_minus(&z, x);
 658              		.loc 1 210 2 view .LVU195
 202:src/date.c    **** 	int ip, fp, y, m, d;
 659              		.loc 1 202 12 is_stmt 0 view .LVU196
 660 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 661              		.cfi_def_cfa_offset 32
 662              		.cfi_offset 4, -32
 663              		.cfi_offset 5, -28
ARM GAS  /tmp/cceVkiTV.s 			page 23


 664              		.cfi_offset 6, -24
 665              		.cfi_offset 7, -20
 666              		.cfi_offset 8, -16
 667              		.cfi_offset 9, -12
 668              		.cfi_offset 10, -8
 669              		.cfi_offset 14, -4
 210:src/date.c    **** 		dn_minus(&z, x);
 670              		.loc 1 210 5 view .LVU197
 671 0004 90F90840 		ldrsb	r4, [r0, #8]
 202:src/date.c    **** 	int ip, fp, y, m, d;
 672              		.loc 1 202 12 view .LVU198
 673 0008 92B0     		sub	sp, sp, #72
 674              		.cfi_def_cfa_offset 104
 210:src/date.c    **** 		dn_minus(&z, x);
 675              		.loc 1 210 5 view .LVU199
 676 000a 002C     		cmp	r4, #0
 211:src/date.c    ****         neg = -1;
 677              		.loc 1 211 3 view .LVU200
 678 000c 6C46     		mov	r4, sp
 202:src/date.c    **** 	int ip, fp, y, m, d;
 679              		.loc 1 202 12 view .LVU201
 680 000e 8946     		mov	r9, r1
 681 0010 9046     		mov	r8, r2
 211:src/date.c    ****         neg = -1;
 682              		.loc 1 211 3 view .LVU202
 683 0012 0146     		mov	r1, r0
 684              	.LVL50:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 685              		.loc 1 202 12 view .LVU203
 686 0014 1F46     		mov	r7, r3
 211:src/date.c    ****         neg = -1;
 687              		.loc 1 211 3 view .LVU204
 688 0016 2046     		mov	r0, r4
 689              	.LVL51:
 210:src/date.c    **** 		dn_minus(&z, x);
 690              		.loc 1 210 5 view .LVU205
 691 0018 5DDB     		blt	.L53
 214:src/date.c    **** 	}
 692              		.loc 1 214 3 is_stmt 1 view .LVU206
 693 001a FFF7FEFF 		bl	decNumberCopy
 694              	.LVL52:
 205:src/date.c    **** 
 695              		.loc 1 205 9 is_stmt 0 view .LVU207
 696 001e 4FF0010A 		mov	r10, #1
 697              	.L38:
 698              	.LVL53:
 216:src/date.c    **** 	ip = dn_to_int(&a);
 699              		.loc 1 216 2 is_stmt 1 view .LVU208
 700 0022 2146     		mov	r1, r4
 701 0024 09A8     		add	r0, sp, #36
 702 0026 FFF7FEFF 		bl	decNumberTrunc
 703              	.LVL54:
 217:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 704              		.loc 1 217 2 view .LVU209
 217:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 705              		.loc 1 217 7 is_stmt 0 view .LVU210
 706 002a 09A8     		add	r0, sp, #36
ARM GAS  /tmp/cceVkiTV.s 			page 24


 707 002c FFF7FEFF 		bl	dn_to_int
 708              	.LVL55:
 218:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 709              		.loc 1 218 2 view .LVU211
 710 0030 09AA     		add	r2, sp, #36
 711 0032 2146     		mov	r1, r4
 217:src/date.c    **** 	dn_subtract(&a, &z, &a);		// a = .ffrrrr
 712              		.loc 1 217 7 view .LVU212
 713 0034 0546     		mov	r5, r0
 714              	.LVL56:
 218:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 715              		.loc 1 218 2 is_stmt 1 view .LVU213
 716 0036 1046     		mov	r0, r2
 717              	.LVL57:
 218:src/date.c    **** 	dn_mul100(&z, &a);			// z = ff.rrrr
 718              		.loc 1 218 2 is_stmt 0 view .LVU214
 719 0038 FFF7FEFF 		bl	dn_subtract
 720              	.LVL58:
 219:src/date.c    **** 	decNumberTrunc(&a, &z);			// a = ff
 721              		.loc 1 219 2 is_stmt 1 view .LVU215
 722 003c 09A9     		add	r1, sp, #36
 723 003e 2046     		mov	r0, r4
 724 0040 FFF7FEFF 		bl	dn_mul100
 725              	.LVL59:
 220:src/date.c    **** 	fp = dn_to_int(&a);
 726              		.loc 1 220 2 view .LVU216
 727 0044 2146     		mov	r1, r4
 728 0046 09A8     		add	r0, sp, #36
 729 0048 FFF7FEFF 		bl	decNumberTrunc
 730              	.LVL60:
 221:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 731              		.loc 1 221 2 view .LVU217
 221:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 732              		.loc 1 221 7 is_stmt 0 view .LVU218
 733 004c 09A8     		add	r0, sp, #36
 734 004e FFF7FEFF 		bl	dn_to_int
 735              	.LVL61:
 222:src/date.c    **** 	switch (UState.date_mode) {
 736              		.loc 1 222 2 view .LVU219
 737 0052 09AA     		add	r2, sp, #36
 221:src/date.c    **** 	dn_subtract(&z, &z, &a);		// z = .rrrr
 738              		.loc 1 221 7 view .LVU220
 739 0054 0646     		mov	r6, r0
 222:src/date.c    **** 	switch (UState.date_mode) {
 740              		.loc 1 222 2 view .LVU221
 741 0056 2146     		mov	r1, r4
 742 0058 2046     		mov	r0, r4
 743              	.LVL62:
 222:src/date.c    **** 	switch (UState.date_mode) {
 744              		.loc 1 222 2 is_stmt 1 view .LVU222
 745 005a FFF7FEFF 		bl	dn_subtract
 746              	.LVL63:
 223:src/date.c    **** 	default:
 747              		.loc 1 223 2 view .LVU223
 223:src/date.c    **** 	default:
 748              		.loc 1 223 16 is_stmt 0 view .LVU224
 749 005e 204B     		ldr	r3, .L54
ARM GAS  /tmp/cceVkiTV.s 			page 25


 750 0060 1B68     		ldr	r3, [r3]
 751 0062 93F8EA37 		ldrb	r3, [r3, #2026]	@ zero_extendqisi2
 223:src/date.c    **** 	default:
 752              		.loc 1 223 2 view .LVU225
 753 0066 13F0300F 		tst	r3, #48
 223:src/date.c    **** 	default:
 754              		.loc 1 223 16 view .LVU226
 755 006a C3F30112 		ubfx	r2, r3, #4, #2
 223:src/date.c    **** 	default:
 756              		.loc 1 223 2 view .LVU227
 757 006e 21D0     		beq	.L44
 758 0070 022A     		cmp	r2, #2
 759 0072 22D0     		beq	.L39
 226:src/date.c    **** 		m = fp;
 760              		.loc 1 226 3 is_stmt 1 view .LVU228
 761              	.LVL64:
 227:src/date.c    **** 		dn_mul100(&a, &z);
 762              		.loc 1 227 3 view .LVU229
 228:src/date.c    **** 		decNumberTrunc(&z, &a);
 763              		.loc 1 228 3 view .LVU230
 764 0074 2146     		mov	r1, r4
 765 0076 09A8     		add	r0, sp, #36
 766 0078 FFF7FEFF 		bl	dn_mul100
 767              	.LVL65:
 229:src/date.c    **** 		d = dn_to_int(&z);
 768              		.loc 1 229 3 view .LVU231
 769 007c 09A9     		add	r1, sp, #36
 770 007e 2046     		mov	r0, r4
 771 0080 FFF7FEFF 		bl	decNumberTrunc
 772              	.LVL66:
 230:src/date.c    **** 		break;
 773              		.loc 1 230 3 view .LVU232
 230:src/date.c    **** 		break;
 774              		.loc 1 230 7 is_stmt 0 view .LVU233
 775 0084 2046     		mov	r0, r4
 776 0086 FFF7FEFF 		bl	dn_to_int
 777              	.LVL67:
 231:src/date.c    **** 
 778              		.loc 1 231 3 is_stmt 1 view .LVU234
 226:src/date.c    **** 		m = fp;
 779              		.loc 1 226 5 is_stmt 0 view .LVU235
 780 008a 2C46     		mov	r4, r5
 227:src/date.c    **** 		dn_mul100(&a, &z);
 781              		.loc 1 227 5 view .LVU236
 782 008c 3546     		mov	r5, r6
 783              	.LVL68:
 230:src/date.c    **** 		break;
 784              		.loc 1 230 7 view .LVU237
 785 008e 0646     		mov	r6, r0
 786              	.LVL69:
 787              	.L40:
 248:src/date.c    **** 	if (year != NULL)
 788              		.loc 1 248 5 is_stmt 1 view .LVU238
 248:src/date.c    **** 	if (year != NULL)
 789              		.loc 1 248 7 is_stmt 0 view .LVU239
 790 0090 04FB0AF0 		mul	r0, r4, r10
 791              	.LVL70:
ARM GAS  /tmp/cceVkiTV.s 			page 26


 249:src/date.c    **** 		*year = y;
 792              		.loc 1 249 2 is_stmt 1 view .LVU240
 250:src/date.c    **** 	if (month != NULL)
 793              		.loc 1 250 3 view .LVU241
 250:src/date.c    **** 	if (month != NULL)
 794              		.loc 1 250 9 is_stmt 0 view .LVU242
 795 0094 C9F80000 		str	r0, [r9]
 251:src/date.c    **** 		*month = m;
 796              		.loc 1 251 2 is_stmt 1 view .LVU243
 251:src/date.c    **** 		*month = m;
 797              		.loc 1 251 5 is_stmt 0 view .LVU244
 798 0098 B8F1000F 		cmp	r8, #0
 799 009c 01D0     		beq	.L43
 252:src/date.c    **** 	if (day != NULL)
 800              		.loc 1 252 3 is_stmt 1 view .LVU245
 252:src/date.c    **** 	if (day != NULL)
 801              		.loc 1 252 10 is_stmt 0 view .LVU246
 802 009e C8F80050 		str	r5, [r8]
 803              	.L43:
 253:src/date.c    **** 		*day = d;
 804              		.loc 1 253 2 is_stmt 1 view .LVU247
 253:src/date.c    **** 		*day = d;
 805              		.loc 1 253 5 is_stmt 0 view .LVU248
 806 00a2 07B1     		cbz	r7, .L41
 254:src/date.c    **** 	return check_date(y, m, d);
 807              		.loc 1 254 3 is_stmt 1 view .LVU249
 254:src/date.c    **** 	return check_date(y, m, d);
 808              		.loc 1 254 8 is_stmt 0 view .LVU250
 809 00a4 3E60     		str	r6, [r7]
 810              	.L41:
 255:src/date.c    **** }
 811              		.loc 1 255 2 is_stmt 1 view .LVU251
 255:src/date.c    **** }
 812              		.loc 1 255 9 is_stmt 0 view .LVU252
 813 00a6 3246     		mov	r2, r6
 814 00a8 2946     		mov	r1, r5
 815 00aa FFF7FEFF 		bl	check_date
 816              	.LVL71:
 256:src/date.c    **** 
 817              		.loc 1 256 1 view .LVU253
 818 00ae 12B0     		add	sp, sp, #72
 819              		.cfi_remember_state
 820              		.cfi_def_cfa_offset 32
 821              		@ sp needed
 822 00b0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 823              	.LVL72:
 824              	.L44:
 825              		.cfi_restore_state
 223:src/date.c    **** 	default:
 826              		.loc 1 223 2 view .LVU254
 827 00b4 2B46     		mov	r3, r5
 828 00b6 3546     		mov	r5, r6
 829              	.LVL73:
 223:src/date.c    **** 	default:
 830              		.loc 1 223 2 view .LVU255
 831 00b8 1E46     		mov	r6, r3
 832              	.LVL74:
ARM GAS  /tmp/cceVkiTV.s 			page 27


 833              	.L39:
 241:src/date.c    **** 		decNumberTrunc(&z, &a);
 834              		.loc 1 241 8 is_stmt 1 view .LVU256
 835 00ba 0422     		movs	r2, #4
 836 00bc 2146     		mov	r1, r4
 837 00be 09A8     		add	r0, sp, #36
 838 00c0 FFF7FEFF 		bl	dn_mulpow10
 839              	.LVL75:
 242:src/date.c    **** 		y = dn_to_int(&z);
 840              		.loc 1 242 3 view .LVU257
 841 00c4 09A9     		add	r1, sp, #36
 842 00c6 2046     		mov	r0, r4
 843 00c8 FFF7FEFF 		bl	decNumberTrunc
 844              	.LVL76:
 243:src/date.c    **** 		break;
 845              		.loc 1 243 3 view .LVU258
 243:src/date.c    **** 		break;
 846              		.loc 1 243 7 is_stmt 0 view .LVU259
 847 00cc 2046     		mov	r0, r4
 848 00ce FFF7FEFF 		bl	dn_to_int
 849              	.LVL77:
 850 00d2 0446     		mov	r4, r0
 851              	.LVL78:
 244:src/date.c    **** 	}
 852              		.loc 1 244 3 is_stmt 1 view .LVU260
 853 00d4 DCE7     		b	.L40
 854              	.LVL79:
 855              	.L53:
 211:src/date.c    ****         neg = -1;
 856              		.loc 1 211 3 view .LVU261
 857 00d6 FFF7FEFF 		bl	dn_minus
 858              	.LVL80:
 212:src/date.c    **** 	} else {
 859              		.loc 1 212 9 view .LVU262
 212:src/date.c    **** 	} else {
 860              		.loc 1 212 13 is_stmt 0 view .LVU263
 861 00da 4FF0FF3A 		mov	r10, #-1
 862 00de A0E7     		b	.L38
 863              	.L55:
 864              		.align	2
 865              	.L54:
 866 00e0 00000000 		.word	main_ram
 867              		.cfi_endproc
 868              	.LFE30:
 870              		.section	.text.find_year,"ax",%progbits
 871              		.align	1
 872              		.p2align 2,,3
 873              		.syntax unified
 874              		.thumb
 875              		.thumb_func
 876              		.fpu fpv4-sp-d16
 878              	find_year:
 879              	.LVL81:
 880              	.LFB9:
 264:src/date.c    **** 	int y;
 881              		.loc 1 264 53 is_stmt 1 view -0
 882              		.cfi_startproc
ARM GAS  /tmp/cceVkiTV.s 			page 28


 883              		@ args = 0, pretend = 0, frame = 8
 884              		@ frame_needed = 0, uses_anonymous_args = 0
 265:src/date.c    **** 
 885              		.loc 1 265 2 view .LVU265
 267:src/date.c    **** 		return -1;
 886              		.loc 1 267 2 view .LVU266
 267:src/date.c    **** 		return -1;
 887              		.loc 1 267 5 is_stmt 0 view .LVU267
 888 0000 037A     		ldrb	r3, [r0, #8]	@ zero_extendqisi2
 889 0002 13F0700F 		tst	r3, #112
 890 0006 26D1     		bne	.L65
 269:src/date.c    **** 		y = dn_to_int(x);
 891              		.loc 1 269 2 is_stmt 1 view .LVU268
 264:src/date.c    **** 	int y;
 892              		.loc 1 264 53 is_stmt 0 view .LVU269
 893 0008 30B5     		push	{r4, r5, lr}
 894              		.cfi_def_cfa_offset 12
 895              		.cfi_offset 4, -12
 896              		.cfi_offset 5, -8
 897              		.cfi_offset 14, -4
 898 000a 83B0     		sub	sp, sp, #12
 899              		.cfi_def_cfa_offset 24
 900 000c 0446     		mov	r4, r0
 901 000e 0D46     		mov	r5, r1
 269:src/date.c    **** 		y = dn_to_int(x);
 902              		.loc 1 269 6 view .LVU270
 903 0010 FFF7FEFF 		bl	is_int
 904              	.LVL82:
 269:src/date.c    **** 		y = dn_to_int(x);
 905              		.loc 1 269 5 view .LVU271
 906 0014 88B9     		cbnz	r0, .L66
 273:src/date.c    **** 		return -1;
 907              		.loc 1 273 9 is_stmt 1 view .LVU272
 908              	.LVL83:
 909              	.LBB57:
 910              	.LBI57:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 911              		.loc 1 202 12 view .LVU273
 912              	.LBB58:
 203:src/date.c    **** 	decNumber z, a;
 913              		.loc 1 203 2 view .LVU274
 204:src/date.c    ****     int neg = 1;
 914              		.loc 1 204 2 view .LVU275
 205:src/date.c    **** 
 915              		.loc 1 205 5 view .LVU276
 207:src/date.c    **** 		return 1;
 916              		.loc 1 207 2 view .LVU277
 207:src/date.c    **** 		return 1;
 917              		.loc 1 207 6 is_stmt 0 view .LVU278
 918 0016 114B     		ldr	r3, .L67
 919 0018 1B68     		ldr	r3, [r3]
 920 001a 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 921              		.loc 1 207 5 view .LVU279
 922 001e 13F00103 		ands	r3, r3, #1
 923 0022 14D1     		bne	.L60
 924 0024 2046     		mov	r0, r4
ARM GAS  /tmp/cceVkiTV.s 			page 29


 925 0026 1A46     		mov	r2, r3
 926 0028 01A9     		add	r1, sp, #4
 927              	.LVL84:
 207:src/date.c    **** 		return 1;
 928              		.loc 1 207 5 view .LVU280
 929 002a FFF7FEFF 		bl	extract_date.part.0
 930              	.LVL85:
 207:src/date.c    **** 		return 1;
 931              		.loc 1 207 5 view .LVU281
 932              	.LBE58:
 933              	.LBE57:
 273:src/date.c    **** 		return -1;
 934              		.loc 1 273 12 view .LVU282
 935 002e 70B9     		cbnz	r0, .L60
 936              	.LVL86:
 937              	.L61:
 275:src/date.c    **** 	return 0;
 938              		.loc 1 275 2 is_stmt 1 view .LVU283
 275:src/date.c    **** 	return 0;
 939              		.loc 1 275 8 is_stmt 0 view .LVU284
 940 0030 019B     		ldr	r3, [sp, #4]
 941 0032 2B60     		str	r3, [r5]
 276:src/date.c    **** }
 942              		.loc 1 276 2 is_stmt 1 view .LVU285
 276:src/date.c    **** }
 943              		.loc 1 276 9 is_stmt 0 view .LVU286
 944 0034 0020     		movs	r0, #0
 277:src/date.c    **** 
 945              		.loc 1 277 1 view .LVU287
 946 0036 03B0     		add	sp, sp, #12
 947              		.cfi_remember_state
 948              		.cfi_def_cfa_offset 12
 949              		@ sp needed
 950 0038 30BD     		pop	{r4, r5, pc}
 951              	.LVL87:
 952              	.L66:
 953              		.cfi_restore_state
 270:src/date.c    **** 		if (check_date(y, 1, 1))
 954              		.loc 1 270 3 is_stmt 1 view .LVU288
 270:src/date.c    **** 		if (check_date(y, 1, 1))
 955              		.loc 1 270 7 is_stmt 0 view .LVU289
 956 003a 2046     		mov	r0, r4
 957 003c FFF7FEFF 		bl	dn_to_int
 958              	.LVL88:
 271:src/date.c    **** 			return -1;
 959              		.loc 1 271 7 view .LVU290
 960 0040 0122     		movs	r2, #1
 961 0042 1146     		mov	r1, r2
 270:src/date.c    **** 		if (check_date(y, 1, 1))
 962              		.loc 1 270 5 view .LVU291
 963 0044 0190     		str	r0, [sp, #4]
 271:src/date.c    **** 			return -1;
 964              		.loc 1 271 3 is_stmt 1 view .LVU292
 271:src/date.c    **** 			return -1;
 965              		.loc 1 271 7 is_stmt 0 view .LVU293
 966 0046 FFF7FEFF 		bl	check_date
 967              	.LVL89:
ARM GAS  /tmp/cceVkiTV.s 			page 30


 271:src/date.c    **** 			return -1;
 968              		.loc 1 271 6 view .LVU294
 969 004a 0028     		cmp	r0, #0
 970 004c F0D0     		beq	.L61
 971              	.L60:
 268:src/date.c    **** 	if (is_int(x)) {
 972              		.loc 1 268 10 view .LVU295
 973 004e 4FF0FF30 		mov	r0, #-1
 277:src/date.c    **** 
 974              		.loc 1 277 1 view .LVU296
 975 0052 03B0     		add	sp, sp, #12
 976              		.cfi_def_cfa_offset 12
 977              		@ sp needed
 978 0054 30BD     		pop	{r4, r5, pc}
 979              	.LVL90:
 980              	.L65:
 981              		.cfi_def_cfa_offset 0
 982              		.cfi_restore 4
 983              		.cfi_restore 5
 984              		.cfi_restore 14
 268:src/date.c    **** 	if (is_int(x)) {
 985              		.loc 1 268 10 view .LVU297
 986 0056 4FF0FF30 		mov	r0, #-1
 987              	.LVL91:
 277:src/date.c    **** 
 988              		.loc 1 277 1 view .LVU298
 989 005a 7047     		bx	lr
 990              	.L68:
 991              		.align	2
 992              	.L67:
 993 005c 00000000 		.word	main_ram
 994              		.cfi_endproc
 995              	.LFE9:
 997              		.section	.text.dateExtract,"ax",%progbits
 998              		.align	1
 999              		.p2align 2,,3
 1000              		.syntax unified
 1001              		.thumb
 1002              		.thumb_func
 1003              		.fpu fpv4-sp-d16
 1005              	dateExtract:
 1006              	.LVL92:
 1007              	.LFB13:
 350:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 1008              		.loc 1 350 84 is_stmt 1 view -0
 1009              		.cfi_startproc
 1010              		@ args = 4, pretend = 0, frame = 0
 1011              		@ frame_needed = 0, uses_anonymous_args = 0
 351:src/date.c    **** 		set_NaN(res);
 1012              		.loc 1 351 2 view .LVU300
 350:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 1013              		.loc 1 350 84 is_stmt 0 view .LVU301
 1014 0000 70B5     		push	{r4, r5, r6, lr}
 1015              		.cfi_def_cfa_offset 16
 1016              		.cfi_offset 4, -16
 1017              		.cfi_offset 5, -12
 1018              		.cfi_offset 6, -8
ARM GAS  /tmp/cceVkiTV.s 			page 31


 1019              		.cfi_offset 14, -4
 351:src/date.c    **** 		set_NaN(res);
 1020              		.loc 1 351 5 view .LVU302
 1021 0002 0D7A     		ldrb	r5, [r1, #8]	@ zero_extendqisi2
 1022 0004 15F0700F 		tst	r5, #112
 350:src/date.c    **** 	if (decNumberIsSpecial(x) || extract_date(x, y, m, d)) {
 1023              		.loc 1 350 84 view .LVU303
 1024 0008 0646     		mov	r6, r0
 351:src/date.c    **** 		set_NaN(res);
 1025              		.loc 1 351 5 view .LVU304
 1026 000a 0FD1     		bne	.L72
 1027 000c 0C46     		mov	r4, r1
 1028              	.LVL93:
 351:src/date.c    **** 		set_NaN(res);
 1029              		.loc 1 351 5 view .LVU305
 1030 000e 1146     		mov	r1, r2
 1031              	.LVL94:
 351:src/date.c    **** 		set_NaN(res);
 1032              		.loc 1 351 5 view .LVU306
 1033 0010 1A46     		mov	r2, r3
 1034              	.LVL95:
 1035              	.LBB59:
 1036              	.LBI59:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 1037              		.loc 1 202 12 is_stmt 1 view .LVU307
 1038              	.LBB60:
 203:src/date.c    **** 	decNumber z, a;
 1039              		.loc 1 203 2 view .LVU308
 204:src/date.c    ****     int neg = 1;
 1040              		.loc 1 204 2 view .LVU309
 205:src/date.c    **** 
 1041              		.loc 1 205 5 view .LVU310
 207:src/date.c    **** 		return 1;
 1042              		.loc 1 207 2 view .LVU311
 207:src/date.c    **** 		return 1;
 1043              		.loc 1 207 6 is_stmt 0 view .LVU312
 1044 0012 094B     		ldr	r3, .L74
 1045              	.LVL96:
 207:src/date.c    **** 		return 1;
 1046              		.loc 1 207 6 view .LVU313
 1047 0014 1B68     		ldr	r3, [r3]
 1048 0016 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 1049              		.loc 1 207 5 view .LVU314
 1050 001a DB07     		lsls	r3, r3, #31
 1051 001c 06D4     		bmi	.L72
 1052 001e 049B     		ldr	r3, [sp, #16]
 1053 0020 2046     		mov	r0, r4
 1054              	.LVL97:
 207:src/date.c    **** 		return 1;
 1055              		.loc 1 207 5 view .LVU315
 1056 0022 FFF7FEFF 		bl	extract_date.part.0
 1057              	.LVL98:
 207:src/date.c    **** 		return 1;
 1058              		.loc 1 207 5 view .LVU316
 1059              	.LBE60:
 1060              	.LBE59:
ARM GAS  /tmp/cceVkiTV.s 			page 32


 351:src/date.c    **** 		set_NaN(res);
 1061              		.loc 1 351 28 view .LVU317
 1062 0026 08B9     		cbnz	r0, .L72
 355:src/date.c    **** }
 1063              		.loc 1 355 9 view .LVU318
 1064 0028 0120     		movs	r0, #1
 356:src/date.c    **** 
 1065              		.loc 1 356 1 view .LVU319
 1066 002a 70BD     		pop	{r4, r5, r6, pc}
 1067              	.LVL99:
 1068              	.L72:
 352:src/date.c    **** 		return 0;
 1069              		.loc 1 352 3 is_stmt 1 view .LVU320
 1070 002c 3046     		mov	r0, r6
 1071 002e FFF7FEFF 		bl	set_NaN
 1072              	.LVL100:
 353:src/date.c    **** 	}
 1073              		.loc 1 353 3 view .LVU321
 353:src/date.c    **** 	}
 1074              		.loc 1 353 10 is_stmt 0 view .LVU322
 1075 0032 0020     		movs	r0, #0
 356:src/date.c    **** 
 1076              		.loc 1 356 1 view .LVU323
 1077 0034 70BD     		pop	{r4, r5, r6, pc}
 1078              	.LVL101:
 1079              	.L75:
 356:src/date.c    **** 
 1080              		.loc 1 356 1 view .LVU324
 1081 0036 00BF     		.align	2
 1082              	.L74:
 1083 0038 00000000 		.word	main_ram
 1084              		.cfi_endproc
 1085              	.LFE13:
 1087              		.section	.text.day_of_week.constprop.0,"ax",%progbits
 1088              		.align	1
 1089              		.p2align 2,,3
 1090              		.syntax unified
 1091              		.thumb
 1092              		.thumb_func
 1093              		.fpu fpv4-sp-d16
 1095              	day_of_week.constprop.0:
 1096              	.LVL102:
 1097              	.LFB31:
 140:src/date.c    **** 	int h;
 1098              		.loc 1 140 12 is_stmt 1 view -0
 1099              		.cfi_startproc
 1100              		@ args = 0, pretend = 0, frame = 0
 1101              		@ frame_needed = 0, uses_anonymous_args = 0
 141:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 1102              		.loc 1 141 2 view .LVU326
 142:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 1103              		.loc 1 142 2 view .LVU327
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1104              		.loc 1 145 2 view .LVU328
 140:src/date.c    **** 	int h;
 1105              		.loc 1 140 12 is_stmt 0 view .LVU329
 1106 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/cceVkiTV.s 			page 33


 1107              		.cfi_def_cfa_offset 8
 1108              		.cfi_offset 3, -8
 1109              		.cfi_offset 14, -4
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1110              		.loc 1 145 7 view .LVU330
 1111 0002 FFF7FEFF 		bl	JDN
 1112              	.LVL103:
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1113              		.loc 1 145 4 view .LVU331
 1114 0006 0C4B     		ldr	r3, .L80
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 1115              		.loc 1 146 21 view .LVU332
 1116 0008 0C49     		ldr	r1, .L80+4
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1117              		.loc 1 145 28 view .LVU333
 1118 000a 0130     		adds	r0, r0, #1
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1119              		.loc 1 145 4 view .LVU334
 1120 000c 83FB0023 		smull	r2, r3, r3, r0
 1121 0010 1A18     		adds	r2, r3, r0
 1122 0012 C317     		asrs	r3, r0, #31
 1123 0014 C3EBA203 		rsb	r3, r3, r2, asr #2
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 1124              		.loc 1 146 18 view .LVU335
 1125 0018 0A68     		ldr	r2, [r1]
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 1126              		.loc 1 145 4 view .LVU336
 1127 001a C3EBC303 		rsb	r3, r3, r3, lsl #3
 1128 001e C31A     		subs	r3, r0, r3
 1129              	.LVL104:
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 1130              		.loc 1 146 2 is_stmt 1 view .LVU337
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 1131              		.loc 1 146 18 is_stmt 0 view .LVU338
 1132 0020 22B9     		cbnz	r2, .L77
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1133              		.loc 1 147 3 is_stmt 1 view .LVU339
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1134              		.loc 1 147 15 is_stmt 0 view .LVU340
 1135 0022 074A     		ldr	r2, .L80+8
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1136              		.loc 1 147 8 view .LVU341
 1137 0024 0749     		ldr	r1, .L80+12
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1138              		.loc 1 147 40 view .LVU342
 1139 0026 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1140              		.loc 1 147 15 view .LVU343
 1141 0028 0244     		add	r2, r2, r0
 147:src/date.c    **** 	return h != 0 ? h : 7;
 1142              		.loc 1 147 8 view .LVU344
 1143 002a 0A60     		str	r2, [r1]
 1144              	.L77:
 148:src/date.c    **** }
 1145              		.loc 1 148 2 is_stmt 1 view .LVU345
 148:src/date.c    **** }
 1146              		.loc 1 148 20 is_stmt 0 view .LVU346
ARM GAS  /tmp/cceVkiTV.s 			page 34


 1147 002c 002B     		cmp	r3, #0
 149:src/date.c    **** 
 1148              		.loc 1 149 1 view .LVU347
 1149 002e 14BF     		ite	ne
 1150 0030 1846     		movne	r0, r3
 1151 0032 0720     		moveq	r0, #7
 1152 0034 08BD     		pop	{r3, pc}
 1153              	.LVL105:
 1154              	.L81:
 149:src/date.c    **** 
 1155              		.loc 1 149 1 view .LVU348
 1156 0036 00BF     		.align	2
 1157              	.L80:
 1158 0038 93244992 		.word	-1840700269
 1159 003c 00000000 		.word	Running
 1160 0040 00000000 		.word	.LANCHOR0
 1161 0044 00000000 		.word	DispMsg
 1162              		.cfi_endproc
 1163              	.LFE31:
 1165              		.section	.text.build_date,"ax",%progbits
 1166              		.align	1
 1167              		.p2align 2,,3
 1168              		.syntax unified
 1169              		.thumb
 1170              		.thumb_func
 1171              		.fpu fpv4-sp-d16
 1173              	build_date:
 1174              	.LVL106:
 1175              	.LFB6:
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1176              		.loc 1 155 76 is_stmt 1 view -0
 1177              		.cfi_startproc
 1178              		@ args = 0, pretend = 0, frame = 0
 1179              		@ frame_needed = 0, uses_anonymous_args = 0
 156:src/date.c    **** 
 1180              		.loc 1 156 2 view .LVU350
 158:src/date.c    **** 		set_NaN(res);
 1181              		.loc 1 158 2 view .LVU351
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1182              		.loc 1 155 76 is_stmt 0 view .LVU352
 1183 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1184              		.cfi_def_cfa_offset 24
 1185              		.cfi_offset 4, -24
 1186              		.cfi_offset 5, -20
 1187              		.cfi_offset 6, -16
 1188              		.cfi_offset 7, -12
 1189              		.cfi_offset 8, -8
 1190              		.cfi_offset 14, -4
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1191              		.loc 1 155 76 view .LVU353
 1192 0004 0E46     		mov	r6, r1
 1193 0006 1746     		mov	r7, r2
 1194 0008 0546     		mov	r5, r0
 158:src/date.c    **** 		set_NaN(res);
 1195              		.loc 1 158 6 view .LVU354
 1196 000a 1A46     		mov	r2, r3
 1197              	.LVL107:
ARM GAS  /tmp/cceVkiTV.s 			page 35


 158:src/date.c    **** 		set_NaN(res);
 1198              		.loc 1 158 6 view .LVU355
 1199 000c 3946     		mov	r1, r7
 1200              	.LVL108:
 158:src/date.c    **** 		set_NaN(res);
 1201              		.loc 1 158 6 view .LVU356
 1202 000e 3046     		mov	r0, r6
 1203              	.LVL109:
 155:src/date.c    **** 	int sign = 1, shift = -6, r = 0;
 1204              		.loc 1 155 76 view .LVU357
 1205 0010 9846     		mov	r8, r3
 158:src/date.c    **** 		set_NaN(res);
 1206              		.loc 1 158 6 view .LVU358
 1207 0012 FFF7FEFF 		bl	check_date
 1208              	.LVL110:
 158:src/date.c    **** 		set_NaN(res);
 1209              		.loc 1 158 5 view .LVU359
 1210 0016 20BB     		cbnz	r0, .L93
 162:src/date.c    **** 		year = -year;
 1211              		.loc 1 162 2 is_stmt 1 view .LVU360
 167:src/date.c    **** 	case DATE_YMD:
 1212              		.loc 1 167 16 is_stmt 0 view .LVU361
 1213 0018 254A     		ldr	r2, .L94
 1214 001a 1268     		ldr	r2, [r2]
 1215 001c 92F8EA27 		ldrb	r2, [r2, #2026]	@ zero_extendqisi2
 162:src/date.c    **** 		year = -year;
 1216              		.loc 1 162 5 view .LVU362
 1217 0020 002E     		cmp	r6, #0
 163:src/date.c    **** 		sign = -1;
 1218              		.loc 1 163 3 is_stmt 1 view .LVU363
 167:src/date.c    **** 	case DATE_YMD:
 1219              		.loc 1 167 16 is_stmt 0 view .LVU364
 1220 0022 C2F30112 		ubfx	r2, r2, #4, #2
 163:src/date.c    **** 		sign = -1;
 1221              		.loc 1 163 8 view .LVU365
 1222 0026 B9BF     		ittee	lt
 1223 0028 7142     		rsblt	r1, r6, #0
 1224              	.LVL111:
 164:src/date.c    **** 	}
 1225              		.loc 1 164 3 is_stmt 1 view .LVU366
 164:src/date.c    **** 	}
 1226              		.loc 1 164 8 is_stmt 0 view .LVU367
 1227 002a 4FF0FF33 		movlt	r3, #-1
 1228 002e 3146     		movge	r1, r6
 1229              	.LVL112:
 156:src/date.c    **** 
 1230              		.loc 1 156 6 view .LVU368
 1231 0030 0123     		movge	r3, #1
 1232              	.LVL113:
 167:src/date.c    **** 	case DATE_YMD:
 1233              		.loc 1 167 2 is_stmt 1 view .LVU369
 1234 0032 012A     		cmp	r2, #1
 1235 0034 27D0     		beq	.L86
 1236 0036 022A     		cmp	r2, #2
 1237 0038 2FD0     		beq	.L87
 1238 003a C2B1     		cbz	r2, .L88
 1239              	.LVL114:
ARM GAS  /tmp/cceVkiTV.s 			page 36


 1240              	.L92:
 156:src/date.c    **** 
 1241              		.loc 1 156 16 is_stmt 0 view .LVU370
 1242 003c 6FF00504 		mvn	r4, #5
 1243              	.LVL115:
 1244              	.L89:
 181:src/date.c    **** 	dn_mulpow10(res, res, shift);
 1245              		.loc 1 181 2 is_stmt 1 view .LVU371
 1246 0040 0146     		mov	r1, r0
 1247              	.LVL116:
 181:src/date.c    **** 	dn_mulpow10(res, res, shift);
 1248              		.loc 1 181 2 is_stmt 0 view .LVU372
 1249 0042 2846     		mov	r0, r5
 1250 0044 FFF7FEFF 		bl	int_to_dn
 1251              	.LVL117:
 182:src/date.c    **** 	day_of_week(sign * year, month, day, &DispMsg);
 1252              		.loc 1 182 2 is_stmt 1 view .LVU373
 1253 0048 2246     		mov	r2, r4
 1254 004a 2946     		mov	r1, r5
 1255 004c 2846     		mov	r0, r5
 1256 004e FFF7FEFF 		bl	dn_mulpow10
 1257              	.LVL118:
 183:src/date.c    **** 	return res;
 1258              		.loc 1 183 2 view .LVU374
 1259 0052 4246     		mov	r2, r8
 1260 0054 3946     		mov	r1, r7
 1261 0056 3046     		mov	r0, r6
 1262 0058 FFF7FEFF 		bl	day_of_week.constprop.0
 1263              	.LVL119:
 184:src/date.c    **** }
 1264              		.loc 1 184 2 view .LVU375
 185:src/date.c    **** 
 1265              		.loc 1 185 1 is_stmt 0 view .LVU376
 1266 005c 2846     		mov	r0, r5
 1267 005e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1268              	.LVL120:
 1269              	.L93:
 159:src/date.c    **** 		return res;
 1270              		.loc 1 159 3 is_stmt 1 view .LVU377
 1271 0062 2846     		mov	r0, r5
 1272 0064 FFF7FEFF 		bl	set_NaN
 1273              	.LVL121:
 160:src/date.c    **** 	}
 1274              		.loc 1 160 3 view .LVU378
 185:src/date.c    **** 
 1275              		.loc 1 185 1 is_stmt 0 view .LVU379
 1276 0068 2846     		mov	r0, r5
 1277 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1278              	.LVL122:
 1279              	.L88:
 174:src/date.c    **** 		break;
 1280              		.loc 1 174 3 is_stmt 1 view .LVU380
 175:src/date.c    **** 
 1281              		.loc 1 175 3 view .LVU381
 174:src/date.c    **** 		break;
 1282              		.loc 1 174 13 is_stmt 0 view .LVU382
 1283 006e 6420     		movs	r0, #100
ARM GAS  /tmp/cceVkiTV.s 			page 37


 174:src/date.c    **** 		break;
 1284              		.loc 1 174 28 view .LVU383
 1285 0070 42F21074 		movw	r4, #10000
 174:src/date.c    **** 		break;
 1286              		.loc 1 174 20 view .LVU384
 1287 0074 00FB0870 		mla	r0, r0, r8, r7
 174:src/date.c    **** 		break;
 1288              		.loc 1 174 5 view .LVU385
 1289 0078 04FB0010 		mla	r0, r4, r0, r1
 1290              	.LVL123:
 174:src/date.c    **** 		break;
 1291              		.loc 1 174 5 view .LVU386
 1292 007c 03FB00F0 		mul	r0, r3, r0
 1293              	.LVL124:
 156:src/date.c    **** 
 1294              		.loc 1 156 16 view .LVU387
 1295 0080 6FF00504 		mvn	r4, #5
 175:src/date.c    **** 
 1296              		.loc 1 175 3 view .LVU388
 1297 0084 DCE7     		b	.L89
 1298              	.LVL125:
 1299              	.L86:
 169:src/date.c    **** 		shift = -4;
 1300              		.loc 1 169 3 is_stmt 1 view .LVU389
 170:src/date.c    **** 		break;
 1301              		.loc 1 170 3 view .LVU390
 171:src/date.c    **** 
 1302              		.loc 1 171 3 view .LVU391
 169:src/date.c    **** 		shift = -4;
 1303              		.loc 1 169 14 is_stmt 0 view .LVU392
 1304 0086 6424     		movs	r4, #100
 169:src/date.c    **** 		shift = -4;
 1305              		.loc 1 169 21 view .LVU393
 1306 0088 04FB0170 		mla	r0, r4, r1, r7
 169:src/date.c    **** 		shift = -4;
 1307              		.loc 1 169 5 view .LVU394
 1308 008c 04FB0080 		mla	r0, r4, r0, r8
 1309              	.LVL126:
 169:src/date.c    **** 		shift = -4;
 1310              		.loc 1 169 5 view .LVU395
 1311 0090 03FB00F0 		mul	r0, r3, r0
 1312              	.LVL127:
 170:src/date.c    **** 		break;
 1313              		.loc 1 170 9 view .LVU396
 1314 0094 6FF00304 		mvn	r4, #3
 171:src/date.c    **** 
 1315              		.loc 1 171 3 view .LVU397
 1316 0098 D2E7     		b	.L89
 1317              	.LVL128:
 1318              	.L87:
 178:src/date.c    **** 		break;
 1319              		.loc 1 178 3 is_stmt 1 view .LVU398
 179:src/date.c    **** 	}
 1320              		.loc 1 179 3 view .LVU399
 178:src/date.c    **** 		break;
 1321              		.loc 1 178 15 is_stmt 0 view .LVU400
 1322 009a 6424     		movs	r4, #100
ARM GAS  /tmp/cceVkiTV.s 			page 38


 178:src/date.c    **** 		break;
 1323              		.loc 1 178 28 view .LVU401
 1324 009c 42F21070 		movw	r0, #10000
 178:src/date.c    **** 		break;
 1325              		.loc 1 178 22 view .LVU402
 1326 00a0 04FB0784 		mla	r4, r4, r7, r8
 178:src/date.c    **** 		break;
 1327              		.loc 1 178 5 view .LVU403
 1328 00a4 00FB0414 		mla	r4, r0, r4, r1
 1329              	.LVL129:
 178:src/date.c    **** 		break;
 1330              		.loc 1 178 5 view .LVU404
 1331 00a8 03FB04F0 		mul	r0, r3, r4
 1332 00ac C6E7     		b	.L92
 1333              	.L95:
 1334 00ae 00BF     		.align	2
 1335              	.L94:
 1336 00b0 00000000 		.word	main_ram
 1337              		.cfi_endproc
 1338              	.LFE6:
 1340              		.section	.text.dateFromYMD,"ax",%progbits
 1341              		.align	1
 1342              		.p2align 2,,3
 1343              		.global	dateFromYMD
 1344              		.syntax unified
 1345              		.thumb
 1346              		.thumb_func
 1347              		.fpu fpv4-sp-d16
 1349              	dateFromYMD:
 1350              	.LVL130:
 1351              	.LFB7:
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1352              		.loc 1 190 100 is_stmt 1 view -0
 1353              		.cfi_startproc
 1354              		@ args = 0, pretend = 0, frame = 8
 1355              		@ frame_needed = 0, uses_anonymous_args = 0
 191:src/date.c    **** 		return set_NaN(res);
 1356              		.loc 1 191 2 view .LVU406
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1357              		.loc 1 190 100 is_stmt 0 view .LVU407
 1358 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1359              		.cfi_def_cfa_offset 20
 1360              		.cfi_offset 4, -20
 1361              		.cfi_offset 5, -16
 1362              		.cfi_offset 6, -12
 1363              		.cfi_offset 7, -8
 1364              		.cfi_offset 14, -4
 191:src/date.c    **** 		return set_NaN(res);
 1365              		.loc 1 191 5 view .LVU408
 1366 0002 1D7A     		ldrb	r5, [r3, #8]	@ zero_extendqisi2
 1367 0004 15F0700F 		tst	r5, #112
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1368              		.loc 1 190 100 view .LVU409
 1369 0008 83B0     		sub	sp, sp, #12
 1370              		.cfi_def_cfa_offset 32
 190:src/date.c    **** 	if (decNumberIsSpecial(x) || decNumberIsSpecial(y) || decNumberIsSpecial(z))
 1371              		.loc 1 190 100 view .LVU410
ARM GAS  /tmp/cceVkiTV.s 			page 39


 1372 000a 0646     		mov	r6, r0
 191:src/date.c    **** 		return set_NaN(res);
 1373              		.loc 1 191 5 view .LVU411
 1374 000c 08D1     		bne	.L97
 1375 000e 1446     		mov	r4, r2
 191:src/date.c    **** 		return set_NaN(res);
 1376              		.loc 1 191 28 discriminator 1 view .LVU412
 1377 0010 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 1378              	.LVL131:
 191:src/date.c    **** 		return set_NaN(res);
 1379              		.loc 1 191 28 discriminator 1 view .LVU413
 1380 0012 12F0700F 		tst	r2, #112
 1381 0016 03D1     		bne	.L97
 191:src/date.c    **** 		return set_NaN(res);
 1382              		.loc 1 191 53 discriminator 2 view .LVU414
 1383 0018 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 1384 001a 12F0700F 		tst	r2, #112
 1385 001e 05D0     		beq	.L98
 1386              	.LVL132:
 1387              	.L97:
 192:src/date.c    **** 	else {
 1388              		.loc 1 192 3 is_stmt 1 view .LVU415
 192:src/date.c    **** 	else {
 1389              		.loc 1 192 10 is_stmt 0 view .LVU416
 1390 0020 3046     		mov	r0, r6
 1391              	.LVL133:
 196:src/date.c    **** 
 1392              		.loc 1 196 1 view .LVU417
 1393 0022 03B0     		add	sp, sp, #12
 1394              		.cfi_remember_state
 1395              		.cfi_def_cfa_offset 20
 1396              		@ sp needed
 1397 0024 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 1398              		.cfi_restore 14
 1399              		.cfi_restore 7
 1400              		.cfi_restore 6
 1401              		.cfi_restore 5
 1402              		.cfi_restore 4
 1403              		.cfi_def_cfa_offset 0
 1404              	.LVL134:
 192:src/date.c    **** 	else {
 1405              		.loc 1 192 10 view .LVU418
 1406 0028 FFF7FEBF 		b	set_NaN
 1407              	.LVL135:
 1408              	.L98:
 1409              		.cfi_restore_state
 194:src/date.c    **** 	}
 1410              		.loc 1 194 3 is_stmt 1 view .LVU419
 194:src/date.c    **** 	}
 1411              		.loc 1 194 10 is_stmt 0 view .LVU420
 1412 002c 0846     		mov	r0, r1
 1413              	.LVL136:
 194:src/date.c    **** 	}
 1414              		.loc 1 194 10 view .LVU421
 1415 002e 1F46     		mov	r7, r3
 1416 0030 FFF7FEFF 		bl	dn_to_int
 1417              	.LVL137:
ARM GAS  /tmp/cceVkiTV.s 			page 40


 194:src/date.c    **** 	}
 1418              		.loc 1 194 10 view .LVU422
 1419 0034 0146     		mov	r1, r0
 1420 0036 2046     		mov	r0, r4
 1421 0038 0191     		str	r1, [sp, #4]
 1422 003a FFF7FEFF 		bl	dn_to_int
 1423              	.LVL138:
 1424 003e 0090     		str	r0, [sp]
 1425 0040 3846     		mov	r0, r7
 1426 0042 FFF7FEFF 		bl	dn_to_int
 1427              	.LVL139:
 1428 0046 DDE90021 		ldrd	r2, r1, [sp]
 1429 004a 0346     		mov	r3, r0
 1430 004c 3046     		mov	r0, r6
 196:src/date.c    **** 
 1431              		.loc 1 196 1 view .LVU423
 1432 004e 03B0     		add	sp, sp, #12
 1433              		.cfi_def_cfa_offset 20
 1434              		@ sp needed
 1435 0050 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 1436              		.cfi_restore 14
 1437              		.cfi_restore 7
 1438              		.cfi_restore 6
 1439              		.cfi_restore 5
 1440              		.cfi_restore 4
 1441              		.cfi_def_cfa_offset 0
 1442              	.LVL140:
 194:src/date.c    **** 	}
 1443              		.loc 1 194 10 view .LVU424
 1444 0054 FFF7FEBF 		b	build_date
 1445              	.LVL141:
 194:src/date.c    **** 	}
 1446              		.loc 1 194 10 view .LVU425
 1447              		.cfi_endproc
 1448              	.LFE7:
 1450              		.section	.text.dateEaster,"ax",%progbits
 1451              		.align	1
 1452              		.p2align 2,,3
 1453              		.global	dateEaster
 1454              		.syntax unified
 1455              		.thumb
 1456              		.thumb_func
 1457              		.fpu fpv4-sp-d16
 1459              	dateEaster:
 1460              	.LVL142:
 1461              	.LFB11:
 318:src/date.c    **** 	int y;
 1462              		.loc 1 318 59 is_stmt 1 view -0
 1463              		.cfi_startproc
 1464              		@ args = 0, pretend = 0, frame = 8
 1465              		@ frame_needed = 0, uses_anonymous_args = 0
 319:src/date.c    **** 
 1466              		.loc 1 319 2 view .LVU427
 321:src/date.c    **** 		set_NaN(res);
 1467              		.loc 1 321 2 view .LVU428
 318:src/date.c    **** 	int y;
 1468              		.loc 1 318 59 is_stmt 0 view .LVU429
ARM GAS  /tmp/cceVkiTV.s 			page 41


 1469 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1470              		.cfi_def_cfa_offset 20
 1471              		.cfi_offset 4, -20
 1472              		.cfi_offset 5, -16
 1473              		.cfi_offset 6, -12
 1474              		.cfi_offset 7, -8
 1475              		.cfi_offset 14, -4
 1476 0002 0B46     		mov	r3, r1
 1477 0004 83B0     		sub	sp, sp, #12
 1478              		.cfi_def_cfa_offset 32
 318:src/date.c    **** 	int y;
 1479              		.loc 1 318 59 view .LVU430
 1480 0006 0546     		mov	r5, r0
 321:src/date.c    **** 		set_NaN(res);
 1481              		.loc 1 321 6 view .LVU431
 1482 0008 01A9     		add	r1, sp, #4
 1483              	.LVL143:
 321:src/date.c    **** 		set_NaN(res);
 1484              		.loc 1 321 6 view .LVU432
 1485 000a 1846     		mov	r0, r3
 1486              	.LVL144:
 321:src/date.c    **** 		set_NaN(res);
 1487              		.loc 1 321 6 view .LVU433
 1488 000c FFF7FEFF 		bl	find_year
 1489              	.LVL145:
 321:src/date.c    **** 		set_NaN(res);
 1490              		.loc 1 321 5 view .LVU434
 1491 0010 0028     		cmp	r0, #0
 1492 0012 40F0B980 		bne	.L109
 1493              	.LBB66:
 325:src/date.c    **** 
 1494              		.loc 1 325 3 is_stmt 1 view .LVU435
 327:src/date.c    **** 		build_date(res, y, m, d);
 1495              		.loc 1 327 3 view .LVU436
 1496              	.LBB67:
 1497              	.LBB68:
 287:src/date.c    **** 		const int a = year % 19;
 1498              		.loc 1 287 28 is_stmt 0 view .LVU437
 1499 0016 5F4B     		ldr	r3, .L111
 1500              	.LBE68:
 1501              	.LBE67:
 327:src/date.c    **** 		build_date(res, y, m, d);
 1502              		.loc 1 327 3 view .LVU438
 1503 0018 0199     		ldr	r1, [sp, #4]
 1504              	.LVL146:
 1505              	.LBB73:
 1506              	.LBI67:
 286:src/date.c    **** 	if (year > (UState.jg1582 ? 1582 : 1752)) {	// Gregorian
 1507              		.loc 1 286 13 is_stmt 1 view .LVU439
 1508              	.LBB71:
 287:src/date.c    **** 		const int a = year % 19;
 1509              		.loc 1 287 2 view .LVU440
 287:src/date.c    **** 		const int a = year % 19;
 1510              		.loc 1 287 28 is_stmt 0 view .LVU441
 1511 001a 1B68     		ldr	r3, [r3]
 287:src/date.c    **** 		const int a = year % 19;
 1512              		.loc 1 287 35 view .LVU442
ARM GAS  /tmp/cceVkiTV.s 			page 42


 1513 001c 93F9EB27 		ldrsb	r2, [r3, #2027]
 1514 0020 002A     		cmp	r2, #0
 1515 0022 40F22E63 		movw	r3, #1582
 1516 0026 A8BF     		it	ge
 1517 0028 4FF4DB63 		movge	r3, #1752
 287:src/date.c    **** 		const int a = year % 19;
 1518              		.loc 1 287 5 view .LVU443
 1519 002c 9942     		cmp	r1, r3
 1520 002e 4BDC     		bgt	.L110
 1521              	.LBB69:
 303:src/date.c    **** 		const int b = year % 7;
 1522              		.loc 1 303 3 is_stmt 1 view .LVU444
 1523              	.LVL147:
 304:src/date.c    **** 		const int c = year % 19;
 1524              		.loc 1 304 3 view .LVU445
 305:src/date.c    **** 		const int d = (19 * c + 15) % 30;
 1525              		.loc 1 305 3 view .LVU446
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1526              		.loc 1 306 3 view .LVU447
 305:src/date.c    **** 		const int d = (19 * c + 15) % 30;
 1527              		.loc 1 305 13 is_stmt 0 view .LVU448
 1528 0030 5948     		ldr	r0, .L111+4
 304:src/date.c    **** 		const int c = year % 19;
 1529              		.loc 1 304 13 view .LVU449
 1530 0032 5A4E     		ldr	r6, .L111+8
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1531              		.loc 1 306 13 view .LVU450
 1532 0034 5A4B     		ldr	r3, .L111+12
 305:src/date.c    **** 		const int d = (19 * c + 15) % 30;
 1533              		.loc 1 305 13 view .LVU451
 1534 0036 80FB0120 		smull	r2, r0, r0, r1
 1535 003a CA17     		asrs	r2, r1, #31
 1536 003c C2EBE000 		rsb	r0, r2, r0, asr #3
 1537 0040 00EBC004 		add	r4, r0, r0, lsl #3
 1538 0044 00EB4400 		add	r0, r0, r4, lsl #1
 1539 0048 081A     		subs	r0, r1, r0
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1540              		.loc 1 306 21 view .LVU452
 1541 004a 00EBC004 		add	r4, r0, r0, lsl #3
 1542 004e 00EB4400 		add	r0, r0, r4, lsl #1
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1543              		.loc 1 306 25 view .LVU453
 1544 0052 0F30     		adds	r0, r0, #15
 304:src/date.c    **** 		const int c = year % 19;
 1545              		.loc 1 304 13 view .LVU454
 1546 0054 86FB0174 		smull	r7, r4, r6, r1
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1547              		.loc 1 306 13 view .LVU455
 1548 0058 83FB0073 		smull	r7, r3, r3, r0
 303:src/date.c    **** 		const int b = year % 7;
 1549              		.loc 1 303 13 view .LVU456
 1550 005c 4F42     		rsbs	r7, r1, #0
 304:src/date.c    **** 		const int c = year % 19;
 1551              		.loc 1 304 13 view .LVU457
 1552 005e 0C44     		add	r4, r4, r1
 303:src/date.c    **** 		const int b = year % 7;
 1553              		.loc 1 303 13 view .LVU458
ARM GAS  /tmp/cceVkiTV.s 			page 43


 1554 0060 07F00307 		and	r7, r7, #3
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1555              		.loc 1 306 13 view .LVU459
 1556 0064 0344     		add	r3, r3, r0
 304:src/date.c    **** 		const int c = year % 19;
 1557              		.loc 1 304 13 view .LVU460
 1558 0066 C2EBA402 		rsb	r2, r2, r4, asr #2
 303:src/date.c    **** 		const int b = year % 7;
 1559              		.loc 1 303 13 view .LVU461
 1560 006a 01F00304 		and	r4, r1, #3
 1561 006e 58BF     		it	pl
 1562 0070 7C42     		rsbpl	r4, r7, #0
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1563              		.loc 1 306 13 view .LVU462
 1564 0072 C717     		asrs	r7, r0, #31
 1565 0074 C7EB2317 		rsb	r7, r7, r3, asr #4
 304:src/date.c    **** 		const int c = year % 19;
 1566              		.loc 1 304 13 view .LVU463
 1567 0078 C2EBC202 		rsb	r2, r2, r2, lsl #3
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1568              		.loc 1 306 13 view .LVU464
 1569 007c C7EB0713 		rsb	r3, r7, r7, lsl #4
 304:src/date.c    **** 		const int c = year % 19;
 1570              		.loc 1 304 13 view .LVU465
 1571 0080 8A1A     		subs	r2, r1, r2
 306:src/date.c    **** 		const int e = (2 * a + 4 * b - d + 34) % 7;
 1572              		.loc 1 306 13 view .LVU466
 1573 0082 A0EB4307 		sub	r7, r0, r3, lsl #1
 1574              	.LVL148:
 307:src/date.c    **** 		*month = (d + e + 114) / 31;			// Jan = 1
 1575              		.loc 1 307 3 is_stmt 1 view .LVU467
 308:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
 1576              		.loc 1 308 3 view .LVU468
 307:src/date.c    **** 		*month = (d + e + 114) / 31;			// Jan = 1
 1577              		.loc 1 307 24 is_stmt 0 view .LVU469
 1578 0086 04EB4202 		add	r2, r4, r2, lsl #1
 307:src/date.c    **** 		*month = (d + e + 114) / 31;			// Jan = 1
 1579              		.loc 1 307 32 view .LVU470
 1580 008a C7EB4202 		rsb	r2, r7, r2, lsl #1
 307:src/date.c    **** 		*month = (d + e + 114) / 31;			// Jan = 1
 1581              		.loc 1 307 36 view .LVU471
 1582 008e 2232     		adds	r2, r2, #34
 307:src/date.c    **** 		*month = (d + e + 114) / 31;			// Jan = 1
 1583              		.loc 1 307 13 view .LVU472
 1584 0090 86FB0236 		smull	r3, r6, r6, r2
 1585 0094 1644     		add	r6, r6, r2
 1586 0096 D317     		asrs	r3, r2, #31
 1587 0098 C3EBA603 		rsb	r3, r3, r6, asr #2
 1588 009c C3EBC303 		rsb	r3, r3, r3, lsl #3
 1589 00a0 D31A     		subs	r3, r2, r3
 308:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
 1590              		.loc 1 308 15 view .LVU473
 1591 00a2 3B44     		add	r3, r3, r7
 308:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
 1592              		.loc 1 308 26 view .LVU474
 1593 00a4 3F4A     		ldr	r2, .L111+16
 308:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
ARM GAS  /tmp/cceVkiTV.s 			page 44


 1594              		.loc 1 308 19 view .LVU475
 1595 00a6 7233     		adds	r3, r3, #114
 308:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
 1596              		.loc 1 308 26 view .LVU476
 1597 00a8 82FB0302 		smull	r0, r2, r2, r3
 1598              	.LVL149:
 1599              	.L108:
 308:src/date.c    **** 		*day = ((d + e + 114) % 31) + 1;
 1600              		.loc 1 308 26 view .LVU477
 1601 00ac D018     		adds	r0, r2, r3
 1602 00ae DA17     		asrs	r2, r3, #31
 1603 00b0 C2EB2012 		rsb	r2, r2, r0, asr #4
 1604              	.LVL150:
 309:src/date.c    **** 	}
 1605              		.loc 1 309 3 is_stmt 1 view .LVU478
 309:src/date.c    **** 	}
 1606              		.loc 1 309 25 is_stmt 0 view .LVU479
 1607 00b4 C2EB4210 		rsb	r0, r2, r2, lsl #5
 1608 00b8 1B1A     		subs	r3, r3, r0
 309:src/date.c    **** 	}
 1609              		.loc 1 309 31 view .LVU480
 1610 00ba 0133     		adds	r3, r3, #1
 1611              	.LVL151:
 309:src/date.c    **** 	}
 1612              		.loc 1 309 31 view .LVU481
 1613              	.LBE69:
 1614              	.LBE71:
 1615              	.LBE73:
 328:src/date.c    **** 	}
 1616              		.loc 1 328 3 is_stmt 1 view .LVU482
 1617 00bc 2846     		mov	r0, r5
 1618 00be FFF7FEFF 		bl	build_date
 1619              	.LVL152:
 328:src/date.c    **** 	}
 1620              		.loc 1 328 3 is_stmt 0 view .LVU483
 1621              	.LBE66:
 330:src/date.c    **** }
 1622              		.loc 1 330 2 is_stmt 1 view .LVU484
 331:src/date.c    **** #endif
 1623              		.loc 1 331 1 is_stmt 0 view .LVU485
 1624 00c2 2846     		mov	r0, r5
 1625 00c4 03B0     		add	sp, sp, #12
 1626              		.cfi_remember_state
 1627              		.cfi_def_cfa_offset 20
 1628              		@ sp needed
 1629 00c6 F0BD     		pop	{r4, r5, r6, r7, pc}
 1630              	.LVL153:
 1631              	.L110:
 1632              		.cfi_restore_state
 1633              	.LBB75:
 1634              	.LBB74:
 1635              	.LBB72:
 1636              	.LBB70:
 288:src/date.c    **** 		const int b = year / 100;
 1637              		.loc 1 288 3 is_stmt 1 view .LVU486
 288:src/date.c    **** 		const int b = year / 100;
 1638              		.loc 1 288 13 is_stmt 0 view .LVU487
ARM GAS  /tmp/cceVkiTV.s 			page 45


 1639 00c8 334C     		ldr	r4, .L111+4
 289:src/date.c    **** 		const int c = year % 100;
 1640              		.loc 1 289 13 view .LVU488
 1641 00ca 374F     		ldr	r7, .L111+20
 294:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 1642              		.loc 1 294 13 view .LVU489
 1643 00cc 374B     		ldr	r3, .L111+24
 295:src/date.c    **** 		const int i = c / 4;
 1644              		.loc 1 295 13 view .LVU490
 1645 00ce 3448     		ldr	r0, .L111+12
 288:src/date.c    **** 		const int b = year / 100;
 1646              		.loc 1 288 13 view .LVU491
 1647 00d0 84FB012E 		smull	r2, lr, r4, r1
 1648 00d4 CE17     		asrs	r6, r1, #31
 289:src/date.c    **** 		const int c = year % 100;
 1649              		.loc 1 289 13 view .LVU492
 1650 00d6 87FB0142 		smull	r4, r2, r7, r1
 288:src/date.c    **** 		const int b = year / 100;
 1651              		.loc 1 288 13 view .LVU493
 1652 00da C6EBEE0E 		rsb	lr, r6, lr, asr #3
 289:src/date.c    **** 		const int c = year % 100;
 1653              		.loc 1 289 13 view .LVU494
 1654 00de C6EB6216 		rsb	r6, r6, r2, asr #5
 293:src/date.c    **** 		const int g = (b - f + 1) / 3;
 1655              		.loc 1 293 20 view .LVU495
 1656 00e2 06F10802 		add	r2, r6, #8
 293:src/date.c    **** 		const int g = (b - f + 1) / 3;
 1657              		.loc 1 293 13 view .LVU496
 1658 00e6 A7FB0242 		umull	r4, r2, r7, r2
 288:src/date.c    **** 		const int b = year / 100;
 1659              		.loc 1 288 13 view .LVU497
 1660 00ea 0EEBCE04 		add	r4, lr, lr, lsl #3
 1661 00ee 0EEB440E 		add	lr, lr, r4, lsl #1
 1662 00f2 A1EB0E0E 		sub	lr, r1, lr
 1663              	.LVL154:
 289:src/date.c    **** 		const int c = year % 100;
 1664              		.loc 1 289 3 is_stmt 1 view .LVU498
 290:src/date.c    **** 		const int d = b / 4;
 1665              		.loc 1 290 3 view .LVU499
 294:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 1666              		.loc 1 294 20 is_stmt 0 view .LVU500
 1667 00f6 A6EBD202 		sub	r2, r6, r2, lsr #3
 295:src/date.c    **** 		const int i = c / 4;
 1668              		.loc 1 295 21 view .LVU501
 1669 00fa 0EEBCE07 		add	r7, lr, lr, lsl #3
 294:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 1670              		.loc 1 294 24 view .LVU502
 1671 00fe 0132     		adds	r2, r2, #1
 295:src/date.c    **** 		const int i = c / 4;
 1672              		.loc 1 295 21 view .LVU503
 1673 0100 0EEB4707 		add	r7, lr, r7, lsl #1
 294:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 1674              		.loc 1 294 13 view .LVU504
 1675 0104 83FB0243 		smull	r4, r3, r3, r2
 295:src/date.c    **** 		const int i = c / 4;
 1676              		.loc 1 295 25 view .LVU505
 1677 0108 3744     		add	r7, r7, r6
ARM GAS  /tmp/cceVkiTV.s 			page 46


 294:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 1678              		.loc 1 294 13 view .LVU506
 1679 010a A3EBE272 		sub	r2, r3, r2, asr #31
 295:src/date.c    **** 		const int i = c / 4;
 1680              		.loc 1 295 29 view .LVU507
 1681 010e A7EBA607 		sub	r7, r7, r6, asr #2
 295:src/date.c    **** 		const int i = c / 4;
 1682              		.loc 1 295 33 view .LVU508
 1683 0112 BF1A     		subs	r7, r7, r2
 295:src/date.c    **** 		const int i = c / 4;
 1684              		.loc 1 295 37 view .LVU509
 1685 0114 0F37     		adds	r7, r7, #15
 295:src/date.c    **** 		const int i = c / 4;
 1686              		.loc 1 295 13 view .LVU510
 1687 0116 80FB0730 		smull	r3, r0, r0, r7
 1688 011a 3844     		add	r0, r0, r7
 1689 011c FB17     		asrs	r3, r7, #31
 1690 011e C3EB2010 		rsb	r0, r3, r0, asr #4
 292:src/date.c    **** 		const int f = (b + 8) / 25;
 1691              		.loc 1 292 13 view .LVU511
 1692 0122 06F0030C 		and	ip, r6, #3
 290:src/date.c    **** 		const int d = b / 4;
 1693              		.loc 1 290 13 view .LVU512
 1694 0126 6423     		movs	r3, #100
 1695 0128 03FB1616 		mls	r6, r3, r6, r1
 1696              	.LVL155:
 295:src/date.c    **** 		const int i = c / 4;
 1697              		.loc 1 295 13 view .LVU513
 1698 012c C0EB0010 		rsb	r0, r0, r0, lsl #4
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1699              		.loc 1 298 21 view .LVU514
 1700 0130 0CF1100C 		add	ip, ip, #16
 1701              	.LVL156:
 291:src/date.c    **** 		const int e = b % 4;
 1702              		.loc 1 291 3 is_stmt 1 view .LVU515
 292:src/date.c    **** 		const int f = (b + 8) / 25;
 1703              		.loc 1 292 3 view .LVU516
 293:src/date.c    **** 		const int g = (b - f + 1) / 3;
 1704              		.loc 1 293 3 view .LVU517
 294:src/date.c    **** 		const int h = (19 * a + b - d - g + 15) % 30;
 1705              		.loc 1 294 3 view .LVU518
 295:src/date.c    **** 		const int i = c / 4;
 1706              		.loc 1 295 3 view .LVU519
 295:src/date.c    **** 		const int i = c / 4;
 1707              		.loc 1 295 13 is_stmt 0 view .LVU520
 1708 0134 A7EB4000 		sub	r0, r7, r0, lsl #1
 1709              	.LVL157:
 296:src/date.c    **** 		const int k = c % 4;
 1710              		.loc 1 296 3 is_stmt 1 view .LVU521
 297:src/date.c    **** 		const int L = (32 + 2 * e + 2 * i - h - k) % 7;
 1711              		.loc 1 297 3 view .LVU522
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1712              		.loc 1 298 3 view .LVU523
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1713              		.loc 1 298 29 is_stmt 0 view .LVU524
 1714 0138 0CEBA607 		add	r7, ip, r6, asr #2
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
ARM GAS  /tmp/cceVkiTV.s 			page 47


 1715              		.loc 1 298 37 view .LVU525
 1716 013c C0EB4707 		rsb	r7, r0, r7, lsl #1
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1717              		.loc 1 298 13 view .LVU526
 1718 0140 1B4B     		ldr	r3, .L111+28
 297:src/date.c    **** 		const int L = (32 + 2 * e + 2 * i - h - k) % 7;
 1719              		.loc 1 297 13 view .LVU527
 1720 0142 06F00306 		and	r6, r6, #3
 1721              	.LVL158:
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1722              		.loc 1 298 41 view .LVU528
 1723 0146 BE1B     		subs	r6, r7, r6
 1724              	.LVL159:
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1725              		.loc 1 298 13 view .LVU529
 1726 0148 A3FB0623 		umull	r2, r3, r3, r6
 1727 014c F21A     		subs	r2, r6, r3
 1728 014e 03EB5203 		add	r3, r3, r2, lsr #1
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1729              		.loc 1 299 25 view .LVU530
 1730 0152 00EB8004 		add	r4, r0, r0, lsl #2
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1731              		.loc 1 298 13 view .LVU531
 1732 0156 9B08     		lsrs	r3, r3, #2
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1733              		.loc 1 299 25 view .LVU532
 1734 0158 00EB4404 		add	r4, r0, r4, lsl #1
 298:src/date.c    **** 		const int m = (a + 11 * h + 22 * L) / 451;
 1735              		.loc 1 298 13 view .LVU533
 1736 015c C3EBC303 		rsb	r3, r3, r3, lsl #3
 1737 0160 F31A     		subs	r3, r6, r3
 1738              	.LVL160:
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1739              		.loc 1 299 3 is_stmt 1 view .LVU534
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1740              		.loc 1 300 3 view .LVU535
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1741              		.loc 1 299 20 is_stmt 0 view .LVU536
 1742 0162 A644     		add	lr, lr, r4
 1743              	.LVL161:
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1744              		.loc 1 299 13 view .LVU537
 1745 0164 134A     		ldr	r2, .L111+32
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1746              		.loc 1 300 34 view .LVU538
 1747 0166 0F4E     		ldr	r6, .L111+16
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1748              		.loc 1 299 34 view .LVU539
 1749 0168 1624     		movs	r4, #22
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1750              		.loc 1 299 29 view .LVU540
 1751 016a 04FB03E4 		mla	r4, r4, r3, lr
 299:src/date.c    **** 		*month = (h + L - 7 * m + 114) / 31;		// Jan = 1
 1752              		.loc 1 299 13 view .LVU541
 1753 016e 82FB0472 		smull	r7, r2, r2, r4
 1754 0172 E417     		asrs	r4, r4, #31
 1755 0174 C4EBE212 		rsb	r2, r4, r2, asr #7
ARM GAS  /tmp/cceVkiTV.s 			page 48


 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1756              		.loc 1 300 15 view .LVU542
 1757 0178 0344     		add	r3, r3, r0
 1758              	.LVL162:
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1759              		.loc 1 300 23 view .LVU543
 1760 017a A2EBC202 		sub	r2, r2, r2, lsl #3
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1761              		.loc 1 300 19 view .LVU544
 1762 017e 1344     		add	r3, r3, r2
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1763              		.loc 1 300 27 view .LVU545
 1764 0180 7233     		adds	r3, r3, #114
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1765              		.loc 1 300 34 view .LVU546
 1766 0182 86FB0302 		smull	r0, r2, r6, r3
 1767              	.LVL163:
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1768              		.loc 1 300 34 view .LVU547
 1769 0186 91E7     		b	.L108
 1770              	.LVL164:
 1771              	.L109:
 300:src/date.c    **** 		*day = ((h + L - 7 * m + 114) % 31) + 1;
 1772              		.loc 1 300 34 view .LVU548
 1773              	.LBE70:
 1774              	.LBE72:
 1775              	.LBE74:
 1776              	.LBE75:
 322:src/date.c    **** 		return res;
 1777              		.loc 1 322 3 is_stmt 1 view .LVU549
 1778 0188 2846     		mov	r0, r5
 1779 018a FFF7FEFF 		bl	set_NaN
 1780              	.LVL165:
 323:src/date.c    **** 	} else {
 1781              		.loc 1 323 3 view .LVU550
 331:src/date.c    **** #endif
 1782              		.loc 1 331 1 is_stmt 0 view .LVU551
 1783 018e 2846     		mov	r0, r5
 1784 0190 03B0     		add	sp, sp, #12
 1785              		.cfi_def_cfa_offset 20
 1786              		@ sp needed
 1787 0192 F0BD     		pop	{r4, r5, r6, r7, pc}
 1788              	.LVL166:
 1789              	.L112:
 331:src/date.c    **** #endif
 1790              		.loc 1 331 1 view .LVU552
 1791              		.align	2
 1792              	.L111:
 1793 0194 00000000 		.word	main_ram
 1794 0198 F31ACA6B 		.word	1808407283
 1795 019c 93244992 		.word	-1840700269
 1796 01a0 89888888 		.word	-2004318071
 1797 01a4 43082184 		.word	-2078209981
 1798 01a8 1F85EB51 		.word	1374389535
 1799 01ac 56555555 		.word	1431655766
 1800 01b0 25499224 		.word	613566757
 1801 01b4 8B04A848 		.word	1218970763
ARM GAS  /tmp/cceVkiTV.s 			page 49


 1802              		.cfi_endproc
 1803              	.LFE11:
 1805              		.section	.text.date_isleap,"ax",%progbits
 1806              		.align	1
 1807              		.p2align 2,,3
 1808              		.global	date_isleap
 1809              		.syntax unified
 1810              		.thumb
 1811              		.thumb_func
 1812              		.fpu fpv4-sp-d16
 1814              	date_isleap:
 1815              	.LVL167:
 1816              	.LFB12:
 337:src/date.c    **** 	int y, t = 0;
 1817              		.loc 1 337 33 is_stmt 1 view -0
 1818              		.cfi_startproc
 1819              		@ args = 0, pretend = 0, frame = 40
 1820              		@ frame_needed = 0, uses_anonymous_args = 0
 338:src/date.c    **** 	decNumber x;
 1821              		.loc 1 338 2 view .LVU554
 339:src/date.c    **** 
 1822              		.loc 1 339 2 view .LVU555
 341:src/date.c    **** 	if (! find_year(&x, &y))
 1823              		.loc 1 341 2 view .LVU556
 337:src/date.c    **** 	int y, t = 0;
 1824              		.loc 1 337 33 is_stmt 0 view .LVU557
 1825 0000 00B5     		push	{lr}
 1826              		.cfi_def_cfa_offset 4
 1827              		.cfi_offset 14, -4
 1828 0002 8BB0     		sub	sp, sp, #44
 1829              		.cfi_def_cfa_offset 48
 341:src/date.c    **** 	if (! find_year(&x, &y))
 1830              		.loc 1 341 2 view .LVU558
 1831 0004 01A8     		add	r0, sp, #4
 1832              	.LVL168:
 341:src/date.c    **** 	if (! find_year(&x, &y))
 1833              		.loc 1 341 2 view .LVU559
 1834 0006 FFF7FEFF 		bl	getX
 1835              	.LVL169:
 342:src/date.c    **** 		t = isleap(y);
 1836              		.loc 1 342 2 is_stmt 1 view .LVU560
 342:src/date.c    **** 		t = isleap(y);
 1837              		.loc 1 342 8 is_stmt 0 view .LVU561
 1838 000a 01A8     		add	r0, sp, #4
 1839 000c 6946     		mov	r1, sp
 1840 000e FFF7FEFF 		bl	find_year
 1841              	.LVL170:
 342:src/date.c    **** 		t = isleap(y);
 1842              		.loc 1 342 5 view .LVU562
 1843 0012 A0B9     		cbnz	r0, .L116
 343:src/date.c    **** 	fin_tst(t);
 1844              		.loc 1 343 3 is_stmt 1 view .LVU563
 343:src/date.c    **** 	fin_tst(t);
 1845              		.loc 1 343 7 is_stmt 0 view .LVU564
 1846 0014 009B     		ldr	r3, [sp]
 1847              	.LVL171:
 1848              	.LBB76:
ARM GAS  /tmp/cceVkiTV.s 			page 50


 1849              	.LBI76:
 107:src/date.c    **** 	if ((year & 3) == 0) {		// leap year candidate
 1850              		.loc 1 107 12 is_stmt 1 view .LVU565
 1851              	.LBB77:
 108:src/date.c    **** 		if (isGregorian(year, 1, 1)) {
 1852              		.loc 1 108 2 view .LVU566
 108:src/date.c    **** 		if (isGregorian(year, 1, 1)) {
 1853              		.loc 1 108 5 is_stmt 0 view .LVU567
 1854 0016 9A07     		lsls	r2, r3, #30
 1855 0018 0CD1     		bne	.L114
 109:src/date.c    **** 			// Gregorian is leap if not divisible by 100 or if devisible by 400
 1856              		.loc 1 109 3 is_stmt 1 view .LVU568
 1857              	.LVL172:
 1858              	.LBB78:
 1859              	.LBI78:
  36:src/date.c    **** 	int y, m, d;
 1860              		.loc 1 36 12 view .LVU569
 1861              	.LBB79:
  37:src/date.c    **** 	if (UState.jg1582) {
 1862              		.loc 1 37 2 view .LVU570
  38:src/date.c    **** 		y = 1582;
 1863              		.loc 1 38 2 view .LVU571
  38:src/date.c    **** 		y = 1582;
 1864              		.loc 1 38 6 is_stmt 0 view .LVU572
 1865 001a 134A     		ldr	r2, .L122
 1866 001c 1268     		ldr	r2, [r2]
  38:src/date.c    **** 		y = 1582;
 1867              		.loc 1 38 5 view .LVU573
 1868 001e 92F9EB17 		ldrsb	r1, [r2, #2027]
 1869 0022 0029     		cmp	r1, #0
  43:src/date.c    **** 		m = 9;
 1870              		.loc 1 43 5 view .LVU574
 1871 0024 40F22E62 		movw	r2, #1582
 1872 0028 A8BF     		it	ge
 1873 002a 4FF4DB62 		movge	r2, #1752
 1874              	.LVL173:
  47:src/date.c    **** 		return 1;
 1875              		.loc 1 47 2 is_stmt 1 view .LVU575
  47:src/date.c    **** 		return 1;
 1876              		.loc 1 47 5 is_stmt 0 view .LVU576
 1877 002e 9342     		cmp	r3, r2
 1878 0030 0BDC     		bgt	.L121
 1879              	.LVL174:
 1880              	.L119:
  47:src/date.c    **** 		return 1;
 1881              		.loc 1 47 5 view .LVU577
 1882              	.LBE79:
 1883              	.LBE78:
 117:src/date.c    **** 	}
 1884              		.loc 1 117 10 view .LVU578
 1885 0032 0120     		movs	r0, #1
 1886              	.L114:
 1887              	.LVL175:
 117:src/date.c    **** 	}
 1888              		.loc 1 117 10 view .LVU579
 1889              	.LBE77:
 1890              	.LBE76:
ARM GAS  /tmp/cceVkiTV.s 			page 51


 344:src/date.c    **** }
 1891              		.loc 1 344 2 is_stmt 1 view .LVU580
 1892 0034 FFF7FEFF 		bl	fin_tst
 1893              	.LVL176:
 345:src/date.c    **** 
 1894              		.loc 1 345 1 is_stmt 0 view .LVU581
 1895 0038 0BB0     		add	sp, sp, #44
 1896              		.cfi_remember_state
 1897              		.cfi_def_cfa_offset 4
 1898              		@ sp needed
 1899 003a 5DF804FB 		ldr	pc, [sp], #4
 1900              	.LVL177:
 1901              	.L116:
 1902              		.cfi_restore_state
 338:src/date.c    **** 	decNumber x;
 1903              		.loc 1 338 9 view .LVU582
 1904 003e 0020     		movs	r0, #0
 1905              	.LVL178:
 344:src/date.c    **** }
 1906              		.loc 1 344 2 is_stmt 1 view .LVU583
 1907 0040 FFF7FEFF 		bl	fin_tst
 1908              	.LVL179:
 345:src/date.c    **** 
 1909              		.loc 1 345 1 is_stmt 0 view .LVU584
 1910 0044 0BB0     		add	sp, sp, #44
 1911              		.cfi_remember_state
 1912              		.cfi_def_cfa_offset 4
 1913              		@ sp needed
 1914 0046 5DF804FB 		ldr	pc, [sp], #4
 1915              	.LVL180:
 1916              	.L121:
 1917              		.cfi_restore_state
 1918              	.LBB85:
 1919              	.LBB84:
 111:src/date.c    **** 				if (year % 400 == 0)
 1920              		.loc 1 111 4 is_stmt 1 view .LVU585
 1921              	.LBB82:
 1922              	.LBB80:
 1923 004a 0848     		ldr	r0, .L122+4
 1924 004c 0849     		ldr	r1, .L122+8
 1925              	.LBE80:
 1926              	.LBE82:
 111:src/date.c    **** 				if (year % 400 == 0)
 1927              		.loc 1 111 7 is_stmt 0 view .LVU586
 1928 004e 094A     		ldr	r2, .L122+12
 1929              	.LBB83:
 1930              	.LBB81:
 1931 0050 00FB0313 		mla	r3, r0, r3, r1
 1932              	.LVL181:
 111:src/date.c    **** 				if (year % 400 == 0)
 1933              		.loc 1 111 7 view .LVU587
 1934              	.LBE81:
 1935              	.LBE83:
 1936 0054 B2EBB30F 		cmp	r2, r3, ror #2
 1937 0058 EBD3     		bcc	.L119
 112:src/date.c    **** 					return 1;
 1938              		.loc 1 112 5 is_stmt 1 view .LVU588
ARM GAS  /tmp/cceVkiTV.s 			page 52


 112:src/date.c    **** 					return 1;
 1939              		.loc 1 112 8 is_stmt 0 view .LVU589
 1940 005a 074A     		ldr	r2, .L122+16
 1941 005c B2EB331F 		cmp	r2, r3, ror #4
 1942 0060 2CBF     		ite	cs
 1943 0062 0120     		movcs	r0, #1
 1944 0064 0020     		movcc	r0, #0
 1945 0066 E5E7     		b	.L114
 1946              	.L123:
 1947              		.align	2
 1948              	.L122:
 1949 0068 00000000 		.word	main_ram
 1950 006c 295C8FC2 		.word	-1030792151
 1951 0070 50B81E05 		.word	85899344
 1952 0074 285C8F02 		.word	42949672
 1953 0078 0AD7A300 		.word	10737418
 1954              	.LBE84:
 1955              	.LBE85:
 1956              		.cfi_endproc
 1957              	.LFE12:
 1959              		.section	.text.dateDayOfWeek,"ax",%progbits
 1960              		.align	1
 1961              		.p2align 2,,3
 1962              		.global	dateDayOfWeek
 1963              		.syntax unified
 1964              		.thumb
 1965              		.thumb_func
 1966              		.fpu fpv4-sp-d16
 1968              	dateDayOfWeek:
 1969              	.LVL182:
 1970              	.LFB14:
 358:src/date.c    **** 	int y, m, d;
 1971              		.loc 1 358 62 is_stmt 1 view -0
 1972              		.cfi_startproc
 1973              		@ args = 0, pretend = 0, frame = 16
 1974              		@ frame_needed = 0, uses_anonymous_args = 0
 359:src/date.c    **** 
 1975              		.loc 1 359 2 view .LVU591
 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1976              		.loc 1 361 2 view .LVU592
 358:src/date.c    **** 	int y, m, d;
 1977              		.loc 1 358 62 is_stmt 0 view .LVU593
 1978 0000 10B5     		push	{r4, lr}
 1979              		.cfi_def_cfa_offset 8
 1980              		.cfi_offset 4, -8
 1981              		.cfi_offset 14, -4
 1982 0002 86B0     		sub	sp, sp, #24
 1983              		.cfi_def_cfa_offset 32
 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1984              		.loc 1 361 6 view .LVU594
 1985 0004 05AB     		add	r3, sp, #20
 1986 0006 0093     		str	r3, [sp]
 1987 0008 03AA     		add	r2, sp, #12
 1988 000a 04AB     		add	r3, sp, #16
 358:src/date.c    **** 	int y, m, d;
 1989              		.loc 1 358 62 view .LVU595
 1990 000c 0446     		mov	r4, r0
ARM GAS  /tmp/cceVkiTV.s 			page 53


 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1991              		.loc 1 361 6 view .LVU596
 1992 000e FFF7FEFF 		bl	dateExtract
 1993              	.LVL183:
 361:src/date.c    **** 		int_to_dn(res, day_of_week(y, m, d, &DispMsg));
 1994              		.loc 1 361 5 view .LVU597
 1995 0012 10B9     		cbnz	r0, .L130
 363:src/date.c    **** }
 1996              		.loc 1 363 2 is_stmt 1 view .LVU598
 364:src/date.c    **** 
 1997              		.loc 1 364 1 is_stmt 0 view .LVU599
 1998 0014 2046     		mov	r0, r4
 1999 0016 06B0     		add	sp, sp, #24
 2000              		.cfi_remember_state
 2001              		.cfi_def_cfa_offset 8
 2002              		@ sp needed
 2003 0018 10BD     		pop	{r4, pc}
 2004              	.LVL184:
 2005              	.L130:
 2006              		.cfi_restore_state
 362:src/date.c    **** 	return res;
 2007              		.loc 1 362 3 is_stmt 1 view .LVU600
 2008 001a DDE90412 		ldrd	r1, r2, [sp, #16]
 2009 001e 0398     		ldr	r0, [sp, #12]
 2010 0020 FFF7FEFF 		bl	day_of_week.constprop.0
 2011              	.LVL185:
 2012 0024 0146     		mov	r1, r0
 2013 0026 2046     		mov	r0, r4
 2014 0028 FFF7FEFF 		bl	int_to_dn
 2015              	.LVL186:
 363:src/date.c    **** }
 2016              		.loc 1 363 2 view .LVU601
 364:src/date.c    **** 
 2017              		.loc 1 364 1 is_stmt 0 view .LVU602
 2018 002c 2046     		mov	r0, r4
 2019 002e 06B0     		add	sp, sp, #24
 2020              		.cfi_def_cfa_offset 8
 2021              		@ sp needed
 2022 0030 10BD     		pop	{r4, pc}
 364:src/date.c    **** 
 2023              		.loc 1 364 1 view .LVU603
 2024              		.cfi_endproc
 2025              	.LFE14:
 2027 0032 00BF     		.section	.text.dateExtraction,"ax",%progbits
 2028              		.align	1
 2029              		.p2align 2,,3
 2030              		.global	dateExtraction
 2031              		.syntax unified
 2032              		.thumb
 2033              		.thumb_func
 2034              		.fpu fpv4-sp-d16
 2036              	dateExtraction:
 2037              	.LVL187:
 2038              	.LFB15:
 369:src/date.c    **** 	int z[3];
 2039              		.loc 1 369 63 is_stmt 1 view -0
 2040              		.cfi_startproc
ARM GAS  /tmp/cceVkiTV.s 			page 54


 2041              		@ args = 0, pretend = 0, frame = 16
 2042              		@ frame_needed = 0, uses_anonymous_args = 0
 370:src/date.c    **** 
 2043              		.loc 1 370 2 view .LVU605
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 2044              		.loc 1 372 2 view .LVU606
 369:src/date.c    **** 	int z[3];
 2045              		.loc 1 369 63 is_stmt 0 view .LVU607
 2046 0000 10B5     		push	{r4, lr}
 2047              		.cfi_def_cfa_offset 8
 2048              		.cfi_offset 4, -8
 2049              		.cfi_offset 14, -4
 2050 0002 86B0     		sub	sp, sp, #24
 2051              		.cfi_def_cfa_offset 32
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 2052              		.loc 1 372 6 view .LVU608
 2053 0004 05AB     		add	r3, sp, #20
 2054 0006 0093     		str	r3, [sp]
 2055 0008 03AA     		add	r2, sp, #12
 2056 000a 04AB     		add	r3, sp, #16
 369:src/date.c    **** 	int z[3];
 2057              		.loc 1 369 63 view .LVU609
 2058 000c 0446     		mov	r4, r0
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 2059              		.loc 1 372 6 view .LVU610
 2060 000e FFF7FEFF 		bl	dateExtract
 2061              	.LVL188:
 372:src/date.c    **** 		int_to_dn(res, z[argKIND(XeqOpCode) - OP_DATE_YEAR]);
 2062              		.loc 1 372 5 view .LVU611
 2063 0012 10B9     		cbnz	r0, .L137
 374:src/date.c    **** }
 2064              		.loc 1 374 2 is_stmt 1 view .LVU612
 375:src/date.c    **** 
 2065              		.loc 1 375 1 is_stmt 0 view .LVU613
 2066 0014 2046     		mov	r0, r4
 2067 0016 06B0     		add	sp, sp, #24
 2068              		.cfi_remember_state
 2069              		.cfi_def_cfa_offset 8
 2070              		@ sp needed
 2071 0018 10BD     		pop	{r4, pc}
 2072              	.LVL189:
 2073              	.L137:
 2074              		.cfi_restore_state
 373:src/date.c    **** 	return res;
 2075              		.loc 1 373 3 is_stmt 1 view .LVU614
 373:src/date.c    **** 	return res;
 2076              		.loc 1 373 20 is_stmt 0 view .LVU615
 2077 001a 074B     		ldr	r3, .L138
 2078 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 373:src/date.c    **** 	return res;
 2079              		.loc 1 373 3 view .LVU616
 2080 001e 06AA     		add	r2, sp, #24
 2081 0020 8B3B     		subs	r3, r3, #139
 2082 0022 02EB8303 		add	r3, r2, r3, lsl #2
 2083 0026 2046     		mov	r0, r4
 2084 0028 53F80C1C 		ldr	r1, [r3, #-12]
 2085 002c FFF7FEFF 		bl	int_to_dn
ARM GAS  /tmp/cceVkiTV.s 			page 55


 2086              	.LVL190:
 374:src/date.c    **** }
 2087              		.loc 1 374 2 is_stmt 1 view .LVU617
 375:src/date.c    **** 
 2088              		.loc 1 375 1 is_stmt 0 view .LVU618
 2089 0030 2046     		mov	r0, r4
 2090 0032 06B0     		add	sp, sp, #24
 2091              		.cfi_def_cfa_offset 8
 2092              		@ sp needed
 2093 0034 10BD     		pop	{r4, pc}
 2094              	.LVL191:
 2095              	.L139:
 375:src/date.c    **** 
 2096              		.loc 1 375 1 view .LVU619
 2097 0036 00BF     		.align	2
 2098              	.L138:
 2099 0038 00000000 		.word	XeqOpCode
 2100              		.cfi_endproc
 2101              	.LFE15:
 2103              		.section	.rodata.date_alphaday.str1.4,"aMS",%progbits,1
 2104              		.align	2
 2105              	.LC1:
 2106 0000 4D4F4E54 		.ascii	"MONTUEWEDTHUFRISATSUN\000"
 2106      55455745 
 2106      44544855 
 2106      46524953 
 2106      41545355 
 2107              		.section	.text.date_alphaday,"ax",%progbits
 2108              		.align	1
 2109              		.p2align 2,,3
 2110              		.global	date_alphaday
 2111              		.syntax unified
 2112              		.thumb
 2113              		.thumb_func
 2114              		.fpu fpv4-sp-d16
 2116              	date_alphaday:
 2117              	.LVL192:
 2118              	.LFB17:
 388:src/date.c    **** 	decNumber x;
 2119              		.loc 1 388 35 is_stmt 1 view -0
 2120              		.cfi_startproc
 2121              		@ args = 0, pretend = 0, frame = 56
 2122              		@ frame_needed = 0, uses_anonymous_args = 0
 389:src/date.c    **** 	int y, m, d, dow;
 2123              		.loc 1 389 2 view .LVU621
 390:src/date.c    **** 
 2124              		.loc 1 390 2 view .LVU622
 392:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 2125              		.loc 1 392 2 view .LVU623
 388:src/date.c    **** 	decNumber x;
 2126              		.loc 1 388 35 is_stmt 0 view .LVU624
 2127 0000 00B5     		push	{lr}
 2128              		.cfi_def_cfa_offset 4
 2129              		.cfi_offset 14, -4
 2130 0002 8FB0     		sub	sp, sp, #60
 2131              		.cfi_def_cfa_offset 64
 392:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
ARM GAS  /tmp/cceVkiTV.s 			page 56


 2132              		.loc 1 392 2 view .LVU625
 2133 0004 05A8     		add	r0, sp, #20
 2134              	.LVL193:
 392:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 2135              		.loc 1 392 2 view .LVU626
 2136 0006 FFF7FEFF 		bl	getX
 2137              	.LVL194:
 393:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2138              		.loc 1 393 2 is_stmt 1 view .LVU627
 393:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2139              		.loc 1 393 5 is_stmt 0 view .LVU628
 2140 000a 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 2141 000e 13F0700F 		tst	r3, #112
 2142 0012 35D1     		bne	.L143
 2143              	.LVL195:
 2144              	.LBB86:
 2145              	.LBI86:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 2146              		.loc 1 202 12 is_stmt 1 view .LVU629
 2147              	.LBB87:
 203:src/date.c    **** 	decNumber z, a;
 2148              		.loc 1 203 2 view .LVU630
 204:src/date.c    ****     int neg = 1;
 2149              		.loc 1 204 2 view .LVU631
 205:src/date.c    **** 
 2150              		.loc 1 205 5 view .LVU632
 207:src/date.c    **** 		return 1;
 2151              		.loc 1 207 2 view .LVU633
 207:src/date.c    **** 		return 1;
 2152              		.loc 1 207 6 is_stmt 0 view .LVU634
 2153 0014 1F4B     		ldr	r3, .L147
 2154 0016 1B68     		ldr	r3, [r3]
 2155 0018 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 2156              		.loc 1 207 5 view .LVU635
 2157 001c DB07     		lsls	r3, r3, #31
 2158 001e 2FD4     		bmi	.L143
 2159 0020 05A8     		add	r0, sp, #20
 2160              	.LVL196:
 207:src/date.c    **** 		return 1;
 2161              		.loc 1 207 5 view .LVU636
 2162 0022 03AB     		add	r3, sp, #12
 2163              	.LVL197:
 207:src/date.c    **** 		return 1;
 2164              		.loc 1 207 5 view .LVU637
 2165 0024 02AA     		add	r2, sp, #8
 2166              	.LVL198:
 207:src/date.c    **** 		return 1;
 2167              		.loc 1 207 5 view .LVU638
 2168 0026 01A9     		add	r1, sp, #4
 2169              	.LVL199:
 207:src/date.c    **** 		return 1;
 2170              		.loc 1 207 5 view .LVU639
 2171 0028 FFF7FEFF 		bl	extract_date.part.0
 2172              	.LVL200:
 207:src/date.c    **** 		return 1;
 2173              		.loc 1 207 5 view .LVU640
ARM GAS  /tmp/cceVkiTV.s 			page 57


 2174              	.LBE87:
 2175              	.LBE86:
 393:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2176              		.loc 1 393 29 view .LVU641
 2177 002c 40BB     		cbnz	r0, .L143
 396:src/date.c    **** 		copy3(&("MONTUEWEDTHUFRISATSUN"[3*(dow-1)]));
 2178              		.loc 1 396 3 is_stmt 1 view .LVU642
 2179              	.LVL201:
 2180              	.LBB88:
 2181              	.LBI88:
 140:src/date.c    **** 	int h;
 2182              		.loc 1 140 12 view .LVU643
 2183              	.LBB89:
 141:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 2184              		.loc 1 141 2 view .LVU644
 142:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 2185              		.loc 1 142 2 view .LVU645
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 2186              		.loc 1 145 2 view .LVU646
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 2187              		.loc 1 145 7 is_stmt 0 view .LVU647
 2188 002e DDE90212 		ldrd	r1, r2, [sp, #8]
 2189 0032 0198     		ldr	r0, [sp, #4]
 2190 0034 FFF7FEFF 		bl	JDN
 2191              	.LVL202:
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 2192              		.loc 1 145 4 view .LVU648
 2193 0038 174B     		ldr	r3, .L147+4
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 2194              		.loc 1 145 28 view .LVU649
 2195 003a 0130     		adds	r0, r0, #1
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 2196              		.loc 1 145 4 view .LVU650
 2197 003c 83FB0023 		smull	r2, r3, r3, r0
 2198 0040 1A18     		adds	r2, r3, r0
 2199 0042 C317     		asrs	r3, r0, #31
 2200 0044 C3EBA203 		rsb	r3, r3, r2, asr #2
 2201 0048 C3EBC303 		rsb	r3, r3, r3, lsl #3
 2202              	.LVL203:
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 2203              		.loc 1 146 2 is_stmt 1 view .LVU651
 148:src/date.c    **** }
 2204              		.loc 1 148 2 view .LVU652
 148:src/date.c    **** }
 2205              		.loc 1 148 20 is_stmt 0 view .LVU653
 2206 004c C31A     		subs	r3, r0, r3
 2207              	.LVL204:
 148:src/date.c    **** }
 2208              		.loc 1 148 20 view .LVU654
 2209 004e 1DD0     		beq	.L145
 2210 0050 013B     		subs	r3, r3, #1
 2211              	.LVL205:
 148:src/date.c    **** }
 2212              		.loc 1 148 20 view .LVU655
 2213 0052 03EB4303 		add	r3, r3, r3, lsl #1
 2214              	.LVL206:
 148:src/date.c    **** }
ARM GAS  /tmp/cceVkiTV.s 			page 58


 2215              		.loc 1 148 20 view .LVU656
 2216 0056 1A46     		mov	r2, r3
 2217              	.LVL207:
 2218              	.L144:
 148:src/date.c    **** }
 2219              		.loc 1 148 20 view .LVU657
 2220              	.LBE89:
 2221              	.LBE88:
 397:src/date.c    **** 	}
 2222              		.loc 1 397 3 is_stmt 1 view .LVU658
 397:src/date.c    **** 	}
 2223              		.loc 1 397 9 is_stmt 0 view .LVU659
 2224 0058 1049     		ldr	r1, .L147+8
 2225 005a 0A44     		add	r2, r2, r1
 2226              	.LVL208:
 2227              	.LBB91:
 2228              	.LBI91:
 378:src/date.c    **** 	char buf[4];
 2229              		.loc 1 378 13 is_stmt 1 view .LVU660
 2230              	.LBB92:
 382:src/date.c    **** 		buf[i] = p[i];
 2231              		.loc 1 382 12 view .LVU661
 383:src/date.c    **** 	buf[3] = '\0';
 2232              		.loc 1 383 3 view .LVU662
 383:src/date.c    **** 	buf[3] = '\0';
 2233              		.loc 1 383 10 is_stmt 0 view .LVU663
 2234 005c CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 2235 005e 8DF81030 		strb	r3, [sp, #16]
 382:src/date.c    **** 		buf[i] = p[i];
 2236              		.loc 1 382 17 is_stmt 1 view .LVU664
 2237              	.LVL209:
 382:src/date.c    **** 		buf[i] = p[i];
 2238              		.loc 1 382 12 view .LVU665
 383:src/date.c    **** 	buf[3] = '\0';
 2239              		.loc 1 383 3 view .LVU666
 383:src/date.c    **** 	buf[3] = '\0';
 2240              		.loc 1 383 10 is_stmt 0 view .LVU667
 2241 0062 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 2242 0064 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 2243              	.LVL210:
 383:src/date.c    **** 	buf[3] = '\0';
 2244              		.loc 1 383 10 view .LVU668
 2245 0066 8DF81110 		strb	r1, [sp, #17]
 382:src/date.c    **** 		buf[i] = p[i];
 2246              		.loc 1 382 17 is_stmt 1 view .LVU669
 2247              	.LVL211:
 382:src/date.c    **** 		buf[i] = p[i];
 2248              		.loc 1 382 12 view .LVU670
 383:src/date.c    **** 	buf[3] = '\0';
 2249              		.loc 1 383 3 view .LVU671
 384:src/date.c    **** 	add_string(buf);
 2250              		.loc 1 384 9 is_stmt 0 view .LVU672
 2251 006a 0023     		movs	r3, #0
 385:src/date.c    **** }
 2252              		.loc 1 385 2 view .LVU673
 2253 006c 04A8     		add	r0, sp, #16
 383:src/date.c    **** 	buf[3] = '\0';
ARM GAS  /tmp/cceVkiTV.s 			page 59


 2254              		.loc 1 383 10 view .LVU674
 2255 006e 8DF81220 		strb	r2, [sp, #18]
 382:src/date.c    **** 		buf[i] = p[i];
 2256              		.loc 1 382 17 is_stmt 1 view .LVU675
 2257              	.LVL212:
 382:src/date.c    **** 		buf[i] = p[i];
 2258              		.loc 1 382 12 view .LVU676
 384:src/date.c    **** 	add_string(buf);
 2259              		.loc 1 384 2 view .LVU677
 384:src/date.c    **** 	add_string(buf);
 2260              		.loc 1 384 9 is_stmt 0 view .LVU678
 2261 0072 8DF81330 		strb	r3, [sp, #19]
 385:src/date.c    **** }
 2262              		.loc 1 385 2 is_stmt 1 view .LVU679
 2263 0076 FFF7FEFF 		bl	add_string
 2264              	.LVL213:
 385:src/date.c    **** }
 2265              		.loc 1 385 2 is_stmt 0 view .LVU680
 2266              	.LBE92:
 2267              	.LBE91:
 399:src/date.c    **** 
 2268              		.loc 1 399 1 view .LVU681
 2269 007a 0FB0     		add	sp, sp, #60
 2270              		.cfi_remember_state
 2271              		.cfi_def_cfa_offset 4
 2272              		@ sp needed
 2273 007c 5DF804FB 		ldr	pc, [sp], #4
 2274              	.LVL214:
 2275              	.L143:
 2276              		.cfi_restore_state
 394:src/date.c    **** 	else {
 2277              		.loc 1 394 3 is_stmt 1 view .LVU682
 2278 0080 0220     		movs	r0, #2
 2279 0082 FFF7FEFF 		bl	report_err
 2280              	.LVL215:
 399:src/date.c    **** 
 2281              		.loc 1 399 1 is_stmt 0 view .LVU683
 2282 0086 0FB0     		add	sp, sp, #60
 2283              		.cfi_remember_state
 2284              		.cfi_def_cfa_offset 4
 2285              		@ sp needed
 2286 0088 5DF804FB 		ldr	pc, [sp], #4
 2287              	.LVL216:
 2288              	.L145:
 2289              		.cfi_restore_state
 2290              	.LBB93:
 2291              	.LBB90:
 399:src/date.c    **** 
 2292              		.loc 1 399 1 view .LVU684
 2293 008c 1222     		movs	r2, #18
 2294 008e 1346     		mov	r3, r2
 2295              	.LVL217:
 399:src/date.c    **** 
 2296              		.loc 1 399 1 view .LVU685
 2297 0090 E2E7     		b	.L144
 2298              	.L148:
 2299 0092 00BF     		.align	2
ARM GAS  /tmp/cceVkiTV.s 			page 60


 2300              	.L147:
 2301 0094 00000000 		.word	main_ram
 2302 0098 93244992 		.word	-1840700269
 2303 009c 00000000 		.word	.LC1
 2304              	.LBE90:
 2305              	.LBE93:
 2306              		.cfi_endproc
 2307              	.LFE17:
 2309              		.section	.text.date_alphamonth,"ax",%progbits
 2310              		.align	1
 2311              		.p2align 2,,3
 2312              		.global	date_alphamonth
 2313              		.syntax unified
 2314              		.thumb
 2315              		.thumb_func
 2316              		.fpu fpv4-sp-d16
 2318              	date_alphamonth:
 2319              	.LVL218:
 2320              	.LFB18:
 401:src/date.c    **** 	decNumber x;
 2321              		.loc 1 401 37 is_stmt 1 view -0
 2322              		.cfi_startproc
 2323              		@ args = 0, pretend = 0, frame = 56
 2324              		@ frame_needed = 0, uses_anonymous_args = 0
 402:src/date.c    **** 	int y, m, d;
 2325              		.loc 1 402 2 view .LVU687
 403:src/date.c    **** 	static const char mons[12*3] = "JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC";
 2326              		.loc 1 403 2 view .LVU688
 404:src/date.c    **** 
 2327              		.loc 1 404 2 view .LVU689
 406:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 2328              		.loc 1 406 2 view .LVU690
 401:src/date.c    **** 	decNumber x;
 2329              		.loc 1 401 37 is_stmt 0 view .LVU691
 2330 0000 00B5     		push	{lr}
 2331              		.cfi_def_cfa_offset 4
 2332              		.cfi_offset 14, -4
 2333 0002 8FB0     		sub	sp, sp, #60
 2334              		.cfi_def_cfa_offset 64
 406:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 2335              		.loc 1 406 2 view .LVU692
 2336 0004 05A8     		add	r0, sp, #20
 2337              	.LVL219:
 406:src/date.c    **** 	if (decNumberIsSpecial(&x) || extract_date(&x, &y, &m, &d))
 2338              		.loc 1 406 2 view .LVU693
 2339 0006 FFF7FEFF 		bl	getX
 2340              	.LVL220:
 407:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2341              		.loc 1 407 2 is_stmt 1 view .LVU694
 407:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2342              		.loc 1 407 5 is_stmt 0 view .LVU695
 2343 000a 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 2344 000e 13F0700F 		tst	r3, #112
 2345 0012 23D1     		bne	.L152
 2346              	.LVL221:
 2347              	.LBB94:
 2348              	.LBI94:
ARM GAS  /tmp/cceVkiTV.s 			page 61


 202:src/date.c    **** 	int ip, fp, y, m, d;
 2349              		.loc 1 202 12 is_stmt 1 view .LVU696
 2350              	.LBB95:
 203:src/date.c    **** 	decNumber z, a;
 2351              		.loc 1 203 2 view .LVU697
 204:src/date.c    ****     int neg = 1;
 2352              		.loc 1 204 2 view .LVU698
 205:src/date.c    **** 
 2353              		.loc 1 205 5 view .LVU699
 207:src/date.c    **** 		return 1;
 2354              		.loc 1 207 2 view .LVU700
 207:src/date.c    **** 		return 1;
 2355              		.loc 1 207 6 is_stmt 0 view .LVU701
 2356 0014 144B     		ldr	r3, .L154
 2357 0016 1B68     		ldr	r3, [r3]
 2358 0018 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 2359              		.loc 1 207 5 view .LVU702
 2360 001c DB07     		lsls	r3, r3, #31
 2361 001e 1DD4     		bmi	.L152
 2362 0020 05A8     		add	r0, sp, #20
 2363              	.LVL222:
 207:src/date.c    **** 		return 1;
 2364              		.loc 1 207 5 view .LVU703
 2365 0022 03AB     		add	r3, sp, #12
 2366              	.LVL223:
 207:src/date.c    **** 		return 1;
 2367              		.loc 1 207 5 view .LVU704
 2368 0024 02AA     		add	r2, sp, #8
 2369              	.LVL224:
 207:src/date.c    **** 		return 1;
 2370              		.loc 1 207 5 view .LVU705
 2371 0026 01A9     		add	r1, sp, #4
 2372              	.LVL225:
 207:src/date.c    **** 		return 1;
 2373              		.loc 1 207 5 view .LVU706
 2374 0028 FFF7FEFF 		bl	extract_date.part.0
 2375              	.LVL226:
 207:src/date.c    **** 		return 1;
 2376              		.loc 1 207 5 view .LVU707
 2377              	.LBE95:
 2378              	.LBE94:
 407:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2379              		.loc 1 407 29 view .LVU708
 2380 002c B0B9     		cbnz	r0, .L152
 410:src/date.c    **** 	}
 2381              		.loc 1 410 3 is_stmt 1 view .LVU709
 410:src/date.c    **** 	}
 2382              		.loc 1 410 20 is_stmt 0 view .LVU710
 2383 002e 029B     		ldr	r3, [sp, #8]
 410:src/date.c    **** 	}
 2384              		.loc 1 410 3 view .LVU711
 2385 0030 0E49     		ldr	r1, .L154+4
 2386              	.LBB96:
 2387              	.LBB97:
 384:src/date.c    **** 	add_string(buf);
 2388              		.loc 1 384 9 view .LVU712
ARM GAS  /tmp/cceVkiTV.s 			page 62


 2389 0032 8DF81300 		strb	r0, [sp, #19]
 2390              	.LBE97:
 2391              	.LBE96:
 410:src/date.c    **** 	}
 2392              		.loc 1 410 20 view .LVU713
 2393 0036 013B     		subs	r3, r3, #1
 2394 0038 03EB4303 		add	r3, r3, r3, lsl #1
 410:src/date.c    **** 	}
 2395              		.loc 1 410 3 view .LVU714
 2396 003c CA18     		adds	r2, r1, r3
 2397              	.LVL227:
 2398              	.LBB99:
 2399              	.LBI96:
 378:src/date.c    **** 	char buf[4];
 2400              		.loc 1 378 13 is_stmt 1 view .LVU715
 2401              	.LBB98:
 379:src/date.c    **** 	int i;
 2402              		.loc 1 379 2 view .LVU716
 380:src/date.c    **** 
 2403              		.loc 1 380 2 view .LVU717
 382:src/date.c    **** 		buf[i] = p[i];
 2404              		.loc 1 382 2 view .LVU718
 382:src/date.c    **** 		buf[i] = p[i];
 2405              		.loc 1 382 12 view .LVU719
 383:src/date.c    **** 	buf[3] = '\0';
 2406              		.loc 1 383 3 view .LVU720
 383:src/date.c    **** 	buf[3] = '\0';
 2407              		.loc 1 383 10 is_stmt 0 view .LVU721
 2408 003e C85C     		ldrb	r0, [r1, r3]	@ zero_extendqisi2
 2409 0040 8DF81000 		strb	r0, [sp, #16]
 382:src/date.c    **** 		buf[i] = p[i];
 2410              		.loc 1 382 17 is_stmt 1 view .LVU722
 2411              	.LVL228:
 382:src/date.c    **** 		buf[i] = p[i];
 2412              		.loc 1 382 12 view .LVU723
 383:src/date.c    **** 	buf[3] = '\0';
 2413              		.loc 1 383 3 view .LVU724
 383:src/date.c    **** 	buf[3] = '\0';
 2414              		.loc 1 383 10 is_stmt 0 view .LVU725
 2415 0044 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 2416 0046 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 2417 0048 8DF81110 		strb	r1, [sp, #17]
 382:src/date.c    **** 		buf[i] = p[i];
 2418              		.loc 1 382 17 is_stmt 1 view .LVU726
 2419              	.LVL229:
 382:src/date.c    **** 		buf[i] = p[i];
 2420              		.loc 1 382 12 view .LVU727
 383:src/date.c    **** 	buf[3] = '\0';
 2421              		.loc 1 383 3 view .LVU728
 385:src/date.c    **** }
 2422              		.loc 1 385 2 is_stmt 0 view .LVU729
 2423 004c 04A8     		add	r0, sp, #16
 383:src/date.c    **** 	buf[3] = '\0';
 2424              		.loc 1 383 10 view .LVU730
 2425 004e 8DF81230 		strb	r3, [sp, #18]
 382:src/date.c    **** 		buf[i] = p[i];
 2426              		.loc 1 382 17 is_stmt 1 view .LVU731
ARM GAS  /tmp/cceVkiTV.s 			page 63


 2427              	.LVL230:
 382:src/date.c    **** 		buf[i] = p[i];
 2428              		.loc 1 382 12 view .LVU732
 384:src/date.c    **** 	add_string(buf);
 2429              		.loc 1 384 2 view .LVU733
 385:src/date.c    **** }
 2430              		.loc 1 385 2 view .LVU734
 2431 0052 FFF7FEFF 		bl	add_string
 2432              	.LVL231:
 385:src/date.c    **** }
 2433              		.loc 1 385 2 is_stmt 0 view .LVU735
 2434              	.LBE98:
 2435              	.LBE99:
 412:src/date.c    **** 
 2436              		.loc 1 412 1 view .LVU736
 2437 0056 0FB0     		add	sp, sp, #60
 2438              		.cfi_remember_state
 2439              		.cfi_def_cfa_offset 4
 2440              		@ sp needed
 2441 0058 5DF804FB 		ldr	pc, [sp], #4
 2442              	.LVL232:
 2443              	.L152:
 2444              		.cfi_restore_state
 408:src/date.c    **** 	else {
 2445              		.loc 1 408 3 is_stmt 1 view .LVU737
 2446 005c 0220     		movs	r0, #2
 2447 005e FFF7FEFF 		bl	report_err
 2448              	.LVL233:
 412:src/date.c    **** 
 2449              		.loc 1 412 1 is_stmt 0 view .LVU738
 2450 0062 0FB0     		add	sp, sp, #60
 2451              		.cfi_def_cfa_offset 4
 2452              		@ sp needed
 2453 0064 5DF804FB 		ldr	pc, [sp], #4
 2454              	.L155:
 2455              		.align	2
 2456              	.L154:
 2457 0068 00000000 		.word	main_ram
 2458 006c 00000000 		.word	.LANCHOR1
 2459              		.cfi_endproc
 2460              	.LFE18:
 2462              		.section	.text.dateToJ,"ax",%progbits
 2463              		.align	1
 2464              		.p2align 2,,3
 2465              		.global	dateToJ
 2466              		.syntax unified
 2467              		.thumb
 2468              		.thumb_func
 2469              		.fpu fpv4-sp-d16
 2471              	dateToJ:
 2472              	.LVL234:
 2473              	.LFB19:
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2474              		.loc 1 416 56 is_stmt 1 view -0
 2475              		.cfi_startproc
 2476              		@ args = 0, pretend = 0, frame = 16
 2477              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cceVkiTV.s 			page 64


 417:src/date.c    **** err:		set_NaN(res);
 2478              		.loc 1 417 2 view .LVU740
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2479              		.loc 1 416 56 is_stmt 0 view .LVU741
 2480 0000 10B5     		push	{r4, lr}
 2481              		.cfi_def_cfa_offset 8
 2482              		.cfi_offset 4, -8
 2483              		.cfi_offset 14, -4
 417:src/date.c    **** err:		set_NaN(res);
 2484              		.loc 1 417 5 view .LVU742
 2485 0002 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 2486 0004 13F0700F 		tst	r3, #112
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2487              		.loc 1 416 56 view .LVU743
 2488 0008 84B0     		sub	sp, sp, #16
 2489              		.cfi_def_cfa_offset 24
 416:src/date.c    **** 	if (decNumberIsSpecial(x))
 2490              		.loc 1 416 56 view .LVU744
 2491 000a 0446     		mov	r4, r0
 417:src/date.c    **** err:		set_NaN(res);
 2492              		.loc 1 417 5 view .LVU745
 2493 000c 18D1     		bne	.L158
 2494              	.LBB100:
 420:src/date.c    **** 
 2495              		.loc 1 420 3 is_stmt 1 view .LVU746
 422:src/date.c    **** 			goto err;
 2496              		.loc 1 422 3 view .LVU747
 2497              	.LVL235:
 2498              	.LBB101:
 2499              	.LBI101:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 2500              		.loc 1 202 12 view .LVU748
 2501              	.LBB102:
 203:src/date.c    **** 	decNumber z, a;
 2502              		.loc 1 203 2 view .LVU749
 204:src/date.c    ****     int neg = 1;
 2503              		.loc 1 204 2 view .LVU750
 205:src/date.c    **** 
 2504              		.loc 1 205 5 view .LVU751
 207:src/date.c    **** 		return 1;
 2505              		.loc 1 207 2 view .LVU752
 207:src/date.c    **** 		return 1;
 2506              		.loc 1 207 6 is_stmt 0 view .LVU753
 2507 000e 0F4B     		ldr	r3, .L163
 2508 0010 1B68     		ldr	r3, [r3]
 2509 0012 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 2510              		.loc 1 207 5 view .LVU754
 2511 0016 DB07     		lsls	r3, r3, #31
 2512 0018 12D4     		bmi	.L158
 2513 001a 0846     		mov	r0, r1
 2514              	.LVL236:
 207:src/date.c    **** 		return 1;
 2515              		.loc 1 207 5 view .LVU755
 2516 001c 03AB     		add	r3, sp, #12
 2517              	.LVL237:
 207:src/date.c    **** 		return 1;
ARM GAS  /tmp/cceVkiTV.s 			page 65


 2518              		.loc 1 207 5 view .LVU756
 2519 001e 02AA     		add	r2, sp, #8
 2520              	.LVL238:
 207:src/date.c    **** 		return 1;
 2521              		.loc 1 207 5 view .LVU757
 2522 0020 01A9     		add	r1, sp, #4
 2523              	.LVL239:
 207:src/date.c    **** 		return 1;
 2524              		.loc 1 207 5 view .LVU758
 2525 0022 FFF7FEFF 		bl	extract_date.part.0
 2526              	.LVL240:
 207:src/date.c    **** 		return 1;
 2527              		.loc 1 207 5 view .LVU759
 2528              	.LBE102:
 2529              	.LBE101:
 422:src/date.c    **** 			goto err;
 2530              		.loc 1 422 6 view .LVU760
 2531 0026 58B9     		cbnz	r0, .L158
 424:src/date.c    **** 	}
 2532              		.loc 1 424 3 is_stmt 1 view .LVU761
 2533 0028 DDE90212 		ldrd	r1, r2, [sp, #8]
 2534 002c 0198     		ldr	r0, [sp, #4]
 2535 002e FFF7FEFF 		bl	JDN
 2536              	.LVL241:
 2537 0032 0146     		mov	r1, r0
 2538 0034 2046     		mov	r0, r4
 2539 0036 FFF7FEFF 		bl	int_to_dn
 2540              	.LVL242:
 2541              	.LBE100:
 426:src/date.c    **** }
 2542              		.loc 1 426 2 view .LVU762
 427:src/date.c    **** 
 2543              		.loc 1 427 1 is_stmt 0 view .LVU763
 2544 003a 2046     		mov	r0, r4
 2545 003c 04B0     		add	sp, sp, #16
 2546              		.cfi_remember_state
 2547              		.cfi_def_cfa_offset 8
 2548              		@ sp needed
 2549 003e 10BD     		pop	{r4, pc}
 2550              	.LVL243:
 2551              	.L158:
 2552              		.cfi_restore_state
 418:src/date.c    **** 	else {
 2553              		.loc 1 418 7 is_stmt 1 view .LVU764
 2554 0040 2046     		mov	r0, r4
 2555 0042 FFF7FEFF 		bl	set_NaN
 2556              	.LVL244:
 426:src/date.c    **** }
 2557              		.loc 1 426 2 view .LVU765
 427:src/date.c    **** 
 2558              		.loc 1 427 1 is_stmt 0 view .LVU766
 2559 0046 2046     		mov	r0, r4
 2560 0048 04B0     		add	sp, sp, #16
 2561              		.cfi_def_cfa_offset 8
 2562              		@ sp needed
 2563 004a 10BD     		pop	{r4, pc}
 2564              	.LVL245:
ARM GAS  /tmp/cceVkiTV.s 			page 66


 2565              	.L164:
 427:src/date.c    **** 
 2566              		.loc 1 427 1 view .LVU767
 2567              		.align	2
 2568              	.L163:
 2569 004c 00000000 		.word	main_ram
 2570              		.cfi_endproc
 2571              	.LFE19:
 2573              		.section	.text.dateFromJ,"ax",%progbits
 2574              		.align	1
 2575              		.p2align 2,,3
 2576              		.global	dateFromJ
 2577              		.syntax unified
 2578              		.thumb
 2579              		.thumb_func
 2580              		.fpu fpv4-sp-d16
 2582              	dateFromJ:
 2583              	.LVL246:
 2584              	.LFB20:
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2585              		.loc 1 429 58 is_stmt 1 view -0
 2586              		.cfi_startproc
 2587              		@ args = 0, pretend = 0, frame = 16
 2588              		@ frame_needed = 0, uses_anonymous_args = 0
 430:src/date.c    **** 		set_NaN(res);
 2589              		.loc 1 430 2 view .LVU769
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2590              		.loc 1 429 58 is_stmt 0 view .LVU770
 2591 0000 30B5     		push	{r4, r5, lr}
 2592              		.cfi_def_cfa_offset 12
 2593              		.cfi_offset 4, -12
 2594              		.cfi_offset 5, -8
 2595              		.cfi_offset 14, -4
 430:src/date.c    **** 		set_NaN(res);
 2596              		.loc 1 430 5 view .LVU771
 2597 0002 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 2598 0004 13F0700F 		tst	r3, #112
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2599              		.loc 1 429 58 view .LVU772
 2600 0008 85B0     		sub	sp, sp, #20
 2601              		.cfi_def_cfa_offset 32
 429:src/date.c    **** 	if (decNumberIsSpecial(x) || dn_lt0(x))
 2602              		.loc 1 429 58 view .LVU773
 2603 000a 0446     		mov	r4, r0
 430:src/date.c    **** 		set_NaN(res);
 2604              		.loc 1 430 5 view .LVU774
 2605 000c 04D1     		bne	.L168
 430:src/date.c    **** 		set_NaN(res);
 2606              		.loc 1 430 31 discriminator 1 view .LVU775
 2607 000e 0846     		mov	r0, r1
 2608              	.LVL247:
 430:src/date.c    **** 		set_NaN(res);
 2609              		.loc 1 430 31 discriminator 1 view .LVU776
 2610 0010 0D46     		mov	r5, r1
 2611 0012 FFF7FEFF 		bl	dn_lt0
 2612              	.LVL248:
 430:src/date.c    **** 		set_NaN(res);
ARM GAS  /tmp/cceVkiTV.s 			page 67


 2613              		.loc 1 430 28 discriminator 1 view .LVU777
 2614 0016 28B1     		cbz	r0, .L170
 2615              	.LVL249:
 2616              	.L168:
 431:src/date.c    **** 	else {
 2617              		.loc 1 431 3 is_stmt 1 view .LVU778
 2618 0018 2046     		mov	r0, r4
 2619 001a FFF7FEFF 		bl	set_NaN
 2620              	.LVL250:
 439:src/date.c    **** }
 2621              		.loc 1 439 2 view .LVU779
 439:src/date.c    **** }
 2622              		.loc 1 439 9 is_stmt 0 view .LVU780
 2623 001e 2046     		mov	r0, r4
 440:src/date.c    **** 
 2624              		.loc 1 440 1 view .LVU781
 2625 0020 05B0     		add	sp, sp, #20
 2626              		.cfi_remember_state
 2627              		.cfi_def_cfa_offset 12
 2628              		@ sp needed
 2629 0022 30BD     		pop	{r4, r5, pc}
 2630              	.LVL251:
 2631              	.L170:
 2632              		.cfi_restore_state
 2633              	.LBB103:
 433:src/date.c    **** 		int y, m, d;
 2634              		.loc 1 433 3 is_stmt 1 view .LVU782
 433:src/date.c    **** 		int y, m, d;
 2635              		.loc 1 433 17 is_stmt 0 view .LVU783
 2636 0024 2846     		mov	r0, r5
 2637 0026 FFF7FEFF 		bl	dn_to_int
 2638              	.LVL252:
 434:src/date.c    **** 
 2639              		.loc 1 434 3 is_stmt 1 view .LVU784
 436:src/date.c    **** 		return build_date(res, y, m, d);
 2640              		.loc 1 436 3 view .LVU785
 2641 002a 03AB     		add	r3, sp, #12
 2642 002c 02AA     		add	r2, sp, #8
 2643 002e 01A9     		add	r1, sp, #4
 2644 0030 FFF7FEFF 		bl	JDN2
 2645              	.LVL253:
 437:src/date.c    **** 	}
 2646              		.loc 1 437 3 view .LVU786
 437:src/date.c    **** 	}
 2647              		.loc 1 437 10 is_stmt 0 view .LVU787
 2648 0034 DDE90223 		ldrd	r2, r3, [sp, #8]
 2649 0038 0199     		ldr	r1, [sp, #4]
 2650 003a 2046     		mov	r0, r4
 2651 003c FFF7FEFF 		bl	build_date
 2652              	.LVL254:
 2653              	.LBE103:
 440:src/date.c    **** 
 2654              		.loc 1 440 1 view .LVU788
 2655 0040 05B0     		add	sp, sp, #20
 2656              		.cfi_def_cfa_offset 12
 2657              		@ sp needed
 2658 0042 30BD     		pop	{r4, r5, pc}
ARM GAS  /tmp/cceVkiTV.s 			page 68


 440:src/date.c    **** 
 2659              		.loc 1 440 1 view .LVU789
 2660              		.cfi_endproc
 2661              	.LFE20:
 2663              		.section	.text.date_alphadate,"ax",%progbits
 2664              		.align	1
 2665              		.p2align 2,,3
 2666              		.global	date_alphadate
 2667              		.syntax unified
 2668              		.thumb
 2669              		.thumb_func
 2670              		.fpu fpv4-sp-d16
 2672              	date_alphadate:
 2673              	.LVL255:
 2674              	.LFB21:
 444:src/date.c    **** 	decNumber x;
 2675              		.loc 1 444 36 is_stmt 1 view -0
 2676              		.cfi_startproc
 2677              		@ args = 0, pretend = 0, frame = 64
 2678              		@ frame_needed = 0, uses_anonymous_args = 0
 445:src/date.c    **** 	int d, m, y;
 2679              		.loc 1 445 2 view .LVU791
 446:src/date.c    **** 	char buf[16];
 2680              		.loc 1 446 2 view .LVU792
 447:src/date.c    **** 	char *p;
 2681              		.loc 1 447 2 view .LVU793
 448:src/date.c    **** 
 2682              		.loc 1 448 2 view .LVU794
 450:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 2683              		.loc 1 450 2 view .LVU795
 444:src/date.c    **** 	decNumber x;
 2684              		.loc 1 444 36 is_stmt 0 view .LVU796
 2685 0000 30B5     		push	{r4, r5, lr}
 2686              		.cfi_def_cfa_offset 12
 2687              		.cfi_offset 4, -12
 2688              		.cfi_offset 5, -8
 2689              		.cfi_offset 14, -4
 2690 0002 91B0     		sub	sp, sp, #68
 2691              		.cfi_def_cfa_offset 80
 2692              	.LBB104:
 2693              	.LBB105:
 207:src/date.c    **** 		return 1;
 2694              		.loc 1 207 6 view .LVU797
 2695 0004 2E4C     		ldr	r4, .L179
 2696              	.LBE105:
 2697              	.LBE104:
 450:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 2698              		.loc 1 450 2 view .LVU798
 2699 0006 07A8     		add	r0, sp, #28
 2700              	.LVL256:
 450:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 2701              		.loc 1 450 2 view .LVU799
 2702 0008 FFF7FEFF 		bl	getX
 2703              	.LVL257:
 451:src/date.c    **** 	if (extract_date(&x, &y, &m, &d)) {
 2704              		.loc 1 451 2 is_stmt 1 view .LVU800
 2705 000c 03A8     		add	r0, sp, #12
ARM GAS  /tmp/cceVkiTV.s 			page 69


 2706 000e 1022     		movs	r2, #16
 2707 0010 0021     		movs	r1, #0
 2708 0012 FFF7FEFF 		bl	xset
 2709              	.LVL258:
 452:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2710              		.loc 1 452 2 view .LVU801
 2711              	.LBB107:
 2712              	.LBI104:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 2713              		.loc 1 202 12 view .LVU802
 2714              	.LBB106:
 203:src/date.c    **** 	decNumber z, a;
 2715              		.loc 1 203 2 view .LVU803
 204:src/date.c    ****     int neg = 1;
 2716              		.loc 1 204 2 view .LVU804
 205:src/date.c    **** 
 2717              		.loc 1 205 5 view .LVU805
 207:src/date.c    **** 		return 1;
 2718              		.loc 1 207 2 view .LVU806
 207:src/date.c    **** 		return 1;
 2719              		.loc 1 207 6 is_stmt 0 view .LVU807
 2720 0016 2368     		ldr	r3, [r4]
 2721 0018 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 2722              		.loc 1 207 5 view .LVU808
 2723 001c DB07     		lsls	r3, r3, #31
 2724 001e 26D4     		bmi	.L174
 2725 0020 07A8     		add	r0, sp, #28
 2726              	.LVL259:
 207:src/date.c    **** 		return 1;
 2727              		.loc 1 207 5 view .LVU809
 2728 0022 6B46     		mov	r3, sp
 2729 0024 01AA     		add	r2, sp, #4
 2730              	.LVL260:
 207:src/date.c    **** 		return 1;
 2731              		.loc 1 207 5 view .LVU810
 2732 0026 02A9     		add	r1, sp, #8
 2733              	.LVL261:
 207:src/date.c    **** 		return 1;
 2734              		.loc 1 207 5 view .LVU811
 2735 0028 FFF7FEFF 		bl	extract_date.part.0
 2736              	.LVL262:
 207:src/date.c    **** 		return 1;
 2737              		.loc 1 207 5 view .LVU812
 2738              	.LBE106:
 2739              	.LBE107:
 452:src/date.c    **** 		report_err(ERR_BAD_DATE);
 2740              		.loc 1 452 5 view .LVU813
 2741 002c F8B9     		cbnz	r0, .L174
 456:src/date.c    **** 	default:
 2742              		.loc 1 456 2 is_stmt 1 view .LVU814
 456:src/date.c    **** 	default:
 2743              		.loc 1 456 16 is_stmt 0 view .LVU815
 2744 002e 2368     		ldr	r3, [r4]
 2745 0030 93F8EA37 		ldrb	r3, [r3, #2026]	@ zero_extendqisi2
 456:src/date.c    **** 	default:
 2746              		.loc 1 456 2 view .LVU816
ARM GAS  /tmp/cceVkiTV.s 			page 70


 2747 0034 13F0300F 		tst	r3, #48
 456:src/date.c    **** 	default:
 2748              		.loc 1 456 16 view .LVU817
 2749 0038 C3F30114 		ubfx	r4, r3, #4, #2
 456:src/date.c    **** 	default:
 2750              		.loc 1 456 2 view .LVU818
 2751 003c 1CD0     		beq	.L175
 2752 003e 022C     		cmp	r4, #2
 2753 0040 2CD0     		beq	.L176
 458:src/date.c    **** 		*p++ = '-';
 2754              		.loc 1 458 3 is_stmt 1 view .LVU819
 458:src/date.c    **** 		*p++ = '-';
 2755              		.loc 1 458 7 is_stmt 0 view .LVU820
 2756 0042 0299     		ldr	r1, [sp, #8]
 2757 0044 03A8     		add	r0, sp, #12
 2758 0046 FFF7FEFF 		bl	num_arg
 2759              	.LVL263:
 459:src/date.c    **** 		p = num_arg_0(p, m, 2);
 2760              		.loc 1 459 3 is_stmt 1 view .LVU821
 459:src/date.c    **** 		p = num_arg_0(p, m, 2);
 2761              		.loc 1 459 8 is_stmt 0 view .LVU822
 2762 004a 2D24     		movs	r4, #45
 2763 004c 00F8014B 		strb	r4, [r0], #1
 2764              	.LVL264:
 460:src/date.c    **** 		*p++ = '-';
 2765              		.loc 1 460 3 is_stmt 1 view .LVU823
 460:src/date.c    **** 		*p++ = '-';
 2766              		.loc 1 460 7 is_stmt 0 view .LVU824
 2767 0050 0199     		ldr	r1, [sp, #4]
 2768 0052 0222     		movs	r2, #2
 2769 0054 FFF7FEFF 		bl	num_arg_0
 2770              	.LVL265:
 461:src/date.c    **** 		num_arg_0(p, d, 2);
 2771              		.loc 1 461 3 is_stmt 1 view .LVU825
 461:src/date.c    **** 		num_arg_0(p, d, 2);
 2772              		.loc 1 461 8 is_stmt 0 view .LVU826
 2773 0058 00F8014B 		strb	r4, [r0], #1
 2774              	.LVL266:
 462:src/date.c    **** 		break;
 2775              		.loc 1 462 3 is_stmt 1 view .LVU827
 2776 005c 0099     		ldr	r1, [sp]
 2777 005e 0222     		movs	r2, #2
 2778 0060 FFF7FEFF 		bl	num_arg_0
 2779              	.LVL267:
 463:src/date.c    **** 
 2780              		.loc 1 463 3 view .LVU828
 2781              	.L177:
 481:src/date.c    **** }
 2782              		.loc 1 481 2 view .LVU829
 2783 0064 03A8     		add	r0, sp, #12
 2784 0066 FFF7FEFF 		bl	add_string
 2785              	.LVL268:
 482:src/date.c    **** 
 2786              		.loc 1 482 1 is_stmt 0 view .LVU830
 2787 006a 11B0     		add	sp, sp, #68
 2788              		.cfi_remember_state
 2789              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/cceVkiTV.s 			page 71


 2790              		@ sp needed
 2791 006c 30BD     		pop	{r4, r5, pc}
 2792              	.L174:
 2793              		.cfi_restore_state
 453:src/date.c    **** 		return;
 2794              		.loc 1 453 3 is_stmt 1 view .LVU831
 2795 006e 0220     		movs	r0, #2
 2796 0070 FFF7FEFF 		bl	report_err
 2797              	.LVL269:
 454:src/date.c    **** 	}
 2798              		.loc 1 454 3 view .LVU832
 482:src/date.c    **** 
 2799              		.loc 1 482 1 is_stmt 0 view .LVU833
 2800 0074 11B0     		add	sp, sp, #68
 2801              		.cfi_remember_state
 2802              		.cfi_def_cfa_offset 12
 2803              		@ sp needed
 2804 0076 30BD     		pop	{r4, r5, pc}
 2805              	.L175:
 2806              		.cfi_restore_state
 466:src/date.c    **** 		*p++ = '.';
 2807              		.loc 1 466 3 is_stmt 1 view .LVU834
 466:src/date.c    **** 		*p++ = '.';
 2808              		.loc 1 466 7 is_stmt 0 view .LVU835
 2809 0078 0099     		ldr	r1, [sp]
 2810 007a 03A8     		add	r0, sp, #12
 2811 007c FFF7FEFF 		bl	num_arg
 2812              	.LVL270:
 467:src/date.c    **** 		p = num_arg_0(p, m, 2);
 2813              		.loc 1 467 3 is_stmt 1 view .LVU836
 467:src/date.c    **** 		p = num_arg_0(p, m, 2);
 2814              		.loc 1 467 8 is_stmt 0 view .LVU837
 2815 0080 2E24     		movs	r4, #46
 2816 0082 00F8014B 		strb	r4, [r0], #1
 2817              	.LVL271:
 468:src/date.c    **** 		*p++ = '.';
 2818              		.loc 1 468 3 is_stmt 1 view .LVU838
 468:src/date.c    **** 		*p++ = '.';
 2819              		.loc 1 468 7 is_stmt 0 view .LVU839
 2820 0086 0199     		ldr	r1, [sp, #4]
 2821 0088 0222     		movs	r2, #2
 2822 008a FFF7FEFF 		bl	num_arg_0
 2823              	.LVL272:
 469:src/date.c    **** 		num_arg_0(p, y, 4);
 2824              		.loc 1 469 3 is_stmt 1 view .LVU840
 469:src/date.c    **** 		num_arg_0(p, y, 4);
 2825              		.loc 1 469 8 is_stmt 0 view .LVU841
 2826 008e 00F8014B 		strb	r4, [r0], #1
 2827              	.LVL273:
 470:src/date.c    **** 		break;
 2828              		.loc 1 470 3 is_stmt 1 view .LVU842
 2829 0092 0299     		ldr	r1, [sp, #8]
 2830 0094 0422     		movs	r2, #4
 2831 0096 FFF7FEFF 		bl	num_arg_0
 2832              	.LVL274:
 471:src/date.c    **** 
 2833              		.loc 1 471 3 view .LVU843
ARM GAS  /tmp/cceVkiTV.s 			page 72


 2834 009a E3E7     		b	.L177
 2835              	.L176:
 474:src/date.c    **** 		*p++ = '/';
 2836              		.loc 1 474 3 view .LVU844
 474:src/date.c    **** 		*p++ = '/';
 2837              		.loc 1 474 7 is_stmt 0 view .LVU845
 2838 009c 0199     		ldr	r1, [sp, #4]
 2839 009e 03A8     		add	r0, sp, #12
 2840 00a0 FFF7FEFF 		bl	num_arg
 2841              	.LVL275:
 475:src/date.c    **** 		p = num_arg_0(p, d, 2);
 2842              		.loc 1 475 3 is_stmt 1 view .LVU846
 475:src/date.c    **** 		p = num_arg_0(p, d, 2);
 2843              		.loc 1 475 8 is_stmt 0 view .LVU847
 2844 00a4 2F25     		movs	r5, #47
 2845 00a6 00F8015B 		strb	r5, [r0], #1
 2846              	.LVL276:
 476:src/date.c    **** 		*p++ ='/';
 2847              		.loc 1 476 3 is_stmt 1 view .LVU848
 476:src/date.c    **** 		*p++ ='/';
 2848              		.loc 1 476 7 is_stmt 0 view .LVU849
 2849 00aa 0099     		ldr	r1, [sp]
 2850 00ac 2246     		mov	r2, r4
 2851 00ae FFF7FEFF 		bl	num_arg_0
 2852              	.LVL277:
 477:src/date.c    **** 		num_arg_0(p, y, 4);
 2853              		.loc 1 477 3 is_stmt 1 view .LVU850
 477:src/date.c    **** 		num_arg_0(p, y, 4);
 2854              		.loc 1 477 8 is_stmt 0 view .LVU851
 2855 00b2 00F8015B 		strb	r5, [r0], #1
 2856              	.LVL278:
 478:src/date.c    **** 		break;
 2857              		.loc 1 478 3 is_stmt 1 view .LVU852
 2858 00b6 0299     		ldr	r1, [sp, #8]
 2859 00b8 0422     		movs	r2, #4
 2860 00ba FFF7FEFF 		bl	num_arg_0
 2861              	.LVL279:
 479:src/date.c    **** 	}
 2862              		.loc 1 479 3 view .LVU853
 2863 00be D1E7     		b	.L177
 2864              	.L180:
 2865              		.align	2
 2866              	.L179:
 2867 00c0 00000000 		.word	main_ram
 2868              		.cfi_endproc
 2869              	.LFE21:
 2871              		.section	.rodata.date_alphatime.str1.4,"aMS",%progbits,1
 2872              		.align	2
 2873              	.LC2:
 2874 0000 20504D00 		.ascii	" PM\000"
 2875              		.align	2
 2876              	.LC3:
 2877 0004 20414D00 		.ascii	" AM\000"
 2878              		.align	2
 2879              	.LC4:
 2880 0008 00       		.ascii	"\000"
 2881              		.section	.text.date_alphatime,"ax",%progbits
ARM GAS  /tmp/cceVkiTV.s 			page 73


 2882              		.align	1
 2883              		.p2align 2,,3
 2884              		.global	date_alphatime
 2885              		.syntax unified
 2886              		.thumb
 2887              		.thumb_func
 2888              		.fpu fpv4-sp-d16
 2890              	date_alphatime:
 2891              	.LVL280:
 2892              	.LFB23:
 504:src/date.c    **** 
 505:src/date.c    **** void date_alphatime(enum nilop op) {
 2893              		.loc 1 505 36 view -0
 2894              		.cfi_startproc
 2895              		@ args = 0, pretend = 0, frame = 32
 2896              		@ frame_needed = 0, uses_anonymous_args = 0
 506:src/date.c    **** 	char buf[16], *p;
 2897              		.loc 1 506 2 view .LVU855
 507:src/date.c    **** 	int h, m, s;
 2898              		.loc 1 507 2 view .LVU856
 508:src/date.c    **** 	const char *suffix;
 2899              		.loc 1 508 2 view .LVU857
 509:src/date.c    **** 
 510:src/date.c    **** 	if (extract_time(&h, &m, &s, 100))
 2900              		.loc 1 510 2 view .LVU858
 505:src/date.c    **** 	char buf[16], *p;
 2901              		.loc 1 505 36 is_stmt 0 view .LVU859
 2902 0000 30B5     		push	{r4, r5, lr}
 2903              		.cfi_def_cfa_offset 12
 2904              		.cfi_offset 4, -12
 2905              		.cfi_offset 5, -8
 2906              		.cfi_offset 14, -4
 2907 0002 89B0     		sub	sp, sp, #36
 2908              		.cfi_def_cfa_offset 48
 2909              		.loc 1 510 6 view .LVU860
 2910 0004 6423     		movs	r3, #100
 2911 0006 03AA     		add	r2, sp, #12
 2912 0008 02A9     		add	r1, sp, #8
 2913 000a 01A8     		add	r0, sp, #4
 2914              	.LVL281:
 2915              		.loc 1 510 6 view .LVU861
 2916 000c FFF7FEFF 		bl	extract_time
 2917              	.LVL282:
 2918              		.loc 1 510 5 view .LVU862
 2919 0010 08B1     		cbz	r0, .L190
 511:src/date.c    **** 		return;
 512:src/date.c    **** 	xset(buf, '\0', sizeof(buf));
 513:src/date.c    **** 	if (UState.t12) {
 514:src/date.c    **** 		if (h >= 12) {
 515:src/date.c    **** 			h -= 12;
 516:src/date.c    **** 			suffix = " PM";
 517:src/date.c    **** 		} else
 518:src/date.c    **** 			suffix = " AM";
 519:src/date.c    **** 		if (h == 0)
 520:src/date.c    **** 			h = 12;
 521:src/date.c    **** 	} else
 522:src/date.c    **** 		suffix = "";
ARM GAS  /tmp/cceVkiTV.s 			page 74


 523:src/date.c    **** 	p = num_arg(buf, h);
 524:src/date.c    **** 	*p++ = ':';
 525:src/date.c    **** 	p = num_arg_0(p, m, 2);
 526:src/date.c    **** 	*p++ = ':';
 527:src/date.c    **** 	p = num_arg_0(p, s, 2);
 528:src/date.c    **** 	scopy(p, suffix);
 529:src/date.c    **** 	add_string(buf);
 530:src/date.c    **** }
 2920              		.loc 1 530 1 view .LVU863
 2921 0012 09B0     		add	sp, sp, #36
 2922              		.cfi_remember_state
 2923              		.cfi_def_cfa_offset 12
 2924              		@ sp needed
 2925 0014 30BD     		pop	{r4, r5, pc}
 2926              	.L190:
 2927              		.cfi_restore_state
 512:src/date.c    **** 	if (UState.t12) {
 2928              		.loc 1 512 2 is_stmt 1 view .LVU864
 2929 0016 0146     		mov	r1, r0
 2930 0018 1022     		movs	r2, #16
 2931 001a 04A8     		add	r0, sp, #16
 2932 001c FFF7FEFF 		bl	xset
 2933              	.LVL283:
 513:src/date.c    **** 		if (h >= 12) {
 2934              		.loc 1 513 2 view .LVU865
 513:src/date.c    **** 		if (h >= 12) {
 2935              		.loc 1 513 6 is_stmt 0 view .LVU866
 2936 0020 154B     		ldr	r3, .L191
 514:src/date.c    **** 			h -= 12;
 2937              		.loc 1 514 9 view .LVU867
 2938 0022 0199     		ldr	r1, [sp, #4]
 513:src/date.c    **** 		if (h >= 12) {
 2939              		.loc 1 513 6 view .LVU868
 2940 0024 1B68     		ldr	r3, [r3]
 513:src/date.c    **** 		if (h >= 12) {
 2941              		.loc 1 513 5 view .LVU869
 2942 0026 93F9E937 		ldrsb	r3, [r3, #2025]
 2943 002a 002B     		cmp	r3, #0
 2944 002c 18DB     		blt	.L184
 522:src/date.c    **** 	p = num_arg(buf, h);
 2945              		.loc 1 522 10 view .LVU870
 2946 002e 134D     		ldr	r5, .L191+4
 2947              	.L185:
 2948              	.LVL284:
 523:src/date.c    **** 	*p++ = ':';
 2949              		.loc 1 523 2 is_stmt 1 discriminator 1 view .LVU871
 523:src/date.c    **** 	*p++ = ':';
 2950              		.loc 1 523 6 is_stmt 0 discriminator 1 view .LVU872
 2951 0030 04A8     		add	r0, sp, #16
 2952 0032 FFF7FEFF 		bl	num_arg
 2953              	.LVL285:
 524:src/date.c    **** 	p = num_arg_0(p, m, 2);
 2954              		.loc 1 524 2 is_stmt 1 discriminator 1 view .LVU873
 524:src/date.c    **** 	p = num_arg_0(p, m, 2);
 2955              		.loc 1 524 7 is_stmt 0 discriminator 1 view .LVU874
 2956 0036 3A24     		movs	r4, #58
 2957 0038 00F8014B 		strb	r4, [r0], #1
ARM GAS  /tmp/cceVkiTV.s 			page 75


 2958              	.LVL286:
 525:src/date.c    **** 	*p++ = ':';
 2959              		.loc 1 525 2 is_stmt 1 discriminator 1 view .LVU875
 525:src/date.c    **** 	*p++ = ':';
 2960              		.loc 1 525 6 is_stmt 0 discriminator 1 view .LVU876
 2961 003c 0299     		ldr	r1, [sp, #8]
 2962 003e 0222     		movs	r2, #2
 2963 0040 FFF7FEFF 		bl	num_arg_0
 2964              	.LVL287:
 526:src/date.c    **** 	p = num_arg_0(p, s, 2);
 2965              		.loc 1 526 2 is_stmt 1 discriminator 1 view .LVU877
 526:src/date.c    **** 	p = num_arg_0(p, s, 2);
 2966              		.loc 1 526 7 is_stmt 0 discriminator 1 view .LVU878
 2967 0044 00F8014B 		strb	r4, [r0], #1
 2968              	.LVL288:
 527:src/date.c    **** 	scopy(p, suffix);
 2969              		.loc 1 527 2 is_stmt 1 discriminator 1 view .LVU879
 527:src/date.c    **** 	scopy(p, suffix);
 2970              		.loc 1 527 6 is_stmt 0 discriminator 1 view .LVU880
 2971 0048 0222     		movs	r2, #2
 2972 004a 0399     		ldr	r1, [sp, #12]
 2973 004c FFF7FEFF 		bl	num_arg_0
 2974              	.LVL289:
 528:src/date.c    **** 	add_string(buf);
 2975              		.loc 1 528 2 is_stmt 1 discriminator 1 view .LVU881
 2976 0050 2946     		mov	r1, r5
 2977 0052 FFF7FEFF 		bl	scopy
 2978              	.LVL290:
 529:src/date.c    **** }
 2979              		.loc 1 529 2 discriminator 1 view .LVU882
 2980 0056 04A8     		add	r0, sp, #16
 2981 0058 FFF7FEFF 		bl	add_string
 2982              	.LVL291:
 2983              		.loc 1 530 1 is_stmt 0 discriminator 1 view .LVU883
 2984 005c 09B0     		add	sp, sp, #36
 2985              		.cfi_remember_state
 2986              		.cfi_def_cfa_offset 12
 2987              		@ sp needed
 2988 005e 30BD     		pop	{r4, r5, pc}
 2989              	.LVL292:
 2990              	.L184:
 2991              		.cfi_restore_state
 514:src/date.c    **** 			h -= 12;
 2992              		.loc 1 514 3 is_stmt 1 view .LVU884
 514:src/date.c    **** 			h -= 12;
 2993              		.loc 1 514 6 is_stmt 0 view .LVU885
 2994 0060 0B29     		cmp	r1, #11
 515:src/date.c    **** 			suffix = " PM";
 2995              		.loc 1 515 4 is_stmt 1 view .LVU886
 515:src/date.c    **** 			suffix = " PM";
 2996              		.loc 1 515 6 is_stmt 0 view .LVU887
 2997 0062 C5BF     		ittet	gt
 2998 0064 0C39     		subgt	r1, r1, #12
 516:src/date.c    **** 		} else
 2999              		.loc 1 516 11 view .LVU888
 3000 0066 064D     		ldrgt	r5, .L191+8
 518:src/date.c    **** 		if (h == 0)
ARM GAS  /tmp/cceVkiTV.s 			page 76


 3001              		.loc 1 518 11 view .LVU889
 3002 0068 064D     		ldrle	r5, .L191+12
 515:src/date.c    **** 			suffix = " PM";
 3003              		.loc 1 515 6 view .LVU890
 3004 006a 0191     		strgt	r1, [sp, #4]
 516:src/date.c    **** 		} else
 3005              		.loc 1 516 4 is_stmt 1 view .LVU891
 3006              	.LVL293:
 519:src/date.c    **** 			h = 12;
 3007              		.loc 1 519 3 view .LVU892
 519:src/date.c    **** 			h = 12;
 3008              		.loc 1 519 6 is_stmt 0 view .LVU893
 3009 006c 0029     		cmp	r1, #0
 3010 006e DFD1     		bne	.L185
 520:src/date.c    **** 	} else
 3011              		.loc 1 520 4 is_stmt 1 view .LVU894
 520:src/date.c    **** 	} else
 3012              		.loc 1 520 6 is_stmt 0 view .LVU895
 3013 0070 0C21     		movs	r1, #12
 3014 0072 0191     		str	r1, [sp, #4]
 3015 0074 DCE7     		b	.L185
 3016              	.L192:
 3017 0076 00BF     		.align	2
 3018              	.L191:
 3019 0078 00000000 		.word	main_ram
 3020 007c 08000000 		.word	.LC4
 3021 0080 00000000 		.word	.LC2
 3022 0084 04000000 		.word	.LC3
 3023              		.cfi_endproc
 3024              	.LFE23:
 3026              		.section	.text.date_date,"ax",%progbits
 3027              		.align	1
 3028              		.p2align 2,,3
 3029              		.global	date_date
 3030              		.syntax unified
 3031              		.thumb
 3032              		.thumb_func
 3033              		.fpu fpv4-sp-d16
 3035              	date_date:
 3036              	.LVL294:
 3037              	.LFB26:
 531:src/date.c    **** 
 532:src/date.c    **** 
 533:src/date.c    **** /* These routines get the real time and day from the RTC */
 534:src/date.c    **** 
 535:src/date.c    **** static void query_time(unsigned int *s, unsigned int *m, unsigned int *h) {
 536:src/date.c    **** #ifdef REALBUILD
 537:src/date.c    **** 	unsigned char hour, minute, second;
 538:src/date.c    **** 	
 539:src/date.c    **** 	RTC_GetTime(&hour, &minute, &second);
 540:src/date.c    **** 	*s = second;
 541:src/date.c    **** 	*m = minute;
 542:src/date.c    **** 	*h = hour;
 543:src/date.c    **** #else
 544:src/date.c    **** 	tm_t time_now;
 545:src/date.c    **** 	dt_t date_now;
 546:src/date.c    **** 	rtc_read ( &time_now, &date_now );
ARM GAS  /tmp/cceVkiTV.s 			page 77


 547:src/date.c    **** 	*s = time_now.sec;
 548:src/date.c    **** 	*m = time_now.min;
 549:src/date.c    **** 	*h = time_now.hour;
 550:src/date.c    **** #endif
 551:src/date.c    **** }
 552:src/date.c    **** 
 553:src/date.c    **** static void query_date(unsigned int *d, unsigned int *m, unsigned int *y) {
 554:src/date.c    **** #ifdef REALBUILD
 555:src/date.c    **** 	unsigned char day, month, dow;
 556:src/date.c    **** 	unsigned short year;
 557:src/date.c    **** 	
 558:src/date.c    **** 	RTC_GetDate( &year, &month, &day, &dow );
 559:src/date.c    **** 
 560:src/date.c    **** 	*y = year;
 561:src/date.c    **** 	*m = month;
 562:src/date.c    **** 	*d = day;
 563:src/date.c    **** #else
 564:src/date.c    **** 	tm_t time_now;
 565:src/date.c    **** 	dt_t date_now;
 566:src/date.c    **** 	rtc_read ( &time_now, &date_now );
 567:src/date.c    **** 	*y = date_now.year;
 568:src/date.c    **** 	*m = date_now.month;
 569:src/date.c    **** 	*d = date_now.day;
 570:src/date.c    **** #endif
 571:src/date.c    **** }
 572:src/date.c    **** 
 573:src/date.c    **** 
 574:src/date.c    **** void date_date(enum nilop op) {
 3038              		.loc 1 574 31 is_stmt 1 view -0
 3039              		.cfi_startproc
 3040              		@ args = 0, pretend = 0, frame = 40
 3041              		@ frame_needed = 0, uses_anonymous_args = 0
 575:src/date.c    **** 	if (Xtal) {
 3042              		.loc 1 575 2 view .LVU897
 3043              	.LBB108:
 576:src/date.c    **** 		unsigned int d=0, m=0, y=0;
 3044              		.loc 1 576 3 view .LVU898
 577:src/date.c    **** 		decNumber z;
 3045              		.loc 1 577 3 view .LVU899
 578:src/date.c    **** 
 579:src/date.c    **** 		query_date(&d, &m, &y);
 3046              		.loc 1 579 3 view .LVU900
 3047              	.LBB109:
 3048              	.LBI109:
 553:src/date.c    **** #ifdef REALBUILD
 3049              		.loc 1 553 13 view .LVU901
 3050              	.LBB110:
 564:src/date.c    **** 	dt_t date_now;
 3051              		.loc 1 564 2 view .LVU902
 565:src/date.c    **** 	rtc_read ( &time_now, &date_now );
 3052              		.loc 1 565 2 view .LVU903
 566:src/date.c    **** 	*y = date_now.year;
 3053              		.loc 1 566 2 view .LVU904
 3054              	.LBE110:
 3055              	.LBE109:
 3056              	.LBE108:
 574:src/date.c    **** 	if (Xtal) {
ARM GAS  /tmp/cceVkiTV.s 			page 78


 3057              		.loc 1 574 31 is_stmt 0 view .LVU905
 3058 0000 00B5     		push	{lr}
 3059              		.cfi_def_cfa_offset 4
 3060              		.cfi_offset 14, -4
 3061 0002 8BB0     		sub	sp, sp, #44
 3062              		.cfi_def_cfa_offset 48
 3063              	.LBB113:
 3064              	.LBB112:
 3065              	.LBB111:
 566:src/date.c    **** 	*y = date_now.year;
 3066              		.loc 1 566 2 view .LVU906
 3067 0004 01A8     		add	r0, sp, #4
 3068              	.LVL295:
 566:src/date.c    **** 	*y = date_now.year;
 3069              		.loc 1 566 2 view .LVU907
 3070 0006 6946     		mov	r1, sp
 3071 0008 084B     		ldr	r3, .L195
 3072 000a 9847     		blx	r3
 3073              	.LVL296:
 567:src/date.c    **** 	*m = date_now.month;
 3074              		.loc 1 567 2 is_stmt 1 view .LVU908
 568:src/date.c    **** 	*d = date_now.day;
 3075              		.loc 1 568 2 view .LVU909
 569:src/date.c    **** #endif
 3076              		.loc 1 569 2 view .LVU910
 569:src/date.c    **** #endif
 3077              		.loc 1 569 2 is_stmt 0 view .LVU911
 3078              	.LBE111:
 3079              	.LBE112:
 580:src/date.c    **** 		build_date(&z, y, m, d);
 3080              		.loc 1 580 3 is_stmt 1 view .LVU912
 3081 000c 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 3082              	.LVL297:
 3083              		.loc 1 580 3 is_stmt 0 view .LVU913
 3084 0010 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 3085              	.LVL298:
 3086              		.loc 1 580 3 view .LVU914
 3087 0014 BDF80010 		ldrh	r1, [sp]
 3088              	.LVL299:
 3089              		.loc 1 580 3 view .LVU915
 3090 0018 01A8     		add	r0, sp, #4
 3091 001a FFF7FEFF 		bl	build_date
 3092              	.LVL300:
 581:src/date.c    **** 		setX(&z);
 3093              		.loc 1 581 3 is_stmt 1 view .LVU916
 3094 001e 01A8     		add	r0, sp, #4
 3095 0020 FFF7FEFF 		bl	setX
 3096              	.LVL301:
 3097              		.loc 1 581 3 is_stmt 0 view .LVU917
 3098              	.LBE113:
 582:src/date.c    **** 	} else
 583:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 584:src/date.c    **** }
 3099              		.loc 1 584 1 view .LVU918
 3100 0024 0BB0     		add	sp, sp, #44
 3101              		.cfi_def_cfa_offset 4
 3102              		@ sp needed
ARM GAS  /tmp/cceVkiTV.s 			page 79


 3103 0026 5DF804FB 		ldr	pc, [sp], #4
 3104              	.L196:
 3105 002a 00BF     		.align	2
 3106              	.L195:
 3107 002c CD020008 		.word	134218445
 3108              		.cfi_endproc
 3109              	.LFE26:
 3111              		.section	.text.date_time,"ax",%progbits
 3112              		.align	1
 3113              		.p2align 2,,3
 3114              		.global	date_time
 3115              		.syntax unified
 3116              		.thumb
 3117              		.thumb_func
 3118              		.fpu fpv4-sp-d16
 3120              	date_time:
 3121              	.LVL302:
 3122              	.LFB27:
 585:src/date.c    **** 
 586:src/date.c    **** void date_time(enum nilop op) {
 3123              		.loc 1 586 31 is_stmt 1 view -0
 3124              		.cfi_startproc
 3125              		@ args = 0, pretend = 0, frame = 72
 3126              		@ frame_needed = 0, uses_anonymous_args = 0
 587:src/date.c    **** 	if (Xtal) {
 3127              		.loc 1 587 2 view .LVU920
 3128              	.LBB114:
 588:src/date.c    **** 		unsigned int h=0, m=0, s=0;
 3129              		.loc 1 588 3 view .LVU921
 589:src/date.c    **** 		decNumber a, b;
 3130              		.loc 1 589 3 view .LVU922
 590:src/date.c    **** 
 591:src/date.c    **** 		query_time(&s, &m, &h);
 3131              		.loc 1 591 3 view .LVU923
 3132              	.LBB115:
 3133              	.LBI115:
 535:src/date.c    **** #ifdef REALBUILD
 3134              		.loc 1 535 13 view .LVU924
 3135              	.LBB116:
 544:src/date.c    **** 	dt_t date_now;
 3136              		.loc 1 544 2 view .LVU925
 545:src/date.c    **** 	rtc_read ( &time_now, &date_now );
 3137              		.loc 1 545 2 view .LVU926
 546:src/date.c    **** 	*s = time_now.sec;
 3138              		.loc 1 546 2 view .LVU927
 3139              	.LBE116:
 3140              	.LBE115:
 3141              	.LBE114:
 586:src/date.c    **** 	if (Xtal) {
 3142              		.loc 1 586 31 is_stmt 0 view .LVU928
 3143 0000 00B5     		push	{lr}
 3144              		.cfi_def_cfa_offset 4
 3145              		.cfi_offset 14, -4
 3146 0002 93B0     		sub	sp, sp, #76
 3147              		.cfi_def_cfa_offset 80
 3148              	.LBB119:
 3149              	.LBB118:
ARM GAS  /tmp/cceVkiTV.s 			page 80


 3150              	.LBB117:
 546:src/date.c    **** 	*s = time_now.sec;
 3151              		.loc 1 546 2 view .LVU929
 3152 0004 6946     		mov	r1, sp
 3153 0006 09A8     		add	r0, sp, #36
 3154              	.LVL303:
 546:src/date.c    **** 	*s = time_now.sec;
 3155              		.loc 1 546 2 view .LVU930
 3156 0008 0D4B     		ldr	r3, .L199
 3157 000a 9847     		blx	r3
 3158              	.LVL304:
 547:src/date.c    **** 	*m = time_now.min;
 3159              		.loc 1 547 2 is_stmt 1 view .LVU931
 548:src/date.c    **** 	*h = time_now.hour;
 3160              		.loc 1 548 15 is_stmt 0 view .LVU932
 3161 000c 9DF82500 		ldrb	r0, [sp, #37]	@ zero_extendqisi2
 549:src/date.c    **** #endif
 3162              		.loc 1 549 15 view .LVU933
 3163 0010 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 547:src/date.c    **** 	*m = time_now.min;
 3164              		.loc 1 547 15 view .LVU934
 3165 0014 9DF82610 		ldrb	r1, [sp, #38]	@ zero_extendqisi2
 3166              	.LVL305:
 548:src/date.c    **** 	*h = time_now.hour;
 3167              		.loc 1 548 2 is_stmt 1 view .LVU935
 549:src/date.c    **** #endif
 3168              		.loc 1 549 2 view .LVU936
 549:src/date.c    **** #endif
 3169              		.loc 1 549 2 is_stmt 0 view .LVU937
 3170              	.LBE117:
 3171              	.LBE118:
 592:src/date.c    **** 		h = (h * 100 + m) * 100 + s;
 3172              		.loc 1 592 3 is_stmt 1 view .LVU938
 593:src/date.c    **** 		int_to_dn(&a, h);
 3173              		.loc 1 593 3 view .LVU939
 592:src/date.c    **** 		h = (h * 100 + m) * 100 + s;
 3174              		.loc 1 592 16 is_stmt 0 view .LVU940
 3175 0018 6422     		movs	r2, #100
 3176 001a 12FB0303 		smlabb	r3, r2, r3, r0
 3177              		.loc 1 593 3 view .LVU941
 3178 001e 02FB0311 		mla	r1, r2, r3, r1
 3179              	.LVL306:
 3180              		.loc 1 593 3 view .LVU942
 3181 0022 6846     		mov	r0, sp
 3182              	.LVL307:
 3183              		.loc 1 593 3 view .LVU943
 3184 0024 FFF7FEFF 		bl	int_to_dn
 3185              	.LVL308:
 594:src/date.c    **** 		dn_mulpow10(&b, &a, -4);
 3186              		.loc 1 594 3 is_stmt 1 view .LVU944
 3187 0028 6946     		mov	r1, sp
 3188 002a 6FF00302 		mvn	r2, #3
 3189 002e 09A8     		add	r0, sp, #36
 3190 0030 FFF7FEFF 		bl	dn_mulpow10
 3191              	.LVL309:
 595:src/date.c    **** 		setX(&b);
 3192              		.loc 1 595 3 view .LVU945
ARM GAS  /tmp/cceVkiTV.s 			page 81


 3193 0034 09A8     		add	r0, sp, #36
 3194 0036 FFF7FEFF 		bl	setX
 3195              	.LVL310:
 3196              		.loc 1 595 3 is_stmt 0 view .LVU946
 3197              	.LBE119:
 596:src/date.c    **** 	} else
 597:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 598:src/date.c    **** }
 3198              		.loc 1 598 1 view .LVU947
 3199 003a 13B0     		add	sp, sp, #76
 3200              		.cfi_def_cfa_offset 4
 3201              		@ sp needed
 3202 003c 5DF804FB 		ldr	pc, [sp], #4
 3203              	.L200:
 3204              		.align	2
 3205              	.L199:
 3206 0040 CD020008 		.word	134218445
 3207              		.cfi_endproc
 3208              	.LFE27:
 3210              		.section	.text.date_setdate,"ax",%progbits
 3211              		.align	1
 3212              		.p2align 2,,3
 3213              		.global	date_setdate
 3214              		.syntax unified
 3215              		.thumb
 3216              		.thumb_func
 3217              		.fpu fpv4-sp-d16
 3219              	date_setdate:
 3220              	.LVL311:
 3221              	.LFB28:
 599:src/date.c    **** 
 600:src/date.c    **** void date_setdate(enum nilop op) {
 3222              		.loc 1 600 34 is_stmt 1 view -0
 3223              		.cfi_startproc
 3224              		@ args = 0, pretend = 0, frame = 48
 3225              		@ frame_needed = 0, uses_anonymous_args = 0
 601:src/date.c    **** 	int d, m, y, dow;
 3226              		.loc 1 601 2 view .LVU949
 602:src/date.c    **** 	decNumber x;
 3227              		.loc 1 602 2 view .LVU950
 603:src/date.c    **** 
 604:src/date.c    **** 	getX(&x);
 3228              		.loc 1 604 2 view .LVU951
 600:src/date.c    **** 	int d, m, y, dow;
 3229              		.loc 1 600 34 is_stmt 0 view .LVU952
 3230 0000 00B5     		push	{lr}
 3231              		.cfi_def_cfa_offset 4
 3232              		.cfi_offset 14, -4
 3233 0002 8DB0     		sub	sp, sp, #52
 3234              		.cfi_def_cfa_offset 56
 3235              		.loc 1 604 2 view .LVU953
 3236 0004 03A8     		add	r0, sp, #12
 3237              	.LVL312:
 3238              		.loc 1 604 2 view .LVU954
 3239 0006 FFF7FEFF 		bl	getX
 3240              	.LVL313:
 605:src/date.c    **** 	if (extract_date(&x, &y, &m, &d)) {
ARM GAS  /tmp/cceVkiTV.s 			page 82


 3241              		.loc 1 605 2 is_stmt 1 view .LVU955
 3242              	.LBB120:
 3243              	.LBI120:
 202:src/date.c    **** 	int ip, fp, y, m, d;
 3244              		.loc 1 202 12 view .LVU956
 3245              	.LBB121:
 203:src/date.c    **** 	decNumber z, a;
 3246              		.loc 1 203 2 view .LVU957
 204:src/date.c    ****     int neg = 1;
 3247              		.loc 1 204 2 view .LVU958
 205:src/date.c    **** 
 3248              		.loc 1 205 5 view .LVU959
 207:src/date.c    **** 		return 1;
 3249              		.loc 1 207 2 view .LVU960
 207:src/date.c    **** 		return 1;
 3250              		.loc 1 207 6 is_stmt 0 view .LVU961
 3251 000a 0C4B     		ldr	r3, .L207
 3252 000c 1B68     		ldr	r3, [r3]
 3253 000e 93F8E837 		ldrb	r3, [r3, #2024]	@ zero_extendqisi2
 207:src/date.c    **** 		return 1;
 3254              		.loc 1 207 5 view .LVU962
 3255 0012 DB07     		lsls	r3, r3, #31
 3256 0014 06D4     		bmi	.L204
 3257 0016 03A8     		add	r0, sp, #12
 3258              	.LVL314:
 207:src/date.c    **** 		return 1;
 3259              		.loc 1 207 5 view .LVU963
 3260 0018 6B46     		mov	r3, sp
 3261 001a 01AA     		add	r2, sp, #4
 3262              	.LVL315:
 207:src/date.c    **** 		return 1;
 3263              		.loc 1 207 5 view .LVU964
 3264 001c 02A9     		add	r1, sp, #8
 3265              	.LVL316:
 207:src/date.c    **** 		return 1;
 3266              		.loc 1 207 5 view .LVU965
 3267 001e FFF7FEFF 		bl	extract_date.part.0
 3268              	.LVL317:
 207:src/date.c    **** 		return 1;
 3269              		.loc 1 207 5 view .LVU966
 3270              	.LBE121:
 3271              	.LBE120:
 3272              		.loc 1 605 5 view .LVU967
 3273 0022 28B1     		cbz	r0, .L206
 3274              	.L204:
 606:src/date.c    **** 		report_err(ERR_BAD_DATE);
 3275              		.loc 1 606 3 is_stmt 1 view .LVU968
 3276 0024 0220     		movs	r0, #2
 3277 0026 FFF7FEFF 		bl	report_err
 3278              	.LVL318:
 607:src/date.c    **** 		return;
 3279              		.loc 1 607 3 view .LVU969
 608:src/date.c    **** 	}
 609:src/date.c    **** 	dow = day_of_week(y, m, d, NULL);
 610:src/date.c    **** #ifdef REALBUILD
 611:src/date.c    **** 	if (Xtal) {
 612:src/date.c    **** 		busy();
ARM GAS  /tmp/cceVkiTV.s 			page 83


 613:src/date.c    **** 		RTC_SetDate((unsigned short) y, (unsigned char) m,
 614:src/date.c    **** 			    (unsigned char) d, (unsigned char) dow);
 615:src/date.c    **** 	} else
 616:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 617:src/date.c    **** #else
 618:src/date.c    **** 	// So that very strict compilers (i.e. gcc4.6 do not complain that dow is unused with -Wall)
 619:src/date.c    **** 	(void) dow;
 620:src/date.c    **** 	report_err(ERR_ILLEGAL);
 621:src/date.c    **** #endif
 622:src/date.c    **** }
 3280              		.loc 1 622 1 is_stmt 0 view .LVU970
 3281 002a 0DB0     		add	sp, sp, #52
 3282              		.cfi_remember_state
 3283              		.cfi_def_cfa_offset 4
 3284              		@ sp needed
 3285 002c 5DF804FB 		ldr	pc, [sp], #4
 3286              	.L206:
 3287              		.cfi_restore_state
 609:src/date.c    **** #ifdef REALBUILD
 3288              		.loc 1 609 2 is_stmt 1 view .LVU971
 3289              	.LVL319:
 141:src/date.c    **** 	const char *const days = "\007\016\025\035\047\060\067"
 3290              		.loc 1 141 2 view .LVU972
 142:src/date.c    **** 				"Sunday\0Monday\0Tuesday\0Wednesday\0"
 3291              		.loc 1 142 2 view .LVU973
 145:src/date.c    **** 	if (msg != NULL && ! Running)
 3292              		.loc 1 145 2 view .LVU974
 146:src/date.c    **** 		*msg = days + ((unsigned char *)days)[h];
 3293              		.loc 1 146 2 view .LVU975
 148:src/date.c    **** }
 3294              		.loc 1 148 2 view .LVU976
 619:src/date.c    **** 	report_err(ERR_ILLEGAL);
 3295              		.loc 1 619 2 view .LVU977
 620:src/date.c    **** #endif
 3296              		.loc 1 620 2 view .LVU978
 3297 0030 0720     		movs	r0, #7
 3298 0032 FFF7FEFF 		bl	report_err
 3299              	.LVL320:
 3300              		.loc 1 622 1 is_stmt 0 view .LVU979
 3301 0036 0DB0     		add	sp, sp, #52
 3302              		.cfi_def_cfa_offset 4
 3303              		@ sp needed
 3304 0038 5DF804FB 		ldr	pc, [sp], #4
 3305              	.L208:
 3306              		.align	2
 3307              	.L207:
 3308 003c 00000000 		.word	main_ram
 3309              		.cfi_endproc
 3310              	.LFE28:
 3312              		.section	.text.date_settime,"ax",%progbits
 3313              		.align	1
 3314              		.p2align 2,,3
 3315              		.global	date_settime
 3316              		.syntax unified
 3317              		.thumb
 3318              		.thumb_func
 3319              		.fpu fpv4-sp-d16
ARM GAS  /tmp/cceVkiTV.s 			page 84


 3321              	date_settime:
 3322              	.LVL321:
 3323              	.LFB29:
 623:src/date.c    **** 
 624:src/date.c    **** void date_settime(enum nilop op) {
 3324              		.loc 1 624 34 is_stmt 1 view -0
 3325              		.cfi_startproc
 3326              		@ args = 0, pretend = 0, frame = 16
 3327              		@ frame_needed = 0, uses_anonymous_args = 0
 625:src/date.c    **** 	int h, m, s;
 3328              		.loc 1 625 2 view .LVU981
 626:src/date.c    **** 	if (extract_time(&h, &m, &s, 24))
 3329              		.loc 1 626 2 view .LVU982
 624:src/date.c    **** 	int h, m, s;
 3330              		.loc 1 624 34 is_stmt 0 view .LVU983
 3331 0000 00B5     		push	{lr}
 3332              		.cfi_def_cfa_offset 4
 3333              		.cfi_offset 14, -4
 3334 0002 85B0     		sub	sp, sp, #20
 3335              		.cfi_def_cfa_offset 24
 3336              		.loc 1 626 6 view .LVU984
 3337 0004 1823     		movs	r3, #24
 3338 0006 03AA     		add	r2, sp, #12
 3339 0008 02A9     		add	r1, sp, #8
 3340 000a 01A8     		add	r0, sp, #4
 3341              	.LVL322:
 3342              		.loc 1 626 6 view .LVU985
 3343 000c FFF7FEFF 		bl	extract_time
 3344              	.LVL323:
 3345              		.loc 1 626 5 view .LVU986
 3346 0010 10B9     		cbnz	r0, .L209
 627:src/date.c    **** 		return;
 628:src/date.c    **** #ifdef REALBUILD
 629:src/date.c    **** 	if (Xtal) {
 630:src/date.c    **** 		busy();
 631:src/date.c    **** 		RTC_SetTime((unsigned char) h, (unsigned char) m, (unsigned char) s);
 632:src/date.c    **** 	} else
 633:src/date.c    **** 		report_err(ERR_NO_CRYSTAL);
 634:src/date.c    **** #else
 635:src/date.c    **** 	report_err(ERR_ILLEGAL);
 3347              		.loc 1 635 2 is_stmt 1 view .LVU987
 3348 0012 0720     		movs	r0, #7
 3349 0014 FFF7FEFF 		bl	report_err
 3350              	.LVL324:
 3351              	.L209:
 636:src/date.c    **** #endif
 637:src/date.c    **** }
 3352              		.loc 1 637 1 is_stmt 0 view .LVU988
 3353 0018 05B0     		add	sp, sp, #20
 3354              		.cfi_def_cfa_offset 4
 3355              		@ sp needed
 3356 001a 5DF804FB 		ldr	pc, [sp], #4
 3357              		.cfi_endproc
 3358              	.LFE29:
 3360 001e 00BF     		.section	.rodata
 3361              		.align	2
 3362              		.set	.LANCHOR0,. + 0
ARM GAS  /tmp/cceVkiTV.s 			page 85


 3363              	.LC0:
 3364 0000 070E151D 		.ascii	"\007\016\025\035'07Sunday\000Monday\000Tuesday\000W"
 3364      27303753 
 3364      756E6461 
 3364      79004D6F 
 3364      6E646179 
 3365 001e 65646E65 		.ascii	"ednesday\000Thursday\000Friday\000Saturday\000"
 3365      73646179 
 3365      00546875 
 3365      72736461 
 3365      79004672 
 3366              		.section	.rodata.mons.9117,"a"
 3367              		.align	2
 3368              		.set	.LANCHOR1,. + 0
 3371              	mons.9117:
 3372 0000 4A414E46 		.ascii	"JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC"
 3372      45424D41 
 3372      52415052 
 3372      4D41594A 
 3372      554E4A55 
 3373              		.text
 3374              	.Letext0:
 3375              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 3376              		.file 3 "dmcp/dmcp.h"
 3377              		.file 4 "src/decNumber/decContext.h"
 3378              		.file 5 "src/decNumber/decNumber.h"
 3379              		.file 6 "src/decNumber/decimal64.h"
 3380              		.file 7 "src/decNumber/decimal128.h"
 3381              		.file 8 "src/xeq.h"
 3382              		.file 9 "src/data.h"
 3383              		.file 10 "src/storage.h"
 3384              		.file 11 "src/consts.h"
 3385              		.file 12 "src/decn.h"
 3386              		.file 13 "src/alpha.h"
ARM GAS  /tmp/cceVkiTV.s 			page 86


DEFINED SYMBOLS
                            *ABS*:0000000000000000 date.c
     /tmp/cceVkiTV.s:18     .text.JDN:0000000000000000 $t
     /tmp/cceVkiTV.s:26     .text.JDN:0000000000000000 JDN
     /tmp/cceVkiTV.s:214    .text.JDN:00000000000000b0 $d
     /tmp/cceVkiTV.s:223    .text.JDN2:0000000000000000 $t
     /tmp/cceVkiTV.s:230    .text.JDN2:0000000000000000 JDN2
     /tmp/cceVkiTV.s:417    .text.JDN2:00000000000000d8 $d
     /tmp/cceVkiTV.s:430    .text.check_date:0000000000000000 $t
     /tmp/cceVkiTV.s:437    .text.check_date:0000000000000000 check_date
     /tmp/cceVkiTV.s:508    .text.extract_time:0000000000000000 $t
     /tmp/cceVkiTV.s:515    .text.extract_time:0000000000000000 extract_time
     /tmp/cceVkiTV.s:639    .text.extract_time:000000000000007c $d
     /tmp/cceVkiTV.s:644    .text.extract_date.part.0:0000000000000000 $t
     /tmp/cceVkiTV.s:651    .text.extract_date.part.0:0000000000000000 extract_date.part.0
     /tmp/cceVkiTV.s:866    .text.extract_date.part.0:00000000000000e0 $d
     /tmp/cceVkiTV.s:871    .text.find_year:0000000000000000 $t
     /tmp/cceVkiTV.s:878    .text.find_year:0000000000000000 find_year
     /tmp/cceVkiTV.s:993    .text.find_year:000000000000005c $d
     /tmp/cceVkiTV.s:998    .text.dateExtract:0000000000000000 $t
     /tmp/cceVkiTV.s:1005   .text.dateExtract:0000000000000000 dateExtract
     /tmp/cceVkiTV.s:1083   .text.dateExtract:0000000000000038 $d
     /tmp/cceVkiTV.s:1088   .text.day_of_week.constprop.0:0000000000000000 $t
     /tmp/cceVkiTV.s:1095   .text.day_of_week.constprop.0:0000000000000000 day_of_week.constprop.0
     /tmp/cceVkiTV.s:1158   .text.day_of_week.constprop.0:0000000000000038 $d
     /tmp/cceVkiTV.s:1166   .text.build_date:0000000000000000 $t
     /tmp/cceVkiTV.s:1173   .text.build_date:0000000000000000 build_date
     /tmp/cceVkiTV.s:1336   .text.build_date:00000000000000b0 $d
     /tmp/cceVkiTV.s:1341   .text.dateFromYMD:0000000000000000 $t
     /tmp/cceVkiTV.s:1349   .text.dateFromYMD:0000000000000000 dateFromYMD
     /tmp/cceVkiTV.s:1451   .text.dateEaster:0000000000000000 $t
     /tmp/cceVkiTV.s:1459   .text.dateEaster:0000000000000000 dateEaster
     /tmp/cceVkiTV.s:1793   .text.dateEaster:0000000000000194 $d
     /tmp/cceVkiTV.s:1806   .text.date_isleap:0000000000000000 $t
     /tmp/cceVkiTV.s:1814   .text.date_isleap:0000000000000000 date_isleap
     /tmp/cceVkiTV.s:1949   .text.date_isleap:0000000000000068 $d
     /tmp/cceVkiTV.s:1960   .text.dateDayOfWeek:0000000000000000 $t
     /tmp/cceVkiTV.s:1968   .text.dateDayOfWeek:0000000000000000 dateDayOfWeek
     /tmp/cceVkiTV.s:2028   .text.dateExtraction:0000000000000000 $t
     /tmp/cceVkiTV.s:2036   .text.dateExtraction:0000000000000000 dateExtraction
     /tmp/cceVkiTV.s:2099   .text.dateExtraction:0000000000000038 $d
     /tmp/cceVkiTV.s:2104   .rodata.date_alphaday.str1.4:0000000000000000 $d
     /tmp/cceVkiTV.s:2108   .text.date_alphaday:0000000000000000 $t
     /tmp/cceVkiTV.s:2116   .text.date_alphaday:0000000000000000 date_alphaday
     /tmp/cceVkiTV.s:2301   .text.date_alphaday:0000000000000094 $d
     /tmp/cceVkiTV.s:2310   .text.date_alphamonth:0000000000000000 $t
     /tmp/cceVkiTV.s:2318   .text.date_alphamonth:0000000000000000 date_alphamonth
     /tmp/cceVkiTV.s:2457   .text.date_alphamonth:0000000000000068 $d
     /tmp/cceVkiTV.s:2463   .text.dateToJ:0000000000000000 $t
     /tmp/cceVkiTV.s:2471   .text.dateToJ:0000000000000000 dateToJ
     /tmp/cceVkiTV.s:2569   .text.dateToJ:000000000000004c $d
     /tmp/cceVkiTV.s:2574   .text.dateFromJ:0000000000000000 $t
     /tmp/cceVkiTV.s:2582   .text.dateFromJ:0000000000000000 dateFromJ
     /tmp/cceVkiTV.s:2664   .text.date_alphadate:0000000000000000 $t
     /tmp/cceVkiTV.s:2672   .text.date_alphadate:0000000000000000 date_alphadate
     /tmp/cceVkiTV.s:2867   .text.date_alphadate:00000000000000c0 $d
     /tmp/cceVkiTV.s:2872   .rodata.date_alphatime.str1.4:0000000000000000 $d
ARM GAS  /tmp/cceVkiTV.s 			page 87


     /tmp/cceVkiTV.s:2882   .text.date_alphatime:0000000000000000 $t
     /tmp/cceVkiTV.s:2890   .text.date_alphatime:0000000000000000 date_alphatime
     /tmp/cceVkiTV.s:3019   .text.date_alphatime:0000000000000078 $d
     /tmp/cceVkiTV.s:3027   .text.date_date:0000000000000000 $t
     /tmp/cceVkiTV.s:3035   .text.date_date:0000000000000000 date_date
     /tmp/cceVkiTV.s:3107   .text.date_date:000000000000002c $d
     /tmp/cceVkiTV.s:3112   .text.date_time:0000000000000000 $t
     /tmp/cceVkiTV.s:3120   .text.date_time:0000000000000000 date_time
     /tmp/cceVkiTV.s:3206   .text.date_time:0000000000000040 $d
     /tmp/cceVkiTV.s:3211   .text.date_setdate:0000000000000000 $t
     /tmp/cceVkiTV.s:3219   .text.date_setdate:0000000000000000 date_setdate
     /tmp/cceVkiTV.s:3308   .text.date_setdate:000000000000003c $d
     /tmp/cceVkiTV.s:3313   .text.date_settime:0000000000000000 $t
     /tmp/cceVkiTV.s:3321   .text.date_settime:0000000000000000 date_settime
     /tmp/cceVkiTV.s:3361   .rodata:0000000000000000 $d
     /tmp/cceVkiTV.s:3367   .rodata.mons.9117:0000000000000000 $d
     /tmp/cceVkiTV.s:3371   .rodata.mons.9117:0000000000000000 mons.9117

UNDEFINED SYMBOLS
main_ram
getX
dn_mulpow10
decNumberRound
dn_to_int
report_err
decNumberCopy
decNumberTrunc
dn_subtract
dn_mul100
dn_minus
is_int
set_NaN
Running
DispMsg
int_to_dn
fin_tst
XeqOpCode
add_string
dn_lt0
xset
num_arg
num_arg_0
scopy
setX
